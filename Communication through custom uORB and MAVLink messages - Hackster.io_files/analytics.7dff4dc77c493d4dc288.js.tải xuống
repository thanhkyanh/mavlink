!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){console.error.apply(console,arguments)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isSignedInUser=t.isObjectWithLength=t.isObject=t.isNumber=t.isBlank=t.isAString=t.isAFunction=void 0;t.isAFunction=function(e){return"function"==typeof e};t.isAString=function(e){return"string"==typeof e};var i=function(e){return null==e||"string"==typeof e&&""===e.trim()||Array.isArray(e)&&0===e.length||"object"===r(e)&&0===Object.keys(e).length};t.isBlank=i;t.isNumber=function(e){return!i(e)&&"number"==typeof e};var o=function(e){return null!==e&&(!Array.isArray(e)&&"object"===r(e))};t.isObject=o;t.isObjectWithLength=function(e){return!!o(e)&&Object.keys(e).length>0};t.isSignedInUser=function(e){var t=parseInt(e&&e.id);return!isNaN(t)&&t>0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.documentExists=u,t.getNavigator=function(){return"undefined"==typeof navigator?null:navigator},t.documentHeight=function(){return document.documentElement.scrollHeight},t.doesBodyHaveUserId=y,t.getUserIdFromBody=function(){return y()?document.body.getAttribute("data-user-signed-in"):null},t.doesWindowLocationHaveParam=function(e){return!!c.hasValue()&&(0,r.mapifyStringQuery)(c.get().slice(1)).hasOwnProperty(e)},t.doesWindowExistWithProperty=function(e){return!(!window||!window[e])},t.getDocumentProperty=function(e){if(!u()||!document[e])return;return document[e]},t.getWindow=function(){return i?window:{}},t.getWindowProperty=function(e){if(!window||!window[e])return;return window[e]},t.getDocumentFunction=function(e){if(!u()||"function"!=typeof document[e])return;return document[e].bind(document)},t.setDocumentCookie=function(e){document.cookie=e,document.cookie="path=/"},t.reloadDocumentLocation=function(){document.location.reload()},t.windowLocationRedirect=function(e){window.location=e},t.windowLocationReload=function(e){window.location.reload(e)},t.windowScrollTo=function(e,t){window.scrollTo(e,t)},t.windowDPR=function(){return window.devicePixelRatio||1},t.windowInnerWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},t.windowInnerHeight=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},t.windowPageYOffset=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop},t.windowPageXOffset=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft},t.windowSetTimeout=function(e,t){return window.setTimeout(e,t)},t.windowLocationProtocol=t.windowLocationPort=t.windowLocationPathname=t.windowLocationOrigin=t.windowLocationHostname=t.windowLocationHref=t.windowLocationHash=t.windowLocationSearch=t.isWindowDefined=void 0;var r=n(6),i="undefined"!=typeof window;function o(e){return window.location[e]}function s(e){return window.location.hasOwnProperty(e)&&window.location[e].length>0}function a(e){return{get:function(){return o(e)},hasValue:function(){return s(e)}}}function u(){return"undefined"!=typeof document}t.isWindowDefined=i;var c=a("search");t.windowLocationSearch=c;var l=a("hash");t.windowLocationHash=l;var d=Object.assign({},a("href"),{removeHash:function(){return s("hash")?o("href").split("#")[0]:o("href")}});t.windowLocationHref=d;var f=a("hostname");t.windowLocationHostname=f;var p=a("origin");t.windowLocationOrigin=p;var h=a("pathname");t.windowLocationPathname=h;var v=a("port");t.windowLocationPort=v;var m=a("protocol");function y(){return!(!u()||!document.body)&&document.body.hasAttribute("data-user-signed-in")}t.windowLocationProtocol=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLocalStorageSupported=d,t.deleteItem=function(e){return l().delete(e)},t.getItem=function(e){return l().get(e)},t.setItem=function(e,t){return l().set(e,t)};var r,i=(r=n(0))&&r.__esModule?r:{default:r},o=n(1),s=n(27);var a={delete:function(e){return window.localStorage.removeItem(e)},get:function(e){return function(e){try{return JSON.parse(e)}catch(t){return e}}(window.localStorage.getItem(e))},set:function(e,t){return window.localStorage.setItem(e,function(e){if((0,o.isObject)(e)||Array.isArray(e))return JSON.stringify(e);return e}(t))}},u={delete:function(e){return(0,s.deleteCookie)(e)},get:function(e){return(0,s.getCookie)(e)},set:function(e,t){return(0,s.setCookie)(e,t)}},c={delete:function(){return(0,i.default)("Local Storage and Cookies disabled!")},get:function(){return(0,i.default)("Local Storage and Cookies disabled!")},set:function(){return(0,i.default)("Local Storage and Cookies disabled!")}};function l(){return d()?a:(0,s.areCookiesSupported)()?u:c}function d(){var e=function(){try{return window.localStorage}catch(e){return null}}();if(!e)return!1;try{return e.setItem("testKey","1"),e.removeItem("testKey"),!0}catch(e){return(0,i.default)("Local Storage is not supported",e),!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findIndex=function(e,t){if(!Array.isArray(e)||"function"!=typeof t)return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},t.getFirstString=function(e){return(0,r.isAString)(e)?e:Array.isArray(e)&&(0,r.isAString)(e[0])?e[0]:null},t.getInObj=function(e,t){return t?e.reduce(function(e,t){return e&&e.hasOwnProperty(t)?e[t]:null},t):null},t.getInObjWithPrototypeAccess=function(e,t){return t?e.reduce(function(e,t){return e&&t in e?e[t]:null},t):null},t.getIdOrUuid=function(e){return e.id||e.uuid||null},t.pluckIfMatch=function(e,t,n,r){return e.reduce(function(e,i){return i[n]===r?e.concat(i[t]):e},[])};var r=n(1)},function(e,t,n){var r=n(20),i=n(21);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},t.flattenArrayOfObjectsToObject=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return!(0,r.isBlank)(e)};return e.reduce(function(e,r){return r.hasOwnProperty(t)&&r.hasOwnProperty(n)?("function"==typeof i&&i(r)&&(e[r[t]]=r[n]),e):e},{})},t.flattenObjToArray=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce(function(n,i){return(0,r.isObject)(t[i])?n.concat(e(t[i])):n.concat(t[i])},[])},t.listToBoolMap=function(e){return e&&e.length?e.reduce(function(e,t){return Object.assign({},e,i({},t,!0))},{}):{}},t.listToMapByProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return e&&e.length?e.reduce(function(e,n){return Object.assign({},e,i({},n[t],n))},{}):{}},t.mapifyStringQuery=function(e){if(!e||!e.length)return{};"?"===e.substring(0,1)&&(e=e.substring(1));return e.split("&").reduce(function(e,t){if(!t||!t.length)return e;var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{})},t.mapToStringQuery=function(e){return Object.keys(e).reduce(function(t,n){return(0,r.isBlank)(e[n])?t:(0,r.isObject)(e[n])?t.concat("".concat(n,"=").concat(encodeURIComponent(JSON.stringify(e[n])))):t.concat("".concat(n,"=").concat(encodeURIComponent(e[n])))},[]).join("&")},t.transformObjValues=function(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=t(e[r],r),n},{})};var r=n(1);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r;"undefined"!=typeof window?r=window:"undefined"!=typeof self?r=self:(console.warn("Using browser-only version of superagent in non-browser environment"),r=this);var i=n(31),o=n(32),s=n(11),a=n(33),u=n(35);function c(){}var l=t=e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1==arguments.length?new t.Request("GET",e):new t.Request(e,n)};t.Request=y,l.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var d="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function f(e){if(!s(e))return e;var t=[];for(var n in e)p(t,n,e[n]);return t.join("&")}function p(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){p(e,t,n)});else if(s(n))for(var r in n)p(e,t+"["+r+"]",n[r]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function h(e){for(var t,n,r={},i=e.split("&"),o=0,s=i.length;o<s;++o)-1==(n=(t=i[o]).indexOf("="))?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function v(e){return/[\/+]json($|[^-\w])/.test(e)}function m(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,n,r,i,o=e.split(/\r?\n/),s={},a=0,u=o.length;a<u;++a)-1!==(t=(n=o[a]).indexOf(":"))&&(r=n.slice(0,t).toLowerCase(),i=d(n.slice(t+1)),s[r]=i);return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function y(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e,t=null,r=null;try{r=new m(n)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",r);try{n._isResponseOK(r)||(e=new Error(r.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=r,e.status=r.status,n.callback(e,r)):n.callback(null,r)})}function w(e,t,n){var r=l("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}l.serializeObject=f,l.parseString=h,l.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},l.serialize={"application/x-www-form-urlencoded":f,"application/json":JSON.stringify},l.parse={"application/x-www-form-urlencoded":h,"application/json":JSON.parse},a(m.prototype),m.prototype._parseBody=function(e){var t=l.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&v(this.type)&&(t=l.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},m.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},l.Response=m,i(y.prototype),o(y.prototype),y.prototype.type=function(e){return this.set("Content-Type",l.types[e]||e),this},y.prototype.accept=function(e){return this.set("Accept",l.types[e]||e),this},y.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});var r=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,n,r)},y.prototype.query=function(e){return"string"!=typeof e&&(e=f(e)),e&&this._query.push(e),this},y.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},y.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},y.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},y.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},y.prototype.buffer=y.prototype.ca=y.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},y.prototype.pipe=y.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},y.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},y.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||c,this._finalizeQueryString(),this._end()},y.prototype._end=function(){var e=this,t=this.xhr=l.getXHR(),n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==n){var r;try{r=t.status}catch(e){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.onprogress=r.bind(null,"download"),t.upload&&(t.upload.onprogress=r.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],o=this._serializer||l.serialize[i?i.split(";")[0]:""];!o&&v(i)&&(o=l.serialize["application/json"]),o&&(n=o(n))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&t.setRequestHeader(s,this.header[s]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==n?n:null),this},l.agent=function(){return new u},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){u.prototype[e.toLowerCase()]=function(t,n){var r=new l.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}}),u.prototype.del=u.prototype.delete,l.get=function(e,t,n){var r=l("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},l.head=function(e,t,n){var r=l("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},l.options=function(e,t,n){var r=l("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},l.del=w,l.delete=w,l.patch=function(e,t,n){var r=l("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},l.post=function(e,t,n){var r=l("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},l.put=function(e,t,n){var r=l("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(5))&&r.__esModule?r:{default:r};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("#")[0]||null}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.distinctId,r=void 0===n?null:n,o=t.sessionId,s=void 0===o?null:o,a=t.pageType,u=void 0===a?null:a,c=t.userId,l=void 0===c?null:c,d=t.utmParams,f=void 0===d?{}:d,p=t.whitelabel,h=void 0===p?null:p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clientEventId=(0,i.default)(),this.distinctId=r,this.pageType=u,this.userId=l,this.sessionId=s,this.utm_campaign=f.utm_campaign,this.utm_content=f.utm_content,this.utm_medium=f.utm_medium,this.utm_source=f.utm_source,this.utm_term=f.utm_term,this.whitelabel=h}var t,n,r;return t=e,(n=[{key:"createRecord",value:function(){return{client_event_id:this.clientEventId,distinct_id:this.distinctId,ip:"${keen.ip}",logged_in:this.userId&&"number"==typeof this.userId,page_url:document.location.toString(),page_type_category:s(this.pageType),page_type_full:this.pageType,referrer:{url:document.referrer||""},session_id:this.sessionId,user_id:this.userId,utm_campaign:this.utm_campaign,utm_content:this.utm_content,utm_medium:this.utm_medium,utm_source:this.utm_source,utm_term:this.utm_term,whitelabel:this.whitelabel,keen:{addons:[{name:"keen:url_parser",input:{url:"page_url"},output:"parsed_page_url"}]}}}}])&&o(t.prototype,n),r&&o(t,r),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidEventName=function(e){return r.hasOwnProperty(e)},t.getPropTemplate=function(e){return r[e]};var r={"Ad clicked":{id:"number"},"Ad viewed":{id:"number",blocked:"boolean"},"Added project to contest":{},"Added project to list":{},"Changed notification settings":{},"Clicked filter value":{},"Clicked button":{},"Clicked launch campaign":{},"Clicked link":{},"Clicked menu item":{},"Clicked part buy link":{link_position:"number"},"Clicked view all section":{},"Clicked view more":{},"Completed onboarding":{},"Completed onboarding step":{},"Confirmed email address":{},"Created account":{},"Created bookmark":{},"Created bookmark list":{},"Created comment":{},"Created event":{},"Created post":{},"Created project":{},"Deleted account":{},"Deleted bookmark":{},"Deleted bookmark list":{},"Deleted comment":{},"Deleted event":{},"Deleted post":{},"Dismissed tooltip":{},"Followed entity":{},"Joined experiment":{},"Logged in":{},"Logged out":{},"Made project public":{},"Opened bookmark menu":{},"Opened explore menu":{},"Opened menu":{},"Posted comment":{},"Posted feed post":{},"Registered for contest":{},"Registered for workshop":{},"Respected entity":{},Searched:{filters:{parts:"array",project_type:"array",difficulty:"array",language:"array",skills:"array",available_for_hire:"boolean",location:{geoloc:{lat:"number",lng:"number"},distance:"number"}},pagination:{current_page:"number",per_page:"number",total_pages:"number",total_records:"number"}},"Search filter":{},"Search location filter":{},"Sent invites":{count:"number"},"Signup prompt clicked":{},"Signup prompt shown":{},"Submitted idea to contest":{},"Submitted project to contest":{},"Unfollowed entity":{},"Updated comment":{},"Updated post":{},"Unregistered for contest":{},"Unrespected entity":{},"Viewed lock screen":{projects_viewed:"number"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryJSONParse=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return JSON.parse(e)}catch(e){return t}},t.tryJSONStringify=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return JSON.stringify(e)}catch(e){return t}}},function(e,t,n){"use strict";e.exports=function(e){return null!==e&&"object"==typeof e}},function(e,t,n){e.exports=n(13)},function(e,t,n){n(14)},function(e,t,n){(function(t){e.exports=t.HAnalytics=n(16)}).call(this,n(15))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.keenService=void 0;var i=new(((r=n(17))&&r.__esModule?r:{default:r}).default);t.keenService=i,i.processAnalyticsEventsJson(),i.reportABTests(),i.reportPageView()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(18)),i=u(n(45)),o=u(n(0)),s=u(n(46)),a=n(10);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?f(e):t}(this,d(t).call(this)))._handleGlobalClick=e._handleGlobalClick.bind(f(e)),e.abTestService=new s.default({recordEvent:e.recordEvent.bind(f(e))}),"undefined"!=typeof document&&document.addEventListener&&document.addEventListener("DOMContentLoaded",e._init.bind(f(e))),e}var n,u,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["default"]),n=t,(u=[{key:"_init",value:function(){var e=this;"undefined"!=typeof document&&document.querySelectorAll&&[].slice.call(document.querySelectorAll("[".concat("data-ha","]"))).forEach(function(t){t.addEventListener("click",e._handleGlobalClick,!0)})}},{key:"getABTestVariant",value:function(e){return this.abTestService.getExperimentProps(e)}},{key:"processAnalyticsEventsJson",value:function(){var e=this;return new Promise(function(t,n){var r=window.HAnalyticsGlobalData&&(0,a.tryJSONParse)(window.HAnalyticsGlobalData.eventsJson);return r?e.recordEvents(r).then(function(){return t()}).catch(function(e){return(0,o.default)("GlobalKeenService processAnalyticsEventsJson: ",e),n(e)}):t()})}},{key:"reportABTests",value:function(){var e=this,t=window.HAnalyticsGlobalData&&(0,a.tryJSONParse)(window.HAnalyticsGlobalData.abTestsJson);t&&Object.keys(t).forEach(function(n){e.abTestService.storeAndReportExperiment(n,t[n])})}},{key:"reportPageView",value:function(){var e=this._getPageType();return e&&-1===i.default.indexOf(e)?this.recordPageView({pageType:e}).then(function(){}).catch(function(e){return(0,o.default)("KeenService reportPageView: ",e),Promise.reject(e)}):Promise.resolve()}},{key:"_handleGlobalClick",value:function(e){if(e){var t=this._findTarget(e.target);if(t){var n=(0,a.tryJSONParse)(t.getAttribute("data-ha"))||{};if(n.hasOwnProperty("eventName")){var r=n.eventName,i=n.pageType,o=n.customProps,s=n.clickOpts,u=void 0===s?{}:s;this.recordLinkClick({eventName:r,pageType:i},o,u.delayRedirect,e)}}}}},{key:"_findTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._hasAnalyticsAttrib(e)?e:t>=2||!e||"BODY"===e.nodeName||!e.parentNode?null:this._findTarget(e.parentNode,t+1)}},{key:"_hasAnalyticsAttrib",value:function(e){return!(!e||!e.hasAttribute)&&e.hasAttribute("data-ha")}}])&&l(n.prototype,u),h&&l(n,h),t}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=h(n(19)),i=h(n(23)),o=h(n(24)),s=h(n(25)),a=h(n(0)),u=h(n(28)),c=n(4),l=n(29),d=n(9),f=n(30),p=n(2);function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentUserId=this._getUserId(),this.sessionHandler=new s.default,this.whitelabel=this._getWhitelabel()}var t,n,h;return t=e,(n=[{key:"recordEvent",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.pageType,i=t.eventName,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(t,s){if((0,u.default)()||!e._hasKeenKeys()||!(0,d.isValidEventName)(i))return t();if(!(n=n||e._getPageType()))return s(new Error("recordEvent expected a pageType, but received: ".concat(n)));var c=e._getEventData(),l=c.createNewSession,p=c.distinctId,h=c.sessionId,v=c.utmParams,m=new r.default({customProps:o,distinctId:p,eventName:i,pageType:n,sessionId:h,userId:e.currentUserId,utmParams:v,whitelabel:e.whitelabel});return Promise.all([(0,f.postSingleEvent)(m.createRecord(),"events"),e.recordNewSession({createNewSession:l,distinctId:p,sessionId:h,pageType:n,utmParams:v})]).then(function(){return t()}).catch(function(e){return(0,a.default)("KeenService recordEvent: ",e),s(e)})})}},{key:"recordEventWithDelayedRedirect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageType,n=e.eventName,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return o.ctrlKey||o.metaKey?this.recordEvent({eventName:n,pageType:t},r):(o.preventDefault(),this._recordEventAndRedirect({eventName:n,pageType:t},r,i))}},{key:"recordEventsWithDelayedRedirect",value:function(e,t,n){return n.ctrlKey||n.metaKey?this.recordEvents(e):(n.preventDefault(),this._recordEventsAndRedirect(e,t))}},{key:"recordEvents",value:function(e){var t=this;return new Promise(function(n,r){var i=e.map(function(e){return t._normalizeObj(e)}).map(function(e){var n=e.eventName,r=e.pageType,i=e.customProps;return t.recordEvent({eventName:n,pageType:r},i)});return Promise.all(i).then(function(){return n()}).catch(function(e){return(0,a.default)("KeenService recordEvents: ",e),r(e)})})}},{key:"recordLinkClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.eventName,n=void 0===t?"Clicked link":t,r=e.pageType,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0,a=i.href||(0,c.getInObjWithPrototypeAccess)(["target","href"],s),u=i.value||(0,c.getInObjWithPrototypeAccess)(["target","textContent"],s)||(0,c.getInObjWithPrototypeAccess)(["target","innerText"],s),l=Object.assign({},i,{href:a,value:u});return o&&a?this.recordEventWithDelayedRedirect({eventName:n,pageType:r},l,a,s):this.recordEvent({eventName:n,pageType:r},l)}},{key:"recordPageView",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,r){if((0,u.default)()||!e._hasKeenKeys())return n();var o=t.entity_id||e._getEntityId(),s=t.pageType||e._getPageType();if(!s)return r(new Error("recordPageView expected a pageType, but received: ".concat(s)));var c=e._getEventData(),l=c.createNewSession,d=c.distinctId,p=c.sessionId,h=c.utmParams,v=new i.default({distinctId:d,entity_id:o,pageType:s,referrer:t.referrer,sessionId:p,userId:e.currentUserId,utmParams:h,whitelabel:e.whitelabel});return Promise.all([(0,f.postSingleEvent)(v.createRecord(),"page_views"),e.recordNewSession({createNewSession:l,distinctId:d,sessionId:p,pageType:s,utmParams:h})]).then(function(){return n()}).catch(function(e){return(0,a.default)("KeenService recordPageView: ",e),r(e)})})}},{key:"recordNewSession",value:function(e){var t=this,n=e.createNewSession,r=e.distinctId,i=e.sessionId,s=e.pageType,a=e.utmParams;return new Promise(function(e,c){if(!n||(0,u.default)()||!t._hasKeenKeys())return e();if(!(s=s||t._getPageType()))return c(new Error("recordNewSession expected a pageType, but received: ".concat(s)));var l=new o.default({distinctId:r,sessionId:i,pageType:s,whitelabel:t.whitelabel,utmParams:a,userId:t.currentUserId});return(0,f.postSingleEvent)(l.createRecord(),"sessions").then(function(){return e()}).catch(function(e){return c(e)})})}},{key:"_getEntityId",value:function(){return p.isWindowDefined&&window.HAnalyticsGlobalData&&window.HAnalyticsGlobalData.hasOwnProperty("entity_id")?window.HAnalyticsGlobalData.entity_id:null}},{key:"_getEventData",value:function(){var e=this.sessionHandler.getSessionData(),t=e.createNewSession,n=e.data;return{createNewSession:t,distinctId:n.distinctId,sessionId:n.sessionId,utmParams:(0,l.getUTMParams)(window.location.search,t)}}},{key:"_getPageType",value:function(){if("undefined"!=typeof document&&"function"==typeof document.querySelector){var e=document.querySelector('meta[name="pageType"]');return e&&e.hasAttribute("content")?this._transformPageType(e.getAttribute("content")):null}return null}},{key:"_getUserId",value:function(){return p.isWindowDefined&&window.HAnalyticsGlobalData&&window.HAnalyticsGlobalData.hasOwnProperty("user_id")?parseInt(window.HAnalyticsGlobalData.user_id):null}},{key:"_getWhitelabel",value:function(){return p.isWindowDefined&&window.HAnalyticsGlobalData&&window.HAnalyticsGlobalData.hasOwnProperty("whitelabel")?window.HAnalyticsGlobalData.whitelabel:null}},{key:"_eventObjTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.customProps,n=void 0===t?{}:t,r=e.event,i=void 0===r?{}:r;return{customProps:n,eventName:i.eventName,pageType:i.pageType}}},{key:"_hasKeenKeys",value:function(){return p.isWindowDefined?!!(window&&window.jsk&&window.jsk.oht&&window.jsk.oak):null}},{key:"_normalizeObj",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.hasOwnProperty("event")?this._eventObjTransform(e):e.hasOwnProperty("eventName")?e:{}}},{key:"_recordEventAndRedirect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.pageType,r=t.eventName,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;return new Promise(function(t,s){e.recordEvent({eventName:r,pageType:n},i).then(function(){return t((0,p.windowLocationRedirect)(o))}).catch(function(e){return(0,a.default)("KeenService _recordEventAndRedirect: ",e),s(e)})})}},{key:"_recordEventsAndRedirect",value:function(e,t){var n=this;return new Promise(function(r,i){return n.recordEvents(e).then(function(){return r((0,p.windowLocationRedirect)(t))}).catch(function(e){return(0,a.default)("KeenService _recordEventsAndRedirect: ",e),i(e)})})}},{key:"_transformPageType",value:function(e){return e}}])&&v(t.prototype,n),h&&v(t,h),e}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(8)),i=o(n(22));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,l(t).call(this,e))).eventName=e.eventName,n.customProps=(0,i.default)(e.customProps,n.eventName),n}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["default"]),n=t,(o=[{key:"createRecord",value:function(){return Object.assign({},c(l(t.prototype),"createRecord",this).call(this),{custom:this.customProps,event_name:this.eventName})}}])&&a(n.prototype,o),s&&a(n,s),t}();t.default=f},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,i.isObjectWithLength)(e)?function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce(function(r,s){var a=n[s],u=t[s],c=(0,i.isObjectWithLength)(u)?e(u,a):function(e,t,n){var r=o[t];return r?r(e):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.endsWith("_id")&&"event_id"!==t?"number":"string";return o[n](e)}(e,n)}(u,a,s);return(0,i.isBlank)(c)?r:Object.assign({},r,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},s,c))},{})}(e,(0,r.getPropTemplate)(t)):null};var r=n(9),i=n(1);var o={array:function(e){return Array.isArray(e)&&e.length>0?e:null},boolean:function(e){if("boolean"==typeof e)return e;if("string"==typeof e){var t=e.toLowerCase();return"true"===t||"false"!==t&&null}return null},number:function(e){if(Array.isArray(e))return null;var t=parseFloat(e);return isNaN(t)?null:t},string:function(e){return"string"==typeof e?e:"boolean"==typeof e||"number"==typeof e?e.toString():null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(8))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,c(t).call(this,e))).entity_id=e.entity_id||null,n.referrer=e.referrer||document.referrer||"",n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,i["default"]),n=t,(r=[{key:"createRecord",value:function(){var e=u(c(t.prototype),"createRecord",this).call(this);return Object.assign({},e,{entity_id:this.entity_id,referrer:{url:this.referrer},keen:Object.assign({},e.keen,{addons:e.keen.addons.concat({name:"keen:referrer_parser",input:{page_url:"page_url",referrer_url:"referrer.url"},output:"referrer.info"})})})}}])&&s(n.prototype,r),o&&s(n,o),t}();t.default=d},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.distinctId,r=void 0===n?null:n,i=t.sessionId,o=void 0===i?null:i,s=t.pageType,a=void 0===s?null:s,u=t.userId,c=void 0===u?null:u,l=t.utmParams,d=void 0===l?{}:l,f=t.whitelabel,p=void 0===f?null:f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.distinctId=r,this.pageType=a,this.sessionId=o,this.userId=c,this.utm_campaign=d.utm_campaign,this.utm_content=d.utm_content,this.utm_medium=d.utm_medium,this.utm_source=d.utm_source,this.utm_term=d.utm_term,this.whitelabel=p}var t,n,i;return t=e,(n=[{key:"createRecord",value:function(){return{distinct_id:this.distinctId,ip:"${keen.ip}",landing_page_type:this.pageType,landing_page_url:document.location.toString(),referrer:{url:document.referrer||""},screen:{height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},session_id:this.sessionId,user_agent:"${keen.user_agent}",user_id:this.userId,utm_campaign:this.utm_campaign,utm_content:this.utm_content,utm_medium:this.utm_medium,utm_source:this.utm_source,utm_term:this.utm_term,whitelabel:this.whitelabel,keen:{addons:[{name:"keen:ip_to_geo",input:{ip:"ip"},output:"geo_info"},{name:"keen:referrer_parser",input:{referrer_url:"referrer.url"},output:"referrer.info"},{name:"keen:ua_parser",input:{ua_string:"user_agent"},output:"parsed_user_agent"},{name:"keen:url_parser",input:{url:"landing_page_url"},output:"parsed_landing_page_url"}]}}}}])&&r(t.prototype,n),i&&r(t,i),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(5)),i=s(n(26)),o=n(3);function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u="hck.kn",c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.LS_KEY=t||u}var t,n,s;return t=e,(n=[{key:"getSessionData",value:function(){var e=this._fetchFromCache();if(e){var t=this._isSessionExpired(e.t),n=t?this._createSession(e.dId,(0,i.default)(e.sId)):this._createSession(e.dId,e.sId);return this._setInCache(n),{createNewSession:t,data:this._translator(n)}}var r=this._createSession();return this._setInCache(r),{createNewSession:!0,data:this._translator(r)}}},{key:"_createSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e||(0,r.default)(),i=t||(0,r.default)(),o=this._getDatePlusHours(1);return{dId:n,sId:i,t:o}}},{key:"_getDatePlusHours",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Date(Date.now()+3600*e*1e3).valueOf()}},{key:"_fetchFromCache",value:function(){return(0,o.getItem)(this.LS_KEY)}},{key:"_isSessionExpired",value:function(e){return Date.now()>parseFloat(e)}},{key:"_setInCache",value:function(e){return(0,o.setItem)(this.LS_KEY,e)}},{key:"_translator",value:function(e){return{distinctId:e.dId,sessionId:e.sId}}}])&&a(t.prototype,n),s&&a(t,s),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t===n?(a=t,u=o,window.Bugsnag&&window.Bugsnag.notify?Bugsnag.notify("Duplicate uuid","duplicate uuid generated",{attempt:u,uuid:a},"warning"):(0,r.default)(new Error("duplicate uuid: ".concat(a,", attempt #").concat(u))),o<s?e(t,(0,i.default)(),o+1):function(e){return"".concat(e,"x")}(t)):n;var a,u}(e,(0,i.default)())};var r=o(n(0)),i=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var s=3},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areCookiesSupported=l,t.deleteCookie=function(e){return l()?a(e):null},t.getCookie=function(e){return l()?u(e):null},t.setCookie=function(e,t){return l()?c(e,t):null};var r=n(10),i=n(2),o=null;function s(e){document.cookie=e}function a(e){var t=u(e);return s("".concat(e,"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/; domain=").concat(i.windowLocationHostname.get().toString(),";")),t}function u(e){var t=document.cookie.match(new RegExp("".concat(e,"=([^;]+)")));return t&&t[1]?(0,r.tryJSONParse)(t[1],t[1]):null}function c(e,t){s("".concat(e,"=").concat(JSON.stringify(t),"; path=/; domain=").concat(i.windowLocationHostname.get().toString(),";"))}function l(){if(null===o)if(i.isWindowDefined&&window.navigator.cookieEnabled){c("testcookie","1");var e=u("testcookie");e&&a("testcookie"),o=!!e}else o=!1;return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(null===o){var e=(0,r.getNavigator)();e&&e.userAgent?(t=e.userAgent,o=i.test(t)):o=!0}var t;return o},t.__resetFlag=function(){o=null};var r=n(2),i=/facebook|google|yandex|bing|ezooms|twikle|wotbox|fetch|wordpress|pingdom|slurp|sogou|crawl|bot|spider/i,o=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUTMParams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,i.mapifyStringQuery)(e),c=a.reduce(function(e,t){return Object.assign({},e,o({},t,n[t]||""))},{});if(function(e){return a.reduce(function(t,n){return t||!!e[n]},!1)}(c))return l=c,(0,r.setItem)(s,l),c;if(t)return(0,r.deleteItem)(s),u;var l;return(0,r.getItem)(s)||u};var r=n(3),i=n(6);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="hck.kn.utm",a=["utm_campaign","utm_content","utm_medium","utm_source","utm_term"],u=a.reduce(function(e,t){return Object.assign({},e,o({},t,""))},{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postSingleEvent=function(e,t){return new Promise(function(n,r){return d(e,t).then(function(n){var r=n.err,i=n.res;return r?l(c(e,t,r)):Promise.resolve(i)}).then(function(e){return n(e)}).catch(function(e){return r(e)})})};var r=a(n(7)),i=a(n(36)),o=a(n(37)),s=n(4);function a(e){return e&&e.__esModule?e:{default:e}}var u=new i.default,c=function(e,t,n){var r=["distinct_id","ip","keen","referrer","user_id","whitelabel"],i=Object.keys(e).reduce(function(t,n){return r.includes(n)||(t[n]=e[n]),t},{}),o=void 0!==n.status,a={status:o?n.status:0,reason:o?(0,s.getInObj)(["response","body","message"],n):"net::ERR_BLOCKED_BY_CLIENT"};return{browser_info:Object.assign({},u.getResult(),{referrer:e.referrer,error:a}),other_props:i,distinct_id:e.distinct_id,table:t,user_id:e.user_id,whitelabel:e.whitelabel}},l=function(e){return o.default.apiRequest(r.default.post("".concat(o.default.getApiPath(),"/private/debug")).send(e),!0)},d=function(e,t){return new Promise(function(n,i){return r.default.post("https://".concat(window.jsk.oht,"/v1/events/").concat(t)).query({key:window.jsk.oak}).set("Content-Type","application/json").send(e).end(function(e,t){return n({err:e,res:t})})})}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";var r=n(11);function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},i.prototype.parse=function(e){return this._parser=e,this},i.prototype.responseType=function(e){return this._responseType=e,this},i.prototype.serialize=function(e){return this._serializer=e,this},i.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},i.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];i.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~o.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},i.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},i.prototype.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){n.end(function(n,r){n?t(n):e(r)})})}return this._fullfilledPromise.then(e,t)},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype.use=function(e){return e(this),this},i.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},i.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},i.prototype.get=function(e){return this._header[e.toLowerCase()]},i.prototype.getHeader=i.prototype.get,i.prototype.set=function(e,t){if(r(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},i.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},i.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),r(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var i in t)this.field(e,t[i]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},i.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},i.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},i.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},i.prototype.redirects=function(e){return this._maxRedirects=e,this},i.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},i.prototype.send=function(e){var t=r(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&r(this._data))for(var i in e)this._data[i]=e[i];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(n||this.type("json"),this)},i.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},i.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},i.prototype._appendQueryString=function(){console.trace("Unsupported")},i.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error(e+t+"ms exceeded");r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},i.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(e,t,n){"use strict";var r=n(34);function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.get=function(e){return this.header[e.toLowerCase()]},i.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=r.type(t);var n=r.params(t);for(var i in n)this[i]=n[i];this.links={};try{e.link&&(this.links=r.parseLinks(e.link))}catch(e){}},i.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},function(e,t,n){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e},{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){n.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),n.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},e.exports=n},function(e,t,n){var r;/*!
* UAParser.js v0.7.20
* Lightweight JavaScript-based User-Agent string parser
* https://github.com/faisalman/ua-parser-js
*
* Copyright  2012-2019 Faisal Salman <f@faisalman.com>
* Licensed under MIT License
*/!function(i,o){"use strict";var s="model",a="name",u="type",c="vendor",l="version",d="mobile",f="tablet",p={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},h={rgx:function(e,t){for(var n,r,i,o,s,a,u=0;u<t.length&&!s;){var c=t[u],l=t[u+1];for(n=r=0;n<c.length&&!s;)if(s=c[n++].exec(e))for(i=0;i<l.length;i++)a=s[++r],"object"==typeof(o=l[i])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,a):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=a?a.replace(o[1],o[2]):void 0:this[o[0]]=a?o[1].call(this,a,o[2]):void 0:4==o.length&&(this[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):void 0):this[o]=a||void 0;u+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(p.has(t[n][r],e))return"?"===n?void 0:n}else if(p.has(t[n],e))return"?"===n?void 0:n;return e}},v={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,l],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[a,l],[/(konqueror)\/([\w\.]+)/i],[[a,"Konqueror"],l],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],l],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],l],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],l],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],l],[/(focus)\/([\w\.]+)/i],[[a,"Firefox Focus"],l],[/(opt)\/([\w\.]+)/i],[[a,"Opera Touch"],l],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],l],[/(windowswechat qbcore)\/([\w\.]+)/i],[[a,"WeChat(Win) Desktop"],l],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],l],[/(brave)\/([\w\.]+)/i],[[a,"Brave"],l],[/(qqbrowserlite)\/([\w\.]+)/i],[a,l],[/(QQ)\/([\d\.]+)/i],[a,l],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,l],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[a,l],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,l],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[l,[a,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[a,l],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[l,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],l],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],l],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[l,[a,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[a,"Sailfish Browser"],l],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,l],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],l],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],l],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],l],[/fxios\/([\w\.-]+)/i],[l,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[l,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[l,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[l,h.str,v.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[a,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[s,c,[u,f]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[c,"Apple"],[u,f]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[c,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,s,[u,f]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[s,[c,"Amazon"],[u,f]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[s,h.str,v.device.amazon.model],[c,"Amazon"],[u,d]],[/android.+aft([bms])\sbuild/i],[s,[c,"Amazon"],[u,"smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,c,[u,d]],[/\((ip[honed|\s\w*]+);/i],[s,[c,"Apple"],[u,d]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,s,[u,d]],[/\(bb10;\s(\w+)/i],[s,[c,"BlackBerry"],[u,d]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[s,[c,"Asus"],[u,f]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[s,"Xperia Tablet"],[u,f]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[c,"Sony"],[u,d]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,s,[u,"console"]],[/android.+;\s(shield)\sbuild/i],[s,[c,"Nvidia"],[u,"console"]],[/(playstation\s[34portablevi]+)/i],[s,[c,"Sony"],[u,"console"]],[/(sprint\s(\w+))/i],[[c,h.str,v.device.sprint.vendor],[s,h.str,v.device.sprint.model],[u,d]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[c,[s,/_/g," "],[u,d]],[/(nexus\s9)/i],[s,[c,"HTC"],[u,f]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[s,[c,"Huawei"],[u,d]],[/(microsoft);\s(lumia[\s\w]+)/i],[c,s,[u,d]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[c,"Microsoft"],[u,"console"]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[c,"Microsoft"],[u,d]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[s,[c,"Motorola"],[u,d]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[c,"Motorola"],[u,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[c,p.trim],[s,p.trim],[u,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[c,"Samsung"],[u,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[s,[c,"Sharp"],[u,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],s,[u,f]],[/smart-tv.+(samsung)/i],[c,[u,"smarttv"],s],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[c,"Samsung"],s,[u,d]],[/sie-(\w*)/i],[s,[c,"Siemens"],[u,d]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[c,"Nokia"],s,[u,d]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[s,[c,"Acer"],[u,f]],[/android.+([vl]k\-?\d{3})\s+build/i],[s,[c,"LG"],[u,f]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],s,[u,f]],[/(lg) netcast\.tv/i],[c,s,[u,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[s,[c,"LG"],[u,d]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[c,s,[u,f]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[c,"Lenovo"],[u,f]],[/(lenovo)[_\s-]?([\w-]+)/i],[c,s,[u,d]],[/linux;.+((jolla));/i],[c,s,[u,d]],[/((pebble))app\/[\d\.]+\s/i],[c,s,[u,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[c,s,[u,d]],[/crkey/i],[[s,"Chromecast"],[c,"Google"]],[/android.+;\s(glass)\s\d/i],[s,[c,"Google"],[u,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[s,[c,"Google"],[u,f]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[s,[c,"Google"],[u,d]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[c,"Xiaomi"],[u,d]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[c,"Xiaomi"],[u,f]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[s,[c,"Meizu"],[u,d]],[/(mz)-([\w-]{2,})/i],[[c,"Meizu"],s,[u,d]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[s,[c,"OnePlus"],[u,d]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[s,[c,"RCA"],[u,f]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[s,[c,"Dell"],[u,f]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[s,[c,"Verizon"],[u,f]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[c,"Barnes & Noble"],s,[u,f]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[s,[c,"NuVision"],[u,f]],[/android.+;\s(k88)\sbuild/i],[s,[c,"ZTE"],[u,f]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[s,[c,"Swiss"],[u,d]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[s,[c,"Swiss"],[u,f]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[s,[c,"Zeki"],[u,f]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[c,"Dragon Touch"],s,[u,f]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[s,[c,"Insignia"],[u,f]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[s,[c,"NextBook"],[u,f]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[c,"Voice"],s,[u,d]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[c,"LvTel"],s,[u,d]],[/android.+;\s(PH-1)\s/i],[s,[c,"Essential"],[u,d]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[s,[c,"Envizen"],[u,f]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[c,s,[u,f]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[s,[c,"MachSpeed"],[u,f]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[c,s,[u,f]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[s,[c,"Rotor"],[u,f]],[/android.+(KS(.+))\s+build/i],[s,[c,"Amazon"],[u,f]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[c,s,[u,f]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,p.lowerize],c,s],[/[\s\/\(](smart-?tv)[;\)]/i],[[u,"smarttv"]],[/(android[\w\.\s\-]{0,9});.+build/i],[s,[c,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[a,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,l],[/rv\:([\w\.]{1,9}).+(gecko)/i],[l,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[l,h.str,v.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[l,h.str,v.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[a,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],l],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],l],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[a,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],l],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[a,l],[/(haiku)\s(\w+)/i],[a,l],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[l,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[a,l]]},y=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof y))return new y(e,t).getResult();var n=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?p.extend(m,t):m;return this.getBrowser=function(){var e={name:void 0,version:void 0};return h.rgx.call(e,n,r.browser),e.major=p.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return h.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return h.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return h.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return h.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};y.VERSION="0.7.20",y.BROWSER={NAME:a,MAJOR:"major",VERSION:l},y.CPU={ARCHITECTURE:"architecture"},y.DEVICE={MODEL:s,VENDOR:c,TYPE:u,CONSOLE:"console",MOBILE:d,SMARTTV:"smarttv",TABLET:f,WEARABLE:"wearable",EMBEDDED:"embedded"},y.ENGINE={NAME:a,VERSION:l},y.OS={NAME:a,VERSION:l},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=y),t.UAParser=y):void 0===(r=function(){return y}.call(t,n,t,e))||(e.exports=r);var w=i&&(i.jQuery||i.Zepto);if(void 0!==w&&!w.ua){var b=new y;w.ua=b.getResult(),w.ua.get=function(){return b.getUA()},w.ua.set=function(e){b.setUA(e);var t=b.getResult();for(var n in t)w.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(7),i=c(n(0)),o=n(2),s=n(38),a=n(4),u=c(n(39));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){var t=new r.Request(e.method,e.url);return t._query=e._query,t.header=e.header,t._header=e._header,t._data=e._data,t}var f=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialized=!1,this.cachedApiPath=null,this.callbackQueueForNonPromises=[],this.requestQueue=[],this.requestQueueWorking=!1,this.userIdFromDom=null,this.Tokens=new u.default,this.apiRequest=this.apiRequest.bind(this),this.clearApiTokens=this.clearApiTokens.bind(this),this.getApiPath=this.getApiPath.bind(this),this.getApiToken=this.getApiToken.bind(this),this.processApiRequestError=this.processApiRequestError.bind(this)}var t,n,r;return t=e,(n=[{key:"_initialize",value:function(){this.initialized=!0,this.userIdFromDom=this._fetchUserIdFromDOMBody(),this.Tokens.initialized||this.Tokens._initialize()}},{key:"_cacheRequest",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.requestQueue.push({request:e,resolve:t,reject:n,resolver:r,tokenType:i,attempts:o})}},{key:"_createRequestResolver",value:function(e,t,n,r){var i=this;return function(o,s,a,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return d(e).query({bearer_token:o}).then(function(e){return a(n?Object.assign({},e.body,{token:o}):e)}).catch(function(n){var o=n&&n.status&&n.status>=400&&n.status<=500;return!i.userIdFromDom&&c>=1&&o?a({}):i.userIdFromDom&&c>=1&&o?u(n):c>=2?u(n):void i._recoverFailedRequest(e,a,u,s,c,t,r)})}}},{key:"_fetchTokens",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.Tokens.fetchTokens(e,t)}},{key:"_fetchUserIdFromDOMBody",value:function(){return document&&document.body.getAttribute("data-user-signed-in")||null}},{key:"_handleTokens",value:function(e,t,n){return e.hasOwnProperty("user_token")?this._resolveRequestQueue(e):t&&n?this._summonLoginPanel(t):t?this._handleUnresolvedUserRequests():this._resolveRequestsForTokenType(e.client_token,"client")}},{key:"_handleUnresolvedUserRequests",value:function(){this.userIdFromDom?this._resolveRequestsForTokenType(null,"user"):this._resolveUserPromisesForUnresolvedRequests()}},{key:"_recoverFailedRequest",value:function(e,t,n,r,i,o,s){var a=this;return this.Tokens.deleteTokens(),this._cacheRequest(e,t,n,r,this.Tokens.getTokenType(o),i+=1),this._fetchTokens(o).then(function(e){return a._handleTokens(e,o,s)}).catch(function(e){return n(e)})}},{key:"_reFetchTokensAfterLogin",value:function(e,t){return this._initialize(),this.userIdFromDom&&parseInt(this.userIdFromDom,10)===parseInt(t,10)?this._fetchTokens(e,!0).catch(function(e){return(0,i.default)("_reFetchTokensAfterLogin Error",e)}):(0,o.reloadDocumentLocation)()}},{key:"_resolveCallbacksForGetApiToken",value:function(e){var t=this,n=e.hasOwnProperty("user_token"),r=n?e.user_token:e.client_token||null;this.callbackQueueForNonPromises=this.callbackQueueForNonPromises.filter(function(e){return e.userOnly&&n||!1===e.userOnly?(e.callback(r),!1):e.attempts<2?(t.getApiToken.call(t,e.callback,e.userOnly,e.attempts+=1),!1):(e.callback(null),!1)})}},{key:"_resolveRequestQueue",value:function(e){var t=this;this.requestQueueWorking||(this.requestQueueWorking=!0,this.requestQueue=this.requestQueue.filter(function(n){return n.resolver.call(t,e.user_token,n.resolver,n.resolve,n.reject,n.attempts),!1}),this.requestQueueWorking=!1)}},{key:"_resolveRequestsForTokenType",value:function(e,t){var n=this;this.requestQueue=this.requestQueue.filter(function(r){return r.tokenType!==t||(r.resolver.call(n,e,r.resolver,r.resolve,r.reject,r.attempts),!1)})}},{key:"_resolveUserPromisesForUnresolvedRequests",value:function(){this.requestQueue=this.requestQueue.filter(function(e){return"user"!==e.tokenType||(e.resolve({unresolved:!0}),!1)})}},{key:"_summonLoginPanel",value:function(e){(0,s.summonLoginPanel)({detail:{callback:this._reFetchTokensAfterLogin.bind(this,e),redirect_to:null}}),this._resolveUserPromisesForUnresolvedRequests()}},{key:"apiRequest",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new Promise(function(o,s){t.initialized||t._initialize();var a=t.Tokens.getTokenType(n),u=t._createRequestResolver(e,n,r,i);return t._cacheRequest(e,o,s,u,a,0),t._fetchTokens(n).then(function(e){return t._handleTokens(e,n,i)}).catch(function(e){return s(e)})})}},{key:"clearApiTokens",value:function(){this.Tokens.deleteTokens()}},{key:"getApiPath",value:function(){if("string"==typeof this.cachedApiPath)return this.cachedApiPath;if((0,o.doesWindowExistWithProperty)("location")){var e=o.windowLocationProtocol.get(),t=o.windowLocationPort.get(),n=document.getElementById("api-uri"),r=n&&n.content&&t&&t.length?"".concat(e,"//").concat(n.content,":").concat(t):n&&n.content?"".concat(e,"//").concat(n.content):(0,i.default)("OAuthService getApiPath expects a meta tag with an id of api-uri");return"string"==typeof r&&(this.cachedApiPath=r),r}}},{key:"getApiToken",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.callbackQueueForNonPromises.push({callback:e,userOnly:n,attempts:r}),this._fetchTokens(n).then(function(e){return t._resolveCallbacksForGetApiToken(e)}).catch(function(e){return t._resolveCallbacksForGetApiToken({})})}},{key:"processApiRequestError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.getInObj)(["response","body","errors"],e)||e}}])&&l(t.prototype,n),r&&l(t,r),e}());t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeGlobalPopover=function(){window.dispatchEvent(new CustomEvent("close:GlobalPopover",{detail:{},bubbles:!0,cancelable:!0}))},t.dispatchEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.dispatchEvent(new CustomEvent(e,{detail:t}))},t.summonGlobalMessenger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.dispatchEvent(new CustomEvent("react:messenger",{detail:e,bubbles:!0,cancelable:!0}))},t.summonGlobalDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.dispatchEvent(new CustomEvent(r,{detail:e,bubbles:!0,cancelable:!0}))},t.summonGlobalPopover=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.dispatchEvent(new CustomEvent("open:GlobalPopover",{detail:e,bubbles:!0,cancelable:!0}))},t.summonLoginPanel=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).detail,t=void 0===e?{}:e;window.dispatchEvent(new CustomEvent("open:SigninDialog",{detail:t,bubbles:!0,cancelable:!0}))},t.SUMMON_GLOBAL_DIALOG=void 0;var r="open:GlobalDialog";t.SUMMON_GLOBAL_DIALOG=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(40)),i=u(n(7)),o=u(n(43)),s=n(3),a=n(44);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d="".concat("hck.tkn",".client"),f="".concat("hck.tkn",".user"),p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client_token=null,this.user_token=null,this.initialized=!1,this.isFetching=!1,this.batch=[]}var t,n,u;return t=e,(n=[{key:"_initialize",value:function(){this.client_token=(0,s.getItem)(d)||null,this.user_token=(0,s.getItem)(f)||null,this.initialized=!0}},{key:"_fetchTokensFromStorageOrServer",value:function(){var e=this;return new Promise(function(t,n){return e.batch.every(function(e){return null!==e.tokens})?t(e.batch[0].tokens):e._fetchNewTokens().then(function(t){return e._seedNewTokens(t.body)}).then(function(e){return t(e)}).catch(function(e){return n(e)})})}},{key:"_fetchNewTokens",value:function(){return i.default.get("".concat((0,o.default)(),"/users/api_token")).withCredentials()}},{key:"_seedNewTokens",value:function(e){var t=this;return new Promise(function(n){t.deleteTokens(),e.user_token&&(0,s.setItem)(f,e.user_token),(0,s.setItem)(d,e.client_token),n(e)})}},{key:"_resolveFetchTokens",value:function(e,t){this.batch=this.batch.filter(function(n){return n[e](t),!1}),this.isFetching=!1}},{key:"_getTokenFromStorage",value:function(e){if(e)return{token:(0,s.getItem)(f),type:"user"};var t=(0,s.getItem)(f);return t&&t.length>0?{token:t,type:"user"}:{token:(0,s.getItem)(d),type:"client"}}},{key:"_isTokenValid",value:function(e){if(!e||!e.length)return!1;var t=(0,r.default)(e);return!(t.hasOwnProperty("user")&&t.user.hasOwnProperty("id")&&!this._doesJwtIdMatchBodyId(t.user.id))&&!!t.hasOwnProperty("exp")&&new Date(new Date(t.exp).valueOf()-1e4)>new Date}},{key:"_doesJwtIdMatchBodyId",value:function(e){var t=document.body.getAttribute("data-user-signed-in");return!(null==t||"string"==typeof t&&!t.length)&&parseInt(e)===parseInt(t)}},{key:"deleteTokens",value:function(){(0,s.deleteItem)(f),(0,s.deleteItem)(d)}},{key:"fetchTokens",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(r,i){var o=t._getTokenFromStorage(e),s=t._isTokenValid(o.token)&&!1===n?c({},"".concat(o.type,"_token"),o.token):null;if(t.batch.push({resolve:r,reject:i,tokens:s}),!t.isFetching)return t.isFetching=!0,(0,a.setTimeoutPromise)(50).then(function(){return t._fetchTokensFromStorageOrServer()}).then(function(e){return t._resolveFetchTokens("resolve",e)}).catch(function(e){return t._resolveFetchTokens("reject",e)})})}},{key:"getTokenType",value:function(e){return e?"user":"client"}}])&&l(t.prototype,n),u&&l(t,u),e}();t.default=p},function(e,t,n){"use strict";var r=n(41);function i(e){this.message=e}i.prototype=new Error,i.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new i("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[n]))}catch(e){throw new i("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=i},function(e,t,n){var r=n(42);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(t)}catch(e){return r(t)}}},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,o,s=0,a=0,u="";o=t.charAt(a++);~o&&(i=s%4?64*i+o:o,s++%4)?u+=String.fromCharCode(255&i>>(-2*s&6)):0)o=n.indexOf(o);return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(document&&document.getElementById){var e=document.getElementById("path-prefix");return e&&e.content?e.content:""}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelablePromise=function(e){var t=!1;return{promise:new Promise(function(n,r){return e.then(function(e){e=e||{},n(t?Object.assign({},e,{promiseCanceled:!0}):e)}).catch(function(e){e=e||{},r(t?Object.assign({},e,{promiseCanceled:!0}):e)})}),cancel:function(){t=!0}}},t.reflectPromise=function(e){return e.then(function(e){return{data:e,status:"resolved"}}).catch(function(e){return{err:e,status:"rejected"}})},t.setTimeoutPromise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(i,o){return setTimeout(function(){if(!t)return i(r);"function"==typeof t&&t()?i(r):o(n)},e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=["communities#react","community#show","platforms#react","platforms#show","projects#index","topic_channels#react","users#preferences","users#dashboard","users#show","topic_channels#show","videos#index"];t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(47)),i=d(n(0)),o=n(48),s=n(49),a=n(4),u=n(3),c=n(6),l=n(2);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t){var n=t.recordEvent;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.recordEvent=n}var t,n,d;return t=e,(n=[{key:"_getForcedVariantIdx",value:function(e){if(!(0,o.canUseDOM)())return 0;var t=(0,c.mapifyStringQuery)(l.windowLocationSearch.get())["exp_".concat(e)];return t?(0,a.findIndex)(r.default[e].variants,function(e){return e.value===t}):-1}},{key:"_getIdx",value:function(e){var t=this._getForcedVariantIdx(e);if(t>-1)return t;var n=this._getStoredIndexes();if(n.hasOwnProperty(e))return n[e];var i,o,s=(i=r.default[e].variants,o=Math.random(),i.reduce(function(e,t,n){if(null!==e.idx)return e;var r=e.sum+t.weight;return o<=r?{idx:n,sum:r}:Object.assign({},e,{sum:r})},{idx:null,sum:0}).idx);return this._storeJoinedExperiment(e,s,n),this._reportJoinedExperiment(e,s),s}},{key:"_getStoredIndexes",value:function(){if((0,o.canUseDOM)()){var e=(0,u.getItem)("hck.abtest")||{};return(0,s.filterObject)(e,function(e,t){return r.default.hasOwnProperty(t)})}}},{key:"_getProps",value:function(e,t){return(0,a.getInObj)([e,"variants",t,"props"],r.default)||{}}},{key:"_getVariantIdxByValue",value:function(e,t){var n=(0,a.getInObj)([e,"variants"],r.default);return n?n.reduce(function(e,n,r){return-1===e&&n.value===t?r:e},-1):-1}},{key:"_reportJoinedExperiment",value:function(e,t){this.recordEvent({eventName:"Joined experiment"},{exp_name:e,value:(0,a.getInObj)([e,"variants",t,"value"],r.default)})}},{key:"_storeJoinedExperiment",value:function(e,t,n){var r,i,o,s=Object.assign({},n,(o=t,(i=e)in(r={})?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r));(0,u.setItem)("hck.abtest",s)}},{key:"getExperimentProps",value:function(e){try{var t=this._getIdx(e);return this._getProps(e,t)}catch(t){return(0,i.default)(t),this._getProps(e,0)}}},{key:"storeAndReportExperiment",value:function(e,t){if(r.default.hasOwnProperty(e)){var n=this._getVariantIdxByValue(e,t),o=this._getStoredIndexes();n>-1&&o[e]!==n&&(this._storeJoinedExperiment(e,n,o),this._reportJoinedExperiment(e,n))}else(0,i.default)("Unknown AB test:",e)}}])&&f(t.prototype,n),d&&f(t,d),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={lock_screen_2018_08:{variants:[{props:{},value:"false",weight:.98},{props:{},value:"true",weight:.02}]}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterObject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return!(0,r.isBlank)(e)},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.keys(e).reduce(function(r,i){var o=e[i];return n.includes(i)?r[i]=o:"function"==typeof t&&t(o,i)&&(r[i]=o),r},{})},t.pluckAndReduce=function(e,t){return e.reduce(function(e,n){return n&&n.hasOwnProperty(t)?e.concat(n[t]):e},[])},t.removeFromObject=function(e,t){return Object.keys(e).reduce(function(n,r){return("string"==typeof t&&r!==t||Array.isArray(t)&&!t.includes(r))&&(n[r]=e[r]),n},{})};var r=n(1)}]);