(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,r){e.exports={small:"(max-width: 480px)",med:"(max-width: 768px)","med-large":"(max-width: 992px)",large:"(max-width: 1200px)","small-min":"(min-width: 481px)","med-min":"(min-width: 769px)","med-large-min":"(min-width: 993px)","large-min":"(min-width: 1201px)",container:"hckui__layout__container",wrapper960:"hckui__layout__wrapper960",wrapper1170:"hckui__layout__wrapper1170",block:"hckui__layout__block",borderNone:"hckui__layout__borderNone",alignSelfStart:"hckui__layout__alignSelfStart",flex:"hckui__layout__flex",flexAlignSelfEnd:"hckui__layout__flexAlignSelfEnd",flexStartItems:"hckui__layout__flexStartItems",flexCenterItems:"hckui__layout__flexCenterItems",flexColumn:"hckui__layout__flexColumn",flex1:"hckui__layout__flex1",flex00Auto:"hckui__layout__flex00Auto",flex10Auto:"hckui__layout__flex10Auto",flexJustifyCenter:"hckui__layout__flexJustifyCenter",flexJustifyStart:"hckui__layout__flexJustifyStart",flexJustifySpaceAround:"hckui__layout__flexJustifySpaceAround",flexJustifySpaceBetween:"hckui__layout__flexJustifySpaceBetween",flexJustifyEnd:"hckui__layout__flexJustifyEnd",flexRow:"hckui__layout__flexRow",flexRowWrap:"hckui__layout__flexRowWrap",flexRowReverse:"hckui__layout__flexRowReverse",flexColumnWrap:"hckui__layout__flexColumnWrap",fullScreenHeight:"hckui__layout__fullScreenHeight",fullWidth:"hckui__layout__fullWidth",inlineFlex:"hckui__layout__inlineFlex",margin0:"hckui__layout__margin0",margin10:"hckui__layout__margin10",marginBottom0:"hckui__layout__marginBottom0",marginBottom5:"hckui__layout__marginBottom5",marginBottom10:"hckui__layout__marginBottom10",marginBottom15:"hckui__layout__marginBottom15",marginBottom22:"hckui__layout__marginBottom22",marginBottom30:"hckui__layout__marginBottom30",marginBottom45:"hckui__layout__marginBottom45",marginBottom60:"hckui__layout__marginBottom60",marginLeft0:"hckui__layout__marginLeft0",marginLeft5:"hckui__layout__marginLeft5",marginLeft10:"hckui__layout__marginLeft10",marginLeft15:"hckui__layout__marginLeft15",marginLeft30:"hckui__layout__marginLeft30",marginLeft45:"hckui__layout__marginLeft45",marginLeft60:"hckui__layout__marginLeft60",marginRight0:"hckui__layout__marginRight0",marginRight5:"hckui__layout__marginRight5",marginRight10:"hckui__layout__marginRight10",marginRight15:"hckui__layout__marginRight15",marginRight30:"hckui__layout__marginRight30",marginRight45:"hckui__layout__marginRight45",marginRight60:"hckui__layout__marginRight60",marginTop0:"hckui__layout__marginTop0",marginTop5:"hckui__layout__marginTop5",marginTop10:"hckui__layout__marginTop10",marginTop15:"hckui__layout__marginTop15",marginTop22:"hckui__layout__marginTop22",marginTop30:"hckui__layout__marginTop30",marginTop45:"hckui__layout__marginTop45",marginTop60:"hckui__layout__marginTop60",maxWidth100P:"hckui__layout__maxWidth100P",maxWidth575:"hckui__layout__maxWidth575",noScrollBar:"hckui__layout__noScrollBar",padding0:"hckui__layout__padding0",padding5:"hckui__layout__padding5",padding10:"hckui__layout__padding10",padding15:"hckui__layout__padding15",padding30:"hckui__layout__padding30",padding60:"hckui__layout__padding60",padding015:"hckui__layout__padding015",padding1015:"hckui__layout__padding1015",padding3015:"hckui__layout__padding3015",padding3020:"hckui__layout__padding3020",padding4560:"hckui__layout__padding4560",paddingBottom0:"hckui__layout__paddingBottom0",paddingBottom5:"hckui__layout__paddingBottom5",paddingBottom10:"hckui__layout__paddingBottom10",paddingBottom15:"hckui__layout__paddingBottom15",paddingBottom22:"hckui__layout__paddingBottom22",paddingBottom30:"hckui__layout__paddingBottom30",paddingBottom45:"hckui__layout__paddingBottom45",paddingBottom60:"hckui__layout__paddingBottom60",paddingLeft5:"hckui__layout__paddingLeft5",paddingLeft10:"hckui__layout__paddingLeft10",paddingLeft15:"hckui__layout__paddingLeft15",paddingLeft30:"hckui__layout__paddingLeft30",paddingRight10:"hckui__layout__paddingRight10",paddingRight15:"hckui__layout__paddingRight15",paddingRight45:"hckui__layout__paddingRight45",paddingTop0:"hckui__layout__paddingTop0",paddingTop10:"hckui__layout__paddingTop10",paddingTop15:"hckui__layout__paddingTop15",paddingTop30:"hckui__layout__paddingTop30",paddingTop45:"hckui__layout__paddingTop45",paddingTop60:"hckui__layout__paddingTop60",hiddenSmallDown:"hckui__layout__hiddenSmallDown",hiddenSmallUp:"hckui__layout__hiddenSmallUp",hiddenMedDown:"hckui__layout__hiddenMedDown",hiddenMedUp:"hckui__layout__hiddenMedUp",hiddenMedLargeDown:"hckui__layout__hiddenMedLargeDown",hiddenMedLargeUp:"hckui__layout__hiddenMedLargeUp",hiddenLargeDown:"hckui__layout__hiddenLargeDown",hiddenLargeUp:"hckui__layout__hiddenLargeUp"}},function(e,t,r){e.exports={asphalt:"hckui__typography__asphalt",charcoal:"hckui__typography__charcoal",error:"hckui__typography__error",fog:"#F7F7F7",graphite:"hckui__typography__graphite",hackster:"hckui__typography__hackster",pebble:"hckui__typography__pebble",success:"hckui__typography__success",small:"(max-width: 480px)","small-min":"(min-width: 481px)",h1:"hckui__typography__h1",h1Responsive:"hckui__typography__h1Responsive",h2:"hckui__typography__h2",h2Responsive:"hckui__typography__h2Responsive",h3:"hckui__typography__h3",h4:"hckui__typography__h4",h5:"hckui__typography__h5",h3Responsive:"hckui__typography__h3Responsive",bodyL:"hckui__typography__bodyL",bodyM:"hckui__typography__bodyM",bodyS:"hckui__typography__bodyS",bodyXS:"hckui__typography__bodyXS",icon:"hckui__typography__icon",iconFontSize:"hckui__typography__iconFontSize",iconClickable:"hckui__typography__iconClickable",icon12:"hckui__typography__icon12",icon16:"hckui__typography__icon16",icon18:"hckui__typography__icon18",icon20:"hckui__typography__icon20",iconfill:"hckui__typography__iconfill",iconBaselineFix:"hckui__typography__iconBaselineFix",link:"hckui__typography__link",linkBlue:"hckui__typography__linkBlue",linkCharcoal:"hckui__typography__linkCharcoal",linkGraphite:"hckui__typography__linkGraphite",linkPebble:"hckui__typography__linkPebble",linkWhite:"hckui__typography__linkWhite",linkDisabled:"hckui__typography__linkDisabled",ol:"hckui__typography__ol",anchorNoUnderlineOnFocus:"hckui__typography__anchorNoUnderlineOnFocus",anchorNoUnderlineOnHover:"hckui__typography__anchorNoUnderlineOnHover",bold:"hckui__typography__bold",breakWord:"hckui__typography__breakWord",fontWeightNormal:"hckui__typography__fontWeightNormal",hoverUnderline:"hckui__typography__hoverUnderline",lineHeight0:"hckui__typography__lineHeight0",lineHeight1:"hckui__typography__lineHeight1",overflowBreakWord:"hckui__typography__overflowBreakWord",textCenter:"hckui__typography__textCenter",textLeft:"hckui__typography__textLeft",textRight:"hckui__typography__textRight",textWithIcon:"hckui__typography__textWithIcon",iconWrapper:"hckui__typography__iconWrapper",uppercase:"hckui__typography__uppercase",whitespaceNowrap:"hckui__typography__whitespaceNowrap",whitespacePre:"hckui__typography__whitespacePre",white:"hckui__typography__white",dummy:"hckui__typography__dummy",dummyS:"hckui__typography__dummyS",dummyM:"hckui__typography__dummyM",dummyL:"hckui__typography__dummyL",bodyL_sm:"hckui__typography__bodyL_sm"}},,function(e,t,r){e.exports={asphalt:"#D8D8D8",error:"#D0021B",fog:"#F7F7F7",hackster:"#2E9FE6",hacksterLight4:"#F1FAFF",lake:"#075B8B",seafoam:"#7BC7A1",success:"#0E8F42",coral:"#E6735C",gold:"#E0B969",standardBorder:"1px solid #D8D8D8",smallBorderRadius:"2px",standardBorderRadius:"4px",largeBorderRadius:"8px",standardBoxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)",secondaryBoxShadow:"0 2px 10px 0 rgba(0,0,0,0.15)",absolutePlaceholderParent:"hckui__util__absolutePlaceholderParent",absolutePlaceholderChild:"hckui__util__absolutePlaceholderChild",aspectRatioPadding3_2:"hckui__util__aspectRatioPadding3_2",aspectRatioPadding4_3:"hckui__util__aspectRatioPadding4_3",aspectRatioPadding16_9:"hckui__util__aspectRatioPadding16_9",bgAsphalt:"hckui__util__bgAsphalt",bgFog:"hckui__util__bgFog",bgHackster:"hckui__util__bgHackster",bgHacksterLight4:"hckui__util__bgHacksterLight4",bgWhite:"hckui__util__bgWhite",border:"hckui__util__border",borderBottom:"hckui__util__borderBottom",borderLeft:"hckui__util__borderLeft",borderRadius:"hckui__util__borderRadius",borderRadiusLarge:"hckui__util__borderRadiusLarge",borderRadiusSmall:"hckui__util__borderRadiusSmall",borderTop:"hckui__util__borderTop",boxShadow:"hckui__util__boxShadow",boxShadow2:"hckui__util__boxShadow2",categoryBadge:"hckui__util__categoryBadge",categoryBadgeRectSmall:"hckui__util__categoryBadgeRectSmall",categoryBlueBG:"hckui__util__categoryBlueBG",categoryGrayBG:"hckui__util__categoryGrayBG",categoryGreenBG:"hckui__util__categoryGreenBG",categoryOrangeBG:"hckui__util__categoryOrangeBG",categoryYellowBG:"hckui__util__categoryYellowBG",circle:"hckui__util__circle",displayNone:"hckui__util__displayNone",height100P:"hckui__util__height100P",hidden:"hckui__util__hidden",hr:"hckui__util__hr",cursorPointer:"hckui__util__cursorPointer",disabled:"hckui__util__disabled",overflowFlexHack:"hckui__util__overflowFlexHack",overflowHidden:"hckui__util__overflowHidden",posRelative:"hckui__util__posRelative",statusCircleGreen:"hckui__util__statusCircleGreen",statusCircleGold:"hckui__util__statusCircleGold",statusCircleRed:"hckui__util__statusCircleRed",ulReset:"hckui__util__ulReset"}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){console.error.apply(console,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findIndex=function(e,t){if(!Array.isArray(e)||"function"!=typeof t)return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1},t.getFirstString=function(e){return(0,n.isAString)(e)?e:Array.isArray(e)&&(0,n.isAString)(e[0])?e[0]:null},t.getInObj=function(e,t){return t?e.reduce(function(e,t){return e&&e.hasOwnProperty(t)?e[t]:null},t):null},t.getInObjWithPrototypeAccess=function(e,t){return t?e.reduce(function(e,t){return e&&t in e?e[t]:null},t):null},t.getIdOrUuid=function(e){return e.id||e.uuid||null},t.pluckIfMatch=function(e,t,r,n){return e.reduce(function(e,a){return a[r]===n?e.concat(a[t]):e},[])};var n=r(11)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(1)),o=i(r(3));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.className,r=e.name,a=e.onClick,i=e.size,l=e.style,u=o.default["icon".concat(i)];return n.default.createElement("svg",{className:"".concat(o.default.icon," ").concat(u," ").concat(t),onClick:a,style:l},n.default.createElement("use",{xlinkHref:"#svg-".concat(r)}))};l.propTypes={className:a.default.string,name:a.default.string.isRequired,onClick:a.default.func,size:a.default.oneOfType([a.default.number,a.default.string]),style:a.default.object},l.defaultProps={className:"",onClick:function(){},size:"",style:{}};var u=l;t.default=u},function(e,t,r){e.exports={asphalt:"#D8D8D8",asphaltDisabled:"#F3F3F3",asphaltHover:"#BABABA",charcoal:"#111",error:"#D0021B",errorHover:"#A60115",graphite:"#4A4A4A",hackster:"#2E9FE6",hacksterHover:"#1B7DBB",lake:"#075B8B",lakeDisabled:"#B5CEDC",ocean:"#16425B",pebble:"#767676",jumbo:"hckui__buttons__jumbo",lg:"hckui__buttons__lg",md:"hckui__buttons__md",sm:"hckui__buttons__sm",xs:"hckui__buttons__xs",disabled:"hckui__buttons__disabled",jumboInner:"hckui__buttons__jumboInner",jumboIcon:"hckui__buttons__jumboIcon",danger:"hckui__buttons__danger",secondary:"hckui__buttons__secondary",tertiary:"hckui__buttons__tertiary",outline:"hckui__buttons__outline",outlineBlack:"hckui__buttons__outlineBlack",outlineBlue:"hckui__buttons__outlineBlue",blank:"hckui__buttons__blank",cancel:"hckui__buttons__cancel",dropdown:"hckui__buttons__dropdown",flatLeft:"hckui__buttons__flatLeft",group:"hckui__buttons__group",icon:"hckui__buttons__icon",inputPairedRight:"hckui__buttons__inputPairedRight",pill:"hckui__buttons__pill"}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isSignedInUser=t.isObjectWithLength=t.isObject=t.isNumber=t.isBlank=t.isAString=t.isAFunction=void 0;t.isAFunction=function(e){return"function"==typeof e};t.isAString=function(e){return"string"==typeof e};var a=function(e){return null==e||"string"==typeof e&&""===e.trim()||Array.isArray(e)&&0===e.length||"object"===n(e)&&0===Object.keys(e).length};t.isBlank=a;t.isNumber=function(e){return!a(e)&&"number"==typeof e};var o=function(e){return null!==e&&(!Array.isArray(e)&&"object"===n(e))};t.isObject=o;t.isObjectWithLength=function(e){return!!o(e)&&Object.keys(e).length>0};t.isSignedInUser=function(e){var t=parseInt(e&&e.id);return!isNaN(t)&&t>0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.documentExists=u,t.getNavigator=function(){return"undefined"==typeof navigator?null:navigator},t.documentHeight=function(){return document.documentElement.scrollHeight},t.doesBodyHaveUserId=g,t.getUserIdFromBody=function(){return g()?document.body.getAttribute("data-user-signed-in"):null},t.doesWindowLocationHaveParam=function(e){return!!s.hasValue()&&(0,n.mapifyStringQuery)(s.get().slice(1)).hasOwnProperty(e)},t.doesWindowExistWithProperty=function(e){return!(!window||!window[e])},t.getDocumentProperty=function(e){if(!u()||!document[e])return;return document[e]},t.getWindow=function(){return a?window:{}},t.getWindowProperty=function(e){if(!window||!window[e])return;return window[e]},t.getDocumentFunction=function(e){if(!u()||"function"!=typeof document[e])return;return document[e].bind(document)},t.setDocumentCookie=function(e){document.cookie=e,document.cookie="path=/"},t.reloadDocumentLocation=function(){document.location.reload()},t.windowLocationRedirect=function(e){window.location=e},t.windowLocationReload=function(e){window.location.reload(e)},t.windowScrollTo=function(e,t){window.scrollTo(e,t)},t.windowDPR=function(){return window.devicePixelRatio||1},t.windowInnerWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},t.windowInnerHeight=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},t.windowPageYOffset=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop},t.windowPageXOffset=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft},t.windowSetTimeout=function(e,t){return window.setTimeout(e,t)},t.windowLocationProtocol=t.windowLocationPort=t.windowLocationPathname=t.windowLocationOrigin=t.windowLocationHostname=t.windowLocationHref=t.windowLocationHash=t.windowLocationSearch=t.isWindowDefined=void 0;var n=r(44),a="undefined"!=typeof window;function o(e){return window.location[e]}function i(e){return window.location.hasOwnProperty(e)&&window.location[e].length>0}function l(e){return{get:function(){return o(e)},hasValue:function(){return i(e)}}}function u(){return"undefined"!=typeof document}t.isWindowDefined=a;var s=l("search");t.windowLocationSearch=s;var c=l("hash");t.windowLocationHash=c;var d=Object.assign({},l("href"),{removeHash:function(){return i("hash")?o("href").split("#")[0]:o("href")}});t.windowLocationHref=d;var f=l("hostname");t.windowLocationHostname=f;var p=l("origin");t.windowLocationOrigin=p;var m=l("pathname");t.windowLocationPathname=m;var h=l("port");t.windowLocationPort=h;var y=l("protocol");function g(){return!(!u()||!document.body)&&document.body.hasAttribute("data-user-signed-in")}t.windowLocationProtocol=y},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.graphQuery=l,t.graphQueryWithUser=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(e,t,!0)},t.graphQueryWithUserNoSigninDialog=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(e,t,!0,!0,!1)},t.graphMutate=u,t.graphMutateWithoutUser=function(e,t){return u(e,t,!1)};var n=o(r(35)),a=o(r(40));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return new Promise(function(u,s){var c="object"===i(e)?{t:e.t,variables:t}:{q:e,variables:t};return a.default.apiRequest(n.default.post("".concat(a.default.getApiPath(),"/graphql/query")).type("form").send({json_data:JSON.stringify(c)}),r,o,l).then(function(e){return e.errors?s(e):u(e&&e.hasOwnProperty("data")?e.data:e||{})}).catch(function(e){return s(e)})})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise(function(o,l){var u="object"===i(e)?{t:e.t,variables:t}:{q:e,variables:t};return a.default.apiRequest(n.default.post("".concat(a.default.getApiPath(),"/graphql/mutate")).type("form").send({json_data:JSON.stringify(u)}),r).then(function(e){return e.errors?l(e):o(e&&e.hasOwnProperty("data")?e.data:e||{})}).catch(function(e){return l(e)})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(1)),o=i(r(10));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=function(e){var t=e.children,r=e.className,a=e.colorStyle,i=e.disabled,u=e.onClick,s=e.onKeyDown,c=e.size,d=e.style,f=e.type,p=e.buttonProps,m="".concat(o.default[c]," ").concat(o.default[a]," ").concat(r);return n.default.createElement("button",l({className:m,disabled:i,onClick:u,onKeyDown:s,style:d,type:f},p),t)};u.propTypes={buttonProps:a.default.object,className:a.default.string,colorStyle:a.default.oneOf(["","secondary","tertiary","outline","outlineBlack","outlineBlue","blank","cancel","danger"]),disabled:a.default.bool,onClick:a.default.func,onKeyDown:a.default.func,size:a.default.oneOf(["sm","md","lg","jumbo"]),style:a.default.object,type:a.default.oneOf(["button","submit","reset"])},u.defaultProps={buttonProps:{},className:"",colorStyle:"",disabled:!1,onKeyDown:function(){},onClick:function(){},size:"md",style:{},type:"button"};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalOffsetLabel=function(){return(0,a.default)().format("Z")},t.dateInputValueFromParts=function(e){var t=e.day,r=e.month,n=e.year,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l="".concat(n,"-").concat(r,"-").concat(t);return(0,a.default)(l,i,!0).isValid()?l:o},t.datetimeLocalValueToUTCTimestamp=function(e){return c(e).utc().toISOString()},t.datetimeLocalValueIsValid=function(e){return c(e).isValid()},t.datetimeLocalValueIsInFuture=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,a.default)().diff(c(e,t))<0},t.datetimeLocalValueIsInPast=function(e){return(0,a.default)().diff(c(e))>0},t.timeInputValueFromParts=function(e,t){var r=e.ampm,n=e.hour,o=e.minute,i=(0,a.default)("".concat(n,":").concat(o).concat(r),"hh:mma",!0);return i.isValid()?i.format(a.default.HTML5_FMT.TIME):t},t.durationToSeconds=function(e){var t=e.split(":");return 3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2])},t.timeFromNow=function(e){return(0,a.default)(e).fromNow()},t.timeFromNowUnix=function(e){return a.default.unix(e).fromNow()},t.timeNowUnixSeconds=function(){return(0,a.default)().unix()},t.timeIsPast=function(e){return new Date(e).valueOf()<new Date(Date.now()).valueOf()},t.timeIsFuture=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(e=e.replace("Z",""));return new Date(e).valueOf()>new Date(Date.now()).valueOf()},t.secondsToDuration=function(e){var t=Math.floor(e/3600),r=e-3600*t,n=Math.floor(r/60),a=r-60*n;return"".concat(s(t),":").concat(s(n),":").concat(s(a))},t.timestampToPrettyDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;try{var o=a.default.utc(e);return o.isValid()?r?o.local().format(t):o.format(t):n}catch(e){return n}},t.timeToUTC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-DD";return!e||e&&!e.length?e:a.default.utc(e,t).format(r)},t.formatTimestampPreserveTZ=function(e,t){return a.default.parseZone(e).format(t)},t.pad=t.YEAR_ONLY_FORMAT=t.VERBOSE_DATE_FORMAT=t.NEWS_SCHEDULED_FORMAT=t.EVENT_DATE_FORMAT=t.DATE_FORMAT=t.DATE_AT_TIME_FORMAT=t.TIME_INPUT_FORMAT=t.DATE_INPUT_FORMAT=t.DATETIME_LOCAL_INPUT_FORMAT=t.CONTEST_DATE_FORMAT=t.CONTEST_DATE_AT_TIME_FORMAT=void 0;var n,a=(n=r(6))&&n.__esModule?n:{default:n};t.CONTEST_DATE_AT_TIME_FORMAT="MMMM D, YYYY [at] h:mmA [PT]";t.CONTEST_DATE_FORMAT="MMM D, YYYY";var o=a.default.HTML5_FMT.DATETIME_LOCAL;t.DATETIME_LOCAL_INPUT_FORMAT=o;var i=a.default.HTML5_FMT.DATE;t.DATE_INPUT_FORMAT=i;var l=a.default.HTML5_FMT.TIME;t.TIME_INPUT_FORMAT=l;t.DATE_AT_TIME_FORMAT="dddd, MMMM D YYYY [at] h:mma";var u="MMM DD, YYYY";t.DATE_FORMAT=u;t.EVENT_DATE_FORMAT="MMM D";t.NEWS_SCHEDULED_FORMAT="MMM DD, YYYY, h:mma";t.VERBOSE_DATE_FORMAT="dddd MMM Do, YYYY";t.YEAR_ONLY_FORMAT="YYYY";var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";return e.toString().length<=1?"".concat(t).concat(e):e};function c(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,a.default)(e,o,t)}t.pad=s},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeGlobalPopover=function(){window.dispatchEvent(new CustomEvent("close:GlobalPopover",{detail:{},bubbles:!0,cancelable:!0}))},t.dispatchEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.dispatchEvent(new CustomEvent(e,{detail:t}))},t.summonGlobalMessenger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.dispatchEvent(new CustomEvent("react:messenger",{detail:e,bubbles:!0,cancelable:!0}))},t.summonGlobalDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.dispatchEvent(new CustomEvent(n,{detail:e,bubbles:!0,cancelable:!0}))},t.summonGlobalPopover=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.dispatchEvent(new CustomEvent("open:GlobalPopover",{detail:e,bubbles:!0,cancelable:!0}))},t.summonLoginPanel=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).detail,t=void 0===e?{}:e;window.dispatchEvent(new CustomEvent("open:SigninDialog",{detail:t,bubbles:!0,cancelable:!0}))},t.SUMMON_GLOBAL_DIALOG=void 0;var n="open:GlobalDialog";t.SUMMON_GLOBAL_DIALOG=n},,function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.capitalize=function(e){return e&&0!==e.length?"".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1).toLowerCase()):""},t.escapeDoubleQuotes=function(e){return e.replace(/"/g,'\\"')},t.firstCharUpperCase=function(e){return e&&e.length?"".concat(e.substr(0,1).toUpperCase()).concat(e.substr(1)):""},t.formatNumberLimit4Chars=function(e){var t=parseInt(e).toString();if(e<1e3)return t;var r=Math.floor((t.length-1)/3),n=e/Math.pow(10,3*r),a=["","K","M","B","T"][r];return n<10?n%1==0?"".concat(n).concat(a):"".concat(n.toString().substr(0,3)).concat(a):"".concat(parseInt(n)).concat(a)},t.formatNumberWithCommas=function(e){return parseInt(e).toString().split("").reverse().reduce(function(e,t,r){return r%3==0&&0!==r?[t,","].concat(n(e)):[t].concat(n(e))},[]).join("")},t.pluralize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.length?1===t?e:"".concat(e).concat(r?"'":"","s"):""},t.stripExcessWhiteSpace=function(e){return e&&e.length?e.trim().replace(/\s+/g," "):""},t.truncateString=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!e||e&&!e.length?"":"".concat(e.substring(0,t)).concat(r&&e.length>t?"...":"")},t.unsnakeString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.split("_").join(" ");return t?t(r):r}},function(e,t,r){e.exports={asphalt:"#D8D8D8",charcoal:"#111",error:"hckui__inputs__error",errorBG:"#FFF3F2",fog:"#F7F7F7",graphite:"#4A4A4A",hackster:"#2E9FE6",pebble:"#767676",warning:"hckui__inputs__warning",white:"#FFF",formGroup:"hckui__inputs__formGroup",inputWrapper:"hckui__inputs__inputWrapper",label:"hckui__inputs__label",labelDisabled:"hckui__inputs__labelDisabled",msgWrapper:"hckui__inputs__msgWrapper",charCount:"hckui__inputs__charCount",help:"hckui__inputs__help",formError:"hckui__inputs__formError",input:"hckui__inputs__input",number:"hckui__inputs__number",textarea:"hckui__inputs__textarea",sm:"hckui__inputs__sm",inputError:"hckui__inputs__inputError",inputFocus:"hckui__inputs__inputFocus",halfWidth:"hckui__inputs__halfWidth",openRight:"hckui__inputs__openRight",hiddenInput:"hckui__inputs__hiddenInput",radioButton:"hckui__inputs__radioButton",radioGroup:"hckui__inputs__radioGroup",radioButtonContainer:"hckui__inputs__radioButtonContainer",radioButtonError:"hckui__inputs__radioButtonError",radioGroupWrapper:"hckui__inputs__radioGroupWrapper",textareaAutosize:"hckui__inputs__textareaAutosize",textareaPreview:"hckui__inputs__textareaPreview"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(440)),a=i(r(7)),o=i(r(1554));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=new(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=s(this,c(t).call(this)))._lastPageViewURL=e._initLastPageViewURL(),e}var r,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n["default"]),r=t,(i=[{key:"_initLastPageViewURL",value:function(){return o.default.indexOf(this._getPageType())>-1?null:this._getCurrentURL()}},{key:"_getCurrentURL",value:function(){return"undefined"==typeof window?null:window&&window.location?window.location.toString():null}},{key:"reportEvent",value:function(e,t){return this.recordEvent(e,t).then(function(){}).catch(function(e){return(0,a.default)("reportEvent: ",e)})}},{key:"reportEventWithObj",value:function(e){var t=e.customProps,r=e.event;this.reportEvent(r,t)}},{key:"reportEventWithDelayedRedirectWithObj",value:function(e,t,r){var n=e.customProps,a=e.event;this.recordEventWithDelayedRedirect(a,n,t,r)}},{key:"reportVirtualPageView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.referrer||this._lastPageViewURL;return this._lastPageViewURL=this._getCurrentURL(),this.recordPageView(Object.assign({},e,{referrer:t})).then(function(){}).catch(function(e){return(0,a.default)("MainKeenService reportPageView: ",e)})}}])&&u(r.prototype,i),l&&u(r,l),t}());t.default=f},,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("object"!==("undefined"==typeof window?"undefined":a(window))||"object"!==("undefined"==typeof document?"undefined":a(document))||void 0===document.querySelectorAll||void 0===window.pageYOffset||void 0===history.pushState)return;var l=o===window?function(e,t,r){var n=r?window.pageXOffset:window.pageYOffset,a=r?window.pageYOffset:window.pageXOffset,o="number"==typeof e?parseInt(e):function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top";return"HTML"===e.nodeName?-t:e.getBoundingClientRect()[r]+t}(e,n,r?"left":"top");return{action:r?function(e){return window.scroll(e,a)}:function(e){return window.scroll(a,e)},start:n,end:o}}(e,0,i):function(e,t,r,n){var a=n?"scrollLeft":"scrollTop",o=n?"left":"top",i=r[a],l="number"==typeof e?parseInt(e):e.getBoundingClientRect()[o]+r[a];return{action:function(e){r[a]=e},start:i,end:l}}(e,0,o,i),u=l.action,s=l.start,c=l.end,d=Date.now();!function e(t){var r=t.start,a=t.end,o=t.clock,i=t.duration,l=t.action,u=t.callback,s=t.target;var c=Date.now()-o;l(function(e,t,r,n){return r>n?t:e+(t-e)*function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}(r/n)}(r,a,c,i));c>i?"function"==typeof u&&u(s):(0,n.requestAnimationFrame)(function(){return e({start:r,end:a,clock:o,duration:i,action:l,callback:u,target:s})})}({start:s,end:c,clock:d,duration:t,action:u,callback:r,target:e})};var n=r(733);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(308)),i=d(r(107)),l=d(r(1534)),u=r(155),s=r(12),c=d(r(156));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?h(n):a).state={initStyles:{height:(0,u.getHeight)(e.ratio,e.width),width:e.width},fadeIn:!1,format:null,src:""},r.errorHandler=r.errorHandler.bind(h(r)),r.fetchImage=r.fetchImage.bind(h(r)),r.loadHandler=r.loadHandler.bind(h(r)),r._clearTimeout,r._isMounted,r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._clearTimeout&&this._clearTimeout(),this._isMounted=!1}},{key:"errorHandler",value:function(e){this.state.format===u.VIDEO?this._setStateIfMounted({format:u.IMG}):this._setStateIfMounted({fadeIn:!1,format:null,src:""})}},{key:"fetchImage",value:function(){var e=this.props,t=e.fit,r=e.queryParams,n=e.ratio,a=e.src,o=e.width,i=(0,u.processURL)({fit:t,queryParams:Object.assign({},r,{dpr:(0,s.windowDPR)()}),ratio:n,src:a,width:o});this.setState({fetched:!0,format:i.format,src:i.src})}},{key:"loadHandler",value:function(){var e=this;this._clearTimeout=(0,l.default)(function(){return e._revealImage()},17)}},{key:"_getStyle",value:function(){return this.props.setStyle?this.state.initStyles:{}}},{key:"_revealImage",value:function(){this._setStateIfMounted({fadeIn:!0}),this._clearTimeout=null,this.props.onLoad()}},{key:"_setStateIfMounted",value:function(e,t){this._isMounted&&this.setState(e,t)}},{key:"render",value:function(){var e=this.props,t=e.alt,r=e.classList,a=e.className,l=e.loadBuffer,u=e.onClick,s=e.onMouseLeave,d=e.onMouseOver;return n.default.createElement(i.default,{className:"".concat(a," ").concat(r.root," ").concat(c.default.root),onClick:u,horizontalOffset:l,onMouseLeave:s,onMouseOver:d,onReveal:this.fetchImage,style:this._getStyle(),verticalOffset:l},!!this.state.src&&n.default.createElement(o.default,{className:"".concat(c.default.image," ").concat(r.image," ").concat(this.state.fadeIn?c.default.fadeIn:""),alt:t,format:this.state.format,onError:this.errorHandler,onLoad:this.loadHandler,src:this.state.src}))}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={alt:a.default.string,captureScroll:a.default.bool,classList:a.default.shape({image:a.default.string,wrapper:a.default.string,root:a.default.string}),className:a.default.string,fit:a.default.string,loadBuffer:a.default.number,onClick:a.default.func,onLoad:a.default.func,onMouseLeave:a.default.func,onMouseOver:a.default.func,queryParams:a.default.object,ratio:a.default.string.isRequired,setStyle:a.default.bool,src:a.default.string,width:a.default.number.isRequired},g.defaultProps={alt:"",classList:{},className:"",loadBuffer:0,fit:"min",onClick:function(){},onLoad:function(){},onMouseLeave:function(){},onMouseOver:function(){},queryParams:{},setStyle:!0,src:""};var _=g;t.default=_},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(729)),i=u(r(730)),l=u(r(21));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){switch(e.element){case"textarea":return function(e){return n.default.createElement(o.default,{autoFocus:e.autoFocus,className:"".concat(l.default.textarea," ").concat(l.default.textareaAutosize," ").concat(e.classList.textarea," ").concat(e.errors?l.default.inputError:""),disabled:e.disabled,id:c(e),name:e.name,onChange:e.onChange,placeholder:e.placeholder,rows:"3",type:"text",value:e.value})}(e);case"duration":return n.default.createElement(i.default,e);default:return function(e){return n.default.createElement("input",{autoFocus:e.autoFocus,className:"".concat(l.default.input," ").concat(e.classList.input?e.classList.input:""," ").concat(e.errors?l.default.inputError:""),disabled:e.disabled,id:c(e),name:e.name,onChange:e.onChange,placeholder:e.placeholder,type:e.type,value:e.value})}(e)}},c=function(e){var t=e.id,r=e.label,n=e.name;return t||[r,n].filter(function(e){return e&&""!==e}).join("_").toLowerCase().replace(/[^a-z0-9]/g,"_")},d=function(e){var t=e.classList,r=(e.element,e.errors),a=e.errorsView,o=e.charCount,i=e.helperText,u=e.maxVal,s=e.msgView,c=e.value,d=e.warningText;return"function"==typeof s?s({errors:r,value:c,maxVal:u}):n.default.createElement("div",{className:l.default.msgWrapper},n.default.createElement("div",null,function(e,t){return e?"function"==typeof t?t({errors:e}):n.default.createElement("div",{className:l.default.error},e):null}(r,a),i&&n.default.createElement("div",{className:"".concat(l.default.help," ").concat(t.help)},i),d&&n.default.createElement("div",{className:l.default.warning},d)),function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"You forgot to pass a maxVal prop!";return"number"==typeof e||e?"function"==typeof e?e({value:t,maxVal:r}):n.default.createElement("div",{className:"".concat(l.default.charCount," ").concat(t.length>r?l.default.error:"")},"".concat(t.length,"/").concat(r)):null}(o,c,u))},f=function(e){return n.default.createElement("div",{className:"".concat(l.default.inputWrapper," ").concat(e.classList.root)},e.label&&n.default.createElement("label",{className:"".concat(l.default.label," ").concat(e.classList.label?e.classList.label:""),htmlFor:c(e)},e.label),s(e),d(e))};f.propTypes={autoFocus:a.default.bool,charCount:a.default.oneOfType([a.default.number,a.default.func]),classList:a.default.shape({root:a.default.string,help:a.default.string,input:a.default.string,label:a.default.string,textarea:a.default.string}),disabled:a.default.bool,element:a.default.string,errors:a.default.string,errorsView:a.default.func,helperText:a.default.node,id:a.default.string,label:a.default.string,maxVal:a.default.number,msgView:a.default.func,name:a.default.string,onChange:a.default.func.isRequired,placeholder:a.default.string,type:a.default.string,value:a.default.oneOfType([a.default.number,a.default.string]).isRequired,warningText:a.default.string},f.defaultProps={autoFocus:!1,charCount:null,classList:{root:"",help:"",input:"",label:"",textarea:""},disabled:!1,element:"input",errors:null,errorsView:null,helperText:null,id:null,label:null,maxVal:null,name:null,msgView:null,placeholder:"",type:"text",warningText:null};var p=f;t.default=p},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(35),a=s(r(7)),o=r(12),i=r(18),l=r(8),u=s(r(1435));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){var t=new n.Request(e.method,e.url);return t._query=e._query,t.header=e.header,t._header=e._header,t._data=e._data,t}var f=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialized=!1,this.cachedApiPath=null,this.callbackQueueForNonPromises=[],this.requestQueue=[],this.requestQueueWorking=!1,this.userIdFromDom=null,this.Tokens=new u.default,this.apiRequest=this.apiRequest.bind(this),this.clearApiTokens=this.clearApiTokens.bind(this),this.getApiPath=this.getApiPath.bind(this),this.getApiToken=this.getApiToken.bind(this),this.processApiRequestError=this.processApiRequestError.bind(this)}var t,r,n;return t=e,(r=[{key:"_initialize",value:function(){this.initialized=!0,this.userIdFromDom=this._fetchUserIdFromDOMBody(),this.Tokens.initialized||this.Tokens._initialize()}},{key:"_cacheRequest",value:function(e,t,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.requestQueue.push({request:e,resolve:t,reject:r,resolver:n,tokenType:a,attempts:o})}},{key:"_createRequestResolver",value:function(e,t,r,n){var a=this;return function(o,i,l,u){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return d(e).query({bearer_token:o}).then(function(e){return l(r?Object.assign({},e.body,{token:o}):e)}).catch(function(r){var o=r&&r.status&&r.status>=400&&r.status<=500;return!a.userIdFromDom&&s>=1&&o?l({}):a.userIdFromDom&&s>=1&&o?u(r):s>=2?u(r):void a._recoverFailedRequest(e,l,u,i,s,t,n)})}}},{key:"_fetchTokens",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.Tokens.fetchTokens(e,t)}},{key:"_fetchUserIdFromDOMBody",value:function(){return document&&document.body.getAttribute("data-user-signed-in")||null}},{key:"_handleTokens",value:function(e,t,r){return e.hasOwnProperty("user_token")?this._resolveRequestQueue(e):t&&r?this._summonLoginPanel(t):t?this._handleUnresolvedUserRequests():this._resolveRequestsForTokenType(e.client_token,"client")}},{key:"_handleUnresolvedUserRequests",value:function(){this.userIdFromDom?this._resolveRequestsForTokenType(null,"user"):this._resolveUserPromisesForUnresolvedRequests()}},{key:"_recoverFailedRequest",value:function(e,t,r,n,a,o,i){var l=this;return this.Tokens.deleteTokens(),this._cacheRequest(e,t,r,n,this.Tokens.getTokenType(o),a+=1),this._fetchTokens(o).then(function(e){return l._handleTokens(e,o,i)}).catch(function(e){return r(e)})}},{key:"_reFetchTokensAfterLogin",value:function(e,t){return this._initialize(),this.userIdFromDom&&parseInt(this.userIdFromDom,10)===parseInt(t,10)?this._fetchTokens(e,!0).catch(function(e){return(0,a.default)("_reFetchTokensAfterLogin Error",e)}):(0,o.reloadDocumentLocation)()}},{key:"_resolveCallbacksForGetApiToken",value:function(e){var t=this,r=e.hasOwnProperty("user_token"),n=r?e.user_token:e.client_token||null;this.callbackQueueForNonPromises=this.callbackQueueForNonPromises.filter(function(e){return e.userOnly&&r||!1===e.userOnly?(e.callback(n),!1):e.attempts<2?(t.getApiToken.call(t,e.callback,e.userOnly,e.attempts+=1),!1):(e.callback(null),!1)})}},{key:"_resolveRequestQueue",value:function(e){var t=this;this.requestQueueWorking||(this.requestQueueWorking=!0,this.requestQueue=this.requestQueue.filter(function(r){return r.resolver.call(t,e.user_token,r.resolver,r.resolve,r.reject,r.attempts),!1}),this.requestQueueWorking=!1)}},{key:"_resolveRequestsForTokenType",value:function(e,t){var r=this;this.requestQueue=this.requestQueue.filter(function(n){return n.tokenType!==t||(n.resolver.call(r,e,n.resolver,n.resolve,n.reject,n.attempts),!1)})}},{key:"_resolveUserPromisesForUnresolvedRequests",value:function(){this.requestQueue=this.requestQueue.filter(function(e){return"user"!==e.tokenType||(e.resolve({unresolved:!0}),!1)})}},{key:"_summonLoginPanel",value:function(e){(0,i.summonLoginPanel)({detail:{callback:this._reFetchTokensAfterLogin.bind(this,e),redirect_to:null}}),this._resolveUserPromisesForUnresolvedRequests()}},{key:"apiRequest",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new Promise(function(o,i){t.initialized||t._initialize();var l=t.Tokens.getTokenType(r),u=t._createRequestResolver(e,r,n,a);return t._cacheRequest(e,o,i,u,l,0),t._fetchTokens(r).then(function(e){return t._handleTokens(e,r,a)}).catch(function(e){return i(e)})})}},{key:"clearApiTokens",value:function(){this.Tokens.deleteTokens()}},{key:"getApiPath",value:function(){if("string"==typeof this.cachedApiPath)return this.cachedApiPath;if((0,o.doesWindowExistWithProperty)("location")){var e=o.windowLocationProtocol.get(),t=o.windowLocationPort.get(),r=document.getElementById("api-uri"),n=r&&r.content&&t&&t.length?"".concat(e,"//").concat(r.content,":").concat(t):r&&r.content?"".concat(e,"//").concat(r.content):(0,a.default)("OAuthService getApiPath expects a meta tag with an id of api-uri");return"string"==typeof n&&(this.cachedApiPath=n),n}}},{key:"getApiToken",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.callbackQueueForNonPromises.push({callback:e,userOnly:r,attempts:n}),this._fetchTokens(r).then(function(e){return t._resolveCallbacksForGetApiToken(e)}).catch(function(e){return t._resolveCallbacksForGetApiToken({})})}},{key:"processApiRequestError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.getInObj)(["response","body","errors"],e)||e}}])&&c(t.prototype,r),n&&c(t,n),e}());t.default=f},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=r(58),i=c(r(725)),l=c(r(436)),u=c(r(306)),s=c(r(1519));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).state={open:e.open},r.dismiss=r.dismiss.bind(m(r)),r.dismissOnClick=r.dismissOnClick.bind(m(r)),r.onKeyDown=r.onKeyDown.bind(m(r)),r.dataRef=i.default.v4(),r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),this.state.open&&this._noScrollClassHandler(!0)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.open!==this.state.open&&this.setState({open:e.open},function(){return t._noScrollClassHandler(e.open)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown),1===document.querySelectorAll("[data-nested-dialog]").length&&document.body.classList.contains("no-scroll")&&document.body.classList.remove("no-scroll")}},{key:"onKeyDown",value:function(e){if(this.state.open&&27===e.keyCode){if(document&&document.activeElement){var t=e.target,r=t&&t.getAttribute("data-react-type"),n=r&&"input"===r;if(t.nodeName&&["input","textarea"].includes(t.nodeName.toLowerCase())||n)return}var a=document.querySelectorAll("[data-nested-dialog]");if(1===a.length)return this._dismissByDataRef(a[0]);var o=[].slice.call(a).reduce(function(e,t){var r=JSON.parse(e.getAttribute("data-nested-dialog")),n=JSON.parse(t.getAttribute("data-nested-dialog"));return parseInt(n[0],10)>parseInt(r[0],10)?t:e},[].slice.call(a).shift());this._dismissByDataRef(o)}}},{key:"dismiss",value:function(){this.props.dismiss(),this._noScrollClassHandler(!1),this.setState({open:!1})}},{key:"dismissOnClick",value:function(e){e.target&&e.target.getAttribute("data-ref")&&e.target.getAttribute("data-ref")===this.dataRef&&this.dismiss()}},{key:"_dismissByDataRef",value:function(e){JSON.parse(e.getAttribute("data-nested-dialog"))[1]===this.dataRef&&this.dismiss()}},{key:"_noScrollClassHandler",value:function(e){e&&!document.body.classList.contains("no-scroll")?document.body.classList.add("no-scroll"):!e&&document.querySelectorAll("[data-nested-dialog]").length<=1&&document.body.classList.contains("no-scroll")&&document.body.classList.remove("no-scroll")}},{key:"_getTitle",value:function(e,t,r){return e&&n.default.isValidElement(e)?e:e&&"string"==typeof e?this._buildTitle({style:t,styles:r,title:e}):null}},{key:"_buildTitle",value:function(e){var t=e.style,r=e.styles,a=e.title;return n.default.createElement("div",null,n.default.createElement("h4",{style:t,className:r.title},a))}},{key:"_renderChildren",value:function(e){var t=e.children,r=e.dataRef;return t?"function"==typeof t.type?n.default.cloneElement(t,{dialogRef:r}):t:null}},{key:"render",value:function(){var e=this.props,t=e.actions,r=e.actionsContainerStyle,a=e.bodyClassName,i=e.bodyStyle,u=e.children,c=e.className,d=e.dismissClassName,f=e.dismissStyle,p=e.enableCloseButton,m=e.fullScreen,h=e.message,y=e.nestedDialogLevel,g=e.style,_=e.theme,v=e.title,b=e.titleStyle,O=e.transition,w=e.wrapperClassName,E=e.wrapperStyle,P=s.default[_];return n.default.createElement(o.TransitionGroup,{appear:!0},this.state.open&&n.default.createElement(o.CSSTransition,{classNames:O,timeout:250},n.default.createElement("div",{style:g,className:"".concat(P.dialog," ").concat(c),"data-ref":this.dataRef,"data-nested-dialog":JSON.stringify([y,this.dataRef]),onClick:this.dismissOnClick},n.default.createElement("div",{style:E,className:"".concat(this.state.open?P.wrapper:""," ").concat(w," ").concat(m?P.fullScreen:"")},p&&n.default.createElement(l.default,{className:"".concat(P.dismiss," ").concat(d),fullscreen:m,onClick:this.dismiss,style:f}),this._getTitle(v,b,P),n.default.createElement("div",{className:a,style:i},this._renderChildren({children:u,dataRef:this.dataRef})),n.default.createElement("div",null,t&&Array.isArray(t)&&t.length>0&&n.default.createElement("div",{style:r,className:P.actions},n.default.Children.toArray(t)),h)))))}}])&&f(r.prototype,a),u&&f(r,u),t}();y.propTypes={actions:a.default.array,actionsContainerStyle:a.default.object,bodyClassName:a.default.string,bodyStyle:a.default.object,className:a.default.string,dismiss:a.default.func,dismissClassName:a.default.string,enableCloseButton:a.default.bool,fullScreen:a.default.bool,message:a.default.element,nestedDialogLevel:a.default.number,open:a.default.bool,style:a.default.object,theme:a.default.string,title:a.default.oneOfType([a.default.string,a.default.element]),transition:a.default.object,wrapperClassName:a.default.string,wrapperStyle:a.default.object},y.defaultProps={actions:[],actionsContainerStyle:{},bodyClassName:"",bodyStyle:{},className:"",dismiss:function(){},dismissClassName:"",enableCloseButton:!0,fullScreen:!1,message:null,open:!1,nestedDialogLevel:0,style:{},theme:"light",transition:u.default,wrapperClassName:"",wrapperStyle:{}};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.agreeTo=function(e,t,r){return!0===(t||function(e){return e})(e)?null:r||"You must agree to these terms."},t.imageV=function(e){return["id","url"].every(function(t){return e&&e.hasOwnProperty(t)})?null:"A valid image is required."},t.isEmail=function(e,t){return e&&e.length&&!(0,n.isEmail)(e)?t||"Is not a valid email address.":null},t.isCreditCard=function(e){return(0,n.isCreditCard)(e)?null:"Please enter a valid credit card."},t.isCVV=function(e){var t=e.toString();return 3===t.length&&(0,n.isDecimal)(t)?null:"Must be a three digit number."},t.isDatetimeLocalValueValid=function(e){return(0,a.datetimeLocalValueIsValid)(e)?null:"Please enter a valid date and time"},t.isDatetimeLocalValueInFuture=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e&&e.length&&!(0,a.datetimeLocalValueIsInFuture)(e,t)?"Date must be in the future":null},t.isDatetimeLocalValueInPast=function(e){return(0,a.datetimeLocalValueIsInPast)(e)?null:"Date must be in the past"},t.isDecimal=function(e){return e.length?(0,n.isDecimal)(String(e))?null:"Please use only numbers, one decimal and no spaces in this field.":null},t.isDraftsterEmpty=function(e){if(e.every(function(e){return"CE"===e.type&&"<p></p>"===e.html}))return"Please complete this required field.";return null},t.isFullYear=function(e){var t=e.toString();return 4===t.length&&(0,n.isDecimal)(t)?null:"Invalid year."},t.isInt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Please use numbers only (no decimal).";if("number"==typeof e)return Number.isInteger(e)?null:t;if("string"==typeof e)return/^\d+$/.test(e)?null:t;return t},t.isRequired=l,t.isUrl=u,t.isUrlIfDefined=function(e){return!e||e&&!e.length?null:u(e)},t.isUrlWithProtocol=function(e){return(0,n.isURL)(e,{require_protocol:!0})?null:"Enter a valid url, http or https is required."},t.isValidEmbedUrl=function(e){return Object.keys(i.VIDEO_EMBED_REGEXS).reduce(function(t,r){return t||!!e.match(i.VIDEO_EMBED_REGEXS[r])},!1)?null:"Enter a valid youtube or facebook video url."},t.isValidImageFile=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e&&(0,o.isImageMIMEType)(e.type)?!t&&(0,o.isGif)(e.type)?"Sorry, GIFs are not allowed":null:"Sorry, that's not a valid image."},t.maxLength=function(e,t,r){var n="string"==typeof t?"character":"item";return t.length&&t.length>e?r||"Maximum ".concat(e," ").concat(n,"s, ").concat(n," count (").concat(t.length,")."):null},t.minLength=function(e,t){return t.length&&t.length<e?"Must be at least ".concat(e," characters."):null},t.minValue=function(e,t){return null!==t&&parseInt(t)<e?"Must be at least ".concat(e,"."):null},t.objectKeysAllRequired=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&Object.keys(e).reduce(function(t,r){return t||l(e[r])},null)},t.optionIsRequired=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e&&String(e).length&&"NaN"!==e?null:t||"Please choose one option."};var n=r(49),a=r(16),o=r(246),i=r(448);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Please complete this required field.";return null===e?t:"string"==typeof e?e.length>0&&"NaN"!==e?null:t:"number"==typeof e?e&&"NaN"!==e?null:t:e&&String(e).length&&"NaN"!==e?null:t}function u(e){return(0,n.isURL)(e)?null:"Enter a valid url."}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},t.flattenArrayOfObjectsToObject=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return!(0,n.isBlank)(e)};return e.reduce(function(e,n){return n.hasOwnProperty(t)&&n.hasOwnProperty(r)?("function"==typeof a&&a(n)&&(e[n[t]]=n[r]),e):e},{})},t.flattenObjToArray=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce(function(r,a){return(0,n.isObject)(t[a])?r.concat(e(t[a])):r.concat(t[a])},[])},t.listToBoolMap=function(e){return e&&e.length?e.reduce(function(e,t){return Object.assign({},e,a({},t,!0))},{}):{}},t.listToMapByProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return e&&e.length?e.reduce(function(e,r){return Object.assign({},e,a({},r[t],r))},{}):{}},t.mapifyStringQuery=function(e){if(!e||!e.length)return{};"?"===e.substring(0,1)&&(e=e.substring(1));return e.split("&").reduce(function(e,t){if(!t||!t.length)return e;var r=t.split("=");return e[r[0]]=decodeURIComponent(r[1]),e},{})},t.mapToStringQuery=function(e){return Object.keys(e).reduce(function(t,r){return(0,n.isBlank)(e[r])?t:(0,n.isObject)(e[r])?t.concat("".concat(r,"=").concat(encodeURIComponent(JSON.stringify(e[r])))):t.concat("".concat(r,"=").concat(encodeURIComponent(e[r])))},[]).join("&")},t.transformObjValues=function(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=t(e[n],n),r},{})};var n=r(11);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterObject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return!(0,n.isBlank)(e)},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.keys(e).reduce(function(n,a){var o=e[a];return r.includes(a)?n[a]=o:"function"==typeof t&&t(o,a)&&(n[a]=o),n},{})},t.pluckAndReduce=function(e,t){return e.reduce(function(e,r){return r&&r.hasOwnProperty(t)?e.concat(r[t]):e},[])},t.removeFromObject=function(e,t){return Object.keys(e).reduce(function(r,n){return("string"==typeof t&&n!==t||Array.isArray(t)&&!t.includes(n))&&(r[n]=e[n]),r},{})};var n=r(11)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(107)),i=r(155),l=r(12),u=c(r(5)),s=c(r(156));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).state={initStyles:{height:(0,i.getHeight)(e.ratio,e.width),width:e.width},fadeIn:!1,src:""},r.fetchImage=r.fetchImage.bind(m(r)),r.handleError=r.handleError.bind(m(r)),r.handleLoad=r.handleLoad.bind(m(r)),r._isMounted,r._shadowImg,r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._shadowImg=null}},{key:"fetchImage",value:function(){var e=this.props,t=e.fit,r=e.queryParams,n=e.ratio,a=e.src,o=e.width,u=(0,i.processURL)({fit:t,forceImg:!0,queryParams:Object.assign({},r,{dpr:(0,l.windowDPR)()}),ratio:n,src:a,width:o});this._shadowLoad(u.src),this.setState({src:u.src})}},{key:"handleError",value:function(e){this._setStateIfMounted({fadeIn:!1,src:""})}},{key:"handleLoad",value:function(){this._setStateIfMounted({fadeIn:!0}),this._shadowImg=null}},{key:"_getStyle",value:function(){return this.props.setStyle?this.state.initStyles:{}}},{key:"_setStateIfMounted",value:function(e,t){this._isMounted&&this.setState(e,t)}},{key:"_shadowLoad",value:function(e){this._shadowImg=new Image,this._shadowImg.onload=this.handleLoad,this._shadowImg.onerror=this.handleError,this._shadowImg.src=e}},{key:"render",value:function(){var e=this.props,t=e.alt,r=e.classList,a=e.loadBuffer,i=e.onClick,l=e.onMouseLeave,c=e.onMouseOver;return n.default.createElement(o.default,{className:"".concat(r.root," ").concat(s.default.root),onClick:i,horizontalOffset:a,onMouseLeave:l,onMouseOver:c,onReveal:this.fetchImage,style:this._getStyle(),verticalOffset:a},n.default.createElement("div",{className:"".concat(r.image," ").concat(s.default.imageBG," ").concat(u.default.absolutePlaceholderChild," ").concat(this.state.fadeIn?s.default.fadeIn:""),style:this.state.src?{backgroundImage:'url("'.concat(this.state.src,'")')}:null,title:t}))}}])&&f(r.prototype,a),c&&f(r,c),t}();y.propTypes={classList:a.default.shape({image:a.default.string,root:a.default.string}),fit:a.default.string,loadBuffer:a.default.number,onClick:a.default.func,onMouseLeave:a.default.func,onMouseOver:a.default.func,queryParams:a.default.object,ratio:a.default.string.isRequired,setStyle:a.default.bool,src:a.default.string,width:a.default.number.isRequired},y.defaultProps={alt:"",classList:{},className:"",loadBuffer:0,fit:"min",onClick:function(){},onMouseLeave:function(){},onMouseOver:function(){},queryParams:{},setStyle:!0,src:""};var g=y;t.default=g},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(41),a=r(196),o=r(14),i=u(r(429)),l=u(r(239));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=new n.Map({}),f=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.batch=new i.default,this.initialized=!1,this.isFetching=!1,this.channel=l.default.channel("currentUser")}var t,r,u;return t=e,(r=[{key:"__initialize",value:function(){var e=this;return this.isFetching=!0,(0,o.graphQueryWithUserNoSigninDialog)((0,a.getCurrentUser)()).then(function(t){return e.initialized=!0,e.isFetching=!1,t&&t.user&&(d=d.merge((0,n.fromJS)(t.user))),Promise.resolve({})}).catch(function(e){return Promise.reject(e)})}},{key:"fetchPermissions",value:function(e){var t=this;return new Promise(function(r,n){var i=e.reduce(function(e,r){var n=Object.keys(r)[0];return t.hasIn([n,r[n].key])?e.permissionsToResolve[n]=s({},r[n].key,t.getIn([n,r[n].key])):e.permissionsToFetch.push(r[n].ql),e},{permissionsToFetch:[],permissionsToResolve:{}}),l=i.permissionsToFetch,u=i.permissionsToResolve;return l.length?(0,o.graphQueryWithUserNoSigninDialog)((0,a.getCurrentUserProperty)(l.join(" "))).then(function(n){var a=n.user;if(!a)return r({});var o=Object.keys(a).reduce(function(r,n){var o=e.find(function(e){return Object.keys(e)[0]===n});return o&&(r[n]=s({},o[n].key,a[n]),t.setIn([n,o[n].key],a[n])),r},{});r(Object.assign({},u,o))}).catch(function(e){return n(e)}):r(u)})}},{key:"fetchProperty",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(n,i){if(t.has(e))return n(t.get(e));var l="string"==typeof r?r:e;return(0,o.graphQueryWithUserNoSigninDialog)((0,a.getCurrentUserProperty)(l)).then(function(r){r&&r.user&&r.user[e]?(t.set(e,r.user[e]),n(r.user[e])):n({})}).catch(function(e){return i(e)})})}},{key:"fetchProperties",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,i){var l=e.filter(function(e){return!t.has(e)});if(0===l.length)return n(t.getProperties(e));var u=l.map(function(e){return r.hasOwnProperty(e)?"".concat(e).concat(r[e]):e});return(0,o.graphQueryWithUserNoSigninDialog)((0,a.getCurrentUserProperties)(u)).then(function(r){if(!r||!r.user)return n({});Object.keys(r.user).forEach(function(e){t.set(e,r.user[e])}),n(t.getProperties(e))}).catch(function(e){return i(e)})})}},{key:"get",value:function(e){return d.get(e)}},{key:"getProperties",value:function(e){var t=this;return e.reduce(function(e,r){return t.has(r)?Object.assign({},e,s({},r,t.get(r))):e},{})}},{key:"getChannel",value:function(){return this.channel}},{key:"getId",value:function(){return this.get("id")}},{key:"getIn",value:function(e){return d.getIn(e)}},{key:"getStore",value:function(){return d.toJS()}},{key:"getAsync",value:function(e){var t=this;return new Promise(function(r,n){return t.getStoreAsync().then(function(){return t.has(e)?r(t.get(e)):r(null)}).catch(function(e){return n(e)})})}},{key:"getStoreAsync",value:function(){var e=this;return new Promise(function(t,r){return e.has("id")?t(e.getStore()):(e.batch.cachePromise({resolve:t,reject:r}),e.isFetching?void 0:e.__initialize().then(function(){return e.batch.resolveBatch(e.getStore())}).catch(function(t){return e.batch.rejectBatch(t)}))})}},{key:"has",value:function(e){return d.has(e)}},{key:"hasIn",value:function(e){return d.hasIn(e)}},{key:"set",value:function(e,t){d=d.set(e,t)}},{key:"setIn",value:function(e,t){d=d.setIn(e,t)}},{key:"_getOnboardingAsBool",value:function(){var e=this.getIn(["onboarding_progress",0]);return"boolean"==typeof e&&e}},{key:"getCurrentOnboardingStatus",value:function(){var e=this;return new Promise(function(t,r){return e.getStoreAsync().then(function(){return t(e._getOnboardingAsBool())}).catch(function(e){return r(e)})})}},{key:"completeOnboarding",value:function(){var e=this;return new Promise(function(t,r){return(0,o.graphMutate)((0,a.onboardingProgressMutation)(),{complete:!0}).then(function(){e.setIn(["onboarding_progress",0],!0),t()}).catch(function(e){return r(e)})})}},{key:"__refresh__",value:function(){d=new n.Map({}),this.batch=new i.default,this.initialized=!1,this.isFetching=!1,this.channel=l.default.channel("currentUser")}},{key:"__getCurrentUser__",value:function(){return d}},{key:"__setCurrentUser__",value:function(e){d=e}}])&&c(t.prototype,r),u&&c(t,u),e}());t.default=f},,function(e,t,r){e.exports={asphalt:"#D8D8D8",fog:"#F7F7F7",hackster:"#2E9FE6",body:"cards__body__3yUOQ",card:"cards__card__nIkNU",cardBody:"cards__cardBody__2Se_o",cardWithBorder:"cards__cardWithBorder__X_vK9 cards__card__nIkNU",corner:"cards__corner__1e9eH",icon:"cards__icon__2vk0z",lazyImage:"cards__lazyImage__2l9WG",spacer:"cards__spacer__7dinJ",stat:"cards__stat__1EnZj",stats:"cards__stats__29EsN",title:"cards__title__1kNED",wrapper:"cards__wrapper__ybxCu",dummyText:"cards__dummyText__18wTq",dummyTextS:"cards__dummyTextS__3QoTA cards__dummyText__18wTq",dummyTextM:"cards__dummyTextM__2BFD6 cards__dummyText__18wTq",dummyTextL:"cards__dummyTextL__1_yKf cards__dummyText__18wTq"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(175);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rootPath="/"}var t,r,o;return t=e,(r=[{key:"setRootPath",value:function(e){this._rootPath=e}},{key:"url",value:function(e){return null==e?e:"/"===e||"javascript:void(0);"===e?e:this._hasProtocol(e)?e:"/"===this._rootPath?"/".concat((0,n.cleanPreAndPostSlashes)(e)):"".concat(this._rootPath,"/").concat((0,n.cleanPreAndPostSlashes)(e))}},{key:"_hasProtocol",value:function(e){return e.includes("http://")||e.includes("https://")}}])&&a(t.prototype,r),o&&a(t,o),e}());t.default=o},function(e,t,r){e.exports={med:"(max-width: 768px)",small:"(max-width: 480px)",fog:"#F7F7F7",standardBorder:"1px solid #D8D8D8",largeBorderRadius:"8px",container:"hckui__forms__container",container675:"hckui__forms__container675",nestedFogContainer:"hckui__forms__nestedFogContainer",panel:"hckui__forms__panel",panelHeader:"hckui__forms__panelHeader",panelInner:"hckui__forms__panelInner"}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.socialLinks=t.NOOP_HREF=t.adFAQLink=void 0;t.adFAQLink="http://help.hackster.io/knowledgebase/what-are-these-ads";t.NOOP_HREF="javascript:void(0);";t.socialLinks={facebook:"https://www.facebook.com/hacksterio",instagram:"https://www.instagram.com/hacksterio",linkedin:"https://www.linkedin.com/company/hacksterio",twitter:"https://twitter.com/Hacksterio",youtube:"https://www.youtube.com/hacksterio"}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(9)),i=u(r(203)),l=u(r(2));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.classList,r=e.color,a=e.direction,u=e.href,s=e.onClick,c=e.size,d=e.text;return n.default.createElement("div",{className:t.root?t.root:l.default.marginBottom30},n.default.createElement(i.default,{className:t.link,bold:!0,color:r,href:u,onClick:s,size:c},n.default.createElement("span",{className:l.default.flexCenterItems},"left"===a&&n.default.createElement(o.default,{className:l.default.marginRight15,name:"arrow-left",size:12}),n.default.createElement("span",{className:t.text},d),"right"===a&&n.default.createElement(o.default,{className:l.default.marginLeft15,name:"arrow-right",size:12}))))};s.propTypes={classList:a.default.shape({link:a.default.string,root:a.default.string,text:a.default.string}),color:a.default.oneOf(["","Blue","Charcoal","Pebble"]),direction:a.default.string,href:a.default.string,onClick:a.default.func,size:a.default.oneOf(["S","M","L"]),text:a.default.string},s.defaultProps={classList:{link:"",root:null,text:""},color:"",direction:"left",href:"",onClick:function(){},size:"S",text:""};var c=s;t.default=c},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchLocationFilterArgs=t.getSearchFilterArgs=t.getUpdatePostArgs=t.getDeletePostArgs=t.getCreatePostArgs=t.getDeleteEventArgs=t.getCreateEventArgs=t.getDeleteContestRegistrationArgs=t.getCreateContestRegistrationArgs=t.getCreateContestIdeaArgs=t.getCreateContestEntryArgs=t.getUpdateCommentArgs=t.getDeleteCommentArgs=t.getCreateCommentArgs=t.getOpenedBookmarkMenuArgs=t.getDeleteBookmarkListArgs=t.getCreateBookmarkListArgs=t.getDeleteBookmarkArgs=t.getCreateBookmarkArgs=t.getViewedAdArgs=t.getClickedAdArgs=t.getClickedViewAllSectionArgs=t.getClickedViewMoreArgs=t.getClickedMenuItemArgs=t.getClickedLinkArgs=t.getClickedButtonArgs=t.getClickedFilterArgs=void 0;var n=r(117),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{customProps:e,event:{eventName:t}}};t.getClickedFilterArgs=function(e,t){return{customProps:{filter_name:e,filter_value:t},event:{eventName:"Clicked filter value"}}};t.getClickedButtonArgs=function(e,t){return{customProps:{entity_type:e.entity_type,entity_id:e.entity_id,location:e.location,type:e.type,value:e.value||(0,n.getEventTargetText)(t)},event:{eventName:"Clicked button"}}};t.getClickedLinkArgs=function(e,t){var r=e.entity_type,a=e.entity_id,o=e.href,i=e.location,l=e.type,u=e.value;return{customProps:{entity_type:r,entity_id:a,href:o||(0,n.getEventTargetHref)(t),location:i,type:l,value:u||(0,n.getEventTargetText)(t)},event:{eventName:"Clicked link"}}};t.getClickedMenuItemArgs=function(e){return{customProps:{entity_id:e.entity_id,entity_type:e.entity_type,value:e.value},event:{eventName:"Clicked menu item"}}};t.getClickedViewMoreArgs=function(e){return{customProps:{entity_id:e.entity_id,entity_type:e.entity_type},event:{eventName:"Clicked view more"}}};t.getClickedViewAllSectionArgs=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{customProps:{item:r,section:{key:e.key,index:t,value:e.value}},event:{eventName:"Clicked view all section",pageType:n}}};t.getClickedAdArgs=function(e){var t=e.id;return a({id:t},"Ad clicked")};t.getViewedAdArgs=function(e){var t=e.blocked,r=e.id;return a({blocked:t,id:r},"Ad viewed")};t.getCreateBookmarkArgs=function(e){var t=e.id,r=e.widget_src;return a({id:t,widget_src:r},"Created bookmark")};t.getDeleteBookmarkArgs=function(e){var t=e.id,r=e.widget_src;return a({id:t,widget_src:r},"Deleted bookmark")};t.getCreateBookmarkListArgs=function(e){var t=e.id,r=e.widget_src;return a({id:t,widget_src:r},"Created bookmark list")};t.getDeleteBookmarkListArgs=function(e){var t=e.id,r=e.widget_src;return a({id:t,widget_src:r},"Deleted bookmark list")};t.getOpenedBookmarkMenuArgs=function(e){var t=e.project_id,r=e.widget_src;return a({project_id:t,widget_src:r},"Opened bookmark menu")};t.getCreateCommentArgs=function(e){var t=e.id,r=e.is_reply;return a({comment_id:t,is_reply:r},"Created comment")};t.getDeleteCommentArgs=function(e){var t=e.id,r=e.is_reply;return a({comment_id:t,is_reply:r},"Deleted comment")};t.getUpdateCommentArgs=function(e){var t=e.id,r=e.is_reply;return a({comment_id:t,is_reply:r},"Updated comment")};t.getCreateContestEntryArgs=function(e){var t=e.id,r=e.project_id;return a({entity_id:t,entity_type:"Challenge",project_id:r},"Submitted project to contest")};t.getCreateContestIdeaArgs=function(e){var t=e.id,r=e.idea_id;return a({entity_id:t,entity_type:"Challenge",idea_id:r},"Submitted idea to contest")};t.getCreateContestRegistrationArgs=function(e){var t=e.id;return a({entity_id:t,entity_type:"Challenge"},"Registered for contest")};t.getDeleteContestRegistrationArgs=function(e){var t=e.id;return a({entity_id:t,entity_type:"Challenge"},"Unregistered for contest")};t.getCreateEventArgs=function(e,t){return{customProps:{id:e,event_type:t},event:{eventName:"Created event"}}};t.getDeleteEventArgs=function(e,t){return{customProps:{id:e,event_type:t},event:{eventName:"Deleted event"}}};t.getCreatePostArgs=function(e,t){return a({post_id:e,category:t},"Created post")};t.getDeletePostArgs=function(e,t){return a({post_id:e,category:t},"Deleted post")};t.getUpdatePostArgs=function(e,t){return a({post_id:e,category:t},"Updated post")};t.getSearchFilterArgs=function(e){return{customProps:{query:e},event:{eventName:"Search filter"}}};t.getSearchLocationFilterArgs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{customProps:e,event:{eventName:"Search location filter"}}}},function(e,t,r){"use strict";var n;function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getEntityType=function(e){return o[e]},t.NEWS_PROMO_BANNER=t.PROJECT_CARD=t.NEWS_ARTICLE_CARD=t.EVENT_CARD=void 0;t.EVENT_CARD="event_card";t.NEWS_ARTICLE_CARD="news_article_card";t.PROJECT_CARD="project_card";t.NEWS_PROMO_BANNER="news_promo_banner";var o=(a(n={},"event_card","Event"),a(n,"news_article_card","NewsArticle"),a(n,"project_card","Project"),n)},,,function(e,t,r){e.exports={small:"(max-width: 480px)","small-min":"(min-width: 481px)","med-min":"(min-width: 769px)","med-large-min":"(min-width: 993px)",standardBorder:"1px solid #D8D8D8",grid:"hckui__grid__grid",cell:"hckui__grid__cell",guttersH10:"hckui__grid__guttersH10",guttersV10:"hckui__grid__guttersV10",guttersH15:"hckui__grid__guttersH15",guttersV15:"hckui__grid__guttersV15",guttersH30:"hckui__grid__guttersH30",guttersV30:"hckui__grid__guttersV30",guttersH60:"hckui__grid__guttersH60",guttersV60:"hckui__grid__guttersV60",cell_1_4:"hckui__grid__cell_1_4",cell_1_3:"hckui__grid__cell_1_3",cell_1_2:"hckui__grid__cell_1_2",cell_1:"hckui__grid__cell_1",cell_1_4_sm:"hckui__grid__cell_1_4_sm",cell_1_3_sm:"hckui__grid__cell_1_3_sm",cell_1_2_sm:"hckui__grid__cell_1_2_sm",cell_1_sm:"hckui__grid__cell_1_sm",guttersH30_sm:"hckui__grid__guttersH30_sm",guttersV30_sm:"hckui__grid__guttersV30_sm",guttersH60_sm:"hckui__grid__guttersH60_sm",guttersV60_sm:"hckui__grid__guttersV60_sm",cell_1_4_md:"hckui__grid__cell_1_4_md",cell_1_3_md:"hckui__grid__cell_1_3_md",cell_1_2_md:"hckui__grid__cell_1_2_md",cell_1_md:"hckui__grid__cell_1_md",cell_1_4_ml:"hckui__grid__cell_1_4_ml",cell_1_3_ml:"hckui__grid__cell_1_3_ml",cell_1_2_ml:"hckui__grid__cell_1_2_ml",cell_1_ml:"hckui__grid__cell_1_ml",hScrollSm:"hckui__grid__hScrollSm"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelablePromise=function(e){var t=!1;return{promise:new Promise(function(r,n){return e.then(function(e){e=e||{},r(t?Object.assign({},e,{promiseCanceled:!0}):e)}).catch(function(e){e=e||{},n(t?Object.assign({},e,{promiseCanceled:!0}):e)})}),cancel:function(){t=!0}}},t.reflectPromise=function(e){return e.then(function(e){return{data:e,status:"resolved"}}).catch(function(e){return{err:e,status:"rejected"}})},t.setTimeoutPromise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(a,o){return setTimeout(function(){if(!t)return a(n);"function"==typeof t&&t()?a(n):o(r)},e)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(572)),i=l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.className,r=e.size;return n.default.createElement("svg",{className:"".concat(o.default.ringSpinner," ").concat(i.default["icon"+r]," ").concat(t),viewBox:"25 25 50 50"},n.default.createElement("circle",{cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"}))};u.propTypes={className:a.default.string,size:a.default.oneOfType([a.default.number,a.default.string])},u.defaultProps={className:"",size:"fill"};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doesObjectPropsMatch=function(e,t,r){return!(!e||!t)&&(!(!e.hasOwnProperty(r)||!t.hasOwnProperty(r))&&e[r]===t[r])},t.doesRecordsMatch=function(e,t){if(e.hasOwnProperty("id")&&t.hasOwnProperty("id"))return e.id===t.id;if(e.hasOwnProperty("uuid")&&t.hasOwnProperty("uuid"))return e.uuid===t.uuid;return!1},t.doesStringsMatch=o,t.doesValuesMatch=function(e,t){return"number"!=typeof e&&"string"!=typeof e||"number"!=typeof t&&"string"!=typeof t?e===t:o(e.toString(),t.toString())},t.objHasKeyPred=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!1},a=Array.isArray(t)?t:[t],o=(0,n.getInObj)(a,e);return null!==o&&r(o)},t.objHasPropertyOfLength=function(e,t){return(0,a.isObject)(e)&&e.hasOwnProperty(t)&&!!e[t]&&e[t].length>0},t.objHasPropertyWithValue=function(e,t){return!!e&&(e&&e.hasOwnProperty(t)&&e[t]&&!(0,a.isBlank)(e[t]))};var n=r(8),a=r(11);function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"string"==typeof e&&"string"==typeof t&&(r?e===t:e.toLowerCase()===t.toLowerCase())}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arePathsEqual=l,t.cleanPreAndPostSlashes=c,t.getPath=function(e){return e.location.pathname},t.transition=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};l(e.location.pathname,t)||e.push({pathname:t,state:Object.assign({prompt:r},n)})},t.transitionWithSearch=function(e){var t=e.history,r=e.path,n=e.search,a=e.prompt,o=void 0!==a&&a,i=e.state,u=void 0===i?{}:i;l(t.location.pathname,r)||t.push({pathname:r,search:n,state:Object.assign({prompt:o},u)})},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return o.isWindowDefined&&i()?(0,n.createBrowserHistory)({basename:e}):(0,n.createMemoryHistory)({initialEntries:s(e,t),initialIndex:0})},t.createSimpleHistory=function(e){return o.isWindowDefined&&i()?(0,n.createBrowserHistory)({basename:e}):(0,n.createMemoryHistory)({initialEntries:u(e),initialIndex:0})};var n=r(2548),a=r(175),o=r(12);function i(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function l(e,t){var r=c(t).split("/"),n=c(e).split("/");if(r.length!==n.length)return!1;var a=!0;return n.forEach(function(e,t,n){!1!==a&&(a="*"===e||e===r[t])}),a}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(o.isWindowDefined&&window.location)return[c(window.location.pathname.slice(e.length))];var r=t.split("?")[1];return[{pathname:"/",search:r&&r.length?"?".concat(r):""}]}function s(e,t){return u(e,t)}function c(e){return(0,a.cleanPreAndPostSlashes)(e)}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=r(250),i=r(60),l=r(61),u=s(r(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d={rel:"noopener noreferrer",target:"_blank"},f=function(e){var t=e.e,r=e.item,n=e.itemIndex,a=e.linkType,u=e.location,s=e.overrideTracking,c=e.shouldDelayRedirect,d=function(e,t,r,n){return{entity_id:e.id,entity_type:(0,l.getEntityType)(t),href:e.url,location:r,type:t,value:n}}(r,a,u,e.value);if("function"==typeof s){var f=(0,i.getClickedLinkArgs)(d,t);s(t,{},{id:r.id,index:n,type:a},[f])}else!function(e,t,r,n){t?(0,o.fireClickedLinkAnalyticsWithRedirect)(e,r,n):(0,o.fireClickedLinkAnalytics)(e,n)}(d,c,r.url,t)},p=function(e){var t=e.className,r=e.customAttributes,a=e.isExternal,o=e.item,i=e.itemIndex,l=e.linkType,s=e.children,p=e.location,m=e.overrideTracking,h=e.shouldDelayRedirect,y=e.style,g=e.value;return n.default.createElement("a",c({className:"".concat(u.default.link," ").concat(t),onClick:function(e){return f({e:e,item:o,itemIndex:i,linkType:l,location:p,overrideTracking:m,shouldDelayRedirect:h,value:g})},href:o.url,style:y},function(e,t){var r=e?d:{};return Object.assign({},r,t)}(a,r)),s)};p.propTypes={className:a.default.string,customAttributes:a.default.object,isExternal:a.default.bool,item:a.default.shape({id:a.default.oneOfType([a.default.string,a.default.number]),url:a.default.string.isRequired}).isRequired,itemIndex:a.default.number,linkType:a.default.string.isRequired,location:a.default.string,overrideTracking:a.default.func,shouldDelayRedirect:a.default.bool,style:a.default.object,value:a.default.string},p.defaultProps={className:"",customAttributes:{},isExternal:!1,itemIndex:null,location:"",overrideTracking:null,shouldDelayRedirect:!1,style:null,value:""};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorHelperView=function(e,t,r){return a.default.createElement("div",{className:o.default.msgWrapper},a.default.createElement("div",null,l(e,t,r)))},t.getErrorHelperViewWithoutWrapper=l,t.getFormErrorView=function(e){return!(0,i.isBlank)(e)&&a.default.createElement("div",{className:o.default.formError},e)};var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=(n=r(21))&&n.__esModule?n:{default:n},i=r(11);function l(e,t,r){return a.default.createElement(a.Fragment,null,!(0,i.isBlank)(e)&&a.default.createElement("div",{className:o.default.error},e),(0,i.isBlank)(e)&&!(0,i.isBlank)(r)&&a.default.createElement("div",{className:o.default.warning},r),!(0,i.isBlank)(t)&&a.default.createElement("div",{className:o.default.help},t))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=r(207),i=u(r(206)),l=u(r(327));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e,t){var r=t.index,n=t.props;return e.slice(0,r).concat([n]).concat(e.slice(r))},f=function(e,t){return null!==t&&e===t.index},p=function(e){var t=e.isLoading,r=e.placeholder,a=e.validationFn,u=s(e,["isLoading","placeholder","validationFn"]);return n.default.createElement("div",{className:l.default.parent},a({isLoading:t,records:u.records})?function(e){var t=e.DummyComponent,r=e.ItemComponent,a=e.className,l=e.injectableConfig,u=e.gutterSize,s=e.horizontal,p=e.isLoading,m=e.itemKey,h=e.itemProps,y=e.loadingIndicator,g=e.maxCols,_=e.records,v=(0,i.default)(s,g,u),b=null!==l&&_.length>0?d(_,l):_;return n.default.createElement("div",{className:"".concat(v.grid," ").concat(a)},b.map(function(e,t){var a,o=Object.assign({},h,(c(a={},m,e),c(a,"itemIndex",t),a));return n.default.createElement("div",{key:l?t:e.hid||e.id||t,className:v.cell},f(t,l)?n.default.createElement(l.component,e):n.default.createElement(r,o))}),p&&"dummy"===y&&(0,o.getDummyCells)(t,g,v.cell))}(Object.assign({isLoading:t},u)):function(e,t){return"function"==typeof e?e(t):e}(r,u),t&&"overlay"===u.loadingIndicator&&n.default.createElement("div",{className:l.default.overlay}))};p.propTypes={DummyComponent:a.default.func,ItemComponent:a.default.func,className:a.default.string,gutterSize:a.default.number,horizontal:a.default.bool,injectableConfig:a.default.shape({component:a.default.func,index:a.default.number,props:a.default.shape({ad:a.default.object,initialized:a.default.bool})}),isLoading:a.default.bool,itemKey:a.default.string,itemProps:a.default.object,loadingIndicator:a.default.oneOf(["overlay","dummy"]),maxCols:a.default.number,placeholder:a.default.oneOfType([a.default.element,a.default.func,a.default.string]),records:a.default.array,validationFn:a.default.func},p.defaultProps={DummyComponent:function(){return null},ItemComponent:function(){return null},className:"",injectableConfig:null,gutterSize:15,horizontal:!1,itemKey:"item",itemProps:{},isLoading:!1,loadingIndicator:"overlay",maxCols:4,placeholder:"No results",records:[],validationFn:function(e){return e.records.length>0}};var m=p;t.default=m},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adTypeEnumToHuman=t.adRegionEnumToHumanAbbr=t.adRegionEnumToLabel=t.REGIONS=t.NEWS_HOME_PAGE=t.HOME_PAGE=t.NEWS_PAGE_HERO=t.NEWS_GALLERY=t.HOME_PAGE_BANNER=t.CONTENT_PAGE=t.BETA=void 0;t.BETA="BETA";t.CONTENT_PAGE="CONTENT_PAGE";t.HOME_PAGE_BANNER="HOME_PAGE_BANNER";t.NEWS_GALLERY="NEWS_GALLERY";t.NEWS_PAGE_HERO="NEWS_PAGE_HERO";t.HOME_PAGE="HOME_PAGE";t.NEWS_HOME_PAGE="NEWS_HOME_PAGE";var n={AFRICA:"Africa",ASIA:"Asia",AUSTRALIA:"Australia",EUROPE:"Europe",NORTH_AMERICA:"North America",SOUTH_AMERICA:"South America",UNITED_STATES:"United States"},a=Object.keys(n).map(function(e){return{label:n[e],value:e}});t.REGIONS=a;t.adRegionEnumToLabel=function(e){return n.hasOwnProperty(e)?n[e]:(console.warn("Ad enumToLabel recieved an unknown enum: ".concat(e,".")),null)};t.adRegionEnumToHumanAbbr=function(e){switch(e){case"AFRICA":return"AF";case"ASIA":return"AS";case"AUSTRALIA":return"AU";case"EUROPE":return"EU";case"NORTH_AMERICA":return"NA";case"SOUTH_AMERICA":return"SA";case"UNITED_STATES":return"US";default:return""}};t.adTypeEnumToHuman=function(e){switch(e){case"BETA":return"Beta";case"CONTENT_PAGE":return"Content page";case"HOME_PAGE_BANNER":return"Home page banner";case"NEWS_GALLERY":return"News gallery";case"NEWS_PAGE_HERO":return"News page hero";default:return"Unknown, contact dev!"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(1)),a=u(r(0)),o=u(r(2032)),i=u(r(51)),l=u(r(2033));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=function(e){var t=e.classList,r=e.content,n=e.label,u=e.type,c=e.isProfileOwner,d=e.templateArgs,f=Object.assign({},l.default,t);function p(e,t){return e.map(function(e,r){return function(e,t,r,n){var o=t.link,l=t.text,u=t.bySegmentIdx;return"object"===s(e)&&null!==e?a.default.createElement("a",{key:r,className:"".concat(o," ").concat(u),href:i.default.url(e.href)},e.text):a.default.createElement("span",{key:r,className:"".concat(l," ").concat(u)},e)}(e,function(e,t){var r=f.labelSegments,n=f.placeholderSegments;return"label"===e?{link:f.labelLink,text:f.label,bySegmentIdx:r&&r[t]||""}:{link:f.placeholderLink,text:f.placeholderText,bySegmentIdx:n&&r[t]||""}}(t,r),"".concat(t,"-segment-").concat(r))})}return a.default.createElement("div",{className:f.container},p(n,"label"),a.default.createElement("div",{className:f.content},p((0,o.default)(c,u,d)||r,"placeholder")))};c.propTypes={classList:n.default.shape({container:n.default.string,content:n.default.string,label:n.default.string,labelLink:n.default.string,placeholderText:n.default.string,placeholderLink:n.default.string,labelSegments:n.default.object,placeholderSegments:n.default.object}),content:n.default.array,isProfileOwner:n.default.bool,label:n.default.array,templateArgs:n.default.object,type:n.default.string},c.defaultProps={classList:{},content:[],isProfileOwner:!1,label:[],templateArgs:{},type:""};var d=c;t.default=d},,function(e,t,r){e.exports={asphalt:"#D8D8D8",charcoal:"#111",error:"#D0021B",fog:"#F7F7F7",graphite:"#4A4A4A",hackster:"#2E9FE6",pebble:"#767676",body:"hckui__table__body",cell:"hckui__table__cell",disabled:"hckui__table__disabled",loadingOverlay:"hckui__table__loadingOverlay",noContent:"hckui__table__noContent",row:"hckui__table__row",table:"hckui__table__table",tableControlsWrapper:"hckui__table__tableControlsWrapper",deleteBtn:"hckui__table__deleteBtn",editBtn:"hckui__table__editBtn",configMenu:"hckui__table__configMenu",configMenuCog:"hckui__table__configMenuCog",configMenuDropdown:"hckui__table__configMenuDropdown",configMenuTriangle:"hckui__table__configMenuTriangle",selectableCell:"hckui__table__selectableCell",selectableCellBody:"hckui__table__selectableCellBody",selectableCellHighlight:"hckui__table__selectableCellHighlight",selectableCellInner:"hckui__table__selectableCellInner",selectableCellPlaceholder:"hckui__table__selectableCellPlaceholder",thActive:"hckui__table__thActive",title:"hckui__table__title",triangleWrapper:"hckui__table__triangleWrapper",triangle:"hckui__table__triangle",thCell:"hckui__table__thCell",thSelectableCell:"hckui__table__thSelectableCell",thInteractive:"hckui__table__thInteractive",thTitle:"hckui__table__thTitle",thTitleWrapper:"hckui__table__thTitleWrapper",triangleActive:"hckui__table__triangleActive"}},,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollToError=h,t.initFields=y,t.initFieldsForOrderableTemplates=function(e,t,r){return y(f(e,t),r)},t.initFieldsWithOptionalFields=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!r||r&&!r.length)return y(e,t);var a=n.key||"x_field",o=n.insertOptsAtIndex||0,i=n.type||"textarea",l=n.customProps||null;return y(f(e,d(r,a,o,i,l)),t)},t.disableForRequiredFields=function(){var e=this;return Object.keys(this.state.fields).reduce(function(t,r){if(t)return t;var n=e.state.fields[r].hasOwnProperty("notRequired")?null:(0,a.isRequired)(e.state.fields[r].value);return null!==n&&n.length>0},!1)},t.getErrorForField=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.state.errors.hasOwnProperty(e)?this.state.errors[e]:null},t.getFieldValuesAsObject=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.state.fields;return Object.keys(e).reduce(function(t,r){var n=e[r];return n.hasOwnProperty("formatOut")?t=Object.assign({},t,s({},r,n.formatOut(n.value,e))):t[r]=n.value,t},{})},t.setIsBusy=function(e,t){if(e&&this.state.workers.includes(t))return;var r=e?this.state.workers.concat(t):this.state.workers.filter(function(e){return e!==t});this.setState({isBusy:r.length>0,workers:r})},t.setStateOrError=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(null===e){var a=this.state.errors,o=(a[t],c(a,[t].map(u)));this.setState(Object.assign({errors:o,fields:Object.assign({},this.state.fields,s({},t,Object.assign({},this.state.fields[t],{value:r})))},n))}else this.setState(Object.assign({errors:Object.assign({},this.state.errors,s({},t,e)),fields:Object.assign({},this.state.fields,s({},t,Object.assign({},this.state.fields[t],{value:r})))},n))},t.validateFields=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.doScroll,n=void 0===r||r,o=t.validationOverrideMap,i=void 0===o?{}:o,l=this.state.fields,u=Object.keys(l).reduce(function(e,t){var r=l[t],n=r.hasOwnProperty("customRequired")?r.customRequired:a.isRequired,o=m(t,r,n,i).reduce(function(e,t){return null!==e?e:t(r.value)},null);return o&&o.length&&(e[t]=o),e},{});if(Object.keys(u).length){var s=this.hasOwnProperty("__CONTAINER_EL")?this.__CONTAINER_EL:null,c=n?function(){return h(e.state.errors,e.state.fields,s,e._idPrefix||"vf")}:function(){};return this.setState({errors:Object.assign({},this.state.errors,u)},c),!1}return!0};var n,a=r(43),o=r(8),i=(n=r(28))&&n.__esModule?n:{default:n};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x_field",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"textarea",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return e.reduce(function(e,o,i){var l=p(o.id,a),u=l.validation,s=c(l,["validation"]),d=o.hasOwnProperty("required")&&o.required,f=o.label||"",m="".concat(t,"_").concat(o.id);return e[m]=Object.assign({id:o.id,label:d?f:"".concat(f," (optional)").trim(),notRequired:!1===d,order:i+r,validate:u,value:"",name:m,type:n},s),e},{})},f=function(e,t){if(!Object.keys(t).length)return e;var r=Object.keys(e).sort(function(t,r){return e[t].order-e[r].order}),n=Object.keys(t).sort(function(e,r){return t[e].order-t[r].order});return r.slice(0,t[n[0]].order).concat(n).concat(r.slice(t[n[0]].order)).reduce(function(r,n,a){var o=e.hasOwnProperty(n)?e[n]:t[n];return o.order=a,r[n]=o,r},{})},p=function(e,t){var r=function(){return null};if(!t)return{validation:r};var n=(0,o.getInObj)([e,"validation"],t),a=null!==n&&"function"==typeof n?n:r,i=t.hasOwnProperty(e)?t[e]:{};return Object.assign({validation:a},i)},m=function(e,t,r,n){return n.hasOwnProperty(e)?n[e].hasOwnProperty("notRequired")&&!0===n[e].notRequired?[n[e].validate]:[r,n[e].validate]:t.notRequired?[t.validate]:[r,t.validate]};function h(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vf",a=Object.keys(t).sort(function(e,r){return t[e].order-t[r].order}).reduce(function(t,r){return null!==t?t:e.hasOwnProperty(r)?document.getElementById("".concat(n).concat(r)):t},null);if(a){var o=r||window;(0,i.default)(a,200,null,o)}}function y(e,t){return t?Object.keys(e).reduce(function(r,n){return t.hasOwnProperty(n)&&null!==t[n]?r[n]=Object.assign({},e[n],{value:e[n].hasOwnProperty("formatIn")?e[n].formatIn(t[n]):t[n]}):r[n]=e[n],r},{}):e}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(251)),i=s(r(9)),l=r(178),u=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?p(n):a).state={open:!1},r.handleClick=r.handleClick.bind(p(r)),r.handleKeyDown=r.handleKeyDown.bind(p(r)),r}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.PureComponent),r=t,(a=[{key:"__toggleDropdownHook",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._toggleDropdown(e)}},{key:"handleClick",value:function(e){this._toggleDropdown(!this.state.open)}},{key:"handleKeyDown",value:function(e){this.state.open&&e.keyCode===l.ESC&&this._toggleDropdown(!1)}},{key:"_toggleDropdown",value:function(e){this.setState({open:e}),this.props.handleToggle(e)}},{key:"render",value:function(){var e=this.state.open,t=this.props,r=t.classList,a=t.disabled,i=t.targetWillUnmount,l=e&&this.props.labelOpen?this.props.labelOpen:this.props.label;return n.default.createElement("div",{className:"".concat(u.default.posRelative," ").concat(r.wrapper),onKeyDown:this.handleKeyDown},n.default.createElement("button",{className:r.button,"aria-haspopup":"true","aria-expanded":e,disabled:a,onClick:this.handleClick,type:"button"},l),e&&n.default.createElement(o.default,{className:r.dropdown,alignRight:this.props.alignRight,alignTop:this.props.alignTop,dismiss:this.handleClick,elevation:this.props.elevation,onClick:this.props.closeOnSelect?this.handleClick:null,targetWillUnmount:i},this.props.children))}}])&&d(r.prototype,a),i&&d(r,i),t}();h.propTypes={alignRight:a.default.bool,alignTop:a.default.bool,classList:a.default.shape({button:a.default.string,dropdown:a.default.string,wrapper:a.default.string}),closeOnSelect:a.default.bool,elevation:a.default.oneOf([0,1,2]),handleToggle:a.default.func,label:a.default.node,labelOpen:a.default.node,targetWillUnmount:a.default.bool},h.defaultProps={alignRight:!1,alignTop:!1,classList:{button:"",dropdown:"",wrapper:""},closeOnSelect:!1,elevation:1,handleToggle:function(){},label:n.default.createElement(i.default,{name:"arrow-down"}),labelOpen:null,targetWillUnmount:!1};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(0)),a=p(r(1)),o=p(r(7)),i=m(r(1597)),l=p(r(201)),u=p(r(452)),s=r(65),c=r(14),d=r(18),f=p(r(5));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=g(t).call(this,e))||"object"!==h(a)&&"function"!=typeof a?_(n):a).handleClick=r.handleClick.bind(_(r)),r.handleChange=r.handleChange.bind(_(r)),r.state={config:Object.assign({},(0,i.default)(e.type),e.config),currentUser:null,disabled:e.disabled,viewIndex:0},r.updateSub=l.default.getChannel().subscribe("store.changed",r.handleChange),r.activePromise,r}var r,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){return this._handleInitialState((0,i.getStoreKey)(this.props.type))}},{key:"componentDidUpdate",value:function(e,t){this.props.config&&e.config&&this.props.config.label!==e.config.label&&this.setState({config:Object.assign({},t.config,{label:this.props.config.label})})}},{key:"componentWillUnmount",value:function(){this.activePromise&&this.activePromise.cancel(),this.updateSub.unsubscribe()}},{key:"_handleInitialState",value:function(e){var t=this;if(!l.default.has(e))return this.setState({disabled:!0}),this.activePromise=(0,s.cancelablePromise)(l.default.fetchAll()),this.activePromise.promise.then(function(r){t.activePromise=void 0,r.hasOwnProperty("promiseCanceled")||t.setState({currentUser:l.default.has("currentUser")?l.default.get("currentUser"):null,disabled:!1,viewIndex:l.default.hasIn(e,t.props.id)?1:0})}).catch(function(e){t.activePromise=void 0,(0,o.default)("UserRelationButton fetch error:",e),e.hasOwnProperty("promiseCanceled")||t.setState({disabled:!1})});this.setState({currentUser:l.default.has("currentUser")?l.default.get("currentUser"):this.state.currentUser,disabled:!1,viewIndex:l.default.hasIn(e,this.props.id)?1:0})}},{key:"handleChange",value:function(){var e=(0,i.getStoreKey)(this.props.type);l.default.has(e)&&this.setState({disabled:!1,viewIndex:l.default.hasIn(e,this.props.id)?1:0})}},{key:"handleClick",value:function(){this.state.disabled||(l.default.has("currentUser")&&this.state.config.create&&this.state.config.delete?(0===this.state.viewIndex?this._createRelation():this._deleteRelation(),this.props.onClick(0===this.state.viewIndex)):(0,d.summonLoginPanel)({detail:Object.assign({source:this.props.type},this.props.signinEventDetail)}))}},{key:"_createRelation",value:function(){var e=this,t=this.props,r=t.additionalRequestArgs,n=t.id,a=t.source;return this.setState({disabled:!0,viewIndex:1}),this.activePromise=(0,s.cancelablePromise)((0,c.graphMutate)(this.state.config.create(n,r))),this.activePromise.promise.then(function(t){var r=!t.hasOwnProperty("unresolved"),o=!t.hasOwnProperty("promiseCanceled"),s=(0,i.getStoreKey)(e.props.type);r&&((0,u.default)({key:s,id:n,source:a,createOrDeleteBool:!0}),l.default.setIn(s,n)),o&&e.setState({disabled:!1,viewIndex:r?1:0});var c=e.state.config,d=c.dialog,f=c.dialogKey;d&&f&&t[f]&&t[f].dialog&&e._triggerDialog(t[f].dialog)}).catch(function(t){e.props.onClick(!1),e.activePromise=void 0,401!==t.status&&(0,o.default)("_createRelation Error",t),t.hasOwnProperty("promiseCanceled")||e.setState({disabled:!1,viewIndex:0})})}},{key:"_deleteRelation",value:function(){var e=this,t=this.props,r=t.additionalRequestArgs,n=t.id,a=t.source;return this.setState({disabled:!0,viewIndex:0}),this.activePromise=(0,s.cancelablePromise)((0,c.graphMutate)(this.state.config.delete(n,r))),this.activePromise.promise.then(function(t){var r=!t.hasOwnProperty("unresolved"),o=!t.hasOwnProperty("promiseCanceled"),s=(0,i.getStoreKey)(e.props.type);r&&((0,u.default)({key:s,id:n,source:a,createOrDeleteBool:!1}),l.default.deleteIn(s,n)),o&&e.setState({disabled:!1,viewIndex:r?0:1})}).catch(function(t){e.props.onClick(!0),(0,o.default)("_deleteRelation Error",t),t.hasOwnProperty("promiseCanceled")||e.setState({disabled:!1,viewIndex:1})})}},{key:"_shouldDisableBtn",value:function(){return this.props.type.includes("followed_user")&&this.state.currentUser===this.props.id}},{key:"_triggerDialog",value:function(e){window.dispatchEvent(new CustomEvent("open:ReactDialog",{detail:{body:this.state.config.dialog(Object.assign({},e))}}))}},{key:"render",value:function(){var e=this.state,t=e.config,r=e.viewIndex,a=this.props.disableCompletely||this._shouldDisableBtn();return n.default.createElement("button",{className:"".concat(t&&t.className?t.className[r]:""," ").concat(a?f.default.disabled:""),disabled:a,onClick:this.handleClick,type:"button"},t.label[r])}}])&&y(r.prototype,a),p&&y(r,p),t}();b.propTypes={additionalRequestArgs:a.default.object,config:a.default.shape({className:a.default.array,create:a.default.func,delete:a.default.func,dialog:a.default.func,label:a.default.array}),disableCompletely:a.default.bool,disabled:a.default.bool,id:a.default.number.isRequired,onClick:a.default.func,signinEventDetail:a.default.object,source:a.default.string,type:a.default.string.isRequired},b.defaultProps={additionalRequestArgs:{},config:null,disableCompletely:!1,disabled:!1,onClick:function(){},signinEventDetail:{},source:null};var O=b;t.default=O},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.goTo=function(e,t){e.preventDefault(),(0,d.transition)(b,t)},t.initCurrentPath=function(e,t){var r=t.split("/").filter(function(e){return e.length>0}),n=!1;return e.split("?")[0].split("/").reduce(function(e,t,a,o){return t.length>0&&t===r[0]&&(n=!0),!r.includes(t)&&n&&(e=e.concat(t)),a!==o.length-1||e.length?e:["/"]},[]).join("/")},t.isCurrentPath=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",n=(0,f.canUseDOM)()?(0,d.getPath)(e):r;return"/"!==t.href?n.split("/").filter(function(e){return e.length})[0]===(0,d.cleanPreAndPostSlashes)(t.href):"/"===n&&"/"===t.href},Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"getPath",{enumerable:!0,get:function(){return d.getPath}}),Object.defineProperty(t,"transition",{enumerable:!0,get:function(){return d.transition}}),t.default=t.history=void 0;var n=m(r(1)),a=p(r(0)),o=m(r(502)),i=m(r(2006)),l=m(r(2008)),u=m(r(120)),s=m(r(2010)),c=m(r(829)),d=p(r(68)),f=r(243);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b;t.history=b;var O=function(e){function r(e){var n,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),a=this,(n=!(o=g(r).call(this,e))||"object"!==h(o)&&"function"!=typeof o?_(a):o).getStore=n.getStore.bind(_(n)),n.preLocationChange=n.preLocationChange.bind(_(n)),n.postLocationChange=n.postLocationChange.bind(_(n)),n.state={message:null,nextLocation:null,showPrompt:!1},t.history=b=(0,d.default)(e.basePath),n.store=new c.default,n._isMounted=!1,n}var n,i,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(r,a.Component),n=r,(i=[{key:"componentWillMount",value:function(){this.props.initializeStoreFn&&this.props.initializeStoreFn(this)}},{key:"componentDidMount",value:function(){this.unblock=b.block(this.preLocationChange),this.unlisten=b.listen(this.postLocationChange)}},{key:"componentWillUnmount",value:function(){this.unblock(),this.unlisten()}},{key:"_getRouteByInitPath",value:function(e,t){var r=[].slice.call(e).find(function(e){return(0,d.arePathsEqual)(e.props.path,t)});return this._isMounted||(this._isMounted=!0),r}},{key:"_getRouteByHistoryPath",value:function(e,t){return[].slice.call(e).find(function(e){return(0,d.arePathsEqual)(e.props.path,(0,d.getPath)(t))})}},{key:"getStore",value:function(){return this.store}},{key:"preLocationChange",value:function(e,t){return!e.state||!e.state.prompt||(this.setState({showPrompt:!0,nextLocation:e.pathname}),!1)}},{key:"postLocationChange",value:function(e,t){this.props.onUpdate(e,t),this.state.message?this.setState({message:null}):this.forceUpdate()}},{key:"_renderChildren",value:function(e){if(e[0].type!==s.default){var t=e[0],r=this._getRouteToRender(e.slice(1));return a.default.Children.toArray([a.default.cloneElement(t,{store:this.store}),r])}return this._getRouteToRender(e)}},{key:"_getRouteToRender",value:function(e){var t=this,r=this._isMounted?this._getRouteByHistoryPath(e,b):this._getRouteByInitPath(e,this.props.initPath);return r?a.default.cloneElement(r,{basePath:this.props.basePath,history:b,setMessage:function(e){return t.setState({message:e})},store:this.store}):a.default.createElement(o.default,{basePath:this.props.basePath,history:b,transition:d.transition})}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{className:this.props.classList},this._renderChildren(this.props.children),a.default.createElement(u.default,{action:"Leave",dismiss:function(){return e.setState({showPrompt:!1})},okay:function(){var t=e.state.nextLocation;e.setState({showPrompt:!1,nextLocation:null},function(){e.store.set("showPrompt",!1),(0,d.transition)(b,t)})},open:this.state.showPrompt,title:"Are you sure you want to leave without saving?"}),this.state.message&&a.default.createElement(l.default,{dismiss:function(){return e.setState({message:null})},message:this.state.message,top:108}))}}])&&y(n.prototype,i),f&&y(n,f),r}();O.propTypes={basePath:n.default.string.isRequired,classList:n.default.string,initPath:n.default.string,initializeStoreFn:n.default.func,onUpdate:n.default.func},O.defaultProps={classList:"",initPath:"/",initializeStoreFn:null,onUpdate:function(){}};var w=O;t.default=w},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e;for(;void 0===e||n.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*a).toString(32);return n[e]=!0,e};var n={},a=Math.pow(2,24)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=r(243),o=r(1606),i=r(175),l=(n=r(22))&&n.__esModule?n:{default:n};function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){var r=t.config;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"function"!=typeof r)throw new Error("Invalid config passed to SeoHandler");this.config=r}var t,r,n;return t=e,(r=[{key:"reportView",value:function(e){var t=e.config,r=void 0===t?this.config:t,n=e.data,u=void 0===n?{}:n,s=e.path,c=e.referrer;if((0,a.canUseDOM)()){var d=r((0,i.prependLeadingSlash)(s));if("function"==typeof d){var f=d(u),p=f.title,m=f.meta_desc,h=f.pageType,y=f.entity_id,g=f.canonical;p&&(document.title=p);var _=document.querySelector('meta[name="description"]');_&&m&&(_.content=m);var v=document.querySelector('meta[name="pageType"]');if(v&&h&&(v.content=h),g){var b=document.querySelector('link[rel="canonical"]')||document.createElement("link");b.rel||(b.rel="canonical",document.head.appendChild(b)),b.href=g}return l.default.reportVirtualPageView({pageType:h,entity_id:y,referrer:c}),(0,o.createVirtualPageview)({pageType:h,title:p}),!0}}}}])&&u(t.prototype,r),n&&u(t,n),e}();t.default=s},,function(e,t,r){e.exports={fog:"#F7F7F7",loader:"animation__loader__3jVQp",sweep:"animation__sweep__cRkDZ",delayAppear:"animation__delayAppear__3-eeq"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(132)),i=s(r(187)),l=s(r(96)),u=r(20);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e,t){return"Please unselect ".concat(t," ").concat((0,u.pluralize)("item",t),", the amount allowed is ").concat(e," choices.")},g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?m(n):a).state={warningText:null},r.onSelectedChange=r.onSelectedChange.bind(m(r)),r._uuid=(0,l.default)(),r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"onSelectedChange",value:function(e){"multi"===this.props.type&&this._setSelectedWarningText(e),this.props.onSelectedChange(e)}},{key:"_setSelectedWarningText",value:function(e){var t=this.props.searchOpts.multiLimit;"number"==typeof t&&(e.length>t?this.setState({warningText:y(t,e.length-t)}):null!==this.state.warningText&&e.length<=t&&this.setState({warningText:null}))}},{key:"render",value:function(){return n.default.createElement(o.default,{errors:this.props.errors,helperText:this.props.helperText,label:this.props.label,name:this.props.name,value:"",warningText:this.state.warningText,uuid:this._uuid},n.default.createElement(i.default,d({},this.props,{hasErrors:this.props.errors&&this.props.errors.length>0,onSelectedChange:this.onSelectedChange,uuid:this._uuid})))}}])&&f(r.prototype,a),u&&f(r,u),t}();g.propTypes={asyncOpts:a.default.shape({initOnMount:a.default.bool,onError:a.default.func,request:a.default.func,resolver:a.default.func}),creatableOpts:a.default.shape({creatable:a.default.bool,onError:a.default.func,request:a.default.func,resolver:a.default.func}),debugMode:a.default.bool,disabled:a.default.bool,errors:a.default.string,helperText:a.default.string,label:a.default.string,maxWidth:a.default.oneOfType([a.default.number,a.default.string]),menuOpts:a.default.shape({scrollBuffer:a.default.number,scrollToView:a.default.bool}),name:a.default.string,onSelectedChange:a.default.func,options:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.any})),placeholder:a.default.string,searchOpts:a.default.shape({multiLimit:a.default.number,rule:a.default.oneOf(["absolute","default","norule","strict"])}),templates:a.default.shape({menuActionable:a.default.func,menuActionableText:a.default.func,menuOption:a.default.func}),theme:a.default.oneOf(["default","bootstrap"]),type:a.default.oneOf(["default","multi"]),value:a.default.oneOfType([a.default.any,a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.value}))])},g.defaultProps={asyncOpts:{initOnMount:!1,onError:function(){},request:null,resolver:function(e){return Promise.resolve({options:e})}},creatableOpts:{creatable:!1,onError:function(){},request:null,resolver:null},debugMode:!1,disabled:!1,errors:null,helperText:null,label:null,maxWidth:"100%",menuOpts:{scrollBuffer:0,scrollToView:!1},name:null,onSelectedChange:function(){},options:[],placeholder:"",searchOpts:{multiLimit:null,rule:"default"},templates:{menuActionable:null,menuActionableText:null,menuOption:null},theme:"default",type:"default",value:""};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WON_OTHER_CONTEST=t.WON=t.RESUBMITTED=t.LOST=t.INCOMPLETE=t.REJECTED=t.PENDING_REVIEW=t.DRAFT=t.APPROVED=t.IDEA=t.ENTRY=t.IDEA_EDITING_STATUS=t.WINNERS_ANNOUNCED=t.LAUNCH_PENDING=t.OPEN=t.CLOSED=t.PRE_REGISTRATION=t.JUDGING=t.JUDGED=t.IN_PROGRESS=void 0;t.IN_PROGRESS="IN_PROGRESS";t.JUDGED="JUDGED";t.JUDGING="JUDGING";t.PRE_REGISTRATION="PRE_REGISTRATION";t.CLOSED="CLOSED";t.OPEN="OPEN";t.LAUNCH_PENDING="LAUNCH_PENDING";t.WINNERS_ANNOUNCED="WINNERS_ANNOUNCED";t.IDEA_EDITING_STATUS="DRAFT";t.ENTRY="ENTRY";t.IDEA="IDEA";t.APPROVED="APPROVED";t.DRAFT="DRAFT";t.PENDING_REVIEW="PENDING_REVIEW";t.REJECTED="REJECTED";t.INCOMPLETE="INCOMPLETE";t.LOST="LOST";t.RESUBMITTED="RESUBMITTED";t.WON="WON";t.WON_OTHER_CONTEST="WON_OTHER_CONTEST"},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"name",o=a(r),i=o&&o.hasOwnProperty(n)?o[n]:"";return[e,t,i].filter(function(e){return e&&e.length>0}).join(", ")},t.getCountry=a,t.getCountryISO2=function(e){return n.lookup.countries({name:e}).length?n.lookup.countries({name:e})[0].alpha2:""};var n=r(240);function a(e){var t,r,a,o,i="string"==typeof e?e:!(t=e).country||"string"!=typeof t.country||2!==t.country.length&&3!==t.country.length?t.country_iso2&&t.country_iso2.length?t.country_iso2:t.country_iso3&&t.country_iso3.length?t.country_iso3:function(e){return e.split(" ").map(function(e){return e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()}).join(" ")}(t.country):t.country,l=2===i.length?"alpha2":3===i.length?"alpha3":"name";return n.lookup.countries((r={},a=l,o=i,a in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,r))[0]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=c(r(9)),i=c(r(2)),l=c(r(3)),u=c(r(5)),s=c(r(1525));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).state={checked:e.isChecked},r.onClick=r.onClick.bind(m(r)),r}var r,n,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a.Component),r=t,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.isChecked!==this.state.checked&&this.setState({checked:e.isChecked})}},{key:"onClick",value:function(){if(!this.props.disabled){var e=!this.state.checked;this.props.onChange(e),this.setState({checked:e})}}},{key:"_getCheckboxPositionClass",value:function(){var e=this.props.checkboxPosition;return e?s.default["checkbox".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))]:""}},{key:"render",value:function(){var e=this.props,t=e.classList,r=e.error,n=e.disabled,c=e.label,d=e.name,f=e.value;return a.default.createElement("div",{className:"".concat(s.default.checkboxWrapper," ").concat(c?"":s.default.maxWidth," ").concat(n?s.default.disabled:""),onClick:n?null:this.onClick},a.default.createElement("div",{className:"".concat(s.default.checkbox," ").concat(this.state.checked?u.default.bgHackster:u.default.bgWhite," ").concat(this._getCheckboxPositionClass()," ").concat(r?s.default.error:""),tabIndex:"0"},a.default.createElement("input",{className:s.default.input,checked:this.state.checked,onChange:function(){},type:"checkbox",name:d,value:f}),this.state.checked&&a.default.createElement(o.default,{className:l.default.white,name:"checkmark"})),c&&a.default.createElement("label",{className:"".concat(i.default.marginLeft15," ").concat(i.default.marginBottom0," ").concat(l.default.bodyM," ").concat(t.label," ").concat(n?s.default.disabled:"")},c))}}])&&f(r.prototype,n),c&&f(r,c),t}();y.propTypes={checkboxPosition:n.default.string,classList:n.default.shape({label:n.default.string}),disabled:n.default.bool,error:n.default.string,isChecked:n.default.bool.isRequired,label:n.default.node,name:n.default.string,onChange:n.default.func,value:n.default.oneOfType([n.default.string,n.default.bool])},y.defaultProps={checkboxPosition:null,classList:{label:""},disabled:!1,error:null,label:null,name:"",onChange:function(){},value:""};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=s(r(1)),o=s(r(174)),i=c(r(1529)),l=r(11),u=r(244);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?h(n):a).addEventListeners=r.addEventListeners.bind(h(r)),r.removeEventListeners=r.removeEventListeners.bind(h(r)),r.handleIntersection=r.handleIntersection.bind(h(r)),r.handleReveal=r.handleReveal.bind(h(r)),r.state={dataRef:null,isRevealed:!1},r.unobserve,r._container,r}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._revealOrListen()}},{key:"componentWillUnmount",value:function(){this.removeEventListeners()}},{key:"_getRootMargin",value:function(){return"".concat(this.props.verticalOffset,"px ").concat(this.props.horizontalOffset,"px")}},{key:"_isInView",value:function(){return(0,u.isElementInView)(this._container,{bufferH:this.props.horizontalOffset,bufferV:this.props.verticalOffset})}},{key:"_revealOrListen",value:function(){return this._isInView()?this.handleReveal():this.addEventListeners()}},{key:"addEventListeners",value:function(){var e=this;this._container&&this.setState({dataRef:(0,o.default)()},function(){e.unobserve=i.default.observe({callback:e.handleIntersection,id:e.state.dataRef,options:{rootMargin:e._getRootMargin()},target:e._container})})}},{key:"removeEventListeners",value:function(){this.unobserve&&(this.unobserve(),this.unobserve=void 0)}},{key:"handleIntersection",value:function(e){e.isIntersecting&&!this.state.isRevealed&&this._container&&this.handleReveal()}},{key:"handleReveal",value:function(){var e=this;this.setState({isRevealed:!0},function(){e.props.onReveal(),e.removeEventListeners()})}},{key:"_renderChildren",value:function(){return(0,l.isAFunction)(this.props.children)?this.props.children(this.state.isRevealed):this.props.children}},{key:"render",value:function(){var e,t=this,r=(f(e={ref:function(e){return t._container=e}},i.INTERSECTION_DATA_ATTR,this.state.dataRef),f(e,"className",this.props.className),f(e,"onClick",this.props.onClick),f(e,"onMouseLeave",this.props.onMouseLeave),f(e,"onMouseOver",this.props.onMouseOver),f(e,"style",this.props.style),e),a=this.props.alwaysRenderChildren||this.state.isRevealed?this._renderChildren():null;return n.default.createElement(this.props.component,r,a)}}])&&p(r.prototype,a),s&&p(r,s),t}();g.propTypes={alwaysRenderChildren:a.default.bool,className:a.default.string,component:a.default.oneOfType([a.default.string,a.default.func]),horizontalOffset:a.default.number,onClick:a.default.func,onMouseLeave:a.default.func,onMouseOver:a.default.func,onReveal:a.default.func,style:a.default.object,verticalOffset:a.default.number},g.defaultProps={alwaysRenderChildren:!1,className:"",component:"div",horizontalOffset:0,onMouseLeave:null,onMouseOver:null,onReveal:function(){},style:{},verticalOffset:100};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(1)),a=d(r(0)),o=d(r(132)),i=r(11),l=d(r(5)),u=d(r(21)),s=d(r(2)),c=d(r(3));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.buttons,r=e.classList,n=e.disabled,d=e.errors,f=e.helperText,p=e.label,m=e.name,h=e.onChange,y=e.value,g=!(0,i.isBlank)(d);return a.default.createElement(o.default,{classList:{root:r.root},errors:d,helperText:f,label:p,name:m,value:""},a.default.createElement("div",{className:u.default.radioGroup},t.map(function(e){return function(e){var t=e.button,r=e.disabled,n=e.hasErrors,o=e.name,d=e.onChange,f=e.value,p=!(0,i.isBlank)(f)&&f.toString()===t.value.toString(),m=!(!r&&!t.disabled);return a.default.createElement("label",{key:t.value,className:"".concat(u.default.radioButtonContainer," ").concat(r?l.default.disabled:"")},a.default.createElement("div",{className:u.default.radioGroupWrapper},a.default.createElement("input",{checked:p,className:"".concat(u.default.radioButton," ").concat(n?u.default.radioButtonError:""),disabled:m,name:o,onChange:d,type:"radio",value:t.value}),a.default.createElement("span",null)," ",a.default.createElement("span",{className:"".concat(c.default.bodyM," ").concat(s.default.marginLeft10)},t.label)))}({button:e,disabled:n,hasErrors:g,name:m,onChange:h,value:y})})))};f.propTypes={buttons:n.default.arrayOf(n.default.shape({disabled:n.default.bool,label:n.default.node,value:n.default.any})),classList:n.default.shape({root:n.default.string}),disabled:n.default.bool,errors:n.default.oneOfType([n.default.array,n.default.string]),helperText:n.default.string,label:n.default.node,name:n.default.string,onChange:n.default.func,value:n.default.any},f.defaultProps={buttons:[],classList:{},disabled:!1,errors:null,helperText:null,label:null,name:null,onChange:function(){},value:""};var p=f;t.default=p},function(e,t,r){e.exports={"med-large":"(max-width: 992px)",med:"(max-width: 768px)",small:"(max-width: 480px)",asphalt:"#D8D8D8",error:"#D0021B",fog:"#F7F7F7",standardBorder:"1px solid #D8D8D8",aboveTheFoldWrapper:"news_home_page__aboveTheFoldWrapper__V-2JA",banner:"news_home_page__banner__3Nb0o",container:"news_home_page__container__1iDyI",cta:"news_home_page__cta__1r_Kh",ctaSection:"news_home_page__ctaSection__3T1bK",featuredSection:"news_home_page__featuredSection__3ZI5k",mainContentWrapper:"news_home_page__mainContentWrapper__1oLz8",sponsoredSection:"news_home_page__sponsoredSection__3JXln",sponsoredList:"news_home_page__sponsoredList__2xSUE",stackedContentAdsWrapper:"news_home_page__stackedContentAdsWrapper__1YAXU",trendingSection:"news_home_page__trendingSection__2RRnR",sponsoredCardContainer:"news_home_page__sponsoredCardContainer__kAJlv"}},,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(15)),i=s(r(728)),l=s(r(66)),u=s(r(2));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){switch(e.type){case"fullWidth":return r=(t=e).buttonType,a=t.color,s=t.disabled,c=t.isBusy,d=t.onClick,f=t.size,p=t.text,n.default.createElement(o.default,{className:u.default.fullWidth,colorStyle:a,disabled:s||c,onClick:d,size:f,type:r},c?n.default.createElement(l.default,{size:"lg"===f?20:16}):p);default:return function(e){var t=e.buttonType,r=e.color,a=e.disabled,o=e.isBusy,u=e.onClick,s=e.size,c=e.text;return n.default.createElement(i.default,{colorStyle:r,disabled:a||o,onClick:u,size:s,type:t},o?n.default.createElement(l.default,{size:"lg"===s?20:16}):c)}(e)}var t,r,a,s,c,d,f,p},d=function(e){return c(e)};d.propTypes={buttonType:a.default.oneOf(["button","submit"]),color:a.default.string,disabled:a.default.bool,isBusy:a.default.bool,onClick:a.default.func,size:a.default.string,text:a.default.string.isRequired,type:a.default.oneOf(["default","fullWidth"])},d.defaultProps={buttonType:"button",color:"",disabled:!1,isBusy:!1,onClick:null,size:"md",type:"default"};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendProtocol=function(e){return(0,n.isURL)(e,{require_protocol:!0})?e:"http://".concat(e)},t.getExtFromFileName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.substring(e.lastIndexOf(".")+1)},t.getFileNameFromUrl=function(){var e=o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"");return e.substring(e.lastIndexOf("/")+1)},t.isValidUrl=function(e){return(0,n.isURL)(e)&&!(0,n.isEmail)(e)},t.stripHashAndQuery=o,t.stripProtocol=function(e){return e.replace(/http:\/\/|https:\/\/|:\/\/|\/\//,"")},t.stripTrailingSlash=function(e){return e.replace(/\/$/,"")},t.NO_URL=void 0;var n=r(49),a=r(55).NOOP_HREF;function o(e){return e.replace(/\#(.*?)$/,"").replace(/\?(.*?)$/,"")}t.NO_URL=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clickEventHasModifierKey=function(e){return e.altKey||e.ctrlKey||e.shiftKey||e.metaKey},t.getEventTargetHref=function(e){return(0,n.getInObjWithPrototypeAccess)(["target","href"],e)},t.getEventTargetText=function(e){return(0,n.getInObjWithPrototypeAccess)(["target","textContent"],e)||(0,n.getInObjWithPrototypeAccess)(["target","innerText"],e)},t.getFilesFromEvent=function(e){var t=e.dataTransfer?e.dataTransfer.files:e.target?e.target.files:null;return[].slice.call(t||[])},t.selectTargetContents=function(e){e.target.select()};var n=r(8)},function(e,t,r){e.exports={asphalt:"#D8D8D8",hackster:"#2E9FE6",fog:"#F7F7F7",graphite:"#4A4A4A",small:"(max-width: 480px)",standardBorder:"1px solid #D8D8D8",dropdown:"simple_select__dropdown__1J9Qt",icon:"simple_select__icon__3eZGc",iconOpen:"simple_select__iconOpen__2vUY8 simple_select__icon__3eZGc",optionBase:"simple_select__optionBase__11DKo",label:"simple_select__label__31Gwo simple_select__optionBase__11DKo",option:"simple_select__option__k4mb- simple_select__optionBase__11DKo",optionPaddingOnChild:"simple_select__optionPaddingOnChild__36p_k simple_select__option__k4mb- simple_select__optionBase__11DKo",optionSelected:"simple_select__optionSelected__KCI_g simple_select__option__k4mb- simple_select__optionBase__11DKo",optionDisabled:"simple_select__optionDisabled__GVW2e simple_select__option__k4mb- simple_select__optionBase__11DKo",select:"simple_select__select__2XAL1",selectIcon:"simple_select__selectIcon__2T7S7",selectWrapper:"simple_select__selectWrapper__2isqr"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=l(r(1592)),i=l(r(1593));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p={default:o.default,tabbed:i.default},m=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=c(t).call(this,e))||"object"!==u(a)&&"function"!=typeof a?d(n):a).state={selectedValueIndex:r._getActiveOrDefaultIndex(e.options)},r.selectOptionByIndex=r.selectOptionByIndex.bind(d(r)),r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n.Component),r=t,(a=[{key:"_getActiveOrDefaultIndex",value:function(e){var t=e.findIndex(function(e){return e.active});if(t>-1)return t;var r=e.findIndex(function(e){return e.default});return r>-1?r:0}},{key:"componentDidUpdate",value:function(e){e.options!==this.props.options&&this.setState({selectedValueIndex:this._getActiveOrDefaultIndex(this.props.options)})}},{key:"selectOptionByIndex",value:function(e){var t=parseInt(e.target.value,10);isNaN(t)||(this._propagateSelectionByIndex(t),this.setState({selectedValueIndex:t}))}},{key:"_propagateSelectionByIndex",value:function(e){this.props.onSelection(this.props.options[e],e)}},{key:"render",value:function(){return n.default.createElement(p[this.props.view],{options:this.props.options,selectedValueIndex:this.state.selectedValueIndex,selectOptionByIndex:this.selectOptionByIndex,underline:this.props.tabbedViewUnderline})}}])&&s(r.prototype,a),o&&s(r,o),t}();m.propTypes={onSelection:a.default.func,options:a.default.arrayOf(a.default.shape({active:a.default.bool,label:a.default.oneOfType([a.default.string,a.default.number,a.default.element]).isRequired,value:a.default.oneOfType([a.default.string,a.default.number,a.default.object]),default:a.default.bool})).isRequired,tabbedViewUnderline:a.default.bool,view:a.default.oneOf(["default","tabbed"])},m.defaultProps={onSelection:function(){},tabbedViewUnderline:!0,view:"default"};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(115)),i=d(r(15)),l=d(r(42)),u=d(r(2)),s=d(r(3)),c=d(r(1596));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.body,r=e.classList;return n.default.createElement("div",{className:"".concat(s.default.bodyM," ").concat(r.body)},t)},p=function(e){var t=e.classList,r=e.title;return n.default.createElement("h2",{className:"".concat(s.default.h2," ").concat(u.default.marginBottom15," ").concat(t.title)},r)},m=function(e){var t=e.action,r=e.actionColor,a=e.dismiss,l=e.isBusy,u=e.okay;return[n.default.createElement(o.default,{color:r,isBusy:l,onClick:u,text:t}),n.default.createElement(i.default,{colorStyle:"cancel",disabled:l,onClick:a},"Cancel")]},h=function(e){var t=e.classList,r=e.title;return r?n.default.createElement(p,{classList:t.title,title:r}):null},y=function(e){var t=e.action,r=e.actionColor,a=e.body,o=e.classList,i=e.dismiss,u=e.isBusy,s=e.message,d=e.okay,p=e.open,y=e.title;return n.default.createElement(l.default,{actions:m({action:t,actionColor:r,dismiss:i,isBusy:u,okay:d}),actionsContainerStyle:{marginTop:30},dismiss:i,enableCloseButton:!1,message:s,open:p,title:h({classList:o,title:y}),wrapperClassName:c.default.wrapper},n.default.createElement(f,{classList:o,body:a}))};y.propTypes={action:a.default.oneOfType([a.default.string,a.default.element]),actionColor:a.default.string,body:a.default.node,classList:a.default.shape({body:a.default.string,title:a.default.string}),dismiss:a.default.func,isBusy:a.default.bool,message:a.default.element,okay:a.default.func,open:a.default.bool.isRequired,title:a.default.string},y.defaultProps={action:"Okay",actionColor:"",body:"",classList:{body:"",title:""},dismiss:function(){},isBusy:!1,message:null,okay:function(){},title:null};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=u(r(132)),i=u(r(820)),l=r(8);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?p(n):a).state={uploaderError:""},r.handleError=r.handleError.bind(p(r)),r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.Component),r=t,(a=[{key:"handleError",value:function(e){this.setState({uploaderError:e})}},{key:"_getImageDimensionsWarning",value:function(){var e=(0,l.getInObj)(["imageData","dimensions","width"],this.props),t=this.props.dimensionMins.width;return e&&t&&e<t?function(e){return"Warning: your image is smaller than our recommended dimensions. Image width: ".concat(e,"px.")}(e):null}},{key:"_getWarningText",value:function(){return this.state.uploaderError||this._getImageDimensionsWarning()}},{key:"render",value:function(){return n.default.createElement(o.default,{classList:{root:this.props.classList.formGroup},errors:this.props.errors,helperText:this.props.helperText,label:this.props.label,name:this.props.name,value:"",warningText:this._getWarningText()},n.default.createElement(i.default,c({},this.props,{reportError:this.handleError})))}}])&&d(r.prototype,a),u&&d(r,u),t}();h.propTypes={allowGifs:a.default.bool,aspectRatio:a.default.number,classList:a.default.shape({button:a.default.string,cancelButton:a.default.string,formGroup:a.default.string,previewWrapper:a.default.string}),dimensionsMins:a.default.shape({width:a.default.number}),errors:a.default.string,helperText:a.default.string,imageData:a.default.shape({dimensions:a.default.shape({width:a.default.number}),url:a.default.string,name:a.default.string}),nestedDialogLevel:a.default.number},h.defaultProps={allowGifs:!0,aspectRatio:null,classList:{button:"",cancelButton:"",formGroup:"",previewWrapper:""},dimensionMins:{},errors:"",helperText:"",imageData:{},nestedDialogLevel:0};var y=h;t.default=y},function(e,t,r){e.exports={hackster:"#2E9FE6",hacksterHover:"#1B7DBB",hacksterDisabled:"#C0E2F7",lake:"#075B8B",lakeDisabled:"#B5CEDC",ocean:"#16425B",sky:"#E1F4FF",asphalt:"#D8D8D8",asphaltDisabled:"#F3F3F3",asphaltHover:"#BABABA",charcoal:"#111",fog:"#F7F7F7",graphite:"#4A4A4A",pebble:"#767676",white:"#FFF",error:"#D0021B",errorBG:"#FFF3F2",errorHover:"#A60115",warning:"#EA8B05",success:"#0E8F42",coral:"#E6735C",hacksterLight4:"#F1FAFF",gold:"#E0B969",seafoam:"#7BC7A1",arduino:"#00979d",arduinoHover:"#008085",facebook:"#3B5998",facebookHover:"#294172",github:"#24292E",githubHover:"#000",google:"#4285F4",googleHover:"#336FD3",easy:"#007A33",intermediate:"#F6A623",advanced:"#DE1900",hardcore:"#C51C1F"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayToMultiSelectIn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return e.map(function(e){return o(e,t,r)})},t.boolOrNullIn=function(e){return"boolean"==typeof e||"true"===e||"false"===e?e.toString():null},t.boolOrStringToBool=function(e){return"boolean"==typeof e?e:"true"===e||"t"===e},t.imageWithNestedFileIn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.file,n=void 0===r?{}:r,a=e.name,o=e.dimensions;return{dimensions:void 0===o?{}:o,id:t,name:a,url:n.url}},t.locationSelectIn=function(e){if(!(0,a.objHasPropertyOfLength)(e,"country_iso2"))return{};var t=e.city||"",r=e.country_iso2||"",o=(0,a.objHasPropertyOfLength)(e,"state")?(0,n.getStateFromAbbr)(e.state,r):"",i=e.hasOwnProperty("latitude")&&e.hasOwnProperty("longitude")?{geoloc:{lat:e.latitude,lng:e.longitude}}:{};return Object.assign({city:t,countryCode:r,state:o},i)},t.lowerCaseIn=function(e){return e&&"string"==typeof e?e.toLowerCase():null},t.multiSelectIn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user_name",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return e.map(function(e){return{label:r(e[t]),value:e.id}})},t.valueToSelectIn=o,t.boolOrNullOut=function(e){if("boolean"==typeof e)return e;if("string"==typeof e)return e.length?"true"===e||"false"!==e&&null:null;return null},t.imageWithNestedFileOut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.dimensions,n=void 0===r?{}:r,a=e.name,o=e.url;return{dimensions:n,id:t,name:a,file:{url:o}}},t.locationSelectOut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&e.hasOwnProperty("geoloc")?{latitude:e.geoloc.lat||0,longitude:e.geoloc.lng||0}:{},r={state:n.getStateForLocationSelectOutput},a={city:"city",countryCode:"country_iso2",state:"state"};return Object.keys(a).reduce(function(t,n){return e.hasOwnProperty(n)&&(t[a[n]]=r.hasOwnProperty(n)?r[n](e):e[n]),t},t)},t.multiSelectToArrayOut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return e.map(function(e){return t(e.value)})},t.multiSelectToRecordShapeOut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.map(function(e){return{id:e.value,name:e.label}})},t.numOrNullOut=function(e){if("number"==typeof e)return e;if("string"==typeof e){return/^\d+$/.test(e)?parseInt(e):null}return null},t.stringOrNullOut=function(e){return"string"==typeof e&&e.length>0?e:null},t.DATE_INPUT_FORMATTER=void 0;var n=r(218),a=r(67);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return{label:t(e),value:r(e)}}t.DATE_INPUT_FORMATTER="YYYY-MM-DD"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchForWhitelabel=function(e,t){var r=e.params||{},i=Object.assign({},r,{facetFilters:(0,n.default)(e.index,t,e.sort,r.facetFilters)});return function(e){var t=e.index,r=e.query,n=e.sort,i=void 0===n?null:n,l=e.params,u=void 0===l?{}:l,s=e.filters,c=void 0===s?{}:s;return new Promise(function(e,n){var l=(0,o.default)(t,i);return l instanceof Error&&n(l),l.search(r,function(e,t,r){if("parts"===r){var n=e.facetFilters||[];e=Object.assign({},e,{facetFilters:n.concat([["has_platform:true"]])})}return Object.assign({},e,(0,a.default)(r,t),{facets:"*",getRankingInfo:!0})}(u,c,t)).then(function(t){return e(t)}).catch(function(e){return n(e)})})}(Object.assign({},e,{params:i}))},t.searchWithSuggestion=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=function(e){return d(e)?s:c}(t);return new Promise(function(n,a){return Promise.all([r({query:e.query,index:e.index,params:{hitsPerPage:5,page:0}},t),f(e)]).then(function(e){return n({suggestion:e[0],res:e[1]})}).catch(function(e){return a(e)})})},t.searchIndexWithFacets=function(e){var t=e.index,r=e.facetFilters,n=void 0===r?[]:r,a=e.sort,i=void 0===a?null:a,l=e.params,u=void 0===l?{}:l,s=e.query,c=void 0===s?"":s,d=e.facets,f=void 0===d?[]:d;return new Promise(function(e,r){var a=(0,o.default)(t,i);return a instanceof Error&&r(a),a.search(c,Object.assign({facets:f,facetFilters:n},u)).then(function(t){return e(t)}).catch(function(e){return r(e)})})},t.default=f;var n=u(r(1945)),a=u(r(492)),o=u(r(265)),i=r(878),l=r(20);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return new Promise(function(r,n){return f(Object.assign({},e,{index:t.category})).then(function(e){return e.nbHits>0?r({index:t.category,results:e.hits}):r(null)}).catch(function(e){return n(e)})})}function c(e){return new Promise(function(t,r){return f(Object.assign({},e,{params:Object.assign({},e.params,{facetFilters:["query:".concat(e.query)]}),index:"suggestions"})).then(function(t){var r,n=t.nbHits>0?(r=t.hits,Object.assign({},r[0],{category:(0,l.pluralize)(r[0].category).toLowerCase()})):null;return n&&d(n)?s(e,n):function(e){return new Promise(function(t,r){return function(e){return f(Object.assign({},e,{params:Object.assign({},e.params,{facetFilters:["name:".concat(e.query)]}),index:"users"}))}(e).then(function(r){return r.nbHits>0?t({index:"users",results:r.hits}):function(e){return f(Object.assign({},e,{params:Object.assign({},e.params,{facetFilters:["name:".concat(e.query)]}),index:"channels"}))}(e)}).then(function(r){return r.nbHits>0?t({index:"channels",results:r.hits}):function(e){return f(Object.assign({},e,{params:Object.assign({},e.params,{facetFilters:["name:".concat(e.query)]}),index:"parts"}))}(e)}).then(function(e){return e.nbHits>0?t({index:"parts",results:e.hits}):t(null)}).catch(function(e){return r(e)})})}(e)}).then(function(e){return t(e)}).catch(function(e){return r(e)})})}function d(e){return!(!e||!e.category)&&i.defaultWhiteList.hasOwnProperty(e.category)}function f(e){var t=e.index,r=e.query,n=e.sort,i=void 0===n?null:n,l=e.params,u=void 0===l?{}:l,s=e.filters,c=void 0===s?{}:s;return new Promise(function(e,n){var l=(0,o.default)(t,i);return l instanceof Error&&n(l),l.search(r,function(e,t,r){if("parts"===r){var n=e.facetFilters||[];e=Object.assign({},e,{facetFilters:n.concat([["has_platform:true"]])})}if("projects"===r){var o=e.facetFilters||[];e=Object.assign({},e,{facetFilters:o.concat([["approved:true"]])})}return Object.assign({},e,(0,a.default)(r,t),{facets:"*",getRankingInfo:!0})}(u,c,t)).then(function(t){return e(t)}).catch(function(e){return n(e)})})}},,function(e,t,r){e.exports={asphalt:"#D8D8D8",hackster:"#2E9FE6",graphite:"#4A4A4A",list:"section_list__list__36HUR",row:"section_list__row__pfh-N",dragHandle:"section_list__dragHandle__1i-wx",rowNoTopBorder:"section_list__rowNoTopBorder__AiAF9 section_list__row__pfh-N",rowHighlight:"section_list__rowHighlight__3LHC5 section_list__row__pfh-N",buttonCntr:"section_list__buttonCntr__2r3C1",cell:"section_list__cell__3xlTJ",cell60:"section_list__cell60__1nq_D",cell30:"section_list__cell30__3pc4W",cell20:"section_list__cell20__15k-s",cell10:"section_list__cell10__1WfOo",dragHandleIcon:"section_list__dragHandleIcon__1DPeh",contentCardTitle:"section_list__contentCardTitle__M7kyI section_list__cell__3xlTJ section_list__cell60__1nq_D",noContentMsg:"section_list__noContentMsg__1XClM section_list__cell__3xlTJ",nameCell:"section_list__nameCell__3cId5 section_list__cell__3xlTJ section_list__cell30__3pc4W",saveBtn:"section_list__saveBtn__2ZYBV",metaMsg:"section_list__metaMsg__18aiX",tag:"section_list__tag__2cx76",title:"section_list__title__2TKKR",titleInput:"section_list__titleInput__3KZHY",ghostCell:"section_list__ghostCell__1h5qT",ghostDragBox:"section_list__ghostDragBox__ST7DW"}},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(1)),o=i(r(10));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=function(e){var t=e.children,r=e.className,a=e.colorStyle,i=e.disabled,u=e.external,s=e.href,c=e.onClick,d=e.size,f=e.style,p=e.buttonProps,m="".concat(o.default[d]," ").concat(o.default[a]," ").concat(r),h=u?{target:"_blank",rel:"noopener noreferrer"}:{};return n.default.createElement("a",l({className:m,disabled:i,href:s,onClick:c,style:f},h,p),t)};u.propTypes={buttonProps:a.default.object,className:a.default.string,colorStyle:a.default.oneOf(["","secondary","tertiary","outline","blank","cancel"]),disabled:a.default.bool,external:a.default.bool,href:a.default.string,onClick:a.default.func,size:a.default.oneOf(["sm","md","lg","jumbo"]),style:a.default.object},u.defaultProps={buttonProps:{},className:"",colorStyle:"",disabled:!1,external:!1,href:"javascript:void(0);",onClick:function(){},size:"md",style:{}};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=r(11),i=l(r(21));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){e.element;var t=e.errors,r=e.errorsView,a=e.charCount,l=e.helperText,u=e.maxVal,s=e.msgView,c=e.value,d=e.warningText;return"function"==typeof s?s({errors:t,value:c,maxVal:u}):n.default.createElement("div",{className:i.default.msgWrapper},n.default.createElement("div",null,function(e,t){return e?"function"==typeof t?t({errors:e}):n.default.createElement("div",{className:i.default.error},e):null}(t,r),(0,o.isBlank)(t)&&d&&n.default.createElement("div",{className:i.default.warning},d),l&&n.default.createElement("div",{className:i.default.help},l)),function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"You forgot to pass a maxVal prop!";return"number"==typeof e||e?"function"==typeof e?e({value:t,maxVal:r}):n.default.createElement("div",{className:"".concat(i.default.charCount," ").concat(t.length>r?i.default.error:"")},"".concat(t.length,"/").concat(r)):null}(a,c,u))},s=function(e){return n.default.createElement("div",{className:"".concat(i.default.inputWrapper," ").concat(e.classList.root)},e.label&&n.default.createElement("label",{className:"".concat(i.default.label," ").concat(e.classList.label?e.classList.label:""),htmlFor:(t=e,r=t.label,a=t.name,o=t.uuid,"string"==typeof o&&o.length>0?o:[r,a].filter(function(e){return e&&""!==e}).join("_").toLowerCase().replace(/[^a-z0-9]/g,"_"))},e.label),e.children,u(e));var t,r,a,o};s.propTypes={charCount:a.default.oneOfType([a.default.number,a.default.func]),classList:a.default.shape({root:a.default.string,label:a.default.string}),errors:a.default.string,errorsView:a.default.func,helperText:a.default.node,label:a.default.node,maxVal:a.default.number,msgView:a.default.func,name:a.default.string,uuid:a.default.string,value:a.default.string.isRequired,warningText:a.default.string},s.defaultProps={charCount:null,classList:{root:"",label:""},errors:null,errorsView:null,helperText:null,label:null,maxVal:null,msgView:null,name:null,uuid:null,warningText:null};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(253)),i=r(243),l=r(8),u=r(67),s=r(12),c=f(r(7)),d=f(r(28));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?y(n):a).state={currentQuery:{metadata:{current_page:0,next_page:null,prev_page:null,total_pages:0},records:[]},filters:e.filters,initialized:!1,isLoading:!0},r.onFilterSelect=r.onFilterSelect.bind(y(r)),r.onPaginatorClick=r.onPaginatorClick.bind(y(r)),r._isMounted,r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._isMounted=!0,(0,i.canUseDOM)()&&(this.props.getPaginatorHook&&this.props.getPaginatorHook(this.__onPaginatorHook.bind(this)),this.props.reportPageView(),this._initializeFromUrl(),this._readyUIFilterState())}},{key:"componentWillUpdate",value:function(e){this._onHistoryChange(e)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.props.getRequestPageHook&&this.props.getRequestPageHook(void 0)}},{key:"__onPaginatorHook",value:function(e){return this.onPaginatorClick(e)}},{key:"_initializeFromUrl",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.props.graphQLService.initializeFromUrl(this.props.graphQLArguments,t).then(function(t){e._safelySetState(function(){return e.setState({currentQuery:t,initialized:!0,isLoading:!1})}),e.props.propagateQuery(t)}).catch(function(e){return(0,c.default)("GraphQLPaginatedList _initializeFromUrl",e)})}},{key:"_readyUIFilterState",value:function(){var e=this;if(this.state.filters)return this.props.graphQLService.mapifySearchQuery().then(function(t){return e._getUpdatedFilterState(t)}).then(function(t){return e._safelySetState(function(){return e.setState({filters:t})})}).catch(function(e){return(0,c.default)("_readyUIFilterState",e)})}},{key:"_getUpdatedFilterState",value:function(e){var t=this;return new Promise(function(r,n){var a=Object.keys(e);r(t.state.filters.map(function(r){return"search"===r.type?t._getUpdatedSearchFilter(e,a,r):t._getUpdatedOptionsFilter(e,a,r)}))})}},{key:"_getUpdatedOptionsFilter",value:function(e,t,r){return r.key&&t.includes(r.key)?Object.assign({},r,{options:this._updateFilterOptions(r.options,e[r.key])}):Object.assign({},r,{options:this._resetFilterToDefaultOptions(r)})}},{key:"_getUpdatedSearchFilter",value:function(e,t,r){return r.key&&t.includes(r.key)?Object.assign({},r,{value:e[r.key]}):Object.assign({},r,{value:r.default})}},{key:"_updateFilterOptions",value:function(e,t){return e.reduce(function(e,r){return r.active&&!(0,u.doesValuesMatch)(r.value,t)?e.push(Object.assign({},r,{active:!1})):(0,u.doesValuesMatch)(r.value,t)?e.push(Object.assign({},r,{active:!0})):e.push(r),e},[])}},{key:"_resetFilterToDefaultOptions",value:function(e){return this.props.filters.filter(function(t){return t.key===e.key})[0].options.map(function(e,t){return e.default?e.active=!0:e.active&&(e.active=!1),e})}},{key:"onFilterSelect",value:function(e){var t=this;return this.setState({isLoading:!0}),this.props.reportPageView(),this.props.graphQLService.searchWithFilterString(e.queryString,this.props.graphQLArguments,!0).then(function(e){t._safelySetState(function(){return t.setState({currentQuery:e,isLoading:!1})}),t.props.propagateQuery(e),t._readyUIFilterState()}).catch(function(e){return t._safelySetState(function(){return t.setState({isLoading:!1},function(){return(0,c.default)("onFilterSelect",e)})})})}},{key:"onPaginatorClick",value:function(e){var t=this;return this.setState({isLoading:!0}),this.props.reportPageView(),this.props.graphQLService.searchWithFilterString("page=".concat(e),this.props.graphQLArguments).then(function(e){t._safelySetState(function(){return t.setState({currentQuery:e,isLoading:!1},function(){return t._scrollTo()})}),t.props.propagateQuery(e)}).catch(function(e){return t._safelySetState(function(){return t.setState({isLoading:!1},function(){return(0,c.default)("onPaginatorClick",e)})})})}},{key:"_shouldRefetchOnHistoryChange",value:function(e){return e.currentHistoryData&&this.props.currentHistoryData&&"POP"===(0,l.getInObj)(["currentHistoryData","action"],e)&&!(0,u.doesObjectPropsMatch)(e.currentHistoryData,this.props.currentHistoryData,"search")&&this.props.validateRefetch(this.props,e)}},{key:"_onHistoryChange",value:function(e){this._shouldRefetchOnHistoryChange(e)&&(this.props.reportPageView(),this.setState({isLoading:!0}),this._initializeFromUrl(!1),this._readyUIFilterState())}},{key:"_safelySetState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this._isMounted&&e()}},{key:"_scrollTo",value:function(){if(this.props.scrollId){var e=document.getElementById(this.props.scrollId);e&&(0,d.default)(e)}else(0,s.windowScrollTo)(0,0)}},{key:"_getListView",value:function(){return this.state.initialized?this._renderListView():this._renderLoaderView()}},{key:"_renderFilters",value:function(){return this.state.initialized?this.state.filters:null}},{key:"_renderListView",value:function(){return n.default.createElement(this.props.listComponent,Object.assign({},this.props.listProps,{isLoading:this.state.isLoading,records:this.state.currentQuery.records,transition:this.props.transition}))}},{key:"_renderLoaderView",value:function(){return null===this.props.loaderComponent?null:n.default.createElement(this.props.loaderComponent,this.props.listProps)}},{key:"render",value:function(){return n.default.createElement(o.default,{filters:this._renderFilters(),onFilterSelect:this.onFilterSelect,onPaginatorClick:this.onPaginatorClick,paginator:{currentPage:this.state.currentQuery.metadata.current_page,nextPage:this.state.currentQuery.metadata.next_page,prevPage:this.state.currentQuery.metadata.prev_page,totalPages:this.state.currentQuery.metadata.total_pages},renderFilters:this.props.renderFilters},this._getListView())}}])&&m(r.prototype,a),f&&m(r,f),t}();_.propTypes={currentHistoryData:a.default.shape({pathname:a.default.string,search:a.default.string}),filters:a.default.arrayOf(a.default.shape({})),getPaginatorHook:a.default.func,graphQLArguments:a.default.object,graphQLService:a.default.object.isRequired,listComponent:a.default.func.isRequired,listProps:a.default.object,loaderComponent:a.default.func,propagateQuery:a.default.func,renderFilters:a.default.func,reportPageView:a.default.func,scrollId:a.default.string,transition:a.default.func,validateRefetch:a.default.func},_.defaultProps={currentHistoryData:null,filters:null,getPaginatorHook:null,graphQLArguments:{},listProps:{},loaderComponent:null,propagateQuery:function(){},renderFilters:null,reportPageView:function(){},scrollId:null,transition:function(){},validateRefetch:function(){return!0}};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(1)),a=h(r(0)),o=h(r(750)),i=h(r(30)),l=h(r(756)),u=h(r(759)),s=h(r(760)),c=r(330),d=h(r(50)),f=h(r(205)),p=h(r(3)),m=h(r(5));function h(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var g=["PRIVATE"],_=function(e){var t=(0,c.normalizeProject)(e.project),r=e.cardBorder,n=e.classList,o=e.config,h=e.customIcon,g=e.enableOverlay,_=e.imageProps,v=e.itemIndex,b=e.location,O=e.maxWidth,w=e.overrideTracking,E=e.toggleRespect,P=e.usePortal;return a.default.createElement("div",{className:n.wrapper||d.default.wrapper},a.default.createElement("div",{className:"".concat(f.default.card," ").concat(d.default.card," ").concat(r?m.default.border:"")},a.default.createElement(s.default,{className:f.default.imageContainer,itemIndex:v,location:b,overrideTracking:w,project:t},a.default.createElement("div",{className:f.default.itemImage},a.default.createElement(i.default,y({alt:t.name,className:f.default.lazyImage,ratio:"4:3",setStyle:!1,src:t.cover_image_url,width:O},_)),t.contest_winner&&a.default.createElement("div",{className:"".concat(p.default.h5," ").concat(d.default.corner)},"Winner")),g&&a.default.createElement("div",{className:f.default.overlay},a.default.createElement("span",{className:p.default.bodyS},t.one_liner))),a.default.createElement("div",{className:d.default.body},a.default.createElement(s.default,{className:"".concat(f.default.title," ").concat(p.default.bodyM," ").concat(p.default.linkCharcoal),itemIndex:v,location:b,overrideTracking:w,project:t},t.name),a.default.createElement("div",{className:d.default.spacer}),a.default.createElement("div",null,a.default.createElement(u.default,{project:t}))),a.default.createElement(l.default,{className:f.default.moreInfo,controlledRespects:o.controlledRespects||!1,customIcon:h,project:t,toggleRespect:E,usePortal:P})))};_.propTypes={cardBorder:n.default.bool,classList:n.default.shape({wrapper:n.default.string}),config:n.default.shape({controlledRespects:n.default.bool}),customIcon:n.default.func,enableOverlay:n.default.bool,imageProps:n.default.object,itemIndex:n.default.number,location:n.default.string,maxWidth:n.default.number,overrideTracking:n.default.func,project:n.default.shape({content_type:n.default.oneOfType([n.default.string,n.default.array]),cover_image_url:n.default.string,difficulty:n.default.string,edit_url:n.default.string,guest_name:n.default.string,id:n.default.number,hid:n.default.string,name:n.default.string,one_liner:n.default.string,published_state:n.default.string,respects:n.default.number,stats:n.default.object,team:n.default.object,url:n.default.string}).isRequired,toggleRespect:n.default.func,usePortal:n.default.bool},_.defaultProps={cardBorder:!1,classList:{},config:{controlledRespects:!1},customIcon:function(e,t){return g.includes(e.published_state)?null:a.default.createElement(o.default,{projectId:e.id,usePortal:t})},enableOverlay:!0,imageProps:{},itemIndex:null,location:null,maxWidth:350,overrideTracking:null,toggleRespect:function(){},usePortal:!1};var v=_;t.default=v},,,,,function(e,t,r){"use strict";var n,a;function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getStatusForFilterEnum=function(e){return l[e]||null},t.getSortEnumForFilter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&u[e]||i},t.SUBMITTED_FILTER=t.SCHEDULED_FILTER=t.PUBLISHED_FILTER=t.DRAFT_FILTER=t.ALL_FILTER=t.UPDATED_SORT=t.TRENDING_DESC_SORT=t.PUBLISHED_SORT=t.ALL_SORT=t.SUBMITTED_STATUS=t.SCHEDULED_STATUS=t.PUBLISHED_STATUS=t.DRAFT_STATUS=void 0;t.DRAFT_STATUS="DRAFT";t.PUBLISHED_STATUS="PUBLISHED";t.SCHEDULED_STATUS="SCHEDULED";t.SUBMITTED_STATUS="SUBMITTED";var i="ALL_FOR_ADMIN";t.ALL_SORT=i;t.PUBLISHED_SORT="PUBLISHED_AT";t.TRENDING_DESC_SORT="TRENDING_DESC";t.UPDATED_SORT="UPDATED_AT";t.ALL_FILTER="all";t.DRAFT_FILTER="draft";t.PUBLISHED_FILTER="published";t.SCHEDULED_FILTER="scheduled";t.SUBMITTED_FILTER="submitted";var l=(o(n={},"draft","DRAFT"),o(n,"published","PUBLISHED"),o(n,"scheduled","SCHEDULED"),o(n,"submitted","SUBMITTED"),n),u=(o(a={},"draft","UPDATED_AT"),o(a,"published","PUBLISHED_AT"),o(a,"scheduled","PUBLISHED_AT"),o(a,"submitted","UPDATED_AT"),a)},function(e,t,r){e.exports={med:"(max-width: 768px)",small:"(max-width: 480px)",asphalt:"#D8D8D8",fog:"#F7F7F7",hackster:"#2E9FE6",pebble:"#767676",standardBorderRadius:"4px",actionsWrapper:"news_admin_list__actionsWrapper__3JJRy",addBtnDefault:"news_admin_list__addBtnDefault__1P5M0",addBtnPlus:"news_admin_list__addBtnPlus__2m4Id",header:"news_admin_list__header__1xRTt",listItem:"news_admin_list__listItem__33G-2",listItemSelectable:"news_admin_list__listItemSelectable__1-tmI",listItemCoverImage:"news_admin_list__listItemCoverImage__30w5M",listItemCoverImageWrapper:"news_admin_list__listItemCoverImageWrapper__166-d",listItemAuthorCell:"news_admin_list__listItemAuthorCell__17zXU",listItemDateCell:"news_admin_list__listItemDateCell__1szhY",listItemMobileAuthorStatus:"news_admin_list__listItemMobileAuthorStatus__61pYr",listItemTitleCell:"news_admin_list__listItemTitleCell__uqMnz",listWrapper:"news_admin_list__listWrapper__2Xiqx",star:"news_admin_list__star__TIM4h",inputWrapper:"news_admin_list__inputWrapper__3m98B",listItemData:"news_admin_list__listItemData__7ZuVj",statusColorBlock:"news_admin_list__statusColorBlock__3xou3"}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(115)),i=u(r(15)),l=u(r(2));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.classNames,r=e.disabled,a=e.isBusy,l=e.mode,u=e.primaryBtnConfig,s=e.secondaryBtnConfig;return n.default.createElement("div",{className:t.root},n.default.createElement(o.default,{color:u.color||"",disabled:r,isBusy:a,onClick:u.onClick||null,size:u.size||"lg",text:"default"===l?u.text:u.editModeText||"Save changes"}),n.default.createElement(i.default,{colorStyle:"cancel",disabled:r||a,onClick:s.onClick||null,size:s.size||"lg"},s.text||"Cancel"))};s.propTypes={classNames:a.default.shape({root:a.default.string}),disabled:a.default.bool,isBusy:a.default.bool,mode:a.default.string,primaryBtnConfig:a.default.shape({color:a.default.string,editModeText:a.default.string,onClick:a.default.func,size:a.default.string,text:a.default.string.isRequired}),secondaryBtnConfig:a.default.shape({color:a.default.string,onClick:a.default.func,size:a.default.string,text:a.default.string})},s.defaultProps={classNames:{root:l.default.marginTop60},disabled:!1,isBusy:!1,mode:"default",primaryBtnConfig:{color:"",editModeText:"Save changes",onClick:null,size:"lg"},secondaryBtnConfig:{color:"cancel",onClick:null,size:"lg",text:"Cancel"}};var c=s;t.default=c},function(e,t,r){e.exports={charcoal:"#111",small:"(max-width: 480px)",med:"(max-width: 768px)",container:"view_all__container__YrE2y",dummyCard:"view_all__dummyCard__3MjQk",dummyProjectCard:"view_all__dummyProjectCard__xMsv2 view_all__dummyCard__3MjQk",emtpyMsg:"view_all__emtpyMsg__xb_Es",header:"view_all__header__1nFpJ",scrollerInner:"view_all__scrollerInner__KdXE6",scrollerItem:"view_all__scrollerItem__IfvA6",scrollerItemProject:"view_all__scrollerItemProject__20RRh view_all__scrollerItem__IfvA6",title:"view_all__title__3D87k"}},function(e,t,r){e.exports={fog:"#F7F7F7",error:"#D0021B",asphalt:"#D8D8D8",standardBorder:"1px solid #D8D8D8",standardBorderRadius:"4px",root:"home_sections__root__2M1V-",header:"home_sections__header__2zYXU",newSectionBtnWrapper:"home_sections__newSectionBtnWrapper__rx6Es",toolbar:"home_sections__toolbar__2yE3_",ghostDragBox:"home_sections__ghostDragBox__2xsHt",headerCell:"home_sections__headerCell__2LWcw",headerCellName:"home_sections__headerCellName__2v6qT home_sections__headerCell__2LWcw",tableContainer:"home_sections__tableContainer__3hw9i",inputContainer:"home_sections__inputContainer__2syRN",inputContainerError:"home_sections__inputContainerError__1k5jQ home_sections__inputContainer__2syRN",menuContainer:"home_sections__menuContainer__2mG5d",radioGroup:"home_sections__radioGroup__1ei_8",radioButtonContainer:"home_sections__radioButtonContainer__1BKmg",option:"home_sections__option__3U2dO",optionDisabled:"home_sections__optionDisabled__1an-T",optionName:"home_sections__optionName__m_k-I",previewHeader:"home_sections__previewHeader__39ZR2",previewHeaderFixedContainer:"home_sections__previewHeaderFixedContainer__1NgJI",previewHeaderWrapper:"home_sections__previewHeaderWrapper__ONbqC",previewHomePageWrapper:"home_sections__previewHomePageWrapper__2YQ_2",previewRoot:"home_sections__previewRoot__3aA3e",previewWrapper:"home_sections__previewWrapper__2j-8c"}},function(e,t,r){e.exports={pebble:"#767676",charcoal:"#111",graphite:"#4A4A4A",small:"(max-width: 480px)",arrow:"list__arrow__LzGBh",arrowWrapper:"list__arrowWrapper__cld-P",card:"list__card__3oqoQ",cardInner:"list__cardInner__2gFoP",childrenSection:"list__childrenSection__YH2US",dialogContainer:"list__dialogContainer__wHTjc",dialogTitle:"list__dialogTitle__2sUpQ",dialogDismissArrow:"list__dialogDismissArrow__38Br9",dropdown:"list__dropdown__2M_Ra",icon:"list__icon__FVl9r",info:"list__info__2Ugeq",list:"list__list__1PZvx",noRecordsMessage:"list__noRecordsMessage__322FK",roundIcon:"list__roundIcon__2IRMR",subtitle:"list__subtitle__1mtOK",textSection:"list__textSection__23ANL",title:"list__title__3G2mG"}},function(e,t,r){e.exports={med:"(max-width: 768px)",small:"(max-width: 480px)",loader:"profile__loader__2pH3t",placeholder:"profile__placeholder__1nR4u",placeholderLabelSegment:"profile__placeholderLabelSegment__2mvT9",sectionContainer:"profile__sectionContainer__2NsyJ",sectionHeader:"profile__sectionHeader__3DMec",count:"profile__count__iycMC",toolsAndCommunities:"profile__toolsAndCommunities__1sKc7",infoPanel:"profile__infoPanel__2GqS1",panelPositionLarge:"profile__panelPositionLarge__3PIGt",panelPositionSmall:"profile__panelPositionSmall__1HuzR",userInfo:"profile__userInfo__1olcP",userInfoContent:"profile__userInfoContent__1LMEx",userInfoPanelA:"profile__userInfoPanelA__1ESqo profile__infoPanel__2GqS1",userInfoPanelB:"profile__userInfoPanelB__3c84V profile__infoPanel__2GqS1",award:"profile__award__refUY",awardIconContainer:"profile__awardIconContainer__2UtWt",awardIcon:"profile__awardIcon__2DqIU",communities:"profile__communities__3wlPG",container:"profile__container__1cNdA"}},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canConvertToMP4=c,t.getHeight=d,t.parseRatio=f,t.processURL=function(e){var t=e.fit,r=void 0===t?"min":t,n=e.forceImg,a=void 0!==n&&n,o=e.queryParams,f=void 0===o?{}:o,p=e.ratio,m=e.src,h=void 0===m?"":m,y=e.useSrcSet,g=void 0!==y&&y,_=e.width;if(!/hackster?.*\.imgix\.net/.test(h))return{format:i,height:d(p,_),src:h,srcSet:null};var v=function(e){return e.split("?")[0]}(h);if(c(v)&&!a)return function(e){var t=e.src,r=e.ratio,n=e.width,a=e.fit,o=e.queryParams,i=d(r,n);return{format:l,height:i,src:u({fit:a,format:l,height:i,queryParams:Object.assign({},o,{fm:"mp4"}),src:t,width:n})}}({src:v,ratio:p,width:_,fit:r,queryParams:f});return function(e){var t=e.src,r=e.ratio,n=e.width,a=e.fit,o=e.queryParams,l=e.useSrcSet,c=d(r,n);return{format:i,height:c,src:u({fit:a,height:c,queryParams:o,src:t,width:n}),srcSet:l?s({fit:a,height:c,queryParams:o,src:t,width:n}):null}}({src:v,ratio:p,width:_,fit:r,queryParams:f,useSrcSet:g})},t.VIDEO=t.IMG=void 0;var n,a=(n=r(1528))&&n.__esModule?n:{default:n};function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i="IMG";t.IMG=i;var l="VIDEO";function u(e){var t=e.format,r=e.fit,n=e.height,a=e.queryParams,o=e.src,i=e.width;return"".concat(o,"?").concat(function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").includes(".gif");return e===l||t?"gifq=35":"auto=compress%2Cformat"}(t,o),"&w=").concat(i,"&h=").concat(n,"&fit=").concat(r).concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);return t.length?"&"+t.map(function(t){return"".concat(t,"=").concat(e[t])}).join("&"):""}(a))}function s(e){var t=e.fit,r=e.height,n=e.queryParams,a=e.src,o=e.width;return[1,2,3].map(function(e){return"".concat(u({fit:t,height:r,queryParams:Object.assign({},n,{dpr:e}),src:a,width:o})," ").concat(e,"x")}).join(", ")}function c(e){return(0,a.default)()&&/\.gif/.test(e)}function d(e,t){var r=f(e),n=r.h,a=r.w;return parseInt(t,10)*(n/a)}function f(e){var t=o(e.split(":"),2),r=t[0],n=t[1];return{h:parseInt(n,10),w:parseInt(r,10)}}t.VIDEO=l},function(e,t,r){e.exports={fog:"#F7F7F7",fade:"lazy_image__fade__pGh1K",fadeIn:"lazy_image__fadeIn__1kICV",image:"lazy_image__image__hVuzg lazy_image__fade__pGh1K",imageBG:"lazy_image__imageBG__3elk0 lazy_image__fade__pGh1K",root:"lazy_image__root__3J0Tw"}},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=(n=r(1))&&n.__esModule?n:{default:n},i=r(438),l=r(12);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==u(a)&&"function"!=typeof a?f(n):a).state={position:null},r.setPosition=r.setPosition.bind(f(r)),r._intersectionObserver,r._resizeObserver,r._sentinelEnd,r._sentinelStart,r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a.PureComponent),r=t,(n=[{key:"componentDidMount",value:function(){this._addObservers(),this.setPosition()}},{key:"componentWillUnmount",value:function(){this._removeObservers()}},{key:"setPosition",value:function(e){var t=this,r=this._getPosition();this.state.position!==r&&this.setState({position:r},function(){return t.props.reportPosition(r)})}},{key:"_addObservers",value:function(){window.addEventListener("load",this.setPosition),this._intersectionObserver=new i.IntersectionObserver(this.setPosition),this._sentinelStart&&this._intersectionObserver.observe(this._sentinelStart),this._sentinelEnd&&this._intersectionObserver.observe(this._sentinelEnd),this._resizeObserver=new i.ResizeObserver(this.setPosition),this._resizeObserver.observe(document.getElementById(this.props.parentId))}},{key:"_doesStartAtTop",value:function(){return"top"===this.props.startPos}},{key:"_getEndPosKey",value:function(){return this._doesStartAtTop()?"bottom":"top"}},{key:"_getPosition",value:function(){return this._shouldStickToStart()?"start":this._shouldStickToEnd()?"end":"fixed"}},{key:"_getSentinelStyle",value:function(){var e;return s(e={},this.props.startPos,this._negateBuffer()),s(e,"position","absolute"),e}},{key:"_getStyle",value:function(){var e;switch(this.state.position){case"end":return s(e={},this._getEndPosKey(),0),s(e,"position","absolute"),e;case"fixed":return s({position:"fixed"},this.props.startPos,this.props.startBuffer);default:return{}}}},{key:"_negateBuffer",value:function(){return"number"==typeof this.props.startBuffer?-1*this.props.startBuffer:"calc((".concat(this.props.startBuffer,") * -1)")}},{key:"_removeObservers",value:function(){window.removeEventListener("load",this.setPosition),this._intersectionObserver.disconnect(),this._intersectionObserver=void 0,this._resizeObserver.disconnect(),this._resizeObserver=void 0}},{key:"_shouldStickToEnd",value:function(){return!(!this.props.stickToEnd||!this._sentinelEnd)&&(this._doesStartAtTop()?this._sentinelEnd.getBoundingClientRect().top<=0:this._sentinelEnd.getBoundingClientRect().bottom>=(0,l.windowInnerHeight)())}},{key:"_shouldStickToStart",value:function(){return this._doesStartAtTop()?this._sentinelStart.getBoundingClientRect().top>=0:this._sentinelStart.getBoundingClientRect().bottom<=(0,l.windowInnerHeight)()}},{key:"_getEndPlaceholder",value:function(){var e,t=this;return a.default.createElement("div",{style:(e={},s(e,this._getEndPosKey(),0),s(e,"position","absolute"),s(e,"visibility","hidden"),e)},a.default.createElement("div",{ref:function(e){return t._sentinelEnd=e},style:this._getSentinelStyle()}),this.props.renderPlaceholder?this.props.renderPlaceholder():this.props.children)}},{key:"_renderContent",value:function(){return a.default.createElement("div",{className:this.props.className,style:this._getStyle()},this.props.children)}},{key:"_renderEnd",value:function(){return this.props.stickToEnd&&this._getEndPlaceholder()}},{key:"_renderStart",value:function(){var e=this;return a.default.createElement("div",{ref:function(t){return e._sentinelStart=t},style:this._getSentinelStyle()})}},{key:"render",value:function(){var e=this._doesStartAtTop()?[this._renderStart(),this._renderContent(),this._renderEnd()]:[this._renderEnd(),this._renderContent(),this._renderStart()];return a.default.createElement(a.Fragment,null,a.default.Children.toArray(e))}}])&&c(r.prototype,n),o&&c(r,o),t}();m.propTypes={className:o.default.string,parentId:o.default.string.isRequired,renderPlaceholder:o.default.func,reportPosition:o.default.func,startBuffer:o.default.oneOfType([o.default.number,o.default.string]),startPos:o.default.oneOf(["top","bottom"]),stickToEnd:o.default.bool},m.defaultProps={className:"",renderPlaceholder:null,reportPosition:function(){},startBuffer:0,startPos:"top",stickToEnd:!1};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(190)),a=i(r(273)),o=r(124);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).call(this,e,"channels",a.default))}var r,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n["default"]),r=t,(i=[{key:"searchWithQueryString",value:function(e,t,r){var n=this;return new Promise(function(i,l){return(0,a.default)(t,r).then(function(t){return(0,o.searchIndexWithFacets)(Object.assign({index:n.algoliaIndex,query:e},t))}).then(function(e){return i(e)}).catch(function(e){return l(e)})})}}])&&u(r.prototype,i),l&&u(r,l),t}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(30)),i=l(r(898));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return e.lazy?n.default.createElement(o.default,e):n.default.createElement(i.default,e)};u.propTypes={lazy:a.default.bool},u.defaultProps={lazy:!1};var s=u;t.default=s},,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addQueryParamsToURL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(l=e.split("?"),u=2,function(e){if(Array.isArray(e))return e}(l)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(l,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),a=r[0],o=r[1],i=Object.assign({},(0,n.mapifyStringQuery)(o),t);var l,u;return"".concat(a,"?").concat((0,n.mapToStringQuery)(i))},t.appendToPath=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t.length)return e;"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var r=t.map(function(e){return window.encodeURIComponent(e)});return o(e.concat("/").concat(r.join("/")))},t.cleanPreAndPostSlashes=function(e){return"/"===e||""===e?"/":e.split("/").filter(function(e){return e.length}).join("/")},t.getDomain=function(e){var t=e.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n\?\=]+)/im),r=t&&t.length?t[1]:null;return r&&r.length?r:null},t.getPathUpTilPart=function(e){var t=a.windowLocationPathname.get(),r=t.split("/").filter(function(e){return e.length&&"/"!==e}),n=r.indexOf(e);return n>-1?r.slice(0,n+1).join("/"):t},t.prependLeadingSlash=o,t.stripProtocol=function(e){return e.replace(/(^\w+:|^)\/\//,"")};var n=r(44),a=r(12);function o(e){return"/"!==e.slice(0,1)?"/".concat(e):e}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.P=t.A=t.UP=t.RIGHT=t.LEFT=t.DOWN=t.SPACE=t.ESC=t.ENTER=t.DELETE=void 0;t.DELETE=8;t.ENTER=13;t.ESC=27;t.SPACE=32;t.DOWN=40;t.LEFT=37;t.RIGHT=39;t.UP=38;t.A=65;t.P=80},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(9)),i=s(r(50)),l=s(r(753)),u=s(r(205));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.cardBorder,r=e.classList;return n.default.createElement("div",{className:r.wrapper||i.default.wrapper},n.default.createElement("div",{className:"".concat(t?i.default.cardWithBorder:i.default.card," ").concat(r.card)},n.default.createElement("div",{className:u.default.imageContainer},n.default.createElement("div",{className:"".concat(u.default.itemImage," ").concat(l.default.itemImage)})),n.default.createElement("div",{className:i.default.body},n.default.createElement("div",{className:l.default.contentType}),n.default.createElement("div",{className:l.default.title}),n.default.createElement("div",{className:l.default.author})),n.default.createElement("section",{className:u.default.moreInfo},n.default.createElement("div",{className:l.default.stats},n.default.createElement("div",{className:l.default.thumbs},n.default.createElement(o.default,{name:"thumbs-up",size:12}),n.default.createElement("span",{className:l.default.statNumber})),n.default.createElement("div",{className:l.default.views},n.default.createElement(o.default,{name:"eye",size:16}),n.default.createElement("span",{className:l.default.statNumber}))),n.default.createElement("div",{className:l.default.difficulty}))))};c.propTypes={cardBorder:a.default.bool,classList:a.default.shape({card:a.default.string,wrapper:a.default.string})},c.defaultProps={cardBorder:!1,classList:{}};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(1)),a=c(r(0)),o=c(r(9)),i=r(44),l=c(r(1594)),u=r(55),s=c(r(1595));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){if(null===e)return u.NOOP_HREF;var r=(0,i.mapifyStringQuery)(e);return"?"+(0,i.mapToStringQuery)(Object.assign({},r,{page:t}))},f=function(e){return a.default.createElement("div",{className:"".concat(s.default.root," ").concat(e.classList.root)},(r=(t=e).currentPage,n=t.currentQuery,i=t.disabled,u=t.onClick,c=!i&&function(e){return e>1}(r),a.default.createElement("a",{className:"".concat(s.default.arrow," ").concat(c?"":s.default.disabled),href:c?d(n,r-1):null,onClick:function(e){if(e.preventDefault(),c)return u(r-1)}},a.default.createElement(o.default,{name:"arrow-left"}))),e.totalPages>0&&function(e){var t=e.currentPage,r=e.currentQuery,n=e.disabled,o=e.onClick,i=e.totalPages;return(0,l.default)(t,i).map(function(e,i){return"buffer"===e?a.default.createElement("span",{key:"".concat(e,"_").concat(i),className:s.default.buffer},"..."):a.default.createElement("a",{key:"".concat(e,"_").concat(i),className:"".concat(s.default.number," ").concat(n?s.default.disabled:t===e?s.default.currentPage:""),href:d(r,e),onClick:function(r){if(r.preventDefault(),!n&&t!==e)return o(e)}},e.toString())})}(e),function(e){var t=e.currentPage,r=e.currentQuery,n=e.disabled,i=e.nextPage,l=e.onClick,u=e.totalPages,c=!n&&function(e,t,r){return e<r||!!t}(t,i,u);return a.default.createElement("a",{className:"".concat(s.default.arrow," ").concat(c?"":s.default.disabled),href:c?d(r,t+1):null,onClick:function(e){if(e.preventDefault(),c)return l(t+1)}},a.default.createElement(o.default,{name:"arrow-right"}))}(e));var t,r,n,i,u,c};f.propTypes={classList:n.default.shape({root:n.default.string}),currentPage:n.default.number.isRequired,currentQuery:n.default.string,disabled:n.default.bool,nextPage:n.default.number,onClick:n.default.func.isRequired,prevPage:n.default.number,totalPages:n.default.number},f.defaultProps={classList:{root:""},currentQuery:null,disabled:!1,nextPage:null,prevPage:null,totalPages:null};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWhitelabelRootPath=l,t.whitelabelUrlHelper=void 0;var n=r(12);function a(e){return e&&"string"==typeof e&&e.length?"/"===e[0]?e:"/".concat(e):""}var o,i=function(){return o||(o=l()),{appendToRootPath:function(e){return function(e,t){return t&&"string"==typeof t&&t.length?(r=t).includes("http://")||r.includes("https://")?t:"/"===e?a(t):"".concat(e).concat(a(t)):"";var r}(o,e)},rootPath:"/"===o?"":o}};function l(){if(!(0,n.documentExists)())throw new Error("whiteLabelUrlHelper cannot be used during server-side rendering");var e=[].slice.call(document.getElementsByTagName("meta")).find(function(e){return"whitelabel_base_path"===e.name});return e&&e.content?e.content:"/"}t.whitelabelUrlHelper=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(14),a=r(331),o=r(12);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.history,n=t.queryBuilder,o=t.queryString,i=t.resolverKey;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graphQLQueryString=o,this.history=r,this.queryBuilder=n,this.queryHistory={currentQuery:"",nextQuery:""},this.mapifySearchQuery=a.mapifySearchQuery,this.resolverKey=i||null,this.stringifyQueryMap=a.stringifyQueryMap}var t,r,l;return t=e,(r=[{key:"initializeFromUrl",value:function(e){var t=this;return new Promise(function(r,n){return t.mapifySearchQuery().then(function(e){return t.buildAndStoreNextHistory(e)}).then(function(r){return t.queryBuilder(Object.assign({},e,r))}).then(function(r){return t.search(t.graphQLQueryString(),Object.assign({},e,r))}).then(function(e){return r(e)}).catch(function(e){return n(e)})})}},{key:"buildAndStoreNextHistory",value:function(e){var t=this;return new Promise(function(r,n){return t.stringifyQueryMap(e).then(function(n){t.queryHistory.nextQuery=n,r(e)}).catch(function(e){return n(e)})})}},{key:"setCurrentHistoryAndClearNext",value:function(e){return(o.windowLocationSearch.get().split("?")[1]||"")!==this.queryHistory.nextQuery&&this.history.location.search!==this.queryHistory.nextQuery&&(this.queryHistory.currentQuery=this.queryHistory.nextQuery,this.queryHistory.nextQuery="",this.history.push({search:this.queryHistory.currentQuery})),Promise.resolve(e)}},{key:"search",value:function(e,t){var r=this;return new Promise(function(a,o){return(0,n.graphQuery)(e,t).then(function(e){return r.setCurrentHistoryAndClearNext(r._resolveQLResponse(e))}).then(function(e){return a(e)}).catch(function(e){return o(e)})})}},{key:"_resolveQLResponse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.resolverKey&&e.hasOwnProperty(this.resolverKey))return e[this.resolverKey];if(t>=5)return e;if(e.hasOwnProperty("records"))return e;var r=Object.keys(e)[0];return this._resolveQLResponse(e[r],t+=1)}},{key:"searchWithFilterString",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(a,o){return r.mapifySearchQuery().then(function(t){return r._appendFilterStringToQueryMap(t,e,n)}).then(function(e){return r.buildAndStoreNextHistory(e)}).then(function(e){return r.queryBuilder(Object.assign({},t,e))}).then(function(e){return r.search(r.graphQLQueryString(),Object.assign({},t,e))}).then(function(e){return a(e)}).catch(function(e){return o(e)})})}},{key:"_appendFilterStringToQueryMap",value:function(e,t,r){var n=t.split("=");return"null"===n[1]&&e.hasOwnProperty(n[0])?delete e[n[0]]:"page"===n[0]&&"1"===n[1]&&e.hasOwnProperty("page")?delete e.page:"null"!==n[1]&&(e[n[0]]=n[1]),r&&e.page&&delete e.page,Promise.resolve(e)}}])&&i(t.prototype,r),l&&i(t,l),e}();t.default=l},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=y(r(1)),o=y(r(154)),i=y(r(1790)),l=y(r(9)),u=y(r(1791)),s=y(r(1792)),c=y(r(66)),d=y(r(1793)),f=y(r(1794)),p=y(r(7)),m=r(11),h=y(r(21));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){return Promise.resolve(e)},P=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=b(t).call(this,e))||"object"!==g(a)&&"function"!=typeof a?O(n):a).state={initialized:!1,isBusy:!0,openMenu:!1,options:e.options,selected:[],value:""},r.debouncedRequest=(0,o.default)(r.debouncedRequest.bind(O(r)),150),r.onBlur=r.onBlur.bind(O(r)),r.onChange=r.onChange.bind(O(r)),r.onClear=r.onClear.bind(O(r)),r.onClick=r.onClick.bind(O(r)),r.onKeyDown=r.onKeyDown.bind(O(r)),r.onSelect=r.onSelect.bind(O(r)),r.onSelectActionableClick=r.onSelectActionableClick.bind(O(r)),r.onUnselect=r.onUnselect.bind(O(r)),r.__resetState=r.__resetState.bind(O(r)),r.__triggerOnChangeForValue=r.__triggerOnChangeForValue.bind(O(r)),r._input,r._blurTimeout,r._ignoreClick=!1,r._asyncCache={},r._theme=(0,f.default)(e.theme),r}var r,a,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this._isMounted=!0,this._init()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._clearBlurTimeout()}},{key:"_init",value:function(){return this._isAsync()&&this.props.asyncOpts.initOnMount?this._initAsync():this._initSync()}},{key:"_initSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState(Object.assign({initialized:!0,isBusy:!1},this._initStateValues(e||this.props.value,this.props.options)))}},{key:"_initAsync",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,m.isAFunction)(this.props.asyncOpts.resolver)?this.props.asyncOpts.resolver:E;return this.props.asyncOpts.request(r||this.props.asyncOpts.initQuery||"").then(function(e){return n(e)}).then(function(n){var a=n.options;null!==t||null!==r||e._hasInAsyncCache("")||e._setInAsyncCache("",a),e._setStateIfMounted(Object.assign({initialized:!0,isBusy:!1},e._initStateValues(t||e.props.value,a)))}).catch(function(t){(0,m.isAFunction)(e.props.asyncOpts.onError)&&e.props.asyncOpts.onError(t),(0,p.default)("Select _init: ",t)})}},{key:"_initStateValues",value:function(e,t){if("default"===this.props.type){var r=(0,m.isObject)(e)?e.value:e,n=t.find(function(e){return e.value===r});return{options:t,selected:n?[n]:[],value:n?n.label:r}}return Array.isArray(e)?{options:t,selected:e,value:""}:(console.warn("Select got a value prop of: ".concat(e,', but expects an array of objects for type "multi"')),{options:t,selected:[],value:""})}},{key:"__resetState",value:function(){this.setState({openMenu:!1,options:this.props.options,selected:[],value:""})}},{key:"__triggerOnChangeForValue",value:function(e,t){return this._isAsync()?this._initAsync(e,t):this._initSync(e)}},{key:"_getFromAsyncCache",value:function(e,t){return this._hasInAsyncCache(e)?this._asyncCache[e]:[]}},{key:"_hasInAsyncCache",value:function(e){return this._asyncCache.hasOwnProperty(e)}},{key:"_setInAsyncCache",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!1!==this._hasInAsyncCache(e)&&!0!==r||(this._asyncCache[e]=t)}},{key:"debouncedRequest",value:function(e){e()}},{key:"onBlur",value:function(){var e=this;this._blurTimeout=window.setTimeout(function(){e._clearBlurTimeout(),e.setState({openMenu:!1,options:e._getOptionsForPotentialReset(),value:e._getInputValueOnBlur()})},150)}},{key:"onChange",value:function(e){var t=e.target.value;return this._isAsync()?this._asyncOnChange(t):this._syncOnChange(t)}},{key:"_asyncOnChange",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.setState({openMenu:r,isBusy:!0,value:e}),this.debouncedRequest(function(){var r=(0,m.isAFunction)(t.props.asyncOpts.resolver)?t.props.asyncOpts.resolver:E;return t.props.asyncOpts.request(e).then(function(e){return r(e)}).then(function(r){var n=r.options;""===e&&!1===t._hasInAsyncCache("")&&t._setInAsyncCache("",n),t._setStateIfMounted({isBusy:!1,selected:t._isMulti()?t.state.selected:[],options:n})}).catch(function(e){(0,m.isAFunction)(t.props.asyncOpts.onError)&&t.props.asyncOpts.onError(e),t._setStateIfMounted({isBusy:!1}),(0,p.default)("Select _asyncOnChange",e)})})}},{key:"_syncOnChange",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState({openMenu:t,selected:this._isMulti()?this.state.selected:[],value:e})}},{key:"onClear",value:function(){this._propagateSelected([],{openMenu:!1,options:this._getOptionsForPotentialReset(),selected:[],value:""})}},{key:"onClick",value:function(){!1!==this.state.initialized&&(this._ignoreClick?this._ignoreClick=!1:!1!==this.state.openMenu||this.props.disabled||this._setStateAndFocusInput({openMenu:!0}))}},{key:"onKeyDown",value:function(e){var t=this;switch(e.keyCode){case 8:if(this._isMulti()&&""===e.target.value&&""===this.state.value&&this.state.selected.length>0){var r=this.state.selected.slice(0,this.state.selected.length-1);this._propagateSelected(r,{selected:r},function(e){return t.setState(e)})}break;case 27:this.state.openMenu&&this.setState({openMenu:!1});break;case 40:!1!==this.state.openMenu||this.props.disabled||this.setState({openMenu:!0});break;default:return}}},{key:"onSelect",value:function(e,t){var r=t?this.state.selected.filter(function(t){return t.value!==e.value}):this._isMulti()?this.state.selected.concat(e):[e],n={selected:r,value:this._isMulti()||!0===t?"":e.label,openMenu:!1,options:this._getOptionsForPotentialReset()};this._propagateSelected(r,n)}},{key:"onSelectActionableClick",value:function(){return(0,m.isAFunction)(this.props.creatableOpts.request)?this._createOptionAsync():this._createOptionSync()}},{key:"onUnselect",value:function(e){var t=this,r=this.state.selected.filter(function(t){return t.value!==e.value});this._propagateSelected(r,{selected:r},function(e){return t._setIngoreClickAndSetState(e)})}},{key:"_clearBlurTimeout",value:function(){this._blurTimeout&&(window.clearTimeout(this._blurTimeout),this._blurTimeout=void 0)}},{key:"_createOptionAsync",value:function(){var e=this;this._setStateAndFocusInput({isBusy:!0});var t=(0,m.isAFunction)(this.props.creatableOpts.resolver)?this.props.creatableOpts.resolver:E;return this.props.creatableOpts.request(this.state.value).then(function(e){return t(e)}).then(function(t){var r=t.option;return e.setState({isBusy:!1,openMenu:!1,options:[r].concat(_(e.state.options)),selected:e._isMulti()?e.state.selected.concat(r):[r],value:e._isMulti()?"":r.label})}).catch(function(t){(0,m.isAFunction)(e.props.creatableOpts.onError)&&e.props.creatableOpts.onError(t),(0,p.default)("_createOptionAsync",t)})}},{key:"_createOptionSync",value:function(){var e=this.state.value,t={label:e,value:e},r=this._isMulti()?this.state.selected.concat(t):[t];this._propagateSelected(r,{openMenu:!1,options:[t].concat(_(this.state.options)),selected:r,value:this._isMulti()?"":t.label})}},{key:"_filterOptions",value:function(){return this._isAsync()?this.state.options:(0,d.default)({options:this.state.options,value:this.state.value,opts:this.props.searchOpts})}},{key:"_getInputValueOnBlur",value:function(){return this.props.debugMode?this.state.value:this._isMulti()?"":this.state.selected.length>0?this.state.value:""}},{key:"_getOptionsForPotentialReset",value:function(){return this._isAsync()?this._getFromAsyncCache(""):this.state.options}},{key:"_getSelectedToPropagate",value:function(e){return this._isMulti()?e:e.length>0?e[0]:null}},{key:"_isAsync",value:function(){return(0,m.isAFunction)(this.props.asyncOpts.request)}},{key:"_isMulti",value:function(){return"multi"===this.props.type}},{key:"_propagateSelected",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,m.isAFunction)(this.props.onSelectOpts.request)?this._propagateSelectedAsync(this._getSelectedToPropagate(e),t,r):this._propagateSelectedSync(this._getSelectedToPropagate(e),t,r)}},{key:"_propagateSelectedAsync",value:function(e,t,r){var n=this;this.setState({isBusy:!0});var a=(0,m.isAFunction)(this.props.onSelectOpts.resolver)?this.props.onSelectOpts.resolver:E;return this.props.onSelectOpts.request(e,t,this.state).then(function(e){return a(e)}).then(function(e){var a=e.state,o=Object.assign({},t,a,{isBusy:!1});return(0,m.isAFunction)(r)?r(o):n._setStateAndFocusInput(o)}).catch(function(e){(0,m.isAFunction)(n.props.onSelectOpts.onError)&&n.props.onSelectOpts.onError(e),(0,p.default)("_propagateSelectedAsync",e)})}},{key:"_propagateSelectedSync",value:function(e,t,r){this.props.onSelectedChange(e),(0,m.isAFunction)(r)?r(t):null!==t&&this._setStateAndFocusInput(t)}},{key:"_setIngoreClickAndSetState",value:function(e){this._ignoreClick=!0,this._setStateAndFocusInput(e)}},{key:"_setStateAndFocusInput",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._clearBlurTimeout(),this.setState(t,function(){e._input&&e._input.focus()})}},{key:"_setStateIfMounted",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isMounted&&this.setState(e)}},{key:"_getCloseXView",value:function(){if(!this.props.uiOpts.renderX)return null;var e=this._theme.select;return n.default.createElement("span",{className:e.closeXWrapper,onClick:this.onClear},n.default.createElement(l.default,{className:e.closeX,name:"close"}))}},{key:"_getInputView",value:function(){return this._isMulti()?this._getInputAutosizeView():this._getInputDefaultView()}},{key:"_getInputAutosizeView",value:function(){var e=this,t=this._theme.select;return n.default.createElement(i.default,{getInputRef:function(t){return e._input=t},className:"".concat(h.default.input," ").concat(t.input),disabled:!1===this.state.initialized||this.props.disabled,id:this.props.uuid,name:this.props.name,onBlur:this.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:this._getPlaceholder(),value:this.state.value})}},{key:"_getInputDefaultView",value:function(){var e=this,t=this._theme.select;return n.default.createElement("input",{ref:function(t){return e._input=t},className:"".concat(h.default.input," ").concat(t.input),disabled:!1===this.state.initialized||this.props.disabled,id:this.props.uuid,name:this.props.name,onBlur:this.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:this._getPlaceholder(),value:this.state.value})}},{key:"_getLoaderOrCloseXView",value:function(){return this.state.isBusy?this._getSpinnerView():this.state.selected.length>0?this._getCloseXView():void 0}},{key:"_getPlaceholder",value:function(){return!1===this.state.initialized?"Loading...":this._isMulti()&&this.state.selected.length>0?null:this.props.placeholder}},{key:"_getMultiSelectedView",value:function(){if(!1!==this._isMulti())return n.default.createElement(s.default,{onUnselect:this.onUnselect,selected:this.state.selected,styles:this._theme.select})}},{key:"_getSpinnerView",value:function(){var e=this._theme.select;return n.default.createElement("span",{className:e.closeXWrapper},n.default.createElement(c.default,{size:"16"}))}},{key:"render",value:function(){var e=this,t=this._theme.select;return n.default.createElement("div",{style:{maxWidth:this.props.maxWidth},className:t.root},n.default.createElement("div",{className:"".concat(t.container," ").concat(this.state.openMenu?t.menuOpened:""," ").concat(this.props.hasErrors?t.borderError:""," ").concat(this.props.disabled?t.disabled:"")},this.props.uiOpts.leftIconName&&n.default.createElement("div",{className:t.leftIconWrapper},n.default.createElement(l.default,{className:t.leftIcon,name:this.props.uiOpts.leftIconName,size:16})),n.default.createElement("div",{className:"".concat(t.inputWrapper),onClick:this.onClick},this._getMultiSelectedView(),this._getInputView()),n.default.createElement("div",{className:"".concat(t.actions," ").concat(this.props.disabled?t.disabled:"")},this._getLoaderOrCloseXView(),n.default.createElement("span",{className:t.arrowWrapper,onClick:function(){return!e.props.disabled&&e._setStateAndFocusInput({openMenu:!e.state.openMenu})}},n.default.createElement(l.default,{className:"".concat(t.arrow," ").concat(this.state.openMenu?t.arrowSelected:""),name:"arrow-down"})))),(this.props.debugMode||this.state.openMenu)&&n.default.createElement(u.default,{clearBlurTimeout:function(){return e._clearBlurTimeout()},config:this.props.menuOpts,creatable:this.props.creatableOpts.creatable,currentValue:this.state.value,isBusy:this.state.isBusy,onActionableClick:this.onSelectActionableClick,onSelect:this.onSelect,options:this._filterOptions(),selected:this.state.selected,styles:this._theme.menu,templates:{actionable:this.props.templates.menuActionable,actionableText:this.props.templates.menuActionableText,option:this.props.templates.menuOption},uuid:this.props.uuid}))}}])&&v(r.prototype,a),y&&v(r,y),t}();P.propTypes={asyncOpts:a.default.shape({initOnMount:a.default.bool,initQuery:a.default.any,onError:a.default.func,request:a.default.func,resolver:a.default.func}),creatableOpts:a.default.shape({creatable:a.default.bool,onError:a.default.func,request:a.default.func,resolver:a.default.func}),debugMode:a.default.bool,disabled:a.default.bool,hasErrors:a.default.bool,maxWidth:a.default.oneOfType([a.default.number,a.default.string]),menuOpts:a.default.shape({scrollBuffer:a.default.number,scrollToView:a.default.bool}),name:a.default.string,onSelectOpts:a.default.shape({onError:a.default.func,request:a.default.func,resolver:a.default.func}),onSelectedChange:a.default.func,options:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.any})),placeholder:a.default.string,searchOpts:a.default.shape({rule:a.default.oneOf(["absolute","default","norule","strict"])}),templates:a.default.shape({menuActionable:a.default.func,menuActionableText:a.default.func,menuOption:a.default.func}),theme:a.default.oneOf(["default","bootstrap","search"]),type:a.default.oneOf(["default","multi"]),uiOpts:a.default.shape({leftIconName:a.default.string,renderX:a.default.bool}),uuid:a.default.string,value:a.default.oneOfType([a.default.any,a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.value}))])},P.defaultProps={asyncOpts:{initOnMount:!1,initQuery:"",onError:function(){},request:null,resolver:function(e){return Promise.resolve({options:e})}},creatableOpts:{creatable:!1,onError:function(){},request:null,resolver:null},debugMode:!1,disabled:!1,hasErrors:!1,maxWidth:"100%",menuOpts:{scrollBuffer:0,scrollToView:!1},name:null,onSelectOpts:{request:null,resolver:function(e){return Promise.resolve({state:e})}},onSelectedChange:function(){},options:[],placeholder:"",searchOpts:{rule:"default"},templates:{menuActionable:null,menuActionableText:null,menuOption:null},theme:"default",type:"default",uiOpts:{leftIconName:null,renderX:!0},uuid:null,value:""};var k=P;t.default=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=p(r(9)),i=p(r(348)),l=r(218),u=r(20),s=p(r(2)),c=p(r(263)),d=p(r(3)),f=p(r(189));function p(e){return e&&e.__esModule?e:{default:e}}var m={CONFERENCE:"channels",HACKATHON:"wip",MEETUP:"location",WEBINAR:"web",WORKSHOP:"showcase"},h=function(e){var t,r=e.item,a=r.city,p=r.country_iso2,h=r.state,y=r.event_type;return n.default.createElement("span",null,p?(0,l.getFormattedLocation)({city:a,country_iso2:p,state:h}):"Virtual",n.default.createElement(i.default,{classList:{wrapper:"".concat(s.default.marginLeft10," ").concat(f.default.tooltipTarget," ").concat(c.default.tooltipV2)},tooltip:(0,u.capitalize)(y)},n.default.createElement(o.default,{className:d.default.iconBaselineFix,name:(t=y,m[t.toUpperCase()]||"")})))};h.propTypes={item:a.default.shape({city:a.default.string,country_iso2:a.default.string,event_type:a.default.string.isRequired,state:a.default.string}).isRequired},h.defaultProps={city:null,country_iso2:null,state:null};var y=h;t.default=y},function(e,t,r){e.exports={charcoal:"#111",fog:"#F7F7F7",largeBorderRadius:"8px",secondaryBoxShadow:"0 2px 10px 0 rgba(0,0,0,0.15)",standardBorder:"1px solid #D8D8D8",standardBorderRadius:"4px",med:"(max-width: 768px)",small:"(max-width: 480px)",dateBadge:"event_card__dateBadge__2waQp",tooltipTarget:"event_card__tooltipTarget__Cojha",dateDivider:"event_card__dateDivider__2qEit",dateWrapper:"event_card__dateWrapper__2I1l2",ctaLink:"event_card__ctaLink__-rl1S",imageLarge:"event_card__imageLarge__2dYv0",largeCardInfoSection:"event_card__largeCardInfoSection__28vJ0",largeCardInfoWrapper:"event_card__largeCardInfoWrapper__3AX3x",largeCardInfoWrapperLeft:"event_card__largeCardInfoWrapperLeft__23Sde event_card__largeCardInfoWrapper__3AX3x",largeCardInfoWrapperRight:"event_card__largeCardInfoWrapperRight__vNlEF event_card__largeCardInfoWrapper__3AX3x",largeCard:"event_card__largeCard__xz4Xi",largeCardTitle:"event_card__largeCardTitle__1ZC7u"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(124),a=r(331);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.algoliaIndex=r,this.history=t,this.mapifySearchQuery=a.mapifySearchQuery,this.queryBuilder=n,this.queryHistory={currentQuery:"",nextQuery:""},this.stringifyQueryMap=a.stringifyQueryMap}var t,r,i;return t=e,(r=[{key:"initializeFromUrl",value:function(e,t){var r=this;return new Promise(function(n,a){return r.mapifySearchQuery().then(function(e){return r.buildAndStoreNextHistory(e)}).then(function(t){return r.queryBuilder(t,e)}).then(function(e){return r.search(e,t)}).then(function(e){return n(e)}).catch(function(e){return a(e)})})}},{key:"initializeFromUrlWithOpts",value:function(e,t,r){var n=this;return new Promise(function(a,o){return n.mapifySearchQuery().then(function(e){return n.buildAndStoreNextHistory(Object.assign({},t,e))}).then(function(t){return n.queryBuilder(t,e)}).then(function(e){return n.search(e,r)}).then(function(e){return a(e)}).catch(function(e){return o(e)})})}},{key:"buildAndStoreNextHistory",value:function(e){var t=this;return new Promise(function(r,n){return t.stringifyQueryMap(e).then(function(n){t.queryHistory.nextQuery=n,r(e)}).catch(function(e){return n(e)})})}},{key:"setCurrentHistoryAndClearNext",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.history.location.search!==this.queryHistory.nextQuery&&(this.queryHistory.currentQuery=this.queryHistory.nextQuery,this.queryHistory.nextQuery="",t&&this.history.push({search:this.queryHistory.currentQuery})),Promise.resolve(e)}},{key:"search",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.facets,a=void 0===r?"*":r,o=t.facetFilters,i=void 0===o?[]:o,l=t.params,u=void 0===l?{}:l,s=t.query,c=void 0===s?"":s,d=t.sort,f=void 0===d?null:d,p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return u&&u.page&&(u=Object.assign({},u,{page:Math.max((parseInt(u.page)||0)-1,0).toString()})),new Promise(function(t,r){return(0,n.searchIndexWithFacets)({index:e.algoliaIndex,facets:a,facetFilters:i,params:u,query:c,sort:f}).then(function(t){return e.setCurrentHistoryAndClearNext(t,p)}).then(function(e){return t(e)}).catch(function(e){return r(e)})})}},{key:"searchWithFilterString",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(o,i){return r.mapifySearchQuery().then(function(t){return(0,a.appendFilterStringToQueryMap)(Object.assign({},n,t),e)}).then(function(e){return r.buildAndStoreNextHistory(e)}).then(function(e){return r.queryBuilder(e,t)}).then(function(e){return r.search(e)}).then(function(e){return o(e)}).catch(function(e){return i(e)})})}},{key:"searchWithNoEffects",value:function(e,t){var r=this;return new Promise(function(a,o){return r.queryBuilder(e,t).then(function(e){return(0,n.searchIndexWithFacets)(Object.assign({index:r.algoliaIndex},e))}).then(function(e){return a(e)}).catch(function(e){return o(e)})})}}])&&o(t.prototype,r),i&&o(t,i),e}();t.default=i},function(e,t,r){e.exports={med:"(max-width: 768px)",standardBorder:"1px solid #D8D8D8",imageShadow:"news_card__imageShadow__3NTWa",featuredCard:"news_card__featuredCard__on7cN",featuredHero:"news_card__featuredHero__xCbLw",featuredSm:"news_card__featuredSm__4RQkq",featuredImgWrapperSm:"news_card__featuredImgWrapperSm__1r4E2",lightCardWrapper:"news_card__lightCardWrapper__2VZ0Y",sponsoredCard:"news_card__sponsoredCard__3Gomp",sponsoredImgWrapper:"news_card__sponsoredImgWrapper__qy8jF",sponsoredDataWrapper:"news_card__sponsoredDataWrapper__CVVUw"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n};var o=function(e){return a.default.createElement("div",{style:{padding:"10%",textAlign:"center"}},a.default.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-3x"}))};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(41),a=y(r(239)),o=y(r(878)),i=y(r(2434)),l=y(r(68)),u=r(395),s=y(r(983)),c=y(r(530)),d=y(r(1003)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(124)),p=r(531),m=r(529),h=y(r(532));function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _=(0,l.default)(),v=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.channel=a.default.channel("AlgoliaService"),this.currentIndex=m.DEFAULT_INDEX,this.indexSettings=new o.default,this.pushState=!1,this.searches=(0,n.Map)(),this.searchSettings={},this.suggestions=new i.default,this.whitelabel=null,_.listen(this.onHistoryChange.bind(this))}var t,r,l;return t=e,(r=[{key:"initializeWithEffects",value:function(e,t){var r=this;return new Promise(function(n,a){return t&&(r.whitelabel=t),r._isEmptyQuery(e)&&e.index===m.DEFAULT_INDEX?n():(r.indexSettings._inWhiteList(e.index,t)||a(new Error("".concat(e.index," is not a known index!  Search aborted"))),r.currentIndex!==e.index&&(r.currentIndex=e.index),r.channel.publish("working",!0),r._resolveSearchWithEffects(e,null,!0).then(function(){r.channel.publish("filters",e),r.channel.publish("working",!1),r.searchSettings=e,n()}).catch(function(e){return a(e)}))})}},{key:"createSuggestion",value:function(e){this.suggestions.create(e)}},{key:"enableHistoryPushState",value:function(){this.pushState=!0}},{key:"getChannel",value:function(){return this.channel}},{key:"getRedirectPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/search";return"".concat(t,"?i=").concat(m.DEFAULT_INDEX,"&q=").concat(e)}},{key:"getSuggestions",value:function(e){return this.suggestions.get(e)}},{key:"onHistoryChange",value:function(e,t){if("POP"===t)return this.searchWithEffects((0,c.default)(e.search),null,!0,!0)}},{key:"processQueryMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._normalizeParams(this._reconcileSettings(e))}},{key:"publishEvent",value:function(e,t){this.channel.publish(e,t)}},{key:"replaceHistoryState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!0===this.pushState&&!1===r&&(t?_.replace((0,s.default)(e)):_.push((0,s.default)(e)))}},{key:"searchWithEffects",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise(function(o,i){var l=n?e:r.processQueryMap(e);return r.indexSettings._inWhiteList(l.index,r.whitelabel)||i(new Error("".concat(l.index," is not a known index!  Search aborted"))),l.index!==r.currentIndex&&(r.currentIndex=l.index),r.channel.publish("queryUpdate",l.query),r.channel.publish("working",!0),r._resolveSearchWithEffects(l,t,!1,a).then(function(){r.channel.publish("locationChange"),o()}).catch(function(e){return i(e)})})}},{key:"_resolveSearchWithEffects",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise(function(o,i){return!(0,h.default)(e.index)&&r._isEmptyQuery(e)?(r.replaceHistoryState(e,n),r.channel.publish("results",r._createEmptyRecord()),o()):null===r.whitelabel&&r.currentIndex===m.DEFAULT_INDEX&&r._validateForPagination(e)?(0,f.searchWithSuggestion)(e,t).then(function(t){var i=t.res,l=t.suggestion;r._resolveSuccessfulSearch(i,e,l,n,a),o()}).catch(function(e){return i(e)}):null!==r.whitelabel?(0,f.searchForWhitelabel)(e,r.whitelabel).then(function(t){r._resolveSuccessfulSearch(t,e,null,n,a),o()}).catch(function(e){return i(e)}):(0,f.default)(e).then(function(t){r._resolveSuccessfulSearch(t,e,null,n,a),o()}).catch(function(e){return i(e)})})}},{key:"_validateForPagination",value:function(e){return!!(!e.hasOwnProperty("params")||e.hasOwnProperty("params")&&!e.params.hasOwnProperty("page")||e.hasOwnProperty("params")&&e.params.hasOwnProperty("page")&&("0"===e.params.page||0===e.params.page))}},{key:"_resolveSuccessfulSearch",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.replaceHistoryState(t,n,a),this.channel.publish("results",this._createRecordForQuery(e,r)),this.channel.publish("filters",t),(0,p.trackSearchEvent)(t,e)}},{key:"search",value:function(e){return this.whitelabel?(0,f.searchForWhitelabel)(e,this.whitelabel):(0,f.default)(e)}},{key:"searchWithOptionalWhitelabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?(0,f.searchForWhitelabel)(e,t):(0,f.default)(e)}},{key:"_createRecordForQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{index:this.currentIndex,query:e.query,pagination:{currentPage:e.page,perPage:e.hitsPerPage,totalPages:e.nbPages,totalRecords:e.nbHits},params:e.params,records:e.hits,settings:this.searchSettings,suggestion:t}}},{key:"_createEmptyRecord",value:function(){return{index:this.currentIndex,query:"",pagination:{},params:{},records:[],settings:{},suggestion:null}}},{key:"_isEmptyQuery",value:function(e){return e.hasOwnProperty("index")&&e.hasOwnProperty("query")&&e.query.length<=0}},{key:"_normalizeParams",value:function(e){var t=(0,d.default)(e);return t.hasOwnProperty("index")||(t.index=this.currentIndex),(0,u.filterSearchQueryInMap)(t)}},{key:"_reconcileSettings",value:function(e){return e.hasOwnProperty("settings")?this.searchSettings=e.settings:e.settings=this.searchSettings,e}}])&&g(t.prototype,r),l&&g(t,l),e}());t.default=v},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userRelationIds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="current"===e?"current_user":'user(id:"'.concat(e,')"');return"\n    query userRelationIds {\n      user: ".concat(n," {\n        id\n        ").concat(t.join(" "),"\n        ").concat(r?o:"","\n      }\n    }\n  ")},t.getCurrentUser=function(){return"\n    query getCurrentUser {\n      user: current_user {\n        id\n        isAdmin\n        isConfirmed\n        onboarding_progress\n      }\n    }\n  "},t.getCurrentUserProperty=function(e){return"\n    query getCurrentUserProperty {\n      user: current_user {\n        ".concat(e,"\n      }\n    }\n  ")},t.getCurrentUserProperties=function(e){return"\n    query getCurrentUser {\n      user: current_user {\n        ".concat(e.join(" "),"\n      }\n    }\n  ")},t.getUser=function(e){return"\n    query getUser {\n      user: user(id: ".concat(e,") {\n        ...profileUserInfo\n      }\n    }\n    ").concat(a.profileUserFragment,"\n  ")},t.getUserHoverDataForGlobal=function(e){return"\n    query getUserHoverData {\n      users: user(id: ".concat(e,") {\n        ...hoverCardInfo\n      }\n    }\n    ").concat(a.hoverCardFragment,"\n  ")},t.getUsersFollowedByUser=function(e){var t=e.page,r=e.per_page,o=e.user_id;return"\n    query getUsersFollowedByUser {\n      users: user(id: ".concat(o,") {\n        followed_users(per_page: ").concat(r,", page: ").concat(t,") {\n          ...paginatedInfo\n        }\n      }\n    }\n    ").concat((0,n.createPaginationFragment)("UserFollowed","profileUserInfo"),"\n    ").concat(a.profileUserFragment,"\n  ")},t.getUsersFollowingUser=function(e){var t=e.page,r=e.per_page,o=e.user_id;return"\n    query getUsersFollowedByUser {\n      users: user(id: ".concat(o,") {\n        followers(per_page: ").concat(r,", page: ").concat(t,") {\n          ...paginatedInfo\n        }\n      }\n    }\n    ").concat((0,n.createPaginationFragment)("UserFollower","profileUserInfo"),"\n    ").concat(a.profileUserFragment,"\n  ")},t.skillLevelMutation=function(){return"mutation updateUserSkillLevelsMutation($skill_levels: [String!]) {\n    user: updateUserSkillLevels(skill_levels: $skill_levels) {\n      skill_levels\n    }\n  }"},t.onboardingProgressMutation=function(){return"mutation UpdateOnboardingProgressMutation($complete: Boolean!) {\n      updateOnboardingProgress(complete: $complete) { onboarding_progress }\n    }"};var n=r(197),a=r(1429),o="\n  bookmark_lists {\n    id\n    name\n    private\n    project_ids\n  }\n"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPaginationFragment=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=Array.isArray(r)?r.join(" "):r;return"fragment paginatedInfo on Paginated".concat(e,"{\n      records{...").concat(t,"}\n      metadata{current_page per_page total_pages total_records ").concat(n,"}\n    }")},t.createSimplePaginationFragment=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=Array.isArray(r)?r.join(" "):r;return"fragment paginatedInfo on SimplifiedPaginated".concat(e,"{\n      records{...").concat(t,"}\n      metadata{current_page per_page prev_page next_page ").concat(n,"}\n    }")},t.createPaginationWithoutFragments=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=Array.isArray(t)?t.join(" "):t;return"records{".concat(e,"}metadata{current_page per_page total_pages total_records ").concat(r,"}")}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=t.aspectRatioPadding=void 0;t.aspectRatioPadding=function(e){var t=e.aspectRatio,r=e.height,n=e.width;return"".concat((100*(1/t||r/n)).toPrecision(4),"%")};t.clamp=function(e,t,r){return Math.min(Math.max(e,t),r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMsg=void 0;t.getErrorMsg=function(e){return"Sorry, there was an error ".concat(e,". Please try again.")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(239))&&n.__esModule?n:{default:n},o=r(14),i=r(196);function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=["channel_ids","followed_user_ids","part_ids","respected_comment_ids","respected_feed_post_ids","respected_news_article_ids","respected_project_ids"],s=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.channel=a.default.channel("user_relations"),this.isFetching=[],this.store={},this.userNotLoggedIn=!1}var t,r,n;return t=e,(r=[{key:"delete",value:function(e){var t=this.store[e];return this.store[e]?(delete this.store[e],this._storeChanged(),t):new Error("Resource is not in store!")}},{key:"deleteIn",value:function(e,t){return this.store[e]?(this.store[e]=this.store[e].filter(function(e){return e!==t}),this._storeChanged(),t):new Error("Resource is not in store!")}},{key:"fetchAll",value:function(){var e=this;return this.userNotLoggedIn?Promise.resolve(this.store):this.isFetching.includes("all")?this._pollForResource("all"):(this.isFetching.push("all"),(0,o.graphQueryWithUserNoSigninDialog)((0,i.userRelationIds)("current",u,!0)).then(function(t){if(e.isFetching=e.isFetching.filter(function(e){return"all"!==e}),!t.user)return e.userNotLoggedIn=!0,Promise.resolve(e.store);var r=t.user;return Object.keys(r).forEach(function(t){"id"===t?e.set("currentUser",r[t]):e.set(t,r[t])}),e.channel.publish("initial.store",e.store),Promise.resolve(e.store)}).catch(function(t){return e.isFetching=e.isFetching.filter(function(e){return"all"===e}),Promise.reject(t)}))}},{key:"fetchResource",value:function(e){var t=this;return this.userNotLoggedIn?Promise.resolve(this.get(e)):this.isFetching.includes("all")||this.isFetching.includes(e)?this._pollForResource(e):(this.isFetching.push(e),(0,o.graphQueryWithUserNoSigninDialog)((0,i.userRelationIds)("current",[e])).then(function(r){return t.isFetching=t.isFetching.filter(function(t){return t!==e}),r.user?(t.set(e,r.user[e]),t.set("currentUser",r.user.id),t.channel.publish("initial.store",t.store),Promise.resolve(t.get(e))):(t.userNotLoggedIn=!0,Promise.resolve(t.get(e)))}).catch(function(r){return t.isFetching=t.isFetching.filter(function(t){return t===e}),Promise.reject(r)}))}},{key:"get",value:function(e){return this.store[e]||[]}},{key:"getIn",value:function(e,t){return this.store[e]&&this.store[e].find(function(e){return e===t})}},{key:"getChannel",value:function(){return this.channel}},{key:"getStore",value:function(){return this.store}},{key:"has",value:function(e){return this.store.hasOwnProperty(e)}},{key:"hasAll",value:function(){var e=Object.keys(this.store);return u.every(function(t){return e.includes(t)})}},{key:"hasIn",value:function(e,t){return void 0!==this.getIn(e,t)}},{key:"set",value:function(e,t){"currentUser"===e&&t.id&&this.userNotLoggedIn&&(this.userNotLoggedIn=!1),this.store[e]=t,this._storeChanged()}},{key:"setIn",value:function(e,t){this.store[e]?this.store[e].push(t):this.store[e]=[t],this._storeChanged()}},{key:"_storeChanged",value:function(){this.channel.publish("store.changed",this.store)}},{key:"_pollForResource",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return new Promise(function(n,a){(function e(t,r,a){var o=this;setTimeout(function(){return o.userNotLoggedIn||5===r?n("all"===t?o.store:o.get(t)):o.has("all"===t?"part_ids":t)?n("all"===t?o.store:o.get(t)):e.call(o,t,r+1,a)},a)}).bind(t)(e,0,r)})}},{key:"__refresh__",value:function(){this.isFetching=[],this.store={},this.userNotLoggedIn=!1}},{key:"__setProperty__",value:function(e,t){this[e]=t}}])&&l(t.prototype,r),n&&l(t,n),e}());t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GENERIC_ERROR=void 0;t.GENERIC_ERROR="Something went wrong. Please try again"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(1)),o=i(r(3));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.bold,r=e.children,a=e.className,i=e.color,l=e.href,u=e.onClick,s=e.onKeyDown,c=e.size,d=(e.target,"".concat(c?o.default["body".concat(c)]:""," ").concat(o.default["link".concat(i)]," ").concat(a," ").concat(t?o.default.bold:""));return n.default.createElement("a",{className:d,href:l,onClick:u,onKeyDown:s},r)};l.propTypes={bold:a.default.bool,className:a.default.string,color:a.default.oneOf(["","Blue","Charcoal","Pebble","White"]),onClick:a.default.func,onKeyDown:a.default.func,size:a.default.oneOf(["","S","M","L"]),target:a.default.string},l.defaultProps={bold:!1,className:"",color:"",onKeyDown:function(){},onClick:function(){},size:"M",target:null};var u=l;t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(179)),o=u(r(1590)),i=u(r(206)),l=u(r(2));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c={regular:a.default,small:o.default},d=function(e){var t=e.className,r=void 0===t?"":t,a=e.cardBorder,o=void 0===a||a,u=e.grid,d=void 0===u||u,f=e.maxCols,p=void 0===f?4:f,m=e.type,h=void 0===m?"regular":m,y=d?(0,i.default)(!0,p):{grid:"",cell:""};return n.default.createElement("div",{className:"".concat(y.grid," ").concat(r)},s(new Array(p)).map(function(e,t){return n.default.createElement("div",{key:t,className:"".concat(y.cell," ").concat(l.default.flex)},n.default.createElement(c[h],{cardBorder:o}))}))};t.default=d},function(e,t,r){e.exports={fog:"#F7F7F7",asphalt:"#D8D8D8",graphite:"#4A4A4A",author:"project_card__author__2G0db",authorButton:"project_card__authorButton__3wBjC project_card__author__2G0db",authorsContainer:"project_card__authorsContainer__krkes",authorsList:"project_card__authorsList__vOmsN",dropdown:"project_card__dropdown__YzHxS",imageContainer:"project_card__imageContainer__1cw7g",itemImage:"project_card__itemImage__2W1r8",lazyImage:"project_card__lazyImage__18nwi",moreInfo:"project_card__moreInfo__1fSAw",overlay:"project_card__overlay__2W-4e",card:"project_card__card__3ZBbS",stat:"project_card__stat__21qVB",stats:"project_card__stats__2ANe4",statNumber:"project_card__statNumber__2P7Se",title:"project_card__title__3pebx cards__title__1kNED"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return{cell:u(t),grid:l(e,r)}};var n=o(r(64)),a=o(r(2));function o(e){return e&&e.__esModule?e:{default:e}}var i=[n.default.cell_1,n.default.cell_1_2_sm,n.default.cell_1_3_md,n.default.cell_1_4_ml],l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,r=n.default["guttersH".concat(t)]||null,a=n.default["guttersV".concat(t)]||null,o=e?n.default.hScrollSm:null;return[n.default.grid,r,a,o].filter(function(e){return e}).join(" ")},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=i.slice(0,e);return"".concat(a.default.flex," ").concat(n.default.cell," ").concat(t.join(" "))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getDummyCells=void 0;var n=o(r(0)),a=o(r(206));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l=function(e,t,r){return i(new Array(t).keys()).map(function(t){return n.default.createElement("div",{key:t,className:r},n.default.createElement(e,null))})};t.getDummyCells=l;var u=function(e){var t=e.ItemComponent,r=e.className,o=void 0===r?"":r,i=e.gutterSize,u=e.horizontal,s=void 0!==u&&u,c=e.maxCols,d=void 0===c?4:c,f=(0,a.default)(s,d,i);return n.default.createElement("div",{className:"".concat(o," ").concat(f.grid)},l(t,d,f.cell))};t.default=u},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"convertToJSONModel",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"uploadImageToServer",{enumerable:!0,get:function(){return o.uploadImageToServer}}),Object.defineProperty(t,"processRemoteImage",{enumerable:!0,get:function(){return o.processRemoteImage}}),t.prepareModelForDraftsterInstance=t.cleanUrlsFromCarousels=void 0;var n,a=(n=r(809))&&n.__esModule?n:{default:n},o=r(817);t.cleanUrlsFromCarousels=function(e){return e.map(function(e){if("Carousel"!==e.type)return e;var t=e.images.map(function(e){return Object.assign({},e,{url:null})});return Object.assign({},e,{images:t})})};t.prepareModelForDraftsterInstance=function(e){return!e||e&&!e.length?"":e}},,function(e,t,r){e.exports={asphalt:"#D8D8D8",error:"#D0021B",graphite:"#4A4A4A",hackster:"#2E9FE6",standardBorder:"1px solid #D8D8D8",standardBorderRadius:"4px","med-large":"(max-width: 992px)",root:"prize_editor__root__2e3Bc",noBorder:"prize_editor__noBorder__3quIA",sectionHeader:"prize_editor__sectionHeader__h9zkM",category:"prize_editor__category__yHc98",categoryHeader:"prize_editor__categoryHeader__2ryIB",categoryHeaderError:"prize_editor__categoryHeaderError__adO5R",categoryHeaderText:"prize_editor__categoryHeaderText__3CAq9",sortableList:"prize_editor__sortableList__24Bfv",sortableCategory:"prize_editor__sortableCategory__2cgdE prize_editor__category__yHc98",dragIcon:"prize_editor__dragIcon__3V37n",sortableOnDrag:"prize_editor__sortableOnDrag__3MHZa",checklistContainer:"prize_editor__checklistContainer__22spj",checklist:"prize_editor__checklist__1QOYn",checklistCheckboxWrapper:"prize_editor__checklistCheckboxWrapper__3dQ9O",arrow:"prize_editor__arrow__luIYO",arrowSelected:"prize_editor__arrowSelected__3Jvsa",prizesContainer:"prize_editor__prizesContainer__2jfLO",trash:"prize_editor__trash__3vGGE",prize:"prize_editor__prize__2Tiwb",prizeData:"prize_editor__prizeData__3lrg4",prizeImg:"prize_editor__prizeImg__NBcio",prizeImgWrapper:"prize_editor__prizeImgWrapper__24de0",trophy:"prize_editor__trophy__1O4Ly",menuContainer:"prize_editor__menuContainer__1iM1o",categoryDropdown:"prize_editor__categoryDropdown__RIe0D"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(138)),i=c(r(66)),l=r(12),u=c(r(7)),s=c(r(1806));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).checkConditionsAndFetch=r.checkConditionsAndFetch.bind(m(r)),r.fetchMore=r.fetchMore.bind(m(r)),r.state={loading:!1},r._containerMount,r._itemsContainer,r._errorCounter=0,r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._containerMount=this.props.mountInContainer&&document.querySelector(this.props.mountInContainer.querySelector)||window,this.throttledScroll=(0,o.default)(this.checkConditionsAndFetch,100),this._containerMount.addEventListener("scroll",this.throttledScroll),this.checkConditionsAndFetch()}},{key:"componentWillUnmount",value:function(){this._containerMount.removeEventListener("scroll",this.throttledScroll)}},{key:"checkConditionsAndFetch",value:function(){return this._shouldLoadMore()?this.fetchMore():Promise.resolve()}},{key:"fetchMore",value:function(){var e=this;return this.setState({loading:!0}),this.props.fetchMore().then(function(){e.setState({loading:!1},function(){return e._errorCounter=0}),e.checkConditionsAndFetch()}).catch(function(t){(0,u.default)("Scroll Error",t),e.setState({loading:!1}),e._errorCounter+=1})}},{key:"_isThereRoomOnScreen",value:function(){if(!this._itemsContainer)return!1;var e=this._itemsContainer.getBoundingClientRect().bottom;return(0,l.windowInnerHeight)()+this.props.buffer>e}},{key:"_shouldLoadMore",value:function(){return!this.state.loading&&this._errorCounter<=5&&this.props.recordsCount<this.props.totalRecordsCount&&this._isThereRoomOnScreen()}},{key:"_getDefaultLoader",value:function(e){return n.default.createElement("div",{className:e.loader},n.default.createElement(i.default,{size:""})," ")}},{key:"_getLoader",value:function(e){return this.props.renderLoader?this.props.renderLoader(e):this._getDefaultLoader(e)}},{key:"render",value:function(){var e=this,t=Object.assign({},s.default,this.props.classList);return n.default.createElement("div",{ref:function(t){return e._itemsContainer=t},className:t.container},this.props.children,this.state.loading&&this._getLoader(t))}}])&&f(r.prototype,a),c&&f(r,c),t}();y.propTypes={buffer:a.default.number,classList:a.default.shape({container:a.default.string,loader:a.default.string}),fetchMore:a.default.func.isRequired,mountInContainer:a.default.shape({querySelector:a.default.string.isRequired}),recordsCount:a.default.number.isRequired,renderLoader:a.default.func,totalRecordsCount:a.default.number.isRequired},y.defaultProps={buffer:200,classList:{},mountInContainer:null,renderLoader:null};var g=y;t.default=g},,,,function(e,t,r){e.exports={asphalt:"#D8D8D8",error:"#D0021B",graphite:"#4A4A4A",hackster:"#2E9FE6",arrowButtons:"datetime__arrowButtons__9gXje",buttons:"datetime__buttons__3nKz5",clear:"datetime__clear__1O2tm",input:"datetime__input__2d8wC",inputWide:"datetime__inputWide__kYZoJ datetime__input__2d8wC",toggle:"datetime__toggle__nQn3z",wrapper:"datetime__wrapper__2Y8B7",wrapperMobile:"datetime__wrapperMobile__3WHEn datetime__wrapper__2Y8B7",wrapperDesktop:"datetime__wrapperDesktop__19282 datetime__wrapper__2Y8B7",wrapperDisabled:"datetime__wrapperDisabled__ae7ZL"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattedLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.city,r=e.country_iso2,n=e.state;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:u)({city:t,country_iso2:r,state:n})},t.buildLocation=c,t.getCountryListForSelect=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n.countries.all.reduce(function(t,r){return"assigned"===r.status&&(t=e&&"US"===r.alpha2?[{data:r,label:r.name,value:r.alpha2}].concat(t):t.concat({data:r,label:r.name,value:r.alpha2})),t},[]).sort(function(t,r){return e&&"US"===t.value?-1:t.label<r.label?-1:t.label>r.label?1:0})},t.getCountryDataForAddress=function(e){var t;t=e.country_iso2&&e.country_iso2.length>0?n.lookup.countries({alpha2:e.country_iso2})[0]:n.lookup.countries({name:e.country})[0];return t||l(e)},t.getStateForCountry=function(e,t){if(!o.hasOwnProperty(t.alpha2))return e;var r=o[t.alpha2].find(function(t){return t.short.toLowerCase()===e.toLowerCase()||t.name.toLowerCase()===e.toLowerCase()});return r?r.short:e},t.getStateFromAbbr=function(e,t){if(!o.hasOwnProperty(t))return e;var r=o[t].find(function(t){return t.short.toLowerCase()===e.toLowerCase()});return r?r.name:e},t.getStateForLocationSelectOutput=function(e){var t=e.countryCode.toUpperCase();if(!o.hasOwnProperty(t))return null;var r=o[t].find(function(t){return t.name.toLowerCase()===e.state.toLowerCase()});return r?r.short:null},t.COUNTRY_ISO_2_HAS_VALID_STATES=void 0;var n=r(240),a=r(304),o={AU:a.Australia,CA:a.Canada,MX:a.Mexico,US:a.States},i=Object.keys(o);t.COUNTRY_ISO_2_HAS_VALID_STATES=i;var l=function(e){return{alpha2:e.country_iso2,alpha3:null,countryCallingCodes:[],currencies:[],ioc:null,languages:["eng"],name:e.country,status:"assigned"}},u=function(e){var t=e.city,r=e.country_iso2,n=e.state;return"US"===r?s(t,n):c(t,n,r)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return[e,t,r].filter(function(e){return e&&e.length>0}).join(", ")};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"name",o=n.lookup.countries({alpha2:r})[0],i=o&&o.hasOwnProperty(a)?o[a]:"";return s(e,t,i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDateRangeWithYearAsText=t.getDateRangeAsText=void 0;var n=r(16),a=function(e){return(0,n.timestampToPrettyDate)(e,n.EVENT_DATE_FORMAT,!1,null)};t.getDateRangeAsText=function(e){return[e.start_date?a(e.start_date):null,e.end_date?a(e.end_date):null].filter(function(e){return e}).join(" - ")};t.getDateRangeWithYearAsText=function(e){var t=function(e){var t=[e.start_date,e.end_date].filter(function(e){return e}).map(function(e){return(0,n.timestampToPrettyDate)(e,n.YEAR_ONLY_FORMAT,!1,null)});return t[0]===t[1]?[t[0]]:t}(e);return[e.start_date?a(e.start_date):null,2===t.length?", ".concat(t[0]):null,e.start_date&&e.end_date?" - ":null,e.end_date?a(e.end_date):null,2===t.length?", ".concat(t[1]):", ".concat(t[0])].filter(function(e){return e}).join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSponsorsList=t.getLocation=t.getDateSmall=t.getDate=t.TextPlaceholder=void 0;var n=c(r(0)),a=c(r(268)),o=c(r(188)),i=c(r(269)),l=c(r(2)),u=c(r(5)),s=c(r(874));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.backgroundColor,r=void 0===t?"#F7F7F7":t,a=e.height,o=void 0===a?"inherit":a,i=e.marginTop,l=void 0===i?"0":i,u=e.width,s=void 0===u?"inherit":u;return n.default.createElement("div",{style:{backgroundColor:r,borderRadius:2,height:o,marginTop:l,width:s}})};t.TextPlaceholder=d;t.getDate=function(e){return e.start_date?p(e):f()};var f=function(){return n.default.createElement("div",{className:s.default.datePlaceholder})},p=function(e){return n.default.createElement(a.default,{endDate:e.end_date,large:!0,startDate:e.start_date})};t.getDateSmall=function(e){return e.start_date?h(e):m()};var m=function(){return n.default.createElement("div",{className:s.default.datePlaceholder})},h=function(e){return n.default.createElement("div",{className:"".concat(l.default.fullWidth," ").concat(u.default.absolutePlaceholderChild)},n.default.createElement(a.default,{startDate:e.start_date,endDate:e.end_date}))};t.getLocation=function(e){return e.event_type&&e.location?g(e):y()};var y=function(){return n.default.createElement(d,{height:20,width:200})},g=function(e){return n.default.createElement(o.default,{item:e})};t.getSponsorsList=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.event_type?_(e,t):null};var _=function(e,t){return n.default.createElement(i.default,{item:e,prependSlash:t})}},function(e,t,r){e.exports={small:"(max-width: 480px)",med:"(max-width: 768px)",asphalt:"#D8D8D8",actionsBarRoot:"news_admin_templates__actionsBarRoot__3FuRe",actionsBar:"news_admin_templates__actionsBar__3_Sik news_admin_templates__actionsBarRoot__3FuRe",actionsBarInner:"news_admin_templates__actionsBarInner__1u3zT",actionsBreadcrumbRoot:"news_admin_templates__actionsBreadcrumbRoot__EsCeN",box:"news_admin_templates__box__1FVbB",boxBorder:"news_admin_templates__boxBorder__3HrUL",dialogBody:"news_admin_templates__dialogBody__WWGot",dialogWrapper:"news_admin_templates__dialogWrapper__2O-Pk",topMenuBarRoot:"news_admin_templates__topMenuBarRoot__16eCZ",actionsFormViewButtons:"news_admin_templates__actionsFormViewButtons__1eEIm",topMenuBarStatus:"news_admin_templates__topMenuBarStatus__3lvgz"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(849)),a=i(r(858)),o=i(r(859));function i(e){return e&&e.__esModule?e:{default:e}}var l=new n.default({breaks:!0,linkify:!0,xhtmlOut:!0}).use(a.default).use(o.default).disable(["image","hr","heading","lheading"]),u=l.renderer.rules.link_open||function(e,t,r,n,a){return a.renderToken(e,t,r)};l.renderer.rules.link_open=function(e,t,r,n,a){var o=e[t].attrIndex("target");return o<0?e[t].attrPush(["target","_blank"]):e[t].attrs[o][1]="_blank",e[t].attrIndex("rel")<0?e[t].attrPush(["rel","noopener noreferrer nofollow"]):e[t].attrs[o][1]="noopener noreferrer nofollow",u(e,t,r,n,a)};var s=l;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(9)),i=r(11),l=s(r(21)),u=s(r(1969));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?p(n):a).state={focused:!1,recentlyEmptied:!1,value:(0,i.isBlank)(e.initVal)?"":e.initVal},r.handleKeydown=r.handleKeydown.bind(p(r)),r.onChange=r.onChange.bind(p(r)),r.onClear=r.onClear.bind(p(r)),r.onEnter=r.onEnter.bind(p(r)),r}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidUpdate",value:function(e){this.props.enableHistory&&this._resetValue(e)}},{key:"onChange",value:function(e){var t=e.target.value,r=this.state.value.length>0&&0===t.length;this.setState({recentlyEmptied:r,value:t})}},{key:"onClear",value:function(){var e=this;this.setState({value:""},function(){return e.props.onEnter("")})}},{key:"onEnter",value:function(){(this.state.recentlyEmptied&&!this.state.value.length||this.state.value.length>0)&&(this.props.onEnter(this.state.value),this.state.recentlyEmptied&&this.setState({recentlyEmptied:!1}))}},{key:"handleKeydown",value:function(e){13===e.keyCode&&this.onEnter()}},{key:"_resetValue",value:function(e){this.props.initVal!==e.initVal&&this.props.initVal!==this.state.value&&this.setState({value:this.props.initVal||""})}},{key:"_shouldRenderX",value:function(){return this.props.enableX&&this.state.value.length>0}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:"".concat(this.props.classList.wrapper," ").concat(u.default.wrapper," ").concat(l.default.input," ").concat(this.state.focused?u.default.focused:"")},n.default.createElement(o.default,{name:"search",onClick:this.dispatchSearch}),n.default.createElement("input",{className:u.default.input,type:"text",onBlur:function(){return e.setState({focused:!1})},onChange:this.onChange,onFocus:function(){return e.setState({focused:!0})},onKeyDown:this.handleKeydown,placeholder:this.props.placeholder,value:this.state.value}),this._shouldRenderX()&&n.default.createElement(o.default,{name:"close",onClick:this.onClear,size:12}))}}])&&d(r.prototype,a),s&&d(r,s),t}();h.propTypes={classList:a.default.shape({wrapper:a.default.string}),enableHistory:a.default.bool,enableX:a.default.bool,initVal:a.default.string,onEnter:a.default.func,placeholder:a.default.string},h.defaultProps={classList:{wrapper:""},enableHistory:!1,enableX:!1,initVal:null,onEnter:function(){},placeholder:""};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=(n=r(1991))&&n.__esModule?n:{default:n};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){var t=function(t){function r(e){var t,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,(t=!(o=s(r).call(this,e))||"object"!==i(o)&&"function"!=typeof o?c(n):o).handleClick=t.handleClick.bind(c(t)),t.handleImageLoad=t.handleImageLoad.bind(c(t)),t._adRootRef=a.default.createRef(),t}var n,f,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,a.Component),n=r,(f=[{key:"handleClick",value:function(){o.default.reportClick(this.props.ad)}},{key:"handleImageLoad",value:function(){this._reportEventAsViewed()}},{key:"_reportEventAsViewed",value:function(){var e=this;setTimeout(function(){var t=e._adRootRef.current;if(t&&t.children&&t.children.length>0){var r=window.getComputedStyle(t.firstChild),n=r.display&&"none"===r.display?{blocked:!0}:{};o.default.reportView(e.props.ad,Object.assign({},n))}else o.default.reportView(e.props.ad,{blocked:!0})},500)}},{key:"render",value:function(){return a.default.createElement(e,l({},this.props,{forwardedRef:this._adRootRef,onClick:this.handleClick,onImageLoad:this.handleImageLoad}))}}])&&u(n.prototype,f),p&&u(n,p),r}();return function(e){return a.default.createElement(t,e)}};t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(190)),a=l(r(273)),o=r(124),i=r(331);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,d(t).call(this,e,"parts",a.default))}var r,l,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n["default"]),r=t,(l=[{key:"getPartSlug",value:function(){return new Promise(function(e,t){return(0,i.getUrlSegmentsAfterUrlPart)("products").then(function(t){return e(t[0])}).catch(function(e){return t(e)})})}},{key:"searchWithQueryString",value:function(e,t,r){var n=this;return new Promise(function(i,l){return(0,a.default)(t,r).then(function(t){return(0,o.searchIndexWithFacets)(Object.assign({index:n.algoliaIndex,query:e},t))}).then(function(e){return i(e)}).catch(function(e){return l(e)})})}}])&&s(r.prototype,l),u&&s(r,u),t}();t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(190)),a=i(r(273)),o=r(124);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).call(this,e,"tags",a.default))}var r,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n["default"]),r=t,(i=[{key:"searchWithQueryString",value:function(e,t,r){var n=this;return new Promise(function(i,l){return(0,a.default)(t,r).then(function(t){return(0,o.searchIndexWithFacets)(Object.assign({index:n.algoliaIndex,query:e},t))}).then(function(e){return i(e)}).catch(function(e){return l(e)})})}}])&&u(r.prototype,i),l&&u(r,l),t}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(1)),a=c(r(0)),o=c(r(76)),i=c(r(72)),l=c(r(134)),u=c(r(10)),s=c(r(2034));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.canManage,r=e.placeholder;return r||a.default.createElement(o.default,{classList:{content:s.default.placeholderContent,placeholderLink:u.default.md,placeholderText:s.default.placeholderLabel},templateArgs:{canManage:t},type:"no-projects"})}var f=function(e){var t=e.canManage,r=e.cardBorder,n=e.className,o=e.config,u=e.currentUser,s=e.horizontal,c=e.location,f=e.maxCols,p=e.placeholder,m=e.records,h=e.toggleRespect;return a.default.createElement(i.default,{className:n,ItemComponent:l.default,itemKey:"project",itemProps:{cardBorder:r,config:o,currentUser:u,location:c,toggleRespect:h},horizontal:s,maxCols:f,placeholder:d({canManage:t,placeholder:p}),records:m})};f.propTypes={canManage:n.default.bool,cardBorder:n.default.bool,className:n.default.string,config:n.default.shape({controlledRespects:n.default.bool}),currentUser:n.default.shape({id:n.default.number}),horizontal:n.default.bool,location:n.default.string,maxCols:n.default.number,placeholder:n.default.node,records:n.default.array,toggleRespect:n.default.func},f.defaultProps={canManage:!1,cardBorder:!1,className:"",config:{controlledRespects:!1},currentUser:{},horizontal:!1,location:null,maxCols:4,placeholder:null,records:[],toggleRespect:function(){}};var p=f;t.default=p},,,function(e,t,r){e.exports={asphalt:"#D8D8D8",hackster:"#2E9FE6",pebble:"#767676",panel:"side_panel__panel__35Xec",addProjectButton:"side_panel__addProjectButton__14X74 side_panel__panel__35Xec",panelRow:"side_panel__panelRow__2zquX",rowContainer:"side_panel__rowContainer__2PyXx",rowHeader:"side_panel__rowHeader__1xJGL",registrationRow:"side_panel__registrationRow__1xQC_",selectInput:"side_panel__selectInput__1zbGd",statusDummy:"side_panel__statusDummy__2oE7X animation__loader__3jVQp",timelineContainer:"side_panel__timelineContainer__kbwS8",baseLine:"side_panel__baseLine__1ABLs",progressLine:"side_panel__progressLine__3IcT0",event:"side_panel__event__392Ki",pastEvent:"side_panel__pastEvent__3CDD6"}},,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLocalStorageSupported=d,t.deleteItem=function(e){return c().delete(e)},t.getItem=function(e){return c().get(e)},t.setItem=function(e,t){return c().set(e,t)};var n,a=(n=r(7))&&n.__esModule?n:{default:n},o=r(11),i=r(702);var l={delete:function(e){return window.localStorage.removeItem(e)},get:function(e){return function(e){try{return JSON.parse(e)}catch(t){return e}}(window.localStorage.getItem(e))},set:function(e,t){return window.localStorage.setItem(e,function(e){if((0,o.isObject)(e)||Array.isArray(e))return JSON.stringify(e);return e}(t))}},u={delete:function(e){return(0,i.deleteCookie)(e)},get:function(e){return(0,i.getCookie)(e)},set:function(e,t){return(0,i.setCookie)(e,t)}},s={delete:function(){return(0,a.default)("Local Storage and Cookies disabled!")},get:function(){return(0,a.default)("Local Storage and Cookies disabled!")},set:function(){return(0,a.default)("Local Storage and Cookies disabled!")}};function c(){return d()?l:(0,i.areCookiesSupported)()?u:s}function d(){var e=function(){try{return window.localStorage}catch(e){return null}}();if(!e)return!1;try{return e.setItem("testKey","1"),e.removeItem("testKey"),!0}catch(e){return(0,a.default)("Local Storage is not supported",e),!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryJSONParse=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return JSON.parse(e)}catch(e){return t}},t.tryJSONStringify=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return JSON.stringify(e)}catch(e){return t}}},,,,function(e,t,r){e.exports={addressField:"address_form__addressField__ltLXm",addressFormPhoneWrapper:"address_form__addressFormPhoneWrapper__2V5XG",addressVerification:"address_form__addressVerification__Wjnak",addressWrapper:"address_form__addressWrapper__3qA5I",shortBtn:"address_form__shortBtn__3JQHo",callingCode:"address_form__callingCode__2UN6r",inputContainer:"address_form__inputContainer__3ET4g",labelContainer:"address_form__labelContainer__WhcK3",phoneInput:"address_form__phoneInput__16gWq",reactFormAddress:"address_form__reactFormAddress__2GlOX",reactFormFieldError:"address_form__reactFormFieldError__3MlXX",reactFormMenu:"address_form__reactFormMenu__Cj1fk",reactFormOption:"address_form__reactFormOption__3vXNH",verificationButtonGroup:"address_form__verificationButtonGroup__1TXnh"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.documentActiveElement=function(){return document.activeElement},t.isDomElement=function(e){return!!e&&(e instanceof HTMLElement||1===e.nodeType)},t.toggleNoScroll=function(e){if(void 0===e||"string"!=typeof e)return new Error("toggleNoScroll method is undefined");return"add"===e?void(document&&document.body&&!document.body.classList.contains("no-scroll")&&document.body.classList.add("no-scroll")):void(document&&document.body&&document.body.classList.contains("no-scroll")&&document.body.classList.remove("no-scroll"))},t.isElementInView=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bufferH,n=void 0===r?0:r,a=t.bufferV,i=void 0===a?0:a,l=e.getBoundingClientRect(),u=l.left-n,s=l.right+n,c=l.top-i,d=l.bottom+i;return u<(0,o.windowInnerWidth)()&&s>0&&c<(0,o.windowInnerHeight)()&&d>0},t.scrollElementToMiddle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e&&(0,a.default)(e.getBoundingClientRect().top+(0,o.windowPageYOffset)()-(0,o.windowInnerHeight)()/2,t)};var n,a=(n=r(28))&&n.__esModule?n:{default:n},o=r(12)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(1540)),i=l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){var t=e.className,r=e.name,a=e.size,l=e.style,s=o.default[r],c=i.default["icon".concat(a)];return n.default.createElement("svg",u({className:"".concat(i.default.icon," ").concat(c," ").concat(t),style:l},s.svgProps),s.shape)};s.propTypes={className:a.default.string,name:a.default.string.isRequired,size:a.default.oneOfType([a.default.number,a.default.string]),style:a.default.object},s.defaultProps={className:i.default.iconfill,style:{}};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileExtToMIMEType=w,t.getAndUpdateAttachmentFromLocalFile=function(e,t,r){return(0,i.default)(e,P()).then(function(e){return(0,l.pollForAttachment)(e)}).then(function(e){return R(e,t,r)})},t.getAndUpdateAttachmentFromRemoteURL=function(e,t){return E(e).then(function(e){return Promise.all([Promise.resolve(e),k(e.file.url)])}).then(function(e){var r=p(e,2);return R(r[0],r[1],t)})},t.getAttachmentFromRemoteURL=E,t.getAWSResources=P,t.getImageDimsFromUrl=k,t.getInputAcceptProp=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object.keys(v).filter(function(t){return j(v[t],e)}).map(function(e){return".".concat(e)}),r=Object.keys(_).filter(function(t){return j(t,e)});return t.concat(r).join(",")},t.getRemoteFileTypeAndConfirmURL=function(e){return a.default.head(e).then(function(t){var r=t.type;return{url:e,type:r}}).catch(function(){return function(e){return E(e).then(function(e){return{type:T(e.file.url),url:e.file.url}})}(e)})},t.isGif=S,t.isJpeg=function(e){return[y,g].includes(e)},t.isImageMIMEType=C,t.isAcceptedMIMEType=j,t.updateImageAttachment=R,t.TIFF_MIMETYPE=t.PNG_MIMETYPE=t.JPG_MIMETYPE=t.JPEG_MIMETYPE=t.GIF_MIMETYPE=t.BMP_MIMETYPE=void 0;var n,a=f(r(35)),o=f(r(1556)),i=f(r(441)),l=r(325),u=r(200),s=r(116),c=r(8),d=r(14);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.BMP_MIMETYPE="image/bmp";var h="image/gif";t.GIF_MIMETYPE=h;var y="image/jpeg";t.JPEG_MIMETYPE=y;var g="image/jpg";t.JPG_MIMETYPE=g;t.PNG_MIMETYPE="image/png";t.TIFF_MIMETYPE="image/tiff";var _=(m(n={},"image/bmp",!0),m(n,h,!0),m(n,y,!0),m(n,g,!0),m(n,"image/png",!0),m(n,"image/tiff",!0),n),v={bm:"image/bmp",bmp:"image/bmp",gif:h,jfif:y,jpe:y,jpeg:y,jpg:y,png:"image/png",tif:"image/tiff",tiff:"image/tiff"},b=null,O=null;function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return v[e.toLowerCase()]||null}function E(e){return new Promise(function(t,r){(0,l.postRemoteURL)(e,null,null,{mime_whitelist_type:"image"}).then(function(e){return Promise.all([Promise.resolve(e),(0,l.pollJob)(e.job_id)])}).then(function(e){var t=p(e,2),r=t[0];t[1];return(0,l.getAttachment)(r.id)}).then(function(e){(0,c.getInObj)(["file","url"],e)?t(e):r(new Error("Remote file did not upload properly"))}).catch(function(e){return r(e)})})}function P(){return null===b&&(b=window.jsk.awsk),null===O&&(O=window.jsk.s3u),{AWSAccessKeyId:b,S3BucketURL:O}}function k(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t({width:n.width,height:n.height})},n.onerror=function(){return r(new Error((0,u.getErrorMsg)("loading the image")))},n.src=e})}function S(e){return e===h}function C(e){return _.hasOwnProperty(e)}function j(e){return!(arguments.length>1&&void 0!==arguments[1]&&!arguments[1]&&S(e))&&C(e)}function R(e,t,r){var n=r.get_image_version,a=r.type;return(0,d.graphMutate)((0,o.default)(),{id:parseInt(e.id,10),get_image_version:n,metadata:t,type:a})}function T(e){return w((0,s.getExtFromFileName)((0,s.getFileNameFromUrl)(e)))}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(239)),a=o(r(201));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u="bookmark_lists",s=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._channel=n.default.channel("bookmarks")}var t,r,o;return t=e,(r=[{key:"initialize",value:function(){return new Promise(function(e,t){return a.default.has(u)?e():a.default.fetchAll().then(function(){return e()}).catch(function(e){return t(e)})})}},{key:"_publishBookmarkChange",value:function(e,t,r){this._channel.publish("bookmark.changed",{listId:e,projectId:t,addOrRemoveBool:r})}},{key:"_sortByName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i(e).sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})}},{key:"getChannel",value:function(){return this._channel}},{key:"getList",value:function(e){return this.getLists().find(function(t){return t.id===e})}},{key:"getLists",value:function(){return a.default.get(u)}},{key:"addList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getLists(),n=t?[t]:[],o=Object.assign({},e,{project_ids:n}),i=this._sortByName([o].concat(r));return a.default.set(u,i),t&&this._publishBookmarkChange(e.id,t,!0),i}},{key:"updateList",value:function(e){var t=this.getLists().map(function(t){return t.id===e.id?Object.assign({},t,e):t}),r=this._sortByName(t);return a.default.set(u,r),r}},{key:"removeList",value:function(e){var t=this.getLists().filter(function(t){return t.id!==e});return a.default.set(u,t),t}},{key:"addProjectToList",value:function(e,t){var r=this.getLists().reduce(function(r,n){var a=n.id===t?Object.assign({},n,{project_ids:[e].concat(n.project_ids)}):n;return r.concat(a)},[]);return a.default.set(u,r),this._publishBookmarkChange(t,e,!0),r}},{key:"removeProjectFromList",value:function(e,t){var r=this.getLists().reduce(function(r,n){var a=n.id===t?Object.assign({},n,{project_ids:n.project_ids.filter(function(t){return t!==e})}):n;return r.concat(a)},[]);return a.default.set(u,r),this._publishBookmarkChange(t,e,!1),r}}])&&l(t.prototype,r),o&&l(t,o),e}());t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addOrRemoveBookmark=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.addOrRemoveBool,r=e.list,n=e.projectId,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(e,o){var i=t?_:v;return(0,f.graphMutate)({t:i},{list_id:r.id,project_id:n}).then(function(o){var i=o.bookmark,c=t?"addProjectToList":"removeProjectFromList",d=t?u.getCreateBookmarkArgs:u.getDeleteBookmarkArgs;return l.default.reportEventWithObj(d(Object.assign({id:i.id},a))),e(s.default[c](n,r.id))}).catch(function(e){return o(e)})})},t.buildBookmarkMessage=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"".concat(e?"Saved to":"Removed from").concat(r?" new list":""," '").concat(t,"'")},t.getDashboardBookmarksURL=function(){return c.default.url("/dashboard/bookmarks")},t.getProjectsCount=function(e){return"".concat((0,d.formatNumberWithCommas)(e)," ").concat((0,d.pluralize)("project",e))},t.getPortalWidgetDropdown=function(e){var t=e.analytics,r=e.currentListId,a=e.dismiss,o=e.getTarget,l=e.projectId;return n.default.createElement(i.default,{getTarget:o,width:O},w({analytics:t,currentListId:r,dismiss:a,projectId:l}))},t.getWidgetDropdown=w,t.outOfBoundsLeft=E,t.showDropdownOrSummonDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,m.windowInnerWidth)()>b||(function(e){var t=e.currentListId,r=e.projectId;(0,p.summonGlobalDialog)({dialogProps:{enableCloseButton:!1,wrapperClassName:y.default.padding0},getChildren:function(e){return k({currentListId:t,dismiss:e,projectId:r})}})}(e),!1)};var n=g(r(0)),a=g(r(1581)),o=g(r(251)),i=g(r(1584)),l=g(r(22)),u=r(60),s=g(r(248)),c=g(r(51)),d=r(20),f=r(14),p=r(18),m=r(12),h=g(r(326)),y=g(r(2));function g(e){return e&&e.__esModule?e:{default:e}}var _="create_bookmark",v="delete_bookmark",b=768,O=270;function w(e){var t=e.analytics,r=e.currentListId,a=e.dismiss,i=e.getTarget,l=void 0===i?null:i,u=e.projectId;return n.default.createElement(o.default,{className:h.default.widgetDropdown,dismiss:a,style:P(l)},k({analytics:t,currentListId:r,dismiss:a,projectId:u}))}function E(e,t){return e.left-t+(0,m.windowPageXOffset)()<=0}function P(e){if(!e)return null;var t=e().getBoundingClientRect(),r=t.height/2;return{left:E(t,O)?t.width:-1*O,top:r}}function k(e){var t=e.analytics,r=e.currentListId,o=e.dismiss,i=e.projectId;return n.default.createElement(a.default,{analytics:t,dismiss:o,currentListId:r,projectId:i})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fireViewAllSectionClickAnalytics=t.fireSearchLocationFilterAnalytics=t.fireSearchFilterAnalytics=t.fireClickedLinkAnalyticsWithRedirect=t.fireClickedLinkAnalytics=t.fireFilterClickAnalytics=void 0;var n,a=(n=r(22))&&n.__esModule?n:{default:n},o=r(11),i=r(45),l=r(60);var u=["city","country_iso2","latitude","longitude","state"];t.fireFilterClickAnalytics=function(e,t){(0,o.isBlank)(t)||a.default.reportEventWithObj((0,l.getClickedFilterArgs)(e,t))};t.fireClickedLinkAnalytics=function(e,t){var r=e.entity_type,n=e.entity_id,o=e.href,i=e.location,u=e.type,s=e.value;a.default.reportEventWithObj((0,l.getClickedLinkArgs)({entity_type:r,entity_id:n,href:o,location:i,type:u,value:s},t))};t.fireClickedLinkAnalyticsWithRedirect=function(e,t,r){var n=e.entity_type,o=e.entity_id,i=e.href,u=e.location,s=e.type,c=e.value,d=(0,l.getClickedLinkArgs)({entity_type:n,entity_id:o,href:i,location:u,type:s,value:c},r),f=t||d.customProps.href;a.default.reportEventWithDelayedRedirectWithObj(d,f,r)};t.fireSearchFilterAnalytics=function(e){(0,o.isBlank)(e)||a.default.reportEventWithObj((0,l.getSearchFilterArgs)(e))};t.fireSearchLocationFilterAnalytics=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,o.isBlank)(e)){var r="function"==typeof t?t(e):e,n=(0,i.filterObject)(r,function(e,t){return u.includes(t)});a.default.reportEventWithObj((0,l.getSearchLocationFilterArgs)(n))}};t.fireViewAllSectionClickAnalytics=function(e){var t=e.delayRedirect,r=void 0!==t&&t,n=e.e,o=e.events,i=void 0===o?[]:o,u=e.index,s=e.item,c=void 0===s?{}:s,d=e.pageType,f=void 0===d?null:d,p=e.section,m=void 0===p?{}:p,h=e.url,y=(0,l.getClickedViewAllSectionArgs)(m,u,c,f),g=i.concat([y]);r&&h?a.default.recordEventsWithDelayedRedirect(g,h,n):a.default.recordEvents(g)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(752)),i=u(r(5)),l=u(r(1583));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return n.default.createElement(o.default,{className:(t=e,r=t.alignRight,a=t.alignTop,u=t.className,s=t.elevation,c=r?l.default.right:l.default.left,d=a?l.default.top:l.default.bottom,f=1===s?i.default.boxShadow:2===s?i.default.boxShadow2:"","".concat(l.default.dropdown," ").concat(u," ").concat(c," ").concat(d," ").concat(f)),onClick:e.onClick,onClickOutside:e.dismiss,style:e.style,targetWillUnmount:e.targetWillUnmount},e.children);var t,r,a,u,s,c,d,f};s.propTypes={alignRight:a.default.bool,alignTop:a.default.bool,className:a.default.string,dismiss:a.default.func,elevation:a.default.oneOf([0,1,2]),onClick:a.default.func,style:a.default.object,targetWillUnmount:a.default.bool},s.defaultProps={alignRight:!1,alignTop:!1,className:"",elevation:1,dismiss:function(){},onClick:function(){},style:null,targetWillUnmount:!1};var c=s;t.default=c},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(1591)),i=c(r(180)),l=c(r(10)),u=c(r(2)),s=c(r(755));function c(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=function(e){var t=e.buttonText,r=e.disabled,a=e.onPaginatorClick;return e.paginator.nextPage?n.default.createElement("div",{className:"".concat(u.default.flexJustifyCenter," ").concat(u.default.fullWidth," ").concat(u.default.marginTop45)},n.default.createElement("button",{className:l.default.md,disabled:r,onClick:a},t)):null},p=function(e){var t=e.currentQuery,r=e.onPaginatorClick,a=e.paginator;return function(e){return a=(n=e).currentPage,(o=n.totalPages)>1&&a<=o||(r=(t=e).nextPage,!!t.prevPage||!!r);var t,r,n,a,o}(a)&&n.default.createElement(i.default,d({classList:{root:s.default.paginatorRoot},currentQuery:t,onClick:r},a))},m=function(e){return n.default.createElement("div",null,(r=(t=e).filters,a=t.onFilterSelect,i=t.renderFilters,r?"function"==typeof i?i(r,a):n.default.createElement(o.default,{filters:r,onSelection:a}):null),e.children,function(e){return"paginator"===e.type?p(e):f(e)}(e));var t,r,a,i};m.propTypes={buttonText:a.default.string,currentQuery:a.default.string,disabled:a.default.bool,filters:a.default.arrayOf(a.default.shape({})),onFilterSelect:a.default.func,onPaginatorClick:a.default.func.isRequired,paginator:a.default.shape({currentPage:a.default.number,nextPage:a.default.number,prevPage:a.default.number,totalPages:a.default.number}),renderFilters:a.default.func,type:a.default.oneOf(["button","paginator"])},m.defaultProps={buttonText:"",currentQuery:"",disabled:!1,filters:null,onFilterSelect:function(){},renderFilters:null,type:"paginator"};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(89)),i=c(r(9)),l=r(20),u=c(r(1601)),s=c(r(2));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){return"respected_".concat(e)},g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).state={respects:e.respects},r.setRespects=r.setRespects.bind(m(r)),r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"setRespects",value:function(e){if(!this.props.controlled){var t=e?this.state.respects+1:this.state.respects-1;this.setState({respects:t})}this.props.onClick(e)}},{key:"_getStyles",value:function(){return u.default[this.props.theme]}},{key:"_getRespectCount",value:function(){return this.props.controlled?this.props.respects:this.state.respects}},{key:"_getLabel",value:function(e,t){var r=this._getRespectCount();return n.default.createElement("span",{className:t.wrapper},n.default.createElement(i.default,{name:e}),r>0&&n.default.createElement("span",{className:s.default.marginLeft5},(0,l.formatNumberLimit4Chars)(r)))}},{key:"render",value:function(){var e=this.props,t=e.disabled,r=e.id,a=e.type,i=this._getStyles();return n.default.createElement(o.default,{additionalRequestArgs:{respectable_type:(0,l.pluralize)(a)},config:{className:[i.respectButton,i.respectedButton],label:[this._getLabel("thumbs-up",i),this._getLabel("thumbs-up-filled",i)]},disableCompletely:t,id:r,onClick:this.setRespects,type:y(a)})}}])&&f(r.prototype,a),c&&f(r,c),t}();g.propTypes={controlled:a.default.bool,disabled:a.default.bool,id:a.default.number.isRequired,onClick:a.default.func,respects:a.default.number,theme:a.default.string,type:a.default.oneOf(["comment","feed_post","news_article","project"])},g.defaultProps={controlled:!1,disabled:!1,onClick:function(){},respects:0,theme:"default",type:"project"};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(182)),a=i(r(1605)),o=r(14);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){return{t:"published_projects_with_simple_pagination"}},p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.history,n=e.queryString;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).call(this,{history:r,queryBuilder:a.default,queryString:n||f,resolverKey:"published_projects"}))}var r,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n["default"]),r=t,(i=[{key:"searchWithNoEffects",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(function(a,i){return r._translateQueryMap(e,t).then(function(e){return(0,o.graphQuery)(f(),e)}).then(function(e){var t=e.published_projects;a({hits:r._translateRecordsToAlgoliaHits(t.records),nbHits:r._translateMetadata(t,n)})}).catch(function(e){return i(e)})})}},{key:"_translateMetadata",value:function(e,t){return e.hasOwnProperty("metadata")?e.metadata.next_page&&null===e.metadata.next_page?t:"number"==typeof e.per_page?e.per_page+t:0:0}},{key:"_translateQueryMap",value:function(e,t){return new Promise(function(t,r){var n={},o=e.qlVars||{};return e.hitsPerPage?n.per_page=e.hitsPerPage:e.length&&(n.per_page=e.length),e.sort&&"featured_date"===e.sort?n.by="featured":e.sort&&(n.sort=e.sort),e.category_id&&"featured"===e.category_id?n.by="featured":e.topic_id&&"featured"===e.topic_id&&(n.by="featured"),(0,a.default)(n).then(function(e){return t(Object.assign({},e,o))}).catch(function(e){return r(e)})})}},{key:"_translateRecordsToAlgoliaHits",value:function(e){return e.map(function(e){return Object.assign({},e,{authors:e.team.members,pitch:e.one_liner,impresssions_count:e.stats.views,respects_count:e.stats.respects})})}}])&&u(r.prototype,i),l&&u(r,l),t}();t.default=p},,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RUNNER_UPS=t.RANKED_DEFAULT=t.CATEGORY_CUSTOM=t.CATEGORY_RANKED=t.RANKED_PRIZES_MODE=t.CATEGORY_PRIZES_MODE=void 0;t.CATEGORY_PRIZES_MODE="category";t.RANKED_PRIZES_MODE="default";t.CATEGORY_RANKED="category_ranked";t.CATEGORY_CUSTOM="category_custom";t.RANKED_DEFAULT="ranked";t.RUNNER_UPS="runner_ups"},function(e,t,r){e.exports={sky:"#E1F4FF",graphite:"#4A4A4A",link:"common-dropdown__link__3g0lH",list:"common-dropdown__list__3fLV2",listItem:"common-dropdown__listItem__1AjMV"}},function(e,t,r){e.exports={graphite:"#4A4A4A",standardBoxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)",tooltip:"tooltip_target__tooltip__Suhdz",tooltipInner:"tooltip_target__tooltipInner__AfezT",tooltipInnerMultiline:"tooltip_target__tooltipInnerMultiline__3KwRZ",wrapper:"tooltip_target__wrapper__2qSQh",centerH:"tooltip_target__centerH__2WA7Z",centerV:"tooltip_target__centerV__3kIf_",bottom:"tooltip_target__bottom__iPRmX tooltip_target__centerH__2WA7Z",left:"tooltip_target__left__3EuXF tooltip_target__centerV__3kIf_",right:"tooltip_target__right__2Asp2 tooltip_target__centerV__3kIf_",top:"tooltip_target__top__1DbOQ tooltip_target__centerH__2WA7Z",tooltipV2:"tooltip_target__tooltipV2__221W4"}},function(e,t,r){e.exports={small:"(max-width: 480px)",asphalt:"#D8D8D8",hackster:"#2E9FE6",white:"#FFF",root:"post_card__root__11owR",adminBadge:"post_card__adminBadge__2tEgr",avatar:"post_card__avatar___Mt2C"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validatedSortIndex=l,t.default=function(e,t){var r=i();if(!window.jsk)return new Error("window.jsk does not exist!");if(void 0===r.getIndex(e))return new Error("algoliaSearchIndexes does not have index ".concat(e,"!"));if(t&&t.length){if(!1===l(e,t))return new Error("Unknown index: ".concat(e," with sort ").concat(t));return r.getCustomIndex("".concat(window.jsk[{channels:"pli",contests:"cai",events:"evi",misc:"msc",news_articles:"nai",parts:"pai",projects:"pri",suggestions:"sqi",tags:"tai",topics:"tcai",users:"usi",videos:"vai"}[e]],"_").concat(t))}return r.getIndex(e)};var n,a=(n=r(838))&&n.__esModule?n:{default:n};var o={channels:["a_z","last_updated","most_projects"],events:["earliest_first","latest_first"],misc:["a_z","most_projects"],news_articles:["most_recent","most_respected"],parts:["a_z","most_owned","name"],projects:["featured_date","featured_platforms","featured_platforms_last_updated","featured_platforms_most_recent","featured_platforms_most_respected","featured_platforms_trending","last_updated","most_recent","most_respected","platforms_most_recent","trending"],tags:[],topics:["a_z","last_updated","most_projects"],videos:["most_popular"]},i=function(){if(!window||!window.jsk)return null;var e=window.jsk,t=(0,a.default)(e.aai,e.ask,{protocol:"https:"}),r={channels:t.initIndex(e.pli),contests:t.initIndex(e.cai),events:t.initIndex(e.evi),misc:t.initIndex(e.msc),news_articles:t.initIndex(e.nai),parts:t.initIndex(e.pai),projects:t.initIndex(e.pri),suggestions:t.initIndex(e.sqi),tags:t.initIndex(e.tai),topics:t.initIndex(e.tcai),users:t.initIndex(e.usi),videos:t.initIndex(e.vai)};return{getCustomIndex:function(e){return t.initIndex(e)},getIndex:function(e){return r[e]}}};function l(e,t){return o[e].includes(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(1935)),i=l(r(132));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.autoComplete,r=e.disabled,a=e.errors,l=e.helperText,u=e.initValue,s=e.label,c=e.onChange;return n.default.createElement(i.default,{errors:a,helperText:l,label:s,value:""},n.default.createElement(o.default,{autoComplete:t,disabled:r,errors:a,initValue:u,onChange:c}))};u.propTypes={autoComplete:a.default.string,disabled:a.default.bool,errors:a.default.string,helperText:a.default.string,initValue:a.default.string,label:a.default.string,onChange:a.default.func.isRequired},u.defaultProps={autoComplete:null,disabled:!1,errors:null,helperText:null,label:null,initValue:""};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDateOut=s,t.formatDatetimeOut=function(e){var t=e.ampm,r=e.day,n=e.hour,a=e.minute,o=e.month,i=e.year,l=s({day:r,month:o,year:i}),u=c({ampm:t,hour:n,minute:a});return l&&u?"".concat(l,"T").concat(u):""},t.formatTimeOut=c,t.parseDateString=d,t.parseTimeString=f,t.parseDatetimeString=function(e){if(!e)return Object.assign({},i,l);var t=o(e.split("T"),2),r=t[0],n=t[1];return Object.assign({},d(r),f(n))},t.zeroPadValue=p,t.datetimeConfig=t.timeConfig=t.dateConfig=void 0;var n=r(16),a=r(178);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i={day:"",month:"",year:""},l={ampm:"",hour:"",minute:""};function u(e,t,r){var n=r.initStep,o=r.min,i=r.max,l=r.maxLength;return p(n&&""===e?n:function(e,t,r,n){return n===a.UP?function(e,t,r){var n=e+1;return n>r?t:n}(e,t,r):function(e,t,r){var n=e-1;return n<t?r:n}(e,t,r)}(parseInt(e)||o,o,i,t),l)}function s(e){var t=e.day,r=e.month,a=e.year;return(0,n.dateInputValueFromParts)({day:t,month:r,year:a})}function c(e){var t=e.ampm,r=e.hour,a=e.minute;return(0,n.timeInputValueFromParts)({ampm:t,hour:r,minute:a})}function d(e){if(!e)return i;var t=o(e.split("-"),3),r=t[0],n=t[1];return{day:t[2],month:n,year:r}}function f(e){if(!e)return l;var t=o(e.split(":"),2),r=t[0],n=t[1],a=parseInt(r);return{ampm:a>12?"pm":"am",hour:((a+11)%12+1).toString(),minute:n}}function p(e,t){return e.toString().padStart(t,"0")}var m={getSteppedValue:function(e){return"am"===e.toLowerCase()?"pm":"am"},getValueFromKeyDown:function(e){return e.keyCode===a.A?"am":e.keyCode===a.P?"pm":null},maxLength:2,defaultValue:"am"},h={getSteppedValue:u,min:1,max:12,maxLength:2},y={getSteppedValue:u,min:0,max:59,maxLength:2},g={day:{getSteppedValue:u,min:1,max:31,maxLength:2},month:{getSteppedValue:u,min:1,max:12,maxLength:2},year:{getSteppedValue:u,min:1,max:3e3,maxLength:4,initStep:(new Date).getFullYear()}};t.dateConfig=g;var _={ampm:m,hour:h,minute:y};t.timeConfig=_;var v=Object.assign({},g,_);t.datetimeConfig=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(873)),i=u(r(3)),l=u(r(189));function u(e){return e&&e.__esModule?e:{default:e}}var s={day:"".concat(i.default.h4," ").concat(i.default.lineHeight1),month:"".concat(i.default.bodyM," ").concat(i.default.pebble," ").concat(i.default.uppercase)},c=function(e){var t=e.endDate,r=e.startDate;return n.default.createElement("div",{className:l.default.dateWrapper},!!r&&n.default.createElement(o.default,{classList:s,dateString:r}),!!r&&!!t&&n.default.createElement("div",{className:l.default.dateDivider}),!!t&&n.default.createElement(o.default,{classList:s,dateString:t}))};c.propTypes={endDate:a.default.string,startDate:a.default.string},c.defaultProps={endDate:"",startDate:""};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(1940)),i=r(44),l=r(11),u=r(67),s=d(r(2)),c=d(r(3));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){return n.default.Children.toArray(e.reduce(function(t,r,n){return n===e.length-1?t.concat([p(r)]):t.concat([p(r),", "])},[]))},p=function(e){return m(e)?(t=e,n.default.createElement("a",{className:c.default.linkBlue,href:t.url},t.name)):e;var t},m=function(e){return(0,u.objHasPropertyOfLength)(e,"name")},h=function(e){if(1===e.length)return{visibleSponsors:e,tooltipSponsors:[]};var t=e.reduce(function(e,t){var r=e.remainingChars-function(e){return m(e)?e.name.length:e.length}(t);return Object.assign({},e,{count:r<0?e.count:e.count+1,remainingChars:r})},{remainingChars:25,count:0}).count;return{visibleSponsors:e.slice(0,t),tooltipSponsors:e.slice(t)}},y=function(e,t){if(t.length){var r=(a=f(t),n.default.createElement(o.default,{tooltip:a}));return f(e.concat([r]))}var a;return f(e)},g=function(e){var t=e.className,r=e.item,a=e.prependSlash,o=r.platforms,u=r.custom_sponsors,c=r.event_type;if((0,l.isBlank)(o)&&(0,l.isBlank)(u))return null;var d=(0,i.flatten)([r.platforms,r.custom_sponsors].filter(Array.isArray)),f=h(d),p=f.visibleSponsors,m=f.tooltipSponsors;return n.default.createElement("span",{className:t},a&&n.default.createElement("span",{className:"".concat(s.default.marginLeft5," ").concat(s.default.marginRight5)},"/"),"Community"===c?"featuring ":"presented by ",y(p,m))};g.propTypes={className:a.default.string,item:a.default.shape({city:a.default.string,country_iso2:a.default.string,custom_sponsors:a.default.arrayOf(a.default.string),event_type:a.default.string,id:a.default.number,image:a.default.shape({url:a.default.string}),link:a.default.string,platforms:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string})),start_date:a.default.string,state:a.default.string,title:a.default.string,user:a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string})}).isRequired,prependSlash:a.default.bool},g.defaultProps={className:s.default.marginTop5,prependSlash:!1};var _=g;t.default=_},function(e,t,r){e.exports={med:"(max-width: 768px)",small:"(max-width: 480px)",card:"base_card_horizontal_lg__card__1XiGp",image:"base_card_horizontal_lg__image__30qM-",text:"base_card_horizontal_lg__text__3P_Ov"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recordsToOptions=t.createSelect=t.createMultiSelect=t.createCropperTitle=t.createImageUploader=void 0;var n=u(r(0)),a=u(r(358)),o=u(r(121)),i=u(r(187)),l=u(r(1944));function u(e){return e&&e.__esModule?e:{default:e}}t.createImageUploader=function(e){var t=e.aspectRatio,r=e.attachmentType,a=e.classList,i=e.cropperTitle,l=e.dimensionMins,u=e.errors,s=e.helperText,c=e.imageResources,d=e.imageData,f=e.label,p=e.nestedDialogLevel,m=e.propagateStatus,h=e.propagateUpload,y=e.reportError,g=e.showPreview;return n.default.createElement(o.default,{allowGifs:!1,aspectRatio:t,attachmentType:r,classList:a,cropperTitle:i,dimensionMins:l,errors:u,helperText:s,imageResources:c,imageData:d,label:f,nestedDialogLevel:p,propagateStatus:m,propagateUpload:h,reportError:y,showPreview:g})};t.createCropperTitle=function(e){var t=e.subtitle,r=e.title;return n.default.createElement("div",{className:l.default.cropperTitle},n.default.createElement("h4",null,r),t&&n.default.createElement("small",null,t))};t.createMultiSelect=function(e){var t=e.algoliaParameters,r=void 0===t?null:t,o=e.algoliaService,i=e.errors,l=e.maxWidth,u=void 0===l?500:l,s=e.onSelect,c=e.placeholder,d=e.recordsToOptions,f=e.selectionLimit,p=void 0===f?null:f,m=e.value;return n.default.createElement(a.default,{algoliaParameters:r||{hitsPerPage:100,initFacet:[]},algoliaRecordsToOptions:d,algoliaService:o,errors:Array.isArray(i)?i:"string"==typeof i&&i.length>0?[i]:i,maxWidth:u,onSelect:s,placeholder:c||" ",selectionLimit:p,value:m})};t.createSelect=function(e){var t=e.errors,r=e.key,a=e.maxWidth,o=void 0===a?500:a,l=e.onChange,u=e.options,s=e.placeholder,c=e.value;return n.default.createElement(i.default,{hasErrors:t&&t.length>0,maxWidth:o,onSelectedChange:function(e){return l(r,e)},options:u,placeholder:s,value:c})};t.recordsToOptions=function(e){return e.map(function(e){return{label:e.name,value:e.id}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEventFindByEnum=function(e){return n[e]},t.getEventTypeEnum=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return a[e.toLowerCase()]},t.getSortEnum=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;switch("".concat(e,"_").concat(t)){case"most_recent_0":return"START_DESC";case"most_recent_1":return"START_ASC";default:return null}},t.getTimeFilterEnum=function(e){return o[e]||null},t.HACKSTER_FORM_EVENT_TYPE_OPTS=void 0;var n={conference:"CONFERENCE",hackathon:"HACKATHON",meetup:"MEETUP",webinar:"WEBINAR",workshop:"WORKSHOP"},a={community:"COMMUNITY",conference:"CONFERENCE",hackathon:"HACKATHON",live:"LIVE",meetup:"MEETUP",virtual:"VIRTUAL",webinar:"WEBINAR",workshop:"WORKSHOP"},o={upcoming:"UPCOMING",past:"PAST"};t.HACKSTER_FORM_EVENT_TYPE_OPTS=["CONFERENCE","HACKATHON","MEETUP","WEBINAR","WORKSHOP"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(r,o){return function(e,t){return new Promise(function(r,o){var s=(0,a.default)(e,l,u);r({facetFilters:[].concat(i(s),i(t)).filter(function(e){return e.length>0}),params:(0,n.default)(e),sort:""})})}(e,t).then(function(e){return r(e)}).catch(function(e){return o(e)})})};var n=o(r(494)),a=o(r(495));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l={},u={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(9)),i=r(703),l=c(r(28)),u=c(r(2)),s=c(r(1970));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).state={leftArrow:!1,rightArrow:!1},r.scroll=r.scroll.bind(m(r)),r.setArrowsDisplay=r.setArrowsDisplay.bind(m(r)),r.handleScroll=(0,i.throttle)(r.setArrowsDisplay,100),r._scrollContainer,r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.setArrowsDisplay(),this.handleResize=(0,i.debounce)(this.setArrowsDisplay,500),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"scroll",value:function(e){if(this._scrollContainer){var t=this._scrollContainer.scrollLeft+this.props.scrollDistance*e;(0,l.default)(t,350,function(){},this._scrollContainer,!0)}}},{key:"setArrowsDisplay",value:function(){if(this._scrollContainer){var e=this._scrollContainer.getBoundingClientRect().width,t=this._scrollContainer.scrollLeft>0,r=Math.ceil(this._scrollContainer.scrollLeft+e)<this._scrollContainer.scrollWidth;t===this.state.leftArrow&&r===this.state.rightArrow||this.setState({leftArrow:t,rightArrow:r})}}},{key:"_displayArrowLeft",value:function(){var e=this;return this.state.leftArrow&&n.default.createElement("div",{className:"".concat(u.default.flexCenterItems," ").concat(s.default.arrowLeft," ").concat(this.props.classList.arrowLeft),onClick:function(){return e.scroll(-1)}},n.default.createElement(o.default,{name:"arrow-left",size:12}))}},{key:"_displayArrowRight",value:function(){var e=this;return this.state.rightArrow&&n.default.createElement("div",{className:"".concat(u.default.flexCenterItems," ").concat(s.default.arrowRight," ").concat(this.props.classList.arrowRight),onClick:function(){return e.scroll(1)}},n.default.createElement(o.default,{name:"arrow-right",size:12}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,a=t.classList;return n.default.createElement("div",{className:"".concat(s.default.wrapper," ").concat(a.wrapper)},n.default.createElement("div",{ref:function(t){return e._scrollContainer=t},className:"".concat(u.default.noScrollBar," ").concat(s.default.scrollContainer," ").concat(a.scrollContainer),onScroll:this.handleScroll},r),this._displayArrowLeft(),this._displayArrowRight())}}])&&f(r.prototype,a),c&&f(r,c),t}();y.propTypes={classList:a.default.shape({arrowLeft:a.default.string,arrowRight:a.default.string,scrollContainer:a.default.string,wrapper:a.default.string}),scrollDistance:a.default.number},y.defaultProps={classList:{arrowLeft:"",arrowRight:"",scrollContainer:"",wrapper:""},scrollDistance:200};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(30)),i=c(r(2)),l=c(r(3)),u=c(r(5)),s=c(r(828));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.className,r=e.avatarBorder,a=e.avatarMargin,c=e.avatarSize,d=e.children,f=e.postTitle,p=e.preTitle,m=e.titleColor,h=e.titleSize,y=e.user;return n.default.createElement("div",{className:"".concat(t," ").concat(i.default.flexCenterItems)},n.default.createElement("a",{className:"".concat(u.default.circle," ").concat(i.default["marginRight".concat(a)]," ").concat(r?u.default.border:""),href:y.url},n.default.createElement(o.default,{ratio:"1:1",src:y.avatar_url,width:c})),n.default.createElement("div",{className:s.default.content},n.default.createElement("span",null,p,n.default.createElement("a",{className:"".concat(l.default["body".concat(h)]," ").concat(l.default["link".concat(m)]," ").concat(l.default.bold),href:y.url},y.name),f),d))};d.propTypes={avatarBorder:a.default.bool,avatarMargin:a.default.number,avatarSize:a.default.number,postTitle:a.default.node,preTitle:a.default.node,titleColor:a.default.oneOf(["","Blue","Charcoal","Graphite","Pebble","White"]),titleSize:a.default.oneOf(["S","M","L"]),user:a.default.shape({avatar_url:a.default.string,name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired},d.defaultProps={avatarBorder:!0,avatarMargin:10,avatarSize:40,postTitle:null,preTitle:null,titleColor:"",titleSize:"M"};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(190)),a=i(r(273)),o=r(124);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).call(this,e,"topics",a.default))}var r,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n["default"]),r=t,(i=[{key:"searchWithQueryString",value:function(e,t,r){var n=this;return new Promise(function(i,l){return(0,a.default)(t,r).then(function(t){return(0,o.searchIndexWithFacets)(Object.assign({index:n.algoliaIndex,query:e},t))}).then(function(e){return i(e)}).catch(function(e){return l(e)})})}}])&&u(r.prototype,i),l&&u(r,l),t}();t.default=f},,function(e,t,r){e.exports={med:"(max-width: 768px)",small:"(max-width: 480px)",fog:"#F7F7F7",breadcrumbs:"idea_page__breadcrumbs__3ay33",flexSwitch:"idea_page__flexSwitch__3KoWg",flexSwitchChild:"idea_page__flexSwitchChild__1iyjd",ideaWrapper:"idea_page__ideaWrapper__2N80R",judgingPanel:"idea_page__judgingPanel__eFFqF",root:"idea_page__root__aVLTv",statTable:"idea_page__statTable__2kTjR idea_page__flexSwitchChild__1iyjd",ideaHeader:"idea_page__ideaHeader__3T2Bl"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.challengeIdeasQuery=function(){return"query challengeIdeasQuery($id:Int!,$judging:Boolean,$page:Int,$per_page:Int){challenge_ideas(challenge_id:$id,page:$page,per_page:$per_page){".concat((0,n.createPaginationWithoutFragments)(i()),"}}")},t.challengeIdeaQuery=function(){return"query challengeIdeaQuery($id:Int!,$judging:Boolean){paginated_challenge_idea(id:$id){".concat(i(!0),"}}")},t.currentUserIdeaQuery=function(e){return(0,a.getCurrentUserProperty)("challenge_ideas(challenge_id: ".concat(e,") { id status url }"))},t.createChallengeIdea=function(){return"\n    mutation createChallengeIdeaMutation($address_id: Int, $application: ChallengeIdeaApplicationInput, $challenge_id: Int!, $extra_fields: [ChallengeIdeaFieldAnswerInput!], $name: String, $status: ChallengeIdeaStateEnum) {\n      record: createChallengeIdea(address_id: $address_id, application: $application, challenge_id: $challenge_id, extra_fields: $extra_fields, name: $name, status: $status) {\n        id\n      }\n    }\n  "},t.updateChallengeIdea=function(){return"\n    mutation updateChallengeIdeaMutation($address_id: Int, $application: ChallengeIdeaApplicationInput, $extra_fields: [ChallengeIdeaFieldAnswerInput!], $id: Int!, $name: String, $status: ChallengeIdeaStateEnum) {\n      record: updateChallengeIdea(address_id: $address_id, application: $application, extra_fields: $extra_fields, id: $id, name: $name, status: $status) {\n        id\n      }\n    }\n  "},t.updateChallengeIdeaStatus=function(){return"mutation updateChallengeIdeaStatus($id:Int!,$status:ChallengeIdeaStateEnum!){updateChallengeIdea(id:$id,status:$status){id}}"};var n=r(197),a=r(196),o="country created_at stats{live_projects} challenge_stats{entries_submitted entries_won ideas_awarded ideas_submitted registrations status}",i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"application {".concat(e?"hours_total hours_weekly owned skills":""," build components problem solution}\n  created_at\n  current_user_permissions{admin edit moderate}\n  extra_fields { answer hide label }\n  id\n  name\n  old_html_description\n  ").concat(e?"next_id prev_id":"","\n  user{").concat(e?o:"","id name avatar_url url}\n  project{cover_image_url hid name url}\n  status(judging:$judging)\n  submitted_at\n  submitted_at_pt\n  url")}},function(e,t,r){e.exports={graphite:"#4A4A4A",small:"(max-width: 480px)",sectionHeader:"dashboard__sectionHeader__3Rfwa",headerTitle:"dashboard__headerTitle__zw_KZ",headerCount:"dashboard__headerCount__F4Bgl",projectList:"dashboard__projectList__3YuBy",router:"dashboard__router__2ahHb",section:"dashboard__section__2K8l2"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(2315)),i=c(r(2316)),l=c(r(2317)),u=c(r(2318)),s=r(75);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.ad;switch(t.ad_type){case s.CONTENT_PAGE:return n.default.createElement(o.default,{ad:t});case s.HOME_PAGE_BANNER:return n.default.createElement(i.default,{ad:t});case s.NEWS_GALLERY:return n.default.createElement(l.default,{ad:t});case s.NEWS_PAGE_HERO:return n.default.createElement(u.default,{ad:t});default:return null}};d.propTypes={ad:a.default.shape({ad_type:a.default.string.isRequired,cover_image:a.default.shape({url:a.default.string}),mobile_cover_image:a.default.shape({url:a.default.string}),text:a.default.string})};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!C.hasOwnProperty(e))return(0,c.default)("AddSectionView getConfigByType expected type, ".concat(e," to exist.  Known keys: ").concat(Object.keys(C))),C._failSafe();return C[e]()},t.createSelectComponentLabel=t.createOptionLabel=void 0;var n=y(r(0)),a=y(r(435)),o=y(r(2355)),i=y(r(985)),l=y(r(986)),u=y(r(187)),s=y(r(989)),c=y(r(7)),d=r(20),f=y(r(21)),p=y(r(2)),m=y(r(3)),h=y(r(145));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _=function(){return n.default.createElement("div",null)},v=function(e,t){var r=t.algoliaParameters,a=t.algoliaRecordsToOptions,i=t.algoliaService,l=t.placeholder,u=void 0===l?"Select an option from the dropdown or type to search":l,s=t.type;return n.default.createElement(o.default,{key:s,algoliaParameters:r,algoliaProjectsService:e.algoliaProjectsService,algoliaRecordsToOptions:a,algoliaService:e[i],errors:e.getErrorsForType(s),maxWidth:500,onSelect:function(t){return e.setCurrentSelectionForType(s,t)},placeholder:u,value:e.getValueForType(s)})},b=function(e,t){var r=t.placeholder,a=void 0===r?"Select an option from the dropdown":r,o=t.type;return n.default.createElement(u.default,{key:o,errors:e.getErrorsForType(o),maxWidth:500,onSelectedChange:function(t){return e.setCurrentSelectionForType(o,t)},options:k(e.getSelectionListForType(o)),placeholder:a,value:e.getValueForType(o)})},O=function(e,t){var r=e.name,a=e.projects_count;return n.default.createElement("span",{className:"".concat(h.default.option," ").concat(a<t&&h.default.optionDisabled)},n.default.createElement("span",{className:h.default.optionName},r),n.default.createElement("span",null,"(",a," ",(0,d.pluralize)("project",a),")"))};t.createOptionLabel=O;var w=function(e){return n.default.createElement("label",{className:f.default.label},"Select a ".concat(e))};t.createSelectComponentLabel=w;var E=function(e,t){return{key:t,label:e.name,title:e.name,value:e.id}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e.map(function(e){var n=t&&t.hasOwnProperty(e.id)?t[e.id]:0;return{disabled:n<r,label:e.name,labelView:O({name:e.name,projects_count:n},r),value:e.id,record:e}})},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(function(e){return{disabled:!1,label:e.label,value:e.value,record:e}})},S=function(e,t,r,n){var a=e.reduce(function(e,t){return t.key===r?e.concat("".concat(n,":-").concat(t.value)):e},[]);return a.length?[].concat(g(a),g(t)):t},C={cta:function(){return{component:function(e){return function(e){return n.default.createElement(i.default,{ref:function(t){return e.ctaForm=t},imageResources:e.props.imageResources,propagateStatus:e.toggleBusyStatus})}(e)},label:function(){return n.default.createElement("h2",{className:"".concat(m.default.h2," ").concat(p.default.marginBottom30)},"Create a call to action item")},toSection:function(e){return function(e){return{key:"cta",label:e.name,meta:{image_name:e.image.name,image_url:e.image.url,link:e.link},title:e.name,value:e.image.id}}(e)}}},collection:function(){return{component:function(e){return b(e,{type:"collection"})},label:function(){return w("Collection")},toSection:function(e){return e}}},contest:function(){return{component:function(e){return v(e,{algoliaParameters:{hitsPerPage:100,initFacet:S(e.props.existingSections,[],"contest_id","id"),projectsServiceFacetKey:"contest_ids"},algoliaRecordsToOptions:function(e,t){return P(e,t,3)},algoliaService:"algoliaContestsService",type:"contest"})},label:function(){return w("Contest")},toSection:function(e){return E(e,"contest_id")}}},platform:function(){return{component:function(e){return v(e,{algoliaParameters:{hitsPerPage:100,initFacet:S(e.props.existingSections,["model:Platform"],"platform_id","id"),projectsServiceFacetKey:"platforms.id"},algoliaRecordsToOptions:P,algoliaService:"algoliaPlatformsService",type:"platform"})},label:function(){return w("Platform")},toSection:function(e){return E(e,"platform_id")}}},promotedContent:function(){return{actionLabel:function(){return n.default.createElement("p",null,"You must add at least 4 items before publishing")},component:function(e){return function(e){return n.default.createElement(l.default,{ref:function(t){return e.promotedContent=t},algoliaPartsService:e.algoliaPartsService,algoliaTagsService:e.algoliaTagsService,imageResources:e.props.imageResources,propagateStatus:e.toggleBusyStatus})}(e)},label:function(){return null},toSection:function(e){return function(e){return{key:"promoted",label:"Promoted content",meta:{content:e.content},title:e.title,value:(0,a.default)()}}(e)}}},projectCollection:function(){return{component:function(e){return b(e,{type:"projectCollection"})},label:function(){return w("Project collection")},toSection:function(e){return e}}},topic:function(){return{component:function(e){return v(e,{algoliaParameters:{hitsPerPage:100,initFacet:S(e.props.existingSections,["display_on_home:true"],"topic_id","id"),projectsServiceFacetKey:"platforms.id"},algoliaRecordsToOptions:P,algoliaService:"algoliaTopicsService",type:"topic"})},label:function(){return w("Topic")},toSection:function(e){return E(e,"topic_id")}}},video:function(){return{component:function(e){return function(e){return n.default.createElement(s.default,{ref:function(t){return e.video=t},imageResources:e.props.imageResources,propogateStatus:e.toggleBusyStatus})}(e)},label:function(){return null},toSection:function(e){return function(e){return{key:"video",label:"Videos",meta:{content:e.content},title:e.title,value:(0,a.default)()}}(e)}}},_failSafe:function(){return{component:function(){return _},label:function(){return w("...")},toSection:function(){}}}}},function(e,t,r){e.exports={root:"home__root__3JzCg",paddedContainer:"home__paddedContainer__1NdMx",headerCell:"home__headerCell__YxJ-k",ghostCell:"home__ghostCell__2iGG_",ghostDragBox:"home__ghostDragBox__Leiae",greyNothing:"home__greyNothing__3RYNu animation__loader__3jVQp",tableContainer:"home__tableContainer__1t1RD",tableHeader:"home__tableHeader__3pTQw",inputContainer:"home__inputContainer__1KIQS",menuContainer:"home__menuContainer__3YUZy",radioGroup:"home__radioGroup__2AuMx",partOption:"home__partOption__2CzgG",partOptionDisabled:"home__partOptionDisabled__3DzMd",partOptionName:"home__partOptionName__AMd9g"}},function(e,t,r){e.exports={hackster:"#2E9FE6",graphite:"#4A4A4A",list:"section_list__list__1Zpb0",row:"section_list__row__1D7y6",dragHandle:"section_list__dragHandle__1vqPl",actions:"section_list__actions__2i_Lr",buttonCntr:"section_list__buttonCntr__2euq-",cell:"section_list__cell__3HpbE",cell30:"section_list__cell30__OfSls",cell20:"section_list__cell20__DeVdD",cell10:"section_list__cell10__GQosg",dragHandleIcon:"section_list__dragHandleIcon__2adY3",nameCell:"section_list__nameCell__VESY1 section_list__cell__3HpbE section_list__cell30__OfSls",saveBtn:"section_list__saveBtn__8Ys1C",metaMsg:"section_list__metaMsg__3oG-e",tag:"section_list__tag__3p8TA",title:"section_list__title__28pk6",titleInput:"section_list__titleInput__2VigG"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=r(58),i=d(r(30)),l=d(r(2508)),u=d(r(2)),s=d(r(2509)),c=d(r(146));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?h(n):a).toggleExpanded=r.toggleExpanded.bind(h(r)),r.state={expanded:!1},r}var r,n,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,a.Component),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){this.state.expanded&&e.expandedCard!==this.props.uuid&&this.setState({expanded:!1})}},{key:"toggleExpanded",value:function(){this.props.expanding(this.props.uuid,!this.state.expanded),this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var e=this.props,t=e.classList,r=e.dropdown,n=e.icon,d=e.info,f=e.isExpandable,p=e.isNestedInDialog,m=e.link,h=e.onMouseLeave,y=e.onMouseOver,g=e.subtitle,_=e.title;return a.default.createElement("div",{className:c.default.card,onMouseLeave:h},a.default.createElement("div",{className:c.default.cardInner},a.default.createElement("div",{className:c.default.textSection},n&&n.length>0&&a.default.createElement("a",{className:"".concat(c.default.icon," ").concat(t.icon),href:m},a.default.createElement(i.default,{captureScroll:p,className:u.default.flexCenterItems,ratio:"1:1",src:n,width:36})),a.default.createElement("div",null,a.default.createElement("a",{className:c.default.title,href:m,onMouseOver:y},_),g&&g.length>0&&a.default.createElement("div",{className:c.default.subtitle},g),d&&d.length>0&&a.default.createElement("div",{className:c.default.info},d))),a.default.createElement("div",{className:c.default.childrenSection},this.props.children,f&&a.default.createElement("span",{className:c.default.arrowWrapper,onClick:this.toggleExpanded},a.default.createElement(l.default,{className:c.default.arrow,direction:this.state.expanded?"up":"down",height:"10",width:"10"})))),a.default.createElement(o.CSSTransition,{classNames:s.default,in:this.state.expanded&&!!r,mountOnEnter:!0,timeout:450,unmountOnExit:!0},a.default.createElement("div",{className:c.default.dropdown},r)))}}])&&p(r.prototype,n),d&&p(r,d),t}();g.propTypes={classList:n.default.shape({icon:n.default.string}),dropdown:n.default.element,expandedCard:n.default.string,expanding:n.default.func,icon:n.default.string,info:n.default.string,isExpandable:n.default.bool,isNestedInDialog:n.default.bool,link:n.default.string,onMouseLeave:n.default.func,onMouseOver:n.default.func,subtitle:n.default.string,title:n.default.string.isRequired,uuid:n.default.string},g.defaultProps={classList:{icon:""},dropdown:null,expandedCard:null,expanding:function(){},icon:"",info:"",isExpandable:!1,isNestedInDialog:!1,link:"javascript:void(0);",onMouseLeave:function(){},onMouseOver:function(){},subtitle:"",uuid:null};var _=g;t.default=_},,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch((0,n.getCountry)(e).name){case"Bermuda":return function(e){var t=e.address_line1,r=e.address_line2,n=e.city,a=e.zip,o="".concat(n," ").concat(a)===r;return[t,o?"":r,"".concat(n," ").concat(a)].filter(function(e){return e&&e.length}).map(function(e){return e.trim()})}(e);case"Canada":case"United States":return a(e);default:return function(e){var t=e.address_line1,r=e.address_line2,n=e.city,a=e.state,o=e.zip,i="".concat(o," ").concat(n)===r;return[t,i?"":r,"".concat(o," ").concat(n," ").concat(a||"")].filter(function(e){return e&&e.length}).map(function(e){return e.trim()})}(e)}};var n=r(105);function a(e){var t=e.address_line1,r=e.address_line2,n=e.city,a=e.state,o=e.zip;return[t,r,"".concat(n," ").concat(a," ").concat(o)].filter(function(e){return e&&e.length}).map(function(e){return e.trim()})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.China=t.Mexico=t.Australia=t.Canada=t.States=t.Countries=void 0;t.Countries=["Andorra","Afghanistan","Antigua and Barbuda","Anguilla","Albania","Armenia","Netherlands Antilles","Angola","Antarctica","Argentina","American Samoa","Austria","Australia","Aruba","Åland Islands","Azerbaijan","Bosnia and Herzegovina","Barbados","Bangladesh","Belgium","Burkina Faso","Bulgaria","Bahrain","Burundi","Benin","Saint Barthélemy","Bermuda","Brunei Darussalam","Bolivia","Bonaire, Sint Eustatius and Saba","Brazil","Bahamas","Bhutan","Bouvet Island","Botswana","Belarus","Belize","Canada","Cocos (Keeling) Islands","Congo, The Democratic Republic Of The","Central African Republic","Congo","Switzerland","Côte D'Ivoire","Cook Islands","Chile","Cameroon","China","Colombia","Costa Rica","Cuba","Cape Verde","Curaçao","Christmas Island","Cyprus","Czech Republic","Germany","Djibouti","Denmark","Dominica","Dominican Republic","Algeria","Ecuador","Estonia","Egypt","Western Sahara","Eritrea","Spain","Ethiopia","Finland","Fiji","Falkland Islands (Malvinas)","Micronesia, Federated States Of","Faroe Islands","France","Gabon","United Kingdom","Grenada","Georgia","French Guiana","Guernsey","Ghana","Gibraltar","Greenland","Gambia","Guinea","Guadeloupe","Equatorial Guinea","Greece","South Georgia and the South Sandwich Islands","Guatemala","Guam","Guinea-Bissau","Guyana","Hong Kong","Heard and McDonald Islands","Honduras","Croatia","Haiti","Hungary","Indonesia","Ireland","Israel","Isle of Man","India","British Indian Ocean Territory","Iraq","Iran, Islamic Republic Of","Iceland","Italy","Jersey","Jamaica","Jordan","Japan","Kenya","Kyrgyzstan","Cambodia","Kiribati","Comoros","Saint Kitts And Nevis","Korea, Democratic People's Republic Of","Korea, Republic of","Kuwait","Cayman Islands","Kazakhstan","Lao People's Democratic Republic","Lebanon","Saint Lucia","Liechtenstein","Sri Lanka","Liberia","Lesotho","Lithuania","Luxembourg","Latvia","Libya","Morocco","Monaco","Moldova, Republic of","Montenegro","Saint Martin","Madagascar","Marshall Islands","Macedonia, the Former Yugoslav Republic Of","Mali","Myanmar","Mongolia","Macao","Northern Mariana Islands","Martinique","Mauritania","Montserrat","Malta","Mauritius","Maldives","Malawi","Mexico","Malaysia","Mozambique","Namibia","New Caledonia","Niger","Norfolk Island","Nigeria","Nicaragua","Netherlands","Norway","Nepal","Nauru","Niue","New Zealand","Oman","Panama","Peru","French Polynesia","Papua New Guinea","Philippines","Pakistan","Poland","Saint Pierre And Miquelon","Pitcairn","Puerto Rico","Palestine, State of","Portugal","Palau","Paraguay","Qatar","Réunion","Romania","Serbia","Russian Federation","Rwanda","Saudi Arabia","Solomon Islands","Seychelles","Sudan","Sweden","Singapore","Saint Helena","Slovenia","Svalbard And Jan Mayen","Slovakia","Sierra Leone","San Marino","Senegal","Somalia","Suriname","South Sudan","Sao Tome and Principe","El Salvador","Sint Maarten","Syrian Arab Republic","Swaziland","Turks and Caicos Islands","Chad","French Southern Territories","Togo","Thailand","Tajikistan","Tokelau","Timor-Leste","Turkmenistan","Tunisia","Tonga","Turkey","Trinidad and Tobago","Tuvalu","Taiwan, Republic Of China","Tanzania, United Republic of","Ukraine","United Arab Emirates","Uganda","United States Minor Outlying Islands","United States","Uruguay","Uzbekistan","Holy See (Vatican City State)","Saint Vincent And The Grenadines","Venezuela, Bolivarian Republic of","Virgin Islands, British","Virgin Islands, U.S.","Vietnam","Vanuatu","Wallis and Futuna","Samoa","Yemen","Mayotte","South Africa","Zambia","Zimbabwe"];t.States=[{short:"AL",name:"Alabama",country:"US"},{short:"AK",name:"Alaska",country:"US"},{short:"AZ",name:"Arizona",country:"US"},{short:"AR",name:"Arkansas",country:"US"},{short:"CA",name:"California",country:"US"},{short:"CO",name:"Colorado",country:"US"},{short:"CT",name:"Connecticut",country:"US"},{short:"DC",name:"District of Columbia",country:"US"},{short:"DE",name:"Delaware",country:"US"},{short:"FL",name:"Florida",country:"US"},{short:"GA",name:"Georgia",country:"US"},{short:"HI",name:"Hawaii",country:"US"},{short:"ID",name:"Idaho",country:"US"},{short:"IL",name:"Illinois",country:"US"},{short:"IN",name:"Indiana",country:"US"},{short:"IA",name:"Iowa",country:"US"},{short:"KS",name:"Kansas",country:"US"},{short:"KY",name:"Kentucky",country:"US"},{short:"LA",name:"Louisiana",country:"US"},{short:"ME",name:"Maine",country:"US"},{short:"MD",name:"Maryland",country:"US"},{short:"MA",name:"Massachusetts",country:"US"},{short:"MI",name:"Michigan",country:"US"},{short:"MN",name:"Minnesota",country:"US"},{short:"MS",name:"Mississippi",country:"US"},{short:"MO",name:"Missouri",country:"US"},{short:"MT",name:"Montana",country:"US"},{short:"NE",name:"Nebraska",country:"US"},{short:"NV",name:"Nevada",country:"US"},{short:"NH",name:"New Hampshire",country:"US"},{short:"NJ",name:"New Jersey",country:"US"},{short:"NM",name:"New Mexico",country:"US"},{short:"NY",name:"New York",country:"US"},{short:"NC",name:"North Carolina",country:"US"},{short:"ND",name:"North Dakota",country:"US"},{short:"OH",name:"Ohio",country:"US"},{short:"OK",name:"Oklahoma",country:"US"},{short:"OR",name:"Oregon",country:"US"},{short:"PA",name:"Pennsylvania",country:"US"},{short:"RI",name:"Rhode Island",country:"US"},{short:"SC",name:"South Carolina",country:"US"},{short:"SD",name:"South Dakota",country:"US"},{short:"TN",name:"Tennessee",country:"US"},{short:"TX",name:"Texas",country:"US"},{short:"UT",name:"Utah",country:"US"},{short:"VT",name:"Vermont",country:"US"},{short:"VA",name:"Virginia",country:"US"},{short:"WA",name:"Washington",country:"US"},{short:"WV",name:"West Virginia",country:"US"},{short:"WI",name:"Wisconsin",country:"US"},{short:"WY",name:"Wyoming",country:"US"},{short:"AS",name:"American Samoa",country:"US"},{short:"GU",name:"Guam",country:"US"},{short:"MP",name:"Northern Mariana Islands",country:"US"},{short:"PR",name:"Puerto Rico",country:"US"},{short:"UM",name:"United States Minor Outlying Islands",country:"US"},{short:"VI",name:"Virgin Islands",country:"US"}];t.Canada=[{short:"AB",name:"Alberta",country:"CA"},{short:"BC",name:"British Columbia",country:"CA"},{short:"MB",name:"Manitoba",country:"CA"},{short:"NB",name:"New Brunswick",country:"CA"},{short:"NL",name:"Newfoundland and Labrador",country:"CA",alt:["Newfoundland","Labrador"]},{short:"NS",name:"Nova Scotia",country:"CA"},{short:"NU",name:"Nunavut",country:"CA"},{short:"NT",name:"Northwest Territories",country:"CA"},{short:"ON",name:"Ontario",country:"CA"},{short:"PE",name:"Prince Edward Island",country:"CA"},{short:"QC",name:"Quebec",country:"CA"},{short:"SK",name:"Saskatchewan",country:"CA"},{short:"YT",name:"Yukon",country:"CA"}];t.Australia=[{short:"ACT",name:"Australian Capital Territory",country:"AU"},{short:"CX",name:"Christmas Island",country:"AU"},{short:"CC",name:"Cocos Islands",alt:["Keeling Islands"],country:"AU"},{short:"HM",name:"Heard Island and McDonald Islands",country:"AU"},{short:"JBT",name:"Jervis Bay Territory",country:"AU"},{short:"NSW",name:"New South Wales",country:"AU"},{short:"NF",name:"Norfolk Island",country:"AU"},{short:"NT",name:"Northern Territory",country:"AU"},{short:"QLD",name:"Queensland",country:"AU"},{short:"SA",name:"South Australia",country:"AU"},{short:"TAS",name:"Tasmania",country:"AU"},{short:"VIC",name:"Victoria",country:"AU"},{short:"WA",name:"Western Australia",country:"AU"}];t.Mexico=[{name:"Aguascalientes",short:"AG",alt:["AGS"],country:"MX"},{name:"Baja California",short:"BC",alt:["BCN"],country:"MX"},{name:"Baja California Sur",short:"BS",alt:["BCS"],country:"MX"},{name:"Campeche",short:"CM",alt:["Camp","CAM"],country:"MX"},{name:"Chiapas",short:"CS",alt:["Chis","CHP"],country:"MX"},{name:"Chihuahua",short:"CH",alt:["Chih","CHH"],country:"MX"},{name:"Coahuila",short:"MX",alt:["Coah","COA"],country:"MX"},{name:"Colima",short:"CL",alt:["COL"],country:"MX"},{name:"Federal District",short:"DF",alt:["DIF"],country:"MX"},{name:"Durango",short:"DG",alt:["Dgo","DUR"],country:"MX"},{name:"Guanajuato",short:"GT",alt:["Gto","GUA"],country:"MX"},{name:"Guerrero",short:"GR",alt:["Gro","GRO"],country:"MX"},{name:"Hidalgo",short:"HG",alt:["Hgo","HID"],country:"MX"},{name:"Jalisco",short:"JA",alt:["Jal","JAL"],country:"MX"},{name:"Mexico",short:"ME",alt:["Edomex","MEX"],country:"MX"},{name:"Michoacán",short:"MI",alt:["Mich","MIC"],country:"MX"},{name:"Morelos",short:"MO",alt:["Mor","MOR"],country:"MX"},{name:"Nayarit",short:"NA",alt:["Nay","NAY"],country:"MX"},{name:"Nuevo León",short:"NL",alt:["NLE"],country:"MX"},{name:"Oaxaca",short:"OA",alt:["Oax","OAX"],country:"MX"},{name:"Puebla",short:"PU",alt:["Pue","PUE"],country:"MX"},{name:"Querétaro",short:"QE",alt:["Qro","QUE"],country:"MX"},{name:"Quintana Roo",short:"QR",alt:["Q Roo","ROO"],country:"MX"},{name:"San Luis Potosí",short:"SL",alt:["SLP"],country:"MX"},{name:"Sinaloa",short:"SI",alt:["SIN"],country:"MX"},{name:"Sonora",short:"SO",alt:["SON"],country:"MX"},{name:"Tabasco",short:"TB",alt:["TAB"],country:"MX"},{name:"Tamaulipas",short:"TM",alt:["Tamps","TAM"],country:"MX"},{name:"Tlaxcala",short:"TL",alt:["Tlax","TLA"],country:"MX"},{name:"Veracruz",short:"VE",alt:["VER"],country:"MX"},{name:"Yucatán",short:"YU",alt:["YUC"],country:"MX"},{name:"Zacatecas",short:"ZA",alt:["ZAC"],country:"MX"}];t.China=[{name:"重庆",short:"渝",country:"CN"},{name:"黑龙江",short:"黑",country:"CN"},{name:"吉林",short:"吉",country:"CN"},{name:"海南",short:"琼",country:"CN"},{name:"北京",short:"京",country:"CN"},{name:"辽宁",short:"辽",country:"CN"},{name:"内蒙古",short:"蒙",country:"CN"},{name:"西藏",short:"藏",country:"CN"},{name:"青海",short:"青",country:"CN"},{name:"宁夏",short:"宁",country:"CN"},{name:"新疆",short:"新",country:"CN"},{name:"甘肃",short:"甘",country:"CN"},{name:"河北",short:"冀",country:"CN"},{name:"河南",short:"豫",country:"CN"},{name:"湖北",short:"鄂",country:"CN"},{name:"湖南",short:"湘",country:"CN"},{name:"山东",short:"鲁",country:"CN"},{name:"江苏",short:"苏",country:"CN"},{name:"安徽",short:"皖",country:"CN"},{name:"山西",short:"晋",country:"CN"},{name:"陕西",short:"陕",country:"CN"},{name:"四川",short:"川",country:"CN"},{name:"云南",short:"滇",country:"CN"},{name:"贵州",short:"黔",country:"CN"},{name:"浙江",short:"浙",country:"CN"},{name:"福建",short:"闽",country:"CN"},{name:"广西",short:"桂",country:"CN"},{name:"上海",short:"沪",country:"CN"},{name:"天津",short:"津",country:"CN"},{name:"香港",short:"港",country:"CN"},{name:"澳门",short:"澳",country:"CN"},{name:"台湾",short:"台",country:"CN"},{name:"江西",short:"赣",country:"CN"},{name:"广东",short:"粤",country:"CN"}]},,function(e,t,r){e.exports={enter:"transitions__enter__27PCk",appear:"transitions__appear__2eabQ",enterActive:"transitions__enterActive__2Jy94",appearActive:"transitions__appearActive__3I_0o",exit:"transitions__exit__3NyvT",exitActive:"transitions__exitActive__152Bb"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceAllButNums=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.replace(/[^0-9]/g,t)},t.sliceRichTextAt=function(e,t){var r=(0,n.unescape)(e);if(r.length<t)return r;var i=r.slice(0,t),l=function(e){for(var t,r=e.split(""),n="",i=r.length-1;i>=0;i--)if(n=r[i]+n," "===r[i]||n.includes("http")||n.slice(0,1)===a||o.test(n)){t=i;break}return n.length&&"number"==typeof t?t:-1}(r.slice(0,t));if(l<0)return i;var u=function(e,t){for(var r,n=e.split("").slice(t,e.length),a=0;a<=n.length-1;a++){if(" "===n[a]){r=a;break}if(a===n.length-1){r=n.length;break}}return"number"==typeof r?r:-1}(r,l);if(u<0)return i;var s=l+u,c=r.slice(l,s);return((0,n.isURL)(c,{require_protocol:!0})||c.slice(0,1)===a||o.test(c))&&s>l?r.slice(0,s):i},t.toKebabCaseAlphaNumericOnly=function(e){return e.toLowerCase().trim().replace(/[^a-z0-9]/g,"-")};var n=r(49),a="@",o=/\[([^\[\]]+)\]\(([^)]+)\)?/},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(1)),o=r(155);function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u={gif:{autoPlay:!0,loop:!0,muted:!0},video:{controls:!0,preload:"metadata"}},s=function(e){return e.format===o.VIDEO?(r=(t=e).alt,a=t.className,i=t.onClick,s=t.onError,c=t.onLoad,d=t.src,f=t.videoRole,n.default.createElement("video",l({className:a,alt:r,onClick:i,onLoadedData:c,onError:s,playsInline:!0},u[f]),n.default.createElement("source",{src:d,type:"video/mp4"}))):function(e){var t=e.alt,r=e.className,a=e.onClick,o=e.onError,i=e.onLoad,l=e.src,u=e.srcSet;return n.default.createElement("img",{className:r,alt:t,onClick:a,onError:o,onLoad:i,srcSet:u,src:l})}(e);var t,r,a,i,s,c,d,f};s.propTypes={alt:a.default.string,className:a.default.string,format:a.default.string,onClick:a.default.func,onError:a.default.func,onLoad:a.default.func,src:a.default.string,srcSet:a.default.string,videoRole:a.default.oneOf(["gif","video"])},s.defaultProps={alt:"",className:"",format:"",onClick:function(){},onError:function(){},onLoad:function(){},src:"",srcSet:"",videoRole:"gif"};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(null===o){var e=(0,n.getNavigator)(),t=e&&e.userAgent;o=a.test(t)}return o};var n=r(12),a=/mobi|android|opera mini/i,o=null},,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAttachment=l,t.getRemoteUploadJobStatus=u,t.pollForAttachment=function(e){return(0,o.pollWithBackoff)(function(t,r,n){return l(e).then(function(e){return!0===e.processed?t(e):n()}).catch(function(e){return r(e)})})},t.pollJob=function(e){return(0,o.pollWithBackoff)(function(t,r,n){return u(e).then(function(e){return"complete"===e.status?t(e):n()}).catch(function(e){return r(e)})})},t.postRemoteURL=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(i,l){var u=Object.assign({},o,{file_type:t,file_url:e});return a.default.apiRequest(n.default.post("".concat(a.default.getApiPath(),"/private/files/remote_upload")).send(u).on("progress",function(e){r&&r(e)})).then(function(t){return t.hasOwnProperty("id")?i(t):l(new Error("Problem uploading remote file ".concat(e)))}).catch(function(e){return l(e)})})};var n=i(r(35)),a=i(r(40)),o=r(447);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return a.default.apiRequest((0,n.default)("".concat(a.default.getApiPath(),"/private/files/").concat(e)))}function u(e){return new Promise(function(t,r){a.default.apiRequest((0,n.default)("".concat(a.default.getApiPath(),"/private/files/remote_upload?job_id=").concat(e))).then(function(e){return"failed"===e.status?r(new Error("Remote upload failed")):t(e)}).catch(function(e){return r(e)})})}},function(e,t,r){e.exports={dropdown:"bookmarks__dropdown__1Ztld",widgetDropdown:"bookmarks__widgetDropdown__2-J5G",listToggles:"bookmarks__listToggles__u72_u",listToggle:"bookmarks__listToggle__1uKNE",widgetHeader:"bookmarks__widgetHeader__3kF5W"}},function(e,t,r){e.exports={asphalt:"#D8D8D8",overlay:"common-overlay__overlay__zqeVx",parent:"common-overlay__parent__1A_nT"}},function(e,t,r){e.exports={graphite:"#4A4A4A",fog:"#F7F7F7",asphalt:"#D8D8D8",hackster:"#2E9FE6",pebble:"#767676",charcoal:"#111",small:"(max-width: 480px)",med:"(max-width: 768px)",fullWidth:"navbar__fullWidth__1084f",themeDark:"navbar__themeDark__sfrGF",themeLight:"navbar__themeLight__1OkVg",dropdown:"navbar__dropdown__3rgRd",link:"navbar__link__1Wa8O",linkFocused:"navbar__linkFocused__1FREm navbar__link__1Wa8O",linkWrapperFocused:"navbar__linkWrapperFocused__1Su2B",list:"navbar__list__2BySL",listItem:"navbar__listItem__1JH7v",linkWrapper:"navbar__linkWrapper__21PGL",subLinkWrapper:"navbar__subLinkWrapper__2LLtK",center:"navbar__center__WcYHj",borderBottom:"navbar__borderBottom__3DHUL"}},function(e,t,r){e.exports={zIndex10:"sticky_actions__zIndex10__1lfia",socialIcon:"sticky_actions__socialIcon__2MBHC",stickyButton:"sticky_actions__stickyButton__2j2O1",stickyFooter:"sticky_actions__stickyFooter__9knIr",stickyFooterHidden:"sticky_actions__stickyFooterHidden__2GBUe",stickyFooterWrapper:"sticky_actions__stickyFooterWrapper__2Zf4s"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectLink=function(e,t){return e.hasOwnProperty(t)?e[t]:i.NOOP_HREF},t.handleMainLinkClick=function(e,t,r,n,o){"function"==typeof n?n(e,{external:t.url,internal:""},{id:t.id,index:o,type:"project_card"},[{eventName:"Clicked link",customProps:{href:t.url,location:r,type:"project_card",value:t.name}}]):a.default.recordEventWithDelayedRedirect({eventName:"Clicked link"},{href:t.url,location:r,type:"project_card",value:t.name},t.url,e)},t.normalizeProject=function(e){var t=(0,o.getInObj)(["team","members"],e)||e.authors||[],r=(0,o.getInObj)(["team","name"],e)||(t.length>0?"Multiple Authors":""),n=Array.isArray(e.content_type)?e.content_type[0]:e.content_type,a=Array.isArray(e.content_type)?e.content_type.includes("contest_winner"):!!e.contest_winner,i=e.respects_count||(0,o.getInObj)(["stats","respects"],e)||0,l=e.impressions_count||(0,o.getInObj)(["stats","views"],e)||0;return{cover_image_url:e.cover_image_url||"",contest_winner:a,difficulty:e.difficulty,guest_name:e.guest_name||"",hid:e.hid,id:e.id,name:e.name,one_liner:e.one_liner||e.pitch,published_state:e.published_state||"",stats:{respects:i,views:l},team:{members:t,name:r},type_label:n,url:e.url}},t.isEditable=void 0;var n,a=(n=r(22))&&n.__esModule?n:{default:n},o=r(8),i=r(55);t.isEditable=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendFilterStringToQueryMap=function(e,t){return new Promise(function(r){var n=t.split("="),a=Object.assign({},e);"null"===n[1]&&a.hasOwnProperty(n[0])?delete a[n[0]]:"page"===n[0]&&"0"===n[1]&&a.hasOwnProperty("page")?delete a.page:"null"!==n[1]&&(a[n[0]]=n[1]),"sort"===n[0]&&a.hasOwnProperty("page")&&delete a.page,r(a)})},t.decodeLastUrlSegment=function(){return new Promise(function(e){var t=a.windowLocationPathname.get().split("/").filter(function(e){return e.length&&"/"!==e}),r=t[t.length-1]||"";e(decodeURIComponent(r))})},t.getUrlSegmentsAfterUrlPart=function(e){return new Promise(function(t){var r=a.windowLocationPathname.get().split("/").filter(function(e){return e.length&&"/"!==e}),n=r.indexOf(e);t(r.slice(n+1).map(function(e){return decodeURIComponent(e)}))})},t.mapifySearchQuery=function(){return new Promise(function(e){var t=(0,n.mapifyStringQuery)(a.windowLocationSearch.get());e(Object.keys(t).reduce(function(e,r){return t[r]&&t[r].length&&"null"!==t[r]&&"undefined"!==t[r]&&'""'!==t[r]&&(e[r]=t[r]),e},{}))})},t.stringifyQueryMap=function(e){return new Promise(function(t){t((0,n.mapToStringQuery)(e))})};var n=r(44),a=r(12)},function(e,t,r){e.exports={pebble:"#767676",charcoal:"#111",breadcrumbs:"page_header__breadcrumbs__3MTW0",noProjectsText:"page_header__noProjectsText__1CtM3",header:"page_header__header__1aguu",headerInner:"page_header__headerInner__3v8s6 page_header__header__1aguu",pageHeaderContainer:"page_header__pageHeaderContainer__1bHey page_header__header__1aguu",pageHeaderWrapper:"page_header__pageHeaderWrapper__GYJ81",pageHeader:"page_header__pageHeader__3l-v0",viewProfileLink:"page_header__viewProfileLink__2eAdT"}},,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(825)),i=l(r(263));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.children,r=e.classList,a=e.multiline,l=e.offsetX,u=e.offsetY,s=e.position,c=e.tooltip,d=e.tooltipWidth;return n.default.createElement("span",{className:"".concat(i.default.wrapper," ").concat(r.wrapper)},t,null!==c&&n.default.createElement(o.default,{classList:r,innerWidth:d,multiline:a,offsetX:l,offsetY:u,position:s},c))};u.propTypes={classList:a.default.shape({tooltip:a.default.string,tooltipInner:a.default.string,wrapper:a.default.string}),multiline:a.default.bool,offsetX:a.default.number,offsetY:a.default.number,position:a.default.string,tooltip:a.default.node,tooltipWidth:a.default.oneOfType([a.default.number,a.default.string])},u.defaultProps={classList:{},multiline:!1,offsetX:0,offsetY:0,position:"bottom",tooltip:null,tooltipWidth:null};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(2)),i=u(r(3)),l=u(r(5));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.categoryConfig;return n.default.createElement("div",{className:o.default.flexCenterItems},n.default.createElement("div",{style:{borderRadius:2,height:10,width:10},className:l.default[t.colorClass]}),n.default.createElement("span",{className:"".concat(i.default.bodyS," ").concat(o.default.marginLeft5)},t.title))};s.propTypes={categoryConfig:a.default.shape({colorClass:a.default.string.isRequired,title:a.default.string.isRequired}).isRequired};var c=s;t.default=c},function(e,t,r){e.exports={graphite:"#4A4A4A",small:"(max-width: 480px)",body:"post_embed__body__qQ7z4",bodyWrapper:"post_embed__bodyWrapper__190Ci",description:"post_embed__description__3_IxT post_embed__body__qQ7z4",dismiss:"post_embed__dismiss__2VaJs",image:"post_embed__image__2YDih",lockHeight:"post_embed__lockHeight__1CsSc",root:"post_embed__root__3xMkL",siteName:"post_embed__siteName__1aFVT"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=r(181),i=l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.actionText;return n.default.createElement("div",{className:i.default.bodyM,style:{maxWidth:600}},"To ".concat(t,", you first need to confirm your email address by clicking the link in the email we sent you. Haven't received it? "),n.default.createElement("a",{className:i.default.linkBlue,href:(0,o.whitelabelUrlHelper)().appendToRootPath("/users/confirmation/new")},"Resend confirmation email"))};u.propTypes={actionText:a.default.string},u.defaultProps={actionText:"do this"};var s=u;t.default=s},function(e,t,r){e.exports={avatar:"post_card_comments__avatar__2riTa",avatarSm:"post_card_comments__avatarSm__38r_9",avatarHighlight:"post_card_comments__avatarHighlight__3w90g",avatar_pulse:"post_card_comments__avatar_pulse__2cZe7",commentRoot:"post_card_comments__commentRoot__2gNVj",childCommentRoot:"post_card_comments__childCommentRoot__3W8BA",input:"post_card_comments__input__1vlrJ",inputDummy:"post_card_comments__inputDummy__1_e7g",menuWrapper:"post_card_comments__menuWrapper__32q9z",richTextEditorRoot:"post_card_comments__richTextEditorRoot__365og",showMenuOnHover:"post_card_comments__showMenuOnHover__gh3N4",showPreviousText:"post_card_comments__showPreviousText__1Uza0"}},,function(e,t,r){"use strict";function n(e){return e.getCurrentContent().getBlockForKey(e.getSelection().getAnchorKey())}Object.defineProperty(t,"__esModule",{value:!0}),t.characterBeforeCursorHasEntity=function(e,t){var r=e.getSelection(),a=n(e).getEntityAt(r.getAnchorOffset()-1);return null!==a&&function(e,t){return Array.isArray(t)?t.includes(e):e===t}(e.getCurrentContent().getEntity(a).getType(),t)},t.characterHasEntity=function(e,t,r){var n=e.getEntity();return null!==n&&r.getEntity(n).getType()===t},t.findWithRegex=function(e,t,r){var n,a,o=t.getText();for(;null!==(n=e.exec(o));)a=n.index,r(a,a+n[0].length,n[0])},t.getCurrentBlock=n,t.getWordBeforeCursor=function(e){var t=e.getSelection();return n(e).getText().slice(0,t.getAnchorOffset()).split(" ").pop()}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIMPLE_PAGINATION=void 0;t.SIMPLE_PAGINATION={current_page:1,next_page:null,per_page:20,prev_page:null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=i(r(1)),o=i(r(100));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=s(t).call(this,e))||"object"!==l(a)&&"function"!=typeof a?c(n):a).fetchOptions=r.fetchOptions.bind(c(r)),r._isMounted,r}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n.Component),r=t,(a=[{key:"componentWillMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"fetchOptions",value:function(e){var t=this,r=this.props.algoliaParameters,n=r.hitsPerPage,a=r.initFacet;return new Promise(function(r,o){return t.props.algoliaService.searchWithQueryString(e,{hitsPerPage:n},a).then(function(e){t.props.propagateCurrentQuery(e),r({options:t.props.algoliaRecordsToOptions(e.hits)})}).catch(function(e){return o(e)})})}},{key:"_getErrors",value:function(e){return!e||e&&0===e.length?null:Array.isArray(e)?e.join(", "):e}},{key:"render",value:function(){return n.default.createElement(o.default,{asyncOpts:{initOnMount:!0,request:this.fetchOptions},errors:this._getErrors(this.props.errors),helperText:this.props.helperText,label:this.props.label,maxWidth:this.props.maxWidth,onSelectedChange:this.props.onSelect,placeholder:this.props.placeholder,type:"multi",searchOpts:{multiLimit:this.props.selectionLimit,rule:"default"},value:this.props.value})}}])&&u(r.prototype,a),i&&u(r,i),t}();f.propTypes={algoliaParameters:a.default.shape({hitsPerPage:a.default.number,initFacet:a.default.array}),algoliaRecordsToOptions:a.default.func.isRequired,algoliaService:a.default.object.isRequired,errors:a.default.oneOfType([a.default.array,a.default.string]),helperText:a.default.string,label:a.default.string,maxWidth:a.default.oneOfType([a.default.number,a.default.string]),onSelect:a.default.func.isRequired,placeholder:a.default.string,propagateCurrentQuery:a.default.func,selectionLimit:a.default.number,value:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.any}))},f.defaultProps={algoliaParameters:{hitsPerPage:100,initFacet:[]},errors:null,helperText:"",label:"",maxWidth:"100%",placeholder:"Select an option from the dropdown or type to search",propagateCurrentQuery:function(){},selectionLimit:3,value:[]};var p=f;t.default=p},function(e,t,r){e.exports={small:"(max-width: 480px)",cardResponsive:"base_card_vertical__cardResponsive__1GoBg",imageResponsive:"base_card_vertical__imageResponsive__1S62e",textResponsive:"base_card_vertical__textResponsive___SI5n"}},function(e,t,r){e.exports={asphalt:"#D8D8D8",pebble:"#767676",large:"(max-width: 1200px)",container:"image_carousel__container__hMJxn",resizeOverlay:"image_carousel__resizeOverlay__305wV",viewerContainer:"image_carousel__viewerContainer__3S7Yf image_carousel__container__hMJxn",caption:"image_carousel__caption__2sZrD",hoverHighlight:"image_carousel__hoverHighlight__1YVDQ",wrapper:"image_carousel__wrapper__102VA",scrollContainer:"image_carousel__scrollContainer__3mmPE",scrollContainerPreImgLoad:"image_carousel__scrollContainerPreImgLoad__3x5ll",noScrollContainer:"image_carousel__noScrollContainer__3vxP7 image_carousel__scrollContainer__3mmPE",navArea:"image_carousel__navArea__2Ef8D",hoverHighlightLeft:"image_carousel__hoverHighlightLeft__1S9h7 image_carousel__hoverHighlight__1YVDQ",hoverHighlightRight:"image_carousel__hoverHighlightRight__2MeJj image_carousel__hoverHighlight__1YVDQ",navAreaLeft:"image_carousel__navAreaLeft__1PU4a image_carousel__navArea__2Ef8D",navAreaRight:"image_carousel__navAreaRight__2Fd8H image_carousel__navArea__2Ef8D",disabled:"image_carousel__disabled__IsxHv",imageContainer:"image_carousel__imageContainer__22WPm",imageWrapper:"image_carousel__imageWrapper__39AG2",image:"image_carousel__image__2-CjO",imageLoading:"image_carousel__imageLoading__1jZwI",loader:"image_carousel__loader__2fxCQ",viewerImage:"image_carousel__viewerImage__ca3Q9 image_carousel__image__2-CjO",dialog:"image_carousel__dialog__1b1qS",overlay:"image_carousel__overlay__15V4t",dialogWrapper:"image_carousel__dialogWrapper__2dgVR",dialogBody:"image_carousel__dialogBody__3vKXQ",dismiss:"image_carousel__dismiss__1nv5g"}},function(e,t,r){e.exports={charcoal:"#111",standardBorder:"1px solid #D8D8D8",med:"(max-width: 768px)",body:"article_layout__body__1JoXM",content:"article_layout__content__3qDV0",sidebar:"article_layout__sidebar__3Wa_O",sidebarInner:"article_layout__sidebarInner__1DsO_",signupCTA:"article_layout__signupCTA__1dYc-",coverImage:"article_layout__coverImage__3fJ61",row1:"article_layout__row1__2yG3w"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0),a=i(r(54)),o=i(r(1));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=s(this,c(t).call(this,e)))._el,r}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n.PureComponent),r=t,(o=[{key:"componentDidMount",value:function(){this._el=document.getElementById(this.props.id),this.forceUpdate()}},{key:"render",value:function(){return this._el?a.default.createPortal(this.props.children,this._el):null}}])&&u(r.prototype,o),i&&u(r,i),t}();f.propTypes={id:o.default.string.isRequired};var p=f;t.default=p},,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=y(r(2143)),i=y(r(2144)),l=y(r(2146)),u=y(r(2148)),s=y(r(450)),c=y(r(938)),d=r(937),f=r(11),p=y(r(10)),m=y(r(21)),h=y(r(936));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=e.multi,r=e.options,n=e.value,a=e.simpleValue,o=e.addInitialValueAsOption;return t?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,d.formatValueIn)(t,r);return{inputValue:"",multiValues:n,userCreatedOptions:(0,d.formatAdditionalOptions)(e,n,r)}}(r,n,{multi:t,simpleValue:a,addInitialValueAsOption:o}):function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,d.formatValueIn)(t,r),a=(0,d.formatAdditionalOptions)(e,n,r);return{inputValue:n.label,multiValues:{},userCreatedOptions:a}}(r,n,{multi:t,simpleValue:a,addInitialValueAsOption:o})}var k=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=O(t).call(this,e))||"object"!==g(a)&&"function"!=typeof a?w(n):a).state=Object.assign({focused:!1,focusedOptionIndex:0,menuOpen:!1},P(e)),r.clearInput=r.clearInput.bind(w(r)),r.deselectMultiOption=r.deselectMultiOption.bind(w(r)),r.deselectSingleOption=r.deselectSingleOption.bind(w(r)),r.filterOptions=r.filterOptions.bind(w(r)),r.focusInput=r.focusInput.bind(w(r)),r.formatValueOut=r.formatValueOut.bind(w(r)),r.getAllOptions=r.getAllOptions.bind(w(r)),r.getPlaceholder=r.getPlaceholder.bind(w(r)),r.handleBlur=r.handleBlur.bind(w(r)),r.handleChange=r.handleChange.bind(w(r)),r.handleKeyDown=r.handleKeyDown.bind(w(r)),r.handleOptionMouseOver=r.handleOptionMouseOver.bind(w(r)),r.handleOptionSelect=r.handleOptionSelect.bind(w(r)),r.handleMultiOptionDeselect=r.handleMultiOptionDeselect.bind(w(r)),r.selectSingleOption=r.selectSingleOption.bind(w(r)),r.selectMultiOption=r.selectMultiOption.bind(w(r)),r.toggleMenu=r.toggleMenu.bind(w(r)),r._input,r._inputControl,r._inputContainer,r._menu,r.clickHandler=null,r}var r,n,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,a.Component),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){e.disabled&&this.setState({focused:!1,menuOpen:!1}),e.controlledValue&&e.value!==this.props.value&&this.setState(Object.assign({},P(e)))}},{key:"componentDidUpdate",value:function(e){this.props.multi&&e.value.length!==this.props.value.length&&this.props.value.length<=this.props.selectionLimit&&this.focusInput()}},{key:"componentDidMount",value:function(){var e=this;this.props.searchable||(this.clickHandler=(0,s.default)(function(){return e._inputContainer},function(t){e.state.focused&&e.handleBlur(t)}))}},{key:"componentWillUnmount",value:function(){this.clickHandler&&this.clickHandler.remove()}},{key:"clearInput",value:function(e){var t=this.props.multi?[]:"";this.state.focused?this.setState({focusedOptionIndex:0,inputValue:""}):this.focusInput(e,!1,""),this.props.onChange(t,e),this.props.clearedInputValue(!0),e.preventDefault(),e.stopPropagation()}},{key:"deselectMultiOption",value:function(e,t){var r=Object.assign({},this.state.multiValues);delete r[e],this.setState({multiValues:r,focusedOptionIndex:0}),this.props.onChange(this.formatValueOut(r),t)}},{key:"deselectSingleOption",value:function(e){var t=this.props.searchable?{}:{inputValue:""};this.setState(Object.assign({focusedOptionIndex:0},t)),this.props.onChange("",e)}},{key:"focusInput",value:function(e,t,r){if(!this.props.disabled){var n="string"==typeof r?{inputValue:r}:{};this.props.searchable?this._input.focus():this._inputControl.focus(),this.setState(Object.assign({focused:!0,focusedOptionIndex:0,menuOpen:t},n)),this.props.onFocus({target:this._inputContainer})}}},{key:"formatValueOut",value:function(e){return this.props.simpleValue?(0,d.formatValueOut)(e,{multi:this.props.multi}):this.props.multi?Object.keys(e).map(function(t){return e[t]}):e}},{key:"filterOptions",value:function(){var e=this.props,t=e.creatable,r=e.searchable,n=e.filterOptions,a=e.options,o=e.loadOptionsExternally;return!r||o&&!t?a:n(this.getAllOptions(),this.state.inputValue,t)}},{key:"getAllOptions",value:function(){return[].concat(v(this.props.options),v(this.state.userCreatedOptions))}},{key:"getPlaceholder",value:function(){return this.props.value.length?"":this.props.placeholder?this.props.placeholder:this.props.searchable?"Start typing to search":"Select an option from the dropdown"}},{key:"handleBlur",value:function(e){var t=this.props.multi||!this.props.multi&&!this.props.value?{inputValue:""}:{};this.setState(Object.assign({menuOpen:!1,focused:!1,focusedOptionIndex:0},t)),e.target!==this._inputControl&&this.props.onBlur(e)}},{key:"handleChange",value:function(e){var t=this.props.onInputChange?this.props.onInputChange(e.target.value,e):e.target.value;this.setState({inputValue:t,focusedOptionIndex:0,menuOpen:this.props.searchable})}},{key:"handleKeyDown",value:function(e){if(this.props.loading)return this.props.handleKeyDown(e);switch(e.keyCode){case 8:this.props.multi?this.handleMultiOptionDeselect(e):this.deselectSingleOption(e);break;case 9:break;case 13:this.handleOptionSelect(e);break;case 27:this.setState({menuOpen:!1});break;case 38:e.preventDefault(),e.stopPropagation();var t=0===this.state.focusedOptionIndex;!this.state.menuOpen||t?this.focusInput(e,!1):this.setState({focusedOptionIndex:this.state.focusedOptionIndex-1});break;case 40:e.preventDefault(),e.stopPropagation();var r=this.state,n=r.menuOpen,a=r.focusedOptionIndex===this._visibleOptions.length-1;if(n&&a||!this._visibleOptions.length)return;!n&&a?this.setState({menuOpen:!0}):this.state.menuOpen?this.setState({focusedOptionIndex:this.state.focusedOptionIndex+1}):this.setState({menuOpen:!0,focusedOptionIndex:0});break;case 188:this.props.multi&&this.handleOptionSelect(e);break;default:return}this.props.handleKeyDown(e)}},{key:"handleMultiOptionDeselect",value:function(e){if(!this.state.inputValue&&this.props.value[this.props.value.length-1]){var t=this.props.simpleValue?this.props.value[this.props.value.length-1]:this.props.value[this.props.value.length-1].value,r=(0,d.getLabelFromValue)(t),n=this.state.multiValues[r]&&r||this.state.multiValues[t]&&t;n&&this.deselectMultiOption(n,e)}}},{key:"handleOptionMouseOver",value:function(e,t){this.setState({focusedOptionIndex:t})}},{key:"handleOptionSelect",value:function(e,t){if(e.preventDefault(),e.stopPropagation(),!(!this.state.menuOpen||!this._visibleOptions.length||this.state.inputValue.length<this.props.minimumInput||this.props.multi&&this.props.value.length===this.props.selectionLimit)){var r=t||this._visibleOptions[this.state.focusedOptionIndex],n=this.props.multi?this.selectMultiOption(r):this.selectSingleOption(r),a=n.newValue,o=n.updatedState,i=r.userCreated&&(0,d.isOptionUnique)(this.getAllOptions(),r)?{userCreatedOptions:[].concat(v(this.state.userCreatedOptions),[r])}:{};this.setState(Object.assign({},o,i)),this.props.onChange(a,e)}}},{key:"selectSingleOption",value:function(e){return{newValue:this.formatValueOut(e),updatedState:{focusedOptionIndex:0,inputValue:e.label,menuOpen:!1}}}},{key:"selectMultiOption",value:function(e){var t,r,n,a=Object.assign({},this.state.multiValues),o=(0,d.getLabelFromValue)(e.value),i=a[e.label]&&e.label||a[o]&&o;return a[i]?delete a[i]:a=Object.assign({},this.state.multiValues,(t={},r=e.label,n=e,r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t)),{newValue:this.formatValueOut(a),updatedState:{multiValues:a,inputValue:""}}}},{key:"toggleMenu",value:function(e){this.state.focused?this.setState({menuOpen:!this.state.menuOpen}):this.focusInput(e,!0),e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.state,r=t.multiValues,n=t.inputValue,s=this.props,c=s.classList,d=s.disabled,y=s.dropdownIcon,g=s.errors,v=s.help,b=s.id,O=s.label,w=s.loading,E=s.menuStyles,P=s.minimumInput,k=s.multi,S=s.name,C=s.clearable,j=s.showDropdownArrow,R=s.showLoadingText,T=s.value,N=this._visibleOptions=this.filterOptions(),M=Object.assign({},h.default,c),A=n&&n.length<P,I=g.length?M.error:"",x=this.state.focused&&this.state.menuOpen&&!A?M.activeMenuOpen:this.state.focused?M.active:"";return a.default.createElement(o.default,{classList:c,disabled:d,errors:g,help:v,id:b,label:O,name:S},a.default.createElement("div",{className:"".concat(M.inputContainer),ref:function(t){return e._inputContainer=t},onKeyDown:this.handleKeyDown},a.default.createElement("div",{ref:function(t){return e._inputControl=t},"data-react-type":"input",className:"".concat(m.default.input," ").concat(h.default.inputControl," ").concat(c.inputControl," ").concat(x||I),onBlur:this.handleBlur,onFocus:function(t){return e.focusInput(t,!0)},onMouseDown:function(t){t.preventDefault(),t.stopPropagation(),e.focusInput(t,!0)},tabIndex:d?null:0},a.default.createElement("div",{className:M.inputWrapper},k&&Object.keys(r).map(function(t,n){return a.default.createElement(u.default,_({key:"select-multi-value-".concat(n),removeOption:function(r){return e.deselectMultiOption(t,r)}},r[t]))}),a.default.createElement(i.default,{className:"".concat(M.input," ").concat(d?M.disabled:""),disabled:!this.props.searchable||d,inputRef:function(t){return e._input=t},onChange:this.handleChange,placeholder:this.getPlaceholder(),type:"text",value:this.state.inputValue})),a.default.createElement("div",{className:M.buttonContainer},!((0,f.isBlank)(T)&&""===n)&&C&&!k&&a.default.createElement("button",{className:"".concat(p.default.blank," ").concat(M.reset),disabled:d,onClick:this.clearInput,onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},"×"),j&&a.default.createElement("span",{className:M.arrow,onClick:this.toggleMenu,onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},y))),a.default.createElement(l.default,{classList:E,focusedOption:this.state.focusedOptionIndex,loading:w,loadingText:this.props.loadingText,multi:k,multiValues:r,onMouseOver:this.handleOptionMouseOver,onSelect:this.handleOptionSelect,open:this.state.menuOpen&&!A,options:N,showLoadingText:R})))}}])&&b(r.prototype,n),c&&b(r,c),t}();k.propTypes={addInitialValueAsOption:n.default.bool,classList:n.default.shape({active:n.default.string,activeMenuOpen:n.default.string,arrow:n.default.string,error:n.default.string,help:n.default.string,label:n.default.string,input:n.default.string,inputContainer:n.default.string,inputControl:n.default.string,reset:n.default.string}),clearable:n.default.bool,clearedInputValue:n.default.func,controlledValue:n.default.bool,creatable:n.default.bool,disabled:n.default.bool,dropdownIcon:n.default.oneOfType([n.default.string,n.default.element]),errors:n.default.array,filterOptions:n.default.func,handleKeyDown:n.default.func,help:n.default.string,id:n.default.string,label:n.default.oneOfType([n.default.string,n.default.element]),loadOptionsExternally:n.default.bool,loading:n.default.bool,loadingText:n.default.string,menuStyles:n.default.shape({menu:n.default.string,errorMenu:n.default.string,option:n.default.string,focusedOptions:n.default.string}),minimumInput:n.default.number,multi:n.default.bool,name:n.default.string,onBlur:n.default.func,onChange:n.default.func.isRequired,onFocus:n.default.func,onInputChange:n.default.func,options:n.default.array,placeholder:n.default.string,searchable:n.default.bool,selectionLimit:n.default.number,showDropdownArrow:n.default.bool,showLoadingText:n.default.bool,simpleValue:n.default.bool,value:n.default.oneOfType([n.default.string,n.default.array,n.default.object,n.default.number]).isRequired},k.defaultProps={addInitialValueAsOption:!0,clearable:!0,clearedInputValue:function(){},classList:{},controlledValue:!1,creatable:!1,disabled:!1,dropdownIcon:null,errors:[],filterOptions:c.default,formatValueIn:!1,formatValueOut:!1,handleKeyDown:function(){},help:"",id:null,label:"",loading:!1,loadingText:"Searching...",loadOptionsExternally:!1,showLoadingText:!1,menuStyles:{},minimumInput:0,multi:!1,name:"",onBlur:function(){},onFocus:function(){},onInputChange:function(e){return e},options:[],placeholder:"",searchable:!1,selectionLimit:null,showDropdownArrow:!1,simpleValue:!0,value:""};var S=Object.assign(k,{getValue:function(e){return Array.isArray(e)?e.join(", "):"string"==typeof e?e:""},formatValueIn:function(e){return e},formatValueOut:function(e){return e}});t.default=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(213)),i=c(r(940)),l=c(r(22)),u=r(117),s=c(r(2));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y={key:"sort",label:"Most recent",title:"Most recent",value:"published"},g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).state=r._initState(e.homeSections,e.renderForPreview),r.loadMoreSections=r.loadMoreSections.bind(m(r)),r.maintainProjectsCountForSections=r.maintainProjectsCountForSections.bind(m(r)),r.transition=r.transition.bind(m(r)),r.viewAllBuilder=new i.default(e.viewAllBuilderArg()),r.sectionsProjectCount={},r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"_initState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?{defaultUsed:!1,sections:e,totalRecordsCount:e.length}:e.length>0?{defaultUsed:!1,sections:e.slice(0,2),totalRecordsCount:e.length}:{defaultUsed:!0,sections:[y],totalRecordsCount:1}}},{key:"componentDidMount",value:function(){this.props.seoHandler(this.props.path)}},{key:"loadMoreSections",value:function(){var e=this;return new Promise(function(t){e.setState({sections:e.props.homeSections.slice(0,e.state.sections.length+2)},function(){return t()})})}},{key:"maintainProjectsCountForSections",value:function(e,t){this.state.defaultUsed?this._handleDefaultCount(e):(this.sectionsProjectCount[t]=e,!1===this.props.canManage&&t===this.props.homeSections.length-1?this._pushDefaultIfNoProjects():0===e&&t===this.state.sections.length-1&&t<this.props.homeSections.length-1&&this.setState({sections:this.props.homeSections.slice(0,this.state.sections.length+2)}))}},{key:"transition",value:function(e,t,r,n){var a=t.internal,o=t.external;this.props.renderForWhitelabel?this.props.transition(e,o):a&&!(0,u.clickEventHasModifierKey)(e)?(e.preventDefault(),this.props.transition(a)):o&&n&&l.default.recordEventsWithDelayedRedirect(n,o,e)}},{key:"_handleDefaultCount",value:function(e){this.sectionsProjectCount.default=e,0===e&&this.forceUpdate()}},{key:"_pushDefaultIfNoProjects",value:function(){Object.values(this.sectionsProjectCount).every(function(e){return 0===e})&&this.setState({defaultUsed:!0,sections:[y],totalRecordsCount:1})}},{key:"_shouldShowPlaceHolder",value:function(){return this.state.defaultUsed&&0===this.sectionsProjectCount.default&&!this.props.canManage}},{key:"_placeHolderOrSections",value:function(){return this._shouldShowPlaceHolder()?n.default.createElement("span",null,"There are no projects"):this._getSections(this.state.sections)}},{key:"_getSections",value:function(e){var t=this;return e.map(function(r,n){return t.viewAllBuilder.getComponent(r,n,{reportProjectsCount:t.maintainProjectsCountForSections,transition:t.transition,userCanManage:t.props.canManage},e)})}},{key:"render",value:function(){return n.default.createElement(o.default,{buffer:50,classList:{container:"".concat(s.default.container)},fetchMore:this.loadMoreSections,recordsCount:this.state.sections.length,totalRecordsCount:this.state.totalRecordsCount},n.default.createElement("div",{className:s.default.wrapper1170},this._placeHolderOrSections()))}}])&&f(r.prototype,a),c&&f(r,c),t}();g.propTypes={canManage:a.default.bool,homeSections:a.default.arrayOf(a.default.shape({key:a.default.string.isRequired,label:a.default.string.isRequired,value:a.default.oneOfType([a.default.string,a.default.number,a.default.bool])})).isRequired,path:a.default.string.isRequired,renderForPreview:a.default.bool,renderForWhitelabel:a.default.bool,seoHandler:a.default.func.isRequired,transition:a.default.func.isRequired,viewAllBuilderArg:a.default.func.isRequired},g.defaultProps={canManage:!1,renderForPreview:!1,renderForWhiteLabel:!1};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=m(r(1)),o=m(r(154)),i=m(r(138)),l=m(r(9)),u=r(65),s=m(r(7)),c=m(r(28)),d=m(r(2)),f=m(r(3)),p=m(r(2178));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=g(t).call(this,e))||"object"!==h(a)&&"function"!=typeof a?_(n):a).state={leftArrow:!1,loading:!1,rightArrow:!1},r.fetchMore=r.fetchMore.bind(_(r)),r.scroll=r.scroll.bind(_(r)),r.updateInfiniteScrollAndArrows=r.updateInfiniteScrollAndArrows.bind(_(r)),r.handleScroll=(0,i.default)(r.updateInfiniteScrollAndArrows,100),r._innerContainer,r._outerContainer,r._activePromise,r._errorCounter=0,r}var r,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.handleResize=(0,o.default)(this.updateInfiniteScrollAndArrows,300),window.addEventListener("resize",this.handleResize),this.updateInfiniteScrollAndArrows()}},{key:"componentDidUpdate",value:function(e,t){this.props.recordsCount===e.recordsCount&&this.state.loading===t.loading||this.updateInfiniteScrollAndArrows()}},{key:"componentWillUnmount",value:function(){this._activePromise&&this._activePromise.cancel(),window.removeEventListener("resize",this.handleResize)}},{key:"_isScrolledToEnd",value:function(e,t){return t.right+this.props.buffer>e.right}},{key:"_setArrowDisplay",value:function(e,t){var r=t.right-t.left>=this.props.minWithForArrows,n=e.left<t.left&&r,a=e.right>t.right+2&&r;n===this.state.leftArrow&&a===this.state.rightArrow||this.setState({leftArrow:n,rightArrow:a})}},{key:"_shouldLoadMore",value:function(e,t){return!this.state.loading&&this._errorCounter<=5&&this.props.recordsCount<this.props.totalRecordsCount&&this._isScrolledToEnd(e,t)}},{key:"fetchMore",value:function(){var e=this;return this.setState({loading:!0}),this._activePromise=(0,u.cancelablePromise)(this.props.fetchMore()),this._activePromise.promise.then(function(t){t.promiseCanceled||e.setState({loading:!1},function(){return e._errorCounter=0})}).catch(function(t){t.promiseCanceled||((0,s.default)("HorizontalScroll fetch error",t),e.setState({loading:!1}),e._errorCounter+=1)})}},{key:"scroll",value:function(e){if(this._outerContainer){var t=this._outerContainer.scrollLeft+this.props.scrollDistance*e;(0,c.default)(t,350,function(){},this._outerContainer,!0)}}},{key:"updateInfiniteScrollAndArrows",value:function(){if(this._outerContainer&&this._innerContainer){var e=this._innerContainer.getBoundingClientRect(),t=this._outerContainer.getBoundingClientRect();this._setArrowDisplay(e,t),this._shouldLoadMore(e,t)&&this.fetchMore()}}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,a=t.classList;return n.default.createElement("div",{className:"".concat(p.default.wrapper," ").concat(a.wrapper)},n.default.createElement("div",{ref:function(t){return e._outerContainer=t},className:"".concat(p.default.scrollContainer," ").concat(d.default.noScrollBar),onScroll:this.handleScroll},n.default.createElement("div",{ref:function(t){return e._innerContainer=t},className:"".concat(p.default.itemsContainer," ").concat(a.scrollerInner)},r,this.state.loading&&n.default.createElement("div",{className:p.default.loader},n.default.createElement("i",{className:"fa fa-circle-o-notch fa-spin"})))),this.state.leftArrow&&n.default.createElement("button",{className:p.default.scrollLeft,onClick:function(t){return e.scroll(-1)}},n.default.createElement(l.default,{className:f.default.pebble,name:"arrow-left",size:16})),this.state.rightArrow&&n.default.createElement("button",{className:p.default.scrollRight,onClick:function(t){return e.scroll(1)}},n.default.createElement(l.default,{className:f.default.pebble,name:"arrow-right",size:16})))}}])&&y(r.prototype,a),m&&y(r,m),t}();b.propTypes={buffer:a.default.number,classList:a.default.shape({scrollerInner:a.default.string,scrollerItem:a.default.string,wrapper:a.default.string}),fetchMore:a.default.func,minWithForArrows:a.default.number,recordsCount:a.default.number.isRequired,scrollDistance:a.default.number,totalRecordsCount:a.default.number.isRequired},b.defaultProps={buffer:150,classList:{},fetchMore:function(){return Promise.resolve()},minWithForArrows:480,scrollDistance:250};var O=b;t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dummyProjectProps=t.projectProps=void 0;var n,a=(n=r(144))&&n.__esModule?n:{default:n};var o={cardBorder:!0,classList:{wrapper:a.default.scrollerItemProject},usePortal:!0};t.projectProps=o;var i={cardBorder:!0,classList:{card:a.default.dummyProjectCard,wrapper:a.default.scrollerItemProject}};t.dummyProjectProps=i},function(e,t,r){e.exports={graphite:"#4A4A4A",pebble:"#767676",med:"(max-width: 768px)",small:"(max-width: 480px)",dummyContainer:"product__dummyContainer__2yZrr",externalLink:"product__externalLink__Pa55Z",projectListContainer:"product__projectListContainer__1nIAv",wrapper:"product__wrapper__16z4-",childWrapper:"product__childWrapper__2yOxp",description:"product__description__2-Lrq",navbar:"product__navbar__17uIm",navbarItem:"product__navbarItem__3riHC",navbarLink:"product__navbarLink__cLYWl",navbarLinkHighlight:"product__navbarLinkHighlight__2dKgb",listWrapper:"product__listWrapper__s2dUq"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(2240)),i=u(r(2)),l=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e&&e.length>0?n.default.createElement("p",{className:l.default.bodyM},t?"".concat(t,": ").concat(e):e):null},c=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"p";if(!r||r[e].matchesInput)return n.default.createElement(a,{className:l.default.bodyM},t[e]);var o=t[e].split(" "),i=r[e].value.split(" "),u=o.length>i.length?o:i,s=function(e,t){return e!==t.length-1},c=u.reduce(function(e,t,r,a){return void 0===o[r]?e:o[r]!==i[r]?e.concat(n.default.createElement("span",{className:l.default.error},o[r],s(r,a)?" ":"")):e.concat(n.default.createElement("span",null,o[r],s(r,a)?" ":""))},[]);return n.default.createElement(a,{className:l.default.bodyM},n.default.Children.toArray(c))},d=function(e){return(0,o.default)(e).map(function(t){return t.includes("<>")?t:e[t]}).join("").replace(/<>/g,"")},f=function(e){var t=e.address,r=e.diffingAddress;return n.default.createElement("div",{className:i.default.marginTop5},n.default.createElement("p",{className:"".concat(l.default.bodyM," ").concat(l.default.bold," ").concat(i.default.marginBottom5)},"Address you entered"),n.default.createElement("p",{className:l.default.bodyM},t.first_name," ",t.last_name),s(t.company,"Company"),c("address_line1",t,r),s(t.address_line2)&&c("address_line2",t,r),n.default.createElement("p",{className:l.default.bodyM},function(e,t){var r=(0,o.default)(e,!0);return n.default.Children.toArray(r.map(function(r){return r.includes("<>")?n.default.createElement("span",{className:l.default.bodyM},r.replace(/<>/g,"")):c(r,e,t,"span")}))}(t,r)),n.default.createElement("p",{className:l.default.bodyM},t.country),s(t.cpf,"CPF"),n.default.createElement("p",{className:l.default.bodyM},"Phone: ",t.phone))},p=function(e){var t=e.address,r=e.isDeliverable,a=e.diffingAddress;switch(e.view){case"brief":return function(e){var t=e.address;return n.default.createElement("div",null,n.default.createElement("p",{className:l.default.bodyM},t.first_name," ",t.last_name),n.default.createElement("p",{className:l.default.bodyM},t.address_line1),s(t.address_line2),n.default.createElement("p",{className:l.default.bodyM},d(t)),s(t.cpf,"CPF"))}({address:t});case"select":return function(e){var t=e.address;return n.default.createElement("div",null,n.default.createElement("p",{className:l.default.bodyM},t.first_name," ",t.last_name),s(t.company,"Company"),n.default.createElement("p",{className:l.default.bodyM},t.address_line1),s(t.address_line2),n.default.createElement("p",{className:l.default.bodyM},d(t)),n.default.createElement("p",{className:l.default.bodyM},t.country),s(t.cpf,"CPF"),n.default.createElement("p",{className:l.default.bodyM},"Phone: ",t.phone))}({address:t});case"verified":return function(e){var t=e.address;return n.default.createElement("div",{className:i.default.marginTop5},n.default.createElement("p",{className:"".concat(l.default.bodyM," ").concat(l.default.bold," ").concat(l.default.success," ").concat(i.default.marginBottom5)},"Verified address"),n.default.createElement("p",{className:l.default.bodyM},t.first_name," ",t.last_name),s(t.company,"Company"),n.default.createElement("p",{className:l.default.bodyM},t.address_line1),s(t.address_line2),n.default.createElement("p",{className:l.default.bodyM},d(t)),n.default.createElement("p",{className:l.default.bodyM},t.country),s(t.cpf,"CPF"),n.default.createElement("p",{className:l.default.bodyM},"Phone: ",t.phone))}({address:t,isDeliverable:r});case"verifiedDiff":return f({address:t,diffingAddress:a});default:return function(e){var t=e.address;return n.default.createElement("div",null,n.default.createElement("p",{className:l.default.bodyM},t.first_name," ",t.last_name),s(t.company,"Company"),n.default.createElement("p",{className:l.default.bodyM},t.address_line1),s(t.address_line2),n.default.createElement("p",{className:l.default.bodyM},d(t)),n.default.createElement("p",{className:l.default.bodyM},t.country),s(t.cpf,"CPF"),n.default.createElement("p",{className:l.default.bodyM},"Phone: ",t.phone),t.default&&n.default.createElement("p",{className:"".concat(l.default.bodyS," ").concat(l.default.bold)},"Default address"))}({address:t})}};p.propTypes={address:a.default.shape({address_line1:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired,address_line2:a.default.oneOfType([a.default.string,a.default.object,a.default.element]),city:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired,company:a.default.oneOfType([a.default.string,a.default.object,a.default.element]),country:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired,country_iso2:a.default.oneOfType([a.default.string,a.default.object,a.default.element]),cpf:a.default.oneOfType([a.default.string,a.default.object,a.default.element]),default:a.default.oneOfType([a.default.bool,a.default.object,a.default.element]),id:a.default.oneOfType([a.default.number,a.default.object,a.default.element]),first_name:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired,last_name:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired,phone:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired,state:a.default.oneOfType([a.default.string,a.default.object,a.default.element]),zip:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired}).isRequired,diffingAddress:a.default.object,isDeliverable:a.default.bool,view:a.default.oneOf(["brief","full","select","verified","verifiedDiff"])},p.defaultProps={diffingAddress:null,isDeliverable:!1,view:"full"};var m=p;t.default=m},function(e,t,r){e.exports={asphalt:"#D8D8D8",hackster:"#2E9FE6",graphite:"#4A4A4A",actions:"project_edit_card__actions__2YZbB",action:"project_edit_card__action__1s8jQ",actionsOverlay:"project_edit_card__actionsOverlay__xcTMs",actionsOverlayAlwaysOn:"project_edit_card__actionsOverlayAlwaysOn__3LLZJ project_edit_card__actionsOverlay__xcTMs",overlayParent:"project_edit_card__overlayParent__WfIHw",buttonIcon:"project_edit_card__buttonIcon__1FSUg",item:"project_edit_card__item__3RV3U",transparency:"project_edit_card__transparency__1ZNsc project_edit_card__actionsOverlayAlwaysOn__3LLZJ project_edit_card__actionsOverlay__xcTMs"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(70)),i=d(r(188)),l=r(61),u=r(219),s=d(r(2)),c=d(r(3));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.className,r=e.color,a=e.item,d=e.itemIndex,f=e.overrideTracking,p=e.showYear,m=e.size;return n.default.createElement("div",{className:"".concat(t," ").concat(s.default.fullWidth," ").concat(c.default.overflowBreakWord)},n.default.createElement(o.default,{className:"".concat(c.default.link," ").concat(c.default.bold," ").concat("M"===m?c.default.bodyM:c.default.bodyL," ").concat(c.default[r]),isExternal:!0,item:{id:a.id,url:a.link},itemIndex:d,linkType:l.EVENT_CARD,overrideTracking:f},a.title),n.default.createElement("div",{className:"".concat("M"===m?c.default.bodyS:c.default.bodyM," ").concat(c.default[r])},n.default.createElement("div",{className:s.default.marginTop5},p?(0,u.getDateRangeWithYearAsText)(a):(0,u.getDateRangeAsText)(a)),n.default.createElement("div",{className:s.default.marginTop5},n.default.createElement(i.default,{item:a}))))};f.propTypes={className:a.default.string,color:a.default.string,item:a.default.shape({city:a.default.string,country_iso2:a.default.string,custom_sponsors:a.default.arrayOf(a.default.string),event_type:a.default.string.isRequired,id:a.default.number.isRequired,image:a.default.shape({url:a.default.string}),link:a.default.string.isRequired,start_date:a.default.stringisRequired,state:a.default.string,title:a.default.string.isRequired}).isRequired,itemIndex:a.default.number,overrideTracking:a.default.func,showYear:a.default.bool,size:a.default.oneOf(["M","L"])},f.defaultProps={className:"",color:"charcoal",itemIndex:null,overrideTracking:null,showYear:!1,size:"M"};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectsByCategory=function(e){e.author_id,e.per_page,e.page;var t=e.categories,r=e.category,o=Array.isArray(t)?t:[r];return"query projectsByCategory($author_id: Int, $per_page: Int, $page: Int) {\n      ".concat(o.map(u),"\n    }\n    ").concat((0,n.createPaginationFragment)("Project","projectCard"),"\n    ").concat(a.projectCardFragment)},t.getProjectsByHid=function(){return"query projectsByHid($hids: [String!], $author_id: Int) {\n  projects(hids: $hids) {\n    ...paginatedInfo\n  }}\n  ".concat((0,n.createPaginationFragment)("Project","projectCard"),"\n  ").concat(a.projectCardFragment)},t.projectPositionMutation=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return'{projectHid:"'.concat(e.hid,'",projectPosition:').concat(e.position,"}")}).join(","),t="{\n    updateProjectsPosition(projects: [".concat(e,"])\n    {\n      projects {\n        projectHid,\n        projectPosition\n      }\n    }\n  }");return"mutation UpdateProjectsPositionMutation ".concat(t.replace(/ /g,""))},t.getPaginatedProjects=t.projectCategoryParams=void 0;var n=r(197),a=r(520),o=r(2275),i={drafts:{publication_state:"PRIVATE"},public:{publication_state:"PUBLIC",sort:"AUTHOR",guest_post:!1},guest:{guest_post:!0}};t.projectCategoryParams=i;var l="query paginatedProjects($author_id: Int, $per_page: Int, $page: Int, $publication_state: PublicationStateEnum, $sort: ProjectSortEnum, $guest_post: Boolean) {\n  projects(author_id: $author_id, per_page: $per_page, page: $page, publication_state: $publication_state, sort: $sort, guest_post: $guest_post) {\n    ...paginatedInfo\n  }\n}\n".concat((0,n.createPaginationFragment)("Project","projectCard"),"\n").concat(a.projectCardFragment);function u(e){var t=(0,o.objToArgString)(Object.assign({author_id:"$author_id",per_page:"$per_page",page:"$page"},i[e]));return"".concat(e,": projects(").concat(t,") {\n    ...paginatedInfo\n  }")}t.getPaginatedProjects=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(1)),a=f(r(0)),o=f(r(76)),i=f(r(2280)),l=r(94),u=r(521),s=f(r(51)),c=f(r(10)),d=f(r(332));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return"drafts"===e?"no-draft-projects":"no-projects"}var m={notifications:function(e){var t=e.count;return{header:a.default.createElement("div",{className:d.default.headerInner},a.default.createElement("span",null,"Notifications"),a.default.createElement("a",{className:"".concat(c.default.sm," ").concat(c.default.tertiary," ").concat(c.default.pill),href:s.default.url("/users/notifications/edit")},"Notification settings")),subHeader:0===t?a.default.createElement(o.default,{classList:{container:d.default.noProjectsText},type:"no-notifications"}):""}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{category:"",numProjects:0},t=e.category,r=e.numProjects;return{header:"".concat(u.labels[t].title).concat(null===r?"":" (".concat(r,")")),subHeader:0===r?a.default.createElement(o.default,{classList:{container:d.default.noProjectsText},type:p(t)}):""}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"",user_name:""},t=e.name,r=e.user_name;return{header:"".concat(t,"'s Dashboard"),subHeader:a.default.createElement("div",{className:d.default.viewProfileLink},a.default.createElement("a",{href:s.default.url("/".concat(r))},"View profile"))}}},h={projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{singleCategory:!1,category:""};return!!e.singleCategory&&[{text:"Projects",callback:function(){return(0,l.transition)(l.history,"/projects")}},{text:u.labels[e.category].title}]}},y=function(e){var t=e.showProjectButton,r=e.type,n=e.typeArgs,o=!!h[r]&&h[r](n),l=m[r](n),u=l.header,f=l.subHeader;return a.default.createElement("header",{className:d.default.pageHeaderContainer},a.default.createElement("div",{className:d.default.pageHeaderWrapper},o&&a.default.createElement(i.default,{classList:{linkContainer:d.default.breadcrumbs},links:o}),a.default.createElement("span",{className:d.default.pageHeader},u),f),t&&a.default.createElement("a",{className:c.default.md,href:s.default.url("/projects/new")},"Create a new project"))};y.propTypes={showProjectButton:n.default.bool,type:n.default.string.isRequired,typeArgs:n.default.object.isRequired},y.defaultProps={showProjectButton:!0};var g=y;t.default=g},function(e,t,r){e.exports={small:"(max-width: 480px)",asphalt:"#D8D8D8",standardBorder:"1px solid #D8D8D8",standardBorderRadius:"4px",client:"ad_previews__client__1Afyi",divImageBg:"ad_previews__divImageBg__1C4kM",previewBase:"ad_previews__previewBase__RTYPo",previewContainer:"ad_previews__previewContainer__3Vlqw",previewMobileContainer:"ad_previews__previewMobileContainer__3qCOk",cpa:"ad_previews__cpa__14zmZ",cpaPreview:"ad_previews__cpaPreview__DWtWK ad_previews__previewBase__RTYPo",hpba:"ad_previews__hpba__Dog8K",hpbaPreview:"ad_previews__hpbaPreview__Ycv58 ad_previews__previewBase__RTYPo",hpbaMobile:"ad_previews__hpbaMobile__3zM8Z",hpbaMobilePreview:"ad_previews__hpbaMobilePreview__vYCS9 ad_previews__previewBase__RTYPo",newsGalPreview:"ad_previews__newsGalPreview__3KcOi",newsGalMobilePreview:"ad_previews__newsGalMobilePreview__JOL_j",newsGalImage:"ad_previews__newsGalImage__3pd5u ad_previews__divImageBg__1C4kM",newsGalImagePreview:"ad_previews__newsGalImagePreview__vhjTb ad_previews__previewBase__RTYPo",newsGalMobileImage:"ad_previews__newsGalMobileImage__1rWuF ad_previews__divImageBg__1C4kM",newsGalMobileImagePreview:"ad_previews__newsGalMobileImagePreview__104ej ad_previews__previewBase__RTYPo",newsGalText:"ad_previews__newsGalText__2veye",newsGalMobileText:"ad_previews__newsGalMobileText__3jq9v",nphaDesktopContainer:"ad_previews__nphaDesktopContainer__3-Fvj",nphaPreview:"ad_previews__nphaPreview__3WTkZ ad_previews__previewBase__RTYPo",nphaMobileContainer:"ad_previews__nphaMobileContainer__2Pgj4",nphaMobilePreview:"ad_previews__nphaMobilePreview__3tMpC ad_previews__previewBase__RTYPo"}},function(e,t,r){e.exports={small:"(max-width: 480px)",success:"#0E8F42",adMenuWrapper:"campaign_dashboard__adMenuWrapper__3-nxC",campaignCard:"campaign_dashboard__campaignCard__R07-7",campaignStatCard:"campaign_dashboard__campaignStatCard__usZHS",campaignStatsContainer:"campaign_dashboard__campaignStatsContainer__1G10E",statusBar:"campaign_dashboard__statusBar__1uWML",statusBarContainer:"campaign_dashboard__statusBarContainer__1lnMm",campaignCardContainer:"campaign_dashboard__campaignCardContainer__3K7pg"}},function(e,t,r){e.exports={small:"(max-width: 480px)",asphalt:"#D8D8D8",error:"#D0021B",fog:"#F7F7F7",hackster:"#2E9FE6",pebble:"#767676",standardBorderRadius:"4px",allowCrossSortable:"events_home_config__allowCrossSortable__3-w-w",dismissBtn:"events_home_config__dismissBtn__3T__m",dismissBtnWrapper:"events_home_config__dismissBtnWrapper__1t3Gu",dragHandleWrapper:"events_home_config__dragHandleWrapper__3xljq",eventCard:"events_home_config__eventCard__3hueN",eventCardSponsorsFixedHeight:"events_home_config__eventCardSponsorsFixedHeight__O3rr4",header:"events_home_config__header__3adqA",iconCircle:"events_home_config__iconCircle__2niGH",listItem:"events_home_config__listItem__17vhj",listItemAuthorCell:"events_home_config__listItemAuthorCell__V_LrY",listItemDateCell:"events_home_config__listItemDateCell__2ZjnC",listItemMobileAuthorStatus:"events_home_config__listItemMobileAuthorStatus__32jbQ",listItemSelectable:"events_home_config__listItemSelectable__1d_ua",listItemCoverImage:"events_home_config__listItemCoverImage__9PcL7",listItemCoverImageWrapper:"events_home_config__listItemCoverImageWrapper__fAlpq",listItemTitleCell:"events_home_config__listItemTitleCell__36eSG",selectionContainer:"events_home_config__selectionContainer__1VKV3",selectionBox:"events_home_config__selectionBox__1APRl",selectionBoxEmpty:"events_home_config__selectionBoxEmpty__2JaMY",sortableElement:"events_home_config__sortableElement__2vkfg",sortableGhost:"events_home_config__sortableGhost__3FKBw",listItemData:"events_home_config__listItemData__2T35f"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCategoryEnum=function(e){return n[e]||null},t.getSortEnum=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;switch("".concat(e,"_").concat(t)){case"most_recent_0":return"DATE_DESC";case"most_recent_1":return"DATE_ASC";case"most_popular_0":return"POPULARITY";case"title_0":return"TITLE_ASC";case"title_1":return"TITLE_DESC";default:return null}},t.VIDEO_CATEGORIES=void 0;var n={"Hackster TV":"HACKSTERTV",Sponsored:"SPONSORED",Webinar:"WEBINAR",Virtual:"VIRTUAL"},a=Object.keys(n);t.VIDEO_CATEGORIES=a},function(e,t,r){e.exports={standardBorder:"1px solid #D8D8D8",fog:"#F7F7F7",hackster:"#2E9FE6","med-large":"(max-width: 992px)",bigTitle:"promoted_content__bigTitle__11ojv",defaultView:"promoted_content__defaultView__1Bc9I",listContainer:"promoted_content__listContainer__1rD0e",listItem:"promoted_content__listItem__3JSJB",listItemImageWrapper:"promoted_content__listItemImageWrapper__3bvT2",mainCard:"promoted_content__mainCard__1J0Ch",mainImageWrapper:"promoted_content__mainImageWrapper__1WbAQ",mainInfo:"promoted_content__mainInfo__USRFA",titleWrapper:"promoted_content__titleWrapper__3sVSI",horizontalScrollWrapper:"promoted_content__horizontalScrollWrapper__38wdr",mobileView:"promoted_content__mobileView__EH5_y",mobileCard:"promoted_content__mobileCard__2gyuZ",mobileCardInfo:"promoted_content__mobileCardInfo__2HIUU",mobileImageWrapper:"promoted_content__mobileImageWrapper__3Gv5Z",dummyMobileView:"promoted_content__dummyMobileView__gJuyS",dummyImageSmall:"promoted_content__dummyImageSmall__L6T-E",dummyImageLarge:"promoted_content__dummyImageLarge__3jQqm",dummyMobileCardImage:"promoted_content__dummyMobileCardImage__3k3H7"}},function(e,t,r){e.exports={asphalt:"#D8D8D8",dialog:"mobile_nav__dialog__2Ob3n",dismiss:"mobile_nav__dismiss__3NiWZ",overlay:"mobile_nav__overlay__1eUGZ",wrapper:"mobile_nav__wrapper__2OuFa",internalLink:"mobile_nav__internalLink__1Rr2I",backButton:"mobile_nav__backButton__3BO55 mobile_nav__internalLink__1Rr2I",internalCategory:"mobile_nav__internalCategory__31b_6 mobile_nav__internalLink__1Rr2I",logo:"mobile_nav__logo__2waw2",rowBase:"mobile_nav__rowBase__2MvX-",row:"mobile_nav__row__1PNmc mobile_nav__rowBase__2MvX-",rowCenter:"mobile_nav__rowCenter__1W0sr mobile_nav__rowBase__2MvX-",rowHome:"mobile_nav__rowHome__1qBJ9 mobile_nav__row__1PNmc mobile_nav__rowBase__2MvX-",backArrow:"mobile_nav__backArrow__2FjnH"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(519)),i=d(r(72)),l=d(r(997)),u=d(r(253)),s=d(r(22)),c=r(60);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.articles,r=e.className,a=e.handlePaginatorClick,d=e.gutterSize,f=e.horizontal,p=e.injectableConfig,m=e.isBusy,h=e.location,y=e.maxCols,g=e.onUserProfile;return n.default.createElement(u.default,{disabled:m,onPaginatorClick:function(e){s.default.reportEventWithObj((0,c.getClickedButtonArgs)({location:h},e)),a(e)},paginator:{currentPage:t.metadata.current_page,nextPage:t.metadata.next_page,prevPage:t.metadata.prev_page},type:"button",buttonText:"Show more"},n.default.createElement(i.default,{className:r,injectableConfig:p,DummyComponent:function(){return n.default.createElement(o.default,{imageAspectRatio:"16:9",responsive:!g})},gutterSize:d,horizontal:f,isLoading:m,ItemComponent:l.default,itemKey:"article",itemProps:{location:h,onUserProfile:g},loadingIndicator:"dummy",maxCols:y,records:t.records,validationFn:function(){return!0}}))};f.propTypes={articles:a.default.shape({metadata:a.default.shape({current_page:a.default.number,next_page:a.default.number,per_page:a.default.number,prev_page:a.default.number}),records:a.default.array}).isRequired,className:a.default.string,gutterSize:a.default.number,handlePaginatorClick:a.default.func,horizontal:a.default.bool,injectableConfig:a.default.shape({component:a.default.func,index:a.default.number,props:a.default.shape({ad:a.default.object,initialized:a.default.bool})}),isBusy:a.default.bool,location:a.default.string,maxCols:a.default.number,onUserProfile:a.default.bool},f.defaultProps={className:"",gutterSize:15,handlePaginatorClick:function(){},horizontal:!1,injectableConfig:null,isBusy:!1,location:"",maxCols:4,onUserProfile:!1};var p=f;t.default=p},function(e,t,r){e.exports={small:"(max-width: 480px)",asphalt:"#D8D8D8",error:"#D0021B",fog:"#F7F7F7",standardBorder:"1px solid #D8D8D8",standardBorderRadius:"4px",adDummy:"home_edit_page__adDummy__wZble",adDummy2:"home_edit_page__adDummy2__1CNcg",container:"home_edit_page__container__2Ynoa",deleteBtn:"home_edit_page__deleteBtn__2epyS",iconWrapper:"home_edit_page__iconWrapper__2A52H",selectorListBody:"home_edit_page__selectorListBody__-uA0i",featuredCardContainer:"home_edit_page__featuredCardContainer__FCDy8",featuredEmptyCard:"home_edit_page__featuredEmptyCard__3vYnw",featuredEmptyCardHero:"home_edit_page__featuredEmptyCardHero__2ze43 home_edit_page__featuredEmptyCard__3vYnw",featuredEmptyCardContainer:"home_edit_page__featuredEmptyCardContainer__2hPt7",featuredEmptyCardContainerHero:"home_edit_page__featuredEmptyCardContainerHero__1btW2 home_edit_page__featuredEmptyCardContainer__2hPt7",sponsoredCardContainer:"home_edit_page__sponsoredCardContainer__1Jotc",sponsoredEmptyCard:"home_edit_page__sponsoredEmptyCard__2J8Dj home_edit_page__featuredEmptyCard__3vYnw",currentDraggingItem:"home_edit_page__currentDraggingItem__KAkLt"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterSearchQuery=o,t.filterSearchQueryInMap=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},e,{query:o(e.query,e.index)})};var n=r(529),a={projects:["project","projects"]};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_INDEX,r=a[t];return r?e.split(" ").filter(function(e){return e.length>0&&!r.includes(e)}).join(" "):e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.indexToLabel=function(e){return o[e]},t.labelToIndex=function(e){return i[e]},t.isBlacklistedWhitelabelIndex=function(e,t){return a[e]&&a[e].indexOf(t)>=0},t.blacklistedWhitelabelIndexesById=t.whitelabelIndexes=t.indexes=void 0;var n=["projects","channels","parts","users","events","news_articles"];t.indexes=n;t.whitelabelIndexes=["projects","parts","users"];var a={18265:["parts"]};t.blacklistedWhitelabelIndexesById=a;var o={channels:"Channels",events:"Events",news_articles:"News",projects:"Projects",parts:"Products",users:"People"},i=n.reduce(function(e,t){return Object.assign({},e,(r={},n=o[t],a=t,n in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r));var r,n,a},{})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(2)),i=u(r(3)),l=u(r(5));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.count,r=e.className,a=e.disabled,u=e.label,s=e.limit;return n.default.createElement("span",{className:"".concat(r," ").concat(o.default.flexJustifySpaceBetween," ").concat(i.default.bodyM," ").concat(i.default.bold," ").concat(a?l.default.disabled:"")},u,s&&n.default.createElement("span",{className:i.default.bodyS},t===s?"limit reached":"(limit ".concat(s,")")))};s.propTypes={className:a.default.string,count:a.default.number,disabled:a.default.bool,label:a.default.string.isRequired,limit:a.default.number},s.defaultProps={className:"",count:null,disabled:!1,limit:null};var c=s;t.default=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(document&&document.getElementById){var e=document.getElementById("path-prefix");return e&&e.content?e.content:""}}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.batch=[]}var t,r,a;return t=e,(r=[{key:"cachePromise",value:function(e){this.batch.push(e)}},{key:"rejectBatch",value:function(e){this.batch=this.batch.filter(function(t){return t.reject(e),!1})}},{key:"resolveBatch",value:function(e){this.batch=this.batch.filter(function(t){return t.resolve(e),!1})}}])&&n(t.prototype,r),a&&n(t,a),e}();t.default=a},,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(9)),i=l(r(1518));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.autoFocus,r=e.className,a=e.fullScreen,l=e.onClick,u=e.style;return n.default.createElement("button",{className:"".concat(a?i.default.fixed:i.default.absolute," ").concat(r),autoFocus:t,onClick:l,style:u,type:"button"},n.default.createElement(o.default,{name:"close",size:"16"}))};u.propTypes={className:a.default.string,fullScreen:a.default.bool,onClick:a.default.func,style:a.default.object},u.defaultProps={className:"",fullScreen:!1,onClick:function(){},style:{}};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=T(r(1)),o=T(r(115)),i=T(r(1524)),l=T(r(38)),u=T(r(731)),s=T(r(1526)),c=T(r(735)),d=T(r(1537)),f=T(r(1538)),p=T(r(1545)),m=T(r(309)),h=T(r(22)),y=r(1555),g=r(45),_=r(85),v=r(71),b=r(8),O=r(11),w=r(43),E=r(44),P=r(12),k=r(439),S=T(r(2)),C=T(r(3)),j=T(r(5)),R=T(r(1579));function T(e){return e&&e.__esModule?e:{default:e}}function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D={email:{customRequired:function(e){return(0,w.isRequired)(e,"Please enter an email address.")},validate:function(e){return(0,w.isEmail)(e,"Please enter a valid email address")},value:""},name:{customRequired:function(e){return(0,w.isRequired)(e,"Please enter your name or nickname.")},validate:function(e){return(0,w.minLength)(3,e)},value:""},newsletter:{notRequired:!0,validate:function(){return null},value:[],formatOut:function(e){return e.includes("newsletter")}},password:{customRequired:function(e){return(0,w.isRequired)(e,"Please enter a password.")},validate:function(e){return(0,w.minLength)(8,e)||(0,w.maxLength)(60,e)},value:""}},q={notRequired:!0,validate:function(){return null}},L={formError:""},B={login:["email","password"],signup:["name","email","newsletter"]},F={errors:{},formError:"",recaptchaPending:!1},U={EMAIL_NOT_REGISTERED:"This email is not registered",PASSWORD_INVALID:"Invalid password"},V=function(e){var t=(0,b.getFirstString)(e);return U[t]||t},W=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=A(t).call(this,e))||"object"!==N(a)&&"function"!=typeof a?I(n):a).state=Object.assign({},F,{currentPanel:e.currentPanel,fields:(0,_.initFields)(D),generalErrorCount:0,isBusy:!1,recaptchaReady:!1,showEmailMsg:!1}),r.handleEmailExists=r.handleEmailExists.bind(I(r)),r.handleSubmit=r.handleSubmit.bind(I(r)),r.recaptchaCallback=r.recaptchaCallback.bind(I(r)),r.setCurrentPanel=r.setCurrentPanel.bind(I(r)),r.getErrorForField=_.getErrorForField.bind(I(r)),r.getFieldValuesAsObject=_.getFieldValuesAsObject.bind(I(r)),r.setIsBusy=_.setIsBusy.bind(I(r)),r.setStateOrError=_.setStateOrError.bind(I(r)),r.validate=_.validateFields.bind(I(r)),r._recaptcha,r}var r,a,w;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){if(this.props.analyticsEventOnMount){var e=this.props.analyticsEventOnMount,t=e.eventName,r=e.customProps;h.default.reportEvent({eventName:t},r)}}},{key:"handleEmailExists",value:function(){this.setState(Object.assign({},F,{currentPanel:"login",isBusy:!1,showEmailMsg:!0}))}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!this.state.isBusy){var t=this._isSignupPanel()?{password:q}:{name:q},r=this.validate({doScroll:!1,validationOverrideMap:t});this.setState({formError:"",isBusy:r}),r&&this.submitWithRecaptcha()}}},{key:"recaptchaCallback",value:function(e){this.state.recaptchaPending&&e?(this.setState({recaptchaPending:!1}),this.submitForm(e)):this.setState({formError:this._getGeneralError(),generalErrorCount:this.state.generalErrorCount+1,recaptchaPending:!1,isBusy:!1}),this._recaptcha&&this._recaptcha.reset&&this._recaptcha.reset()}},{key:"setCurrentPanel",value:function(e){this.setState(Object.assign({},F,{currentPanel:e,showEmailMsg:!1}))}},{key:"submitForm",value:function(e){var t=this,r=this.props.formActions[this.state.currentPanel],n=(0,g.filterObject)(this.getFieldValuesAsObject(),null,B[this.state.currentPanel]),a=this._isSignupPanel()?{newsletter:n.newsletter}:{};delete n.newsletter;var o=Object.assign({"g-recaptcha-response":e,analytics:this.props.analytics,location:this.props.location,source:this.props.source,user:n},a);return(0,y.authRequest)(r,o).then(function(e){t.props.onSubmit(e),(0,P.windowLocationRedirect)(t._getRedirectUrl())}).catch(function(e){return t._processServerErrors(e)})}},{key:"submitWithRecaptcha",value:function(){var e=this;this._recaptcha&&this.state.recaptchaReady?this.setState({recaptchaPending:!0},function(){return e._recaptcha.execute()}):this.setState({formError:this._getGeneralError(),generalErrorCount:this.state.generalErrorCount+1,isBusy:!1})}},{key:"_extractServerErrors",value:function(e){var t=(0,b.getInObj)(["response","body","errors"],e)||{},r=(0,b.getInObj)(["response","body","error"],e)||"";return"PASSWORD_INVALID"===r?{errors:Object.assign({},t,{password:r}),formError:""}:{errors:t,formError:"PASSWORD_NOT_CREATED"===r?this._getNoPasswordMsg():r}}},{key:"_getRedirectUrl",value:function(){return this.props.redirectPaths[this.state.currentPanel]}},{key:"_isSignupPanel",value:function(){return"signup"===this.state.currentPanel}},{key:"_processOmniauthUrl",value:function(e){var t=e.split("?"),r=(0,E.mapifyStringQuery)(t[1]);r.location=this.props.location,r.source=this.props.source||r.source,r.redirect_to=this.props.redirectPaths.login;var n=(0,E.mapToStringQuery)(r);return"".concat(t[0]).concat(n.length?"?".concat(n):"")}},{key:"_processOmniauthUrls",value:function(){var e=this;return(0,E.transformObjValues)(this.props.omniauthUrls,function(t){return e._processOmniauthUrl(t)})}},{key:"_processServerErrors",value:function(e){var t=this._extractServerErrors(e),r=t.errors,n=t.formError;if(this._isSignupPanel()&&r.email&&r.email.includes("has already been taken"))this.handleEmailExists();else{var a=!n&&(0,O.isBlank)(r);this.setState({errors:Object.assign({},this.state.errors,r),formError:a?this._getGeneralError():n||"",generalErrorCount:a?this.state.generalErrorCount+1:this.state.generalErrorCount,isBusy:!1})}}},{key:"_shouldAutoFocus",value:function(e){return e&&this.props.autoFocus&&!(0,m.default)()}},{key:"_shouldShowCTA",value:function(){return this.props.showCTAConfig[this.state.currentPanel]}},{key:"_getDivider",value:function(){return n.default.createElement("div",{className:"".concat(S.default.flexCenterItems," ").concat(S.default.marginBottom5)},n.default.createElement("div",{className:"".concat(S.default.flex1," ").concat(j.default.borderTop)}),n.default.createElement("div",{className:"".concat(S.default.padding5)},"or"),n.default.createElement("div",{className:"".concat(S.default.flex1," ").concat(j.default.borderTop)}))}},{key:"_getGeneralError",value:function(){return this.state.generalErrorCount<3?"Something went wrong. Please try again.":"We are having trouble ".concat(this._isSignupPanel()?"signing you up":"logging you in",". Please email us at help@hackster.io to resolve the issue.")}},{key:"_getNoPasswordMsg",value:function(){return n.default.createElement(n.Fragment,null,"You haven't created a password yet! To do so, click the link in the email we've sent you. No email? ",n.default.createElement("a",{href:"".concat(this.props.confirmationPath,"?user[email]=").concat(this.state.fields.email.value),className:C.default.link},"Resend password email"),".")}},{key:"_getEmailHelperText",value:function(e){return this._isSignupPanel()?"We will never share your email with others.":e===U.EMAIL_NOT_REGISTERED?n.default.createElement(p.default,{currentConfig:"email",disabled:this.state.isBusy,onClick:this.setCurrentPanel}):null}},{key:"_getEmailField",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.state.errors.email;return n.default.createElement(l.default,{autoFocus:this._shouldAutoFocus(t),classList:{root:S.default.marginBottom15},disabled:this.state.isBusy,errors:V(r),helperText:this._getEmailHelperText(r),label:"Email address",name:"email",onChange:function(t){return e.setStateOrError(null,"email",t.target.value,L)},placeholder:"you@example.com",type:"email",value:this.state.fields.email.value})}},{key:"_getNameField",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.default.createElement(l.default,{autoFocus:this._shouldAutoFocus(t),classList:{root:S.default.marginBottom15},disabled:this.state.isBusy,errors:V(this.state.errors.name),label:"Full name or nickname",name:"name",onChange:function(t){return e.setStateOrError(null,"name",t.target.value,L)},placeholder:"First and last name",value:this.state.fields.name.value})}},{key:"_getNewsletterField",value:function(){var e=this;return n.default.createElement(u.default,{onChange:function(t){return e.setStateOrError(null,"newsletter",t,L)},options:[{label:n.default.createElement("strong",null,"Sign up for the Hackster Newsletter"),value:"newsletter"}],values:this.state.fields.newsletter.value})}},{key:"_getPasswordField",value:function(){var e=this;return n.default.createElement(l.default,{classList:{root:S.default.marginBottom15},disabled:this.state.isBusy,errors:V(this.state.errors.password),helperText:n.default.createElement("a",{className:C.default.linkBlue,href:this.props.forgotPasswordUrl},"Forgot password?"),label:"Password",name:"password",onChange:function(t){return e.setStateOrError(null,"password",t.target.value,L)},placeholder:"Enter your password",type:"password",value:this.state.fields.password.value})}},{key:"_getLoginFields",value:function(){return n.default.Children.toArray([this._getEmailField(!0),this._getPasswordField()])}},{key:"_getSignupFields",value:function(){return n.default.Children.toArray([this._getNameField(!0),this._getEmailField(!1),this._getNewsletterField()])}},{key:"render",value:function(){var e=this,t=this.state,r=t.currentPanel,a=t.formError,l=t.isBusy,u=this._isSignupPanel(),m=this._shouldShowCTA();return n.default.createElement("div",{className:"".concat(C.default.bodyM," ").concat(m?R.default.panelWithCTA:"")},m&&n.default.createElement(s.default,{ctaVersion:this.props.ctaVersion,imgUrls:this.props.ctaImgUrls,whitelabelName:this.props.whitelabelName}),n.default.createElement("div",{className:R.default.formPanelWrapper},n.default.createElement("div",{className:R.default.formPanel},n.default.createElement(i.default,{blankHeader:this.props.blankHeader,currentPanel:this.state.currentPanel,showCTA:m,showEmailMsg:this.state.showEmailMsg,simplified:this.props.simplified,whitelabelName:this.props.whitelabelName}),n.default.createElement(f.default,{currentPanel:this.state.currentPanel,omniauthUrls:this._processOmniauthUrls()}),this._getDivider(),n.default.createElement("form",{action:"#",method:"post",noValidate:!0,onSubmit:this.handleSubmit},u?this._getSignupFields():this._getLoginFields(),(0,v.getFormErrorView)(a),u&&n.default.createElement(d.default,{rootPath:this.props.pathHelpers.rootPath}),n.default.createElement(o.default,{buttonType:"submit",isBusy:l,size:"lg",text:u?"Join Hackster":"Log in",type:"fullWidth"})),n.default.createElement(c.default,{ref:function(t){return e._recaptcha=t},className:S.default.marginTop30,onLoad:function(){return e.setState({recaptchaReady:!0})},callback:this.recaptchaCallback,recaptchaSiteKey:this.props.recaptchaSiteKey}),n.default.createElement(p.default,{currentConfig:r,disabled:l,onClick:this.setCurrentPanel}))))}}])&&M(r.prototype,a),w&&M(r,w),t}();W.propTypes={analytics:a.default.shape({page_type:a.default.string.isRequired,path:a.default.string.isRequired,site:a.default.string.isRequired}).isRequired,autoFocus:a.default.bool,blankHeader:a.default.bool,confirmationPath:a.default.string.isRequired,ctaImgUrls:a.default.shape({"1x":a.default.string.isRequired,"2x":a.default.string.isRequired}).isRequired,ctaVersion:a.default.string,currentPanel:a.default.oneOf(["login","signup"]),forgotPasswordUrl:a.default.string.isRequired,formActions:a.default.shape({login:a.default.string,signup:a.default.string}).isRequired,location:a.default.string,omniauthUrls:a.default.shape({facebook:a.default.string,github:a.default.string,google_oauth2:a.default.string,twitter:a.default.string,windowslive:a.default.string}).isRequired,onSubmit:a.default.func,pathHelpers:a.default.shape({rootPath:a.default.string.isRequired}).isRequired,recaptchaSiteKey:a.default.string.isRequired,redirectPaths:a.default.shape({login:a.default.string.isRequired,signup:a.default.string.isRequired}).isRequired,showCTAConfig:a.default.shape({login:a.default.bool,signup:a.default.bool}),simplified:a.default.bool,source:a.default.string,whitelabelName:a.default.string},W.defaultProps={autoFocus:!0,blankHeader:!1,ctaVersion:k.DEFAULT,currentPanel:"signup",location:"signin_dialog",onSubmit:function(){},showCTAConfig:{login:!1,signup:!0},simplified:!1,source:"",whitelabelName:null};var H=W;t.default=H},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"IntersectionObserver",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ResizeObserver",{enumerable:!0,get:function(){return a.default}});var n=o(r(1531)),a=o(r(1533));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROJECT_LOCK_SCREEN=t.DEFAULT=void 0;t.DEFAULT="DEFAULT";t.PROJECT_LOCK_SCREEN="PROJECT_LOCK_SCREEN"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(1546)),a=m(r(1548)),o=m(r(1549)),i=m(r(1550)),l=m(r(7)),u=m(r(738)),s=r(8),c=r(1552),d=r(737),f=r(1553),p=r(12);function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentUserId=this._getUserId(),this.sessionHandler=new i.default,this.whitelabel=this._getWhitelabel()}var t,r,m;return t=e,(r=[{key:"recordEvent",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageType,a=t.eventName,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(t,i){if((0,u.default)()||!e._hasKeenKeys()||!(0,d.isValidEventName)(a))return t();if(!(r=r||e._getPageType()))return i(new Error("recordEvent expected a pageType, but received: ".concat(r)));var s=e._getEventData(),c=s.createNewSession,p=s.distinctId,m=s.sessionId,h=s.utmParams,y=new n.default({customProps:o,distinctId:p,eventName:a,pageType:r,sessionId:m,userId:e.currentUserId,utmParams:h,whitelabel:e.whitelabel});return Promise.all([(0,f.postSingleEvent)(y.createRecord(),"events"),e.recordNewSession({createNewSession:c,distinctId:p,sessionId:m,pageType:r,utmParams:h})]).then(function(){return t()}).catch(function(e){return(0,l.default)("KeenService recordEvent: ",e),i(e)})})}},{key:"recordEventWithDelayedRedirect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageType,r=e.eventName,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return o.ctrlKey||o.metaKey?this.recordEvent({eventName:r,pageType:t},n):(o.preventDefault(),this._recordEventAndRedirect({eventName:r,pageType:t},n,a))}},{key:"recordEventsWithDelayedRedirect",value:function(e,t,r){return r.ctrlKey||r.metaKey?this.recordEvents(e):(r.preventDefault(),this._recordEventsAndRedirect(e,t))}},{key:"recordEvents",value:function(e){var t=this;return new Promise(function(r,n){var a=e.map(function(e){return t._normalizeObj(e)}).map(function(e){var r=e.eventName,n=e.pageType,a=e.customProps;return t.recordEvent({eventName:r,pageType:n},a)});return Promise.all(a).then(function(){return r()}).catch(function(e){return(0,l.default)("KeenService recordEvents: ",e),n(e)})})}},{key:"recordLinkClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.eventName,r=void 0===t?"Clicked link":t,n=e.pageType,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,l=a.href||(0,s.getInObjWithPrototypeAccess)(["target","href"],i),u=a.value||(0,s.getInObjWithPrototypeAccess)(["target","textContent"],i)||(0,s.getInObjWithPrototypeAccess)(["target","innerText"],i),c=Object.assign({},a,{href:l,value:u});return o&&l?this.recordEventWithDelayedRedirect({eventName:r,pageType:n},c,l,i):this.recordEvent({eventName:r,pageType:n},c)}},{key:"recordPageView",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(r,n){if((0,u.default)()||!e._hasKeenKeys())return r();var o=t.entity_id||e._getEntityId(),i=t.pageType||e._getPageType();if(!i)return n(new Error("recordPageView expected a pageType, but received: ".concat(i)));var s=e._getEventData(),c=s.createNewSession,d=s.distinctId,p=s.sessionId,m=s.utmParams,h=new a.default({distinctId:d,entity_id:o,pageType:i,referrer:t.referrer,sessionId:p,userId:e.currentUserId,utmParams:m,whitelabel:e.whitelabel});return Promise.all([(0,f.postSingleEvent)(h.createRecord(),"page_views"),e.recordNewSession({createNewSession:c,distinctId:d,sessionId:p,pageType:i,utmParams:m})]).then(function(){return r()}).catch(function(e){return(0,l.default)("KeenService recordPageView: ",e),n(e)})})}},{key:"recordNewSession",value:function(e){var t=this,r=e.createNewSession,n=e.distinctId,a=e.sessionId,i=e.pageType,l=e.utmParams;return new Promise(function(e,s){if(!r||(0,u.default)()||!t._hasKeenKeys())return e();if(!(i=i||t._getPageType()))return s(new Error("recordNewSession expected a pageType, but received: ".concat(i)));var c=new o.default({distinctId:n,sessionId:a,pageType:i,whitelabel:t.whitelabel,utmParams:l,userId:t.currentUserId});return(0,f.postSingleEvent)(c.createRecord(),"sessions").then(function(){return e()}).catch(function(e){return s(e)})})}},{key:"_getEntityId",value:function(){return p.isWindowDefined&&window.HAnalyticsGlobalData&&window.HAnalyticsGlobalData.hasOwnProperty("entity_id")?window.HAnalyticsGlobalData.entity_id:null}},{key:"_getEventData",value:function(){var e=this.sessionHandler.getSessionData(),t=e.createNewSession,r=e.data;return{createNewSession:t,distinctId:r.distinctId,sessionId:r.sessionId,utmParams:(0,c.getUTMParams)(window.location.search,t)}}},{key:"_getPageType",value:function(){if("undefined"!=typeof document&&"function"==typeof document.querySelector){var e=document.querySelector('meta[name="pageType"]');return e&&e.hasAttribute("content")?this._transformPageType(e.getAttribute("content")):null}return null}},{key:"_getUserId",value:function(){return p.isWindowDefined&&window.HAnalyticsGlobalData&&window.HAnalyticsGlobalData.hasOwnProperty("user_id")?parseInt(window.HAnalyticsGlobalData.user_id):null}},{key:"_getWhitelabel",value:function(){return p.isWindowDefined&&window.HAnalyticsGlobalData&&window.HAnalyticsGlobalData.hasOwnProperty("whitelabel")?window.HAnalyticsGlobalData.whitelabel:null}},{key:"_eventObjTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.customProps,r=void 0===t?{}:t,n=e.event,a=void 0===n?{}:n;return{customProps:r,eventName:a.eventName,pageType:a.pageType}}},{key:"_hasKeenKeys",value:function(){return p.isWindowDefined?!!(window&&window.jsk&&window.jsk.oht&&window.jsk.oak):null}},{key:"_normalizeObj",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.hasOwnProperty("event")?this._eventObjTransform(e):e.hasOwnProperty("eventName")?e:{}}},{key:"_recordEventAndRedirect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageType,n=t.eventName,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;return new Promise(function(t,i){e.recordEvent({eventName:n,pageType:r},a).then(function(){return t((0,p.windowLocationRedirect)(o))}).catch(function(e){return(0,l.default)("KeenService _recordEventAndRedirect: ",e),i(e)})})}},{key:"_recordEventsAndRedirect",value:function(e,t){var r=this;return new Promise(function(n,a){return r.recordEvents(e).then(function(){return n((0,p.windowLocationRedirect)(t))}).catch(function(e){return(0,l.default)("KeenService _recordEventsAndRedirect: ",e),a(e)})})}},{key:"_transformPageType",value:function(e){return e}}])&&h(t.prototype,r),m&&h(t,m),e}();t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t=t||{},new Promise(function(r,u){i.default.getApiToken(function(s){(function(e,t,r){var u=i.default.getApiPath();return new Promise(function(i,s){(function(e,t,r){return e=e||a.default.v4(),new Promise(function(a,o){n.default.get("".concat(t,"/private/files/signed_url?file%5Bname%5D=").concat(e,"&context=no-context")).set("Authorization","Bearer ".concat(r)).end(function(e,t){e?o(e):a(t.body)})})})(e.name,u,t).then(function(t){return function(e,t,r){var a=r.progressCallback,i=(0,l.getAWSResources)().S3BucketURL,u=new FormData;return Object.entries(e).forEach(function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),a=n[0],o=n[1];u.append(a,o)}),u.append("file",t),new Promise(function(e,t){n.default.post(i).accept("application/xml").send(u).on("progress",function(e){a&&a(e)}).end(function(r,n){if(r)return t(r);o.default.parseString(n.text,function(r,n){r?t(r):e(n.PostResponse.Location[0])})})})}(t,e,r)}).then(function(e){return function(e,t,r){return new Promise(function(a,o){n.default.post("".concat(t,"/private/files")).set("Authorization","Bearer ".concat(r)).send({file_url:e}).end(function(e,t){e?o(e):a(t.body.id)})})}(e,u,t)}).then(function(e){return i(e)}).catch(function(e){return s(e)})})})(e,s,t).then(function(e){return r(e)}).catch(function(e){return u(e)})})})};var n=u(r(35)),a=u(r(725)),o=u(r(1557)),i=u(r(40)),l=r(246);function u(e){return e&&e.__esModule?e:{default:e}}},,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pollWithBackoff=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).pollMax,r=void 0===t?10:t;return new Promise(function(t,a){var o=function o(i){if(i>=r)return a(new Error("Exceeded poll max"));setTimeout(function(){e(t,a,function(){return o(i+1)})},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.max,a=void 0===r?6e4:r,o=t.min,i=void 0===o?500:o,l=t.multiplier,u=void 0===l?250:l;return(0,n.clamp)(i,Math.pow(2,e)*u,a)}(i))};e(t,a,function(){return o(1)})})};var n=r(199)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVideoData=function(e){var t=u(e,/(channel9|gfycat|instagram|kickstarter|mp4|vimeo|vine|ustream|youtube)/);if(!t)return null;var r=l[t],n=e.match(r.regexp);if(n&&n.length){var a=n[r.index],o=r.embed(a),i=r.image?r.image(a):null;return{id:a,embed:o,image:i,service:t,type:"iframe"}}return null},t.getYouTubeId=function(e){var t="";t=void 0!==(e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?(t=e[2].split(/[^0-9a-z_\-]/i))[0]:e;return t},t.getEmbedUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=u(e,/(facebook|youtube)/);return r?o[r](e,t):null},t.VIDEO_EMBED_REGEXS=void 0;var n=r(44),a={facebook:/(?:https?:\/\/)?(?:www\.)?facebook\.com\/(?:.+\/)*([\w\.\-]+)/,youtube:/(?:youtube\.com|youtu\.be)\/(?:watch\?v=|v\/|embed\/)?([a-zA-Z0-9\-_]+)/};t.VIDEO_EMBED_REGEXS=a;var o={facebook:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=/plugins\/video.+\?.*href/.test(e)?(0,n.mapifyStringQuery)(e.split("?")[1]).href:e,a={href:r,autoplay:t?1:0,height:540,mute:0,width:960};return"https://www.facebook.com/plugins/video.php?".concat((0,n.mapToStringQuery)(a))},youtube:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.match(a.youtube);return"https://www.youtube.com/embed/".concat(r[1],"?autoplay=").concat(t?1:0)}},i={autodesk360:/myhub\.autodesk360\.com\/([a-z0-9]+\/shares\/public\/[a-zA-Z0-9]+)/,bitbucket:/bitbucket\.org\/([0-9a-zA-Z_\-]+\/[0-9a-zA-Z_\-]+)/,circuits:/123d\.circuits\.io\/circuits\/([a-z0-9\-]+)/,channel9:/channel9\.msdn\.com\/((?:\/?[0-9a-zA-Z_\-]+){3})/,codebender:/codebender\.cc\/sketch:([0-9]+)/,fritzing:/fritzing\.org\/projects\/([0-9a-z-]+)/,gist:/gist\.github\.com\/(?:[0-9a-zA-Z_\-]+\/)?([0-9a-zA-Z_\-]+)/,github:/github\.com\/(?:downloads\/)?([0-9a-zA-Z_\-\.]+\/[0-9a-zA-Z_\-\.]+)/,gfycat:/gfycat.com\/([a-zA-Z]+)/,instagram:/instagram\.com\/p\/([a-zA-Z\-0-9]+)/,kickstarter:/kickstarter\.com\/projects\/([0-9a-z\-]+\/[0-9a-z\-]+)/,oshpark:/oshpark\.com\/shared_projects\/([a-zA-Z0-9]+)/,sketchfab:/sketchfab\.com\/models\/([a-z0-9]+)/,snip2code:/snip2code\.com\/Snippet\/([0-9]+\/[0-9a-zA-Z]+)/,twitter:/twitter.com\/([a-zA-Z0-9_@]+\/status\/[0-9]+)/,upverter:/upverter\.com\/[^\/]+\/(?:embed\/)?(?:\#designId\=)?([a-z0-9]+)(?:\/)?(?:[^\/])*/,ustream:/ustream\.tv\/([a-z]+\/[0-9]+(\/[a-z]+\/[0-9]+)?)/,vimeo:/(?:player\.)?vimeo\.com\/(?:video\/)?([0-9]+)/,vine:/vine\.co\/v\/([a-zA-Z0-9]+)/,youtube:/(?:youtube\.com|youtu\.be)\/(?:watch\?v=|v\/|embed\/)?([a-zA-Z0-9\-_]+)/,youmagine:/youmagine\.com\/designs\/([a-zA-Z0-9\-]+)/,mp4:/(.+\.(?:mp4)(?:\?.*)?)$/i},l={channel9:{regexp:i.channel9,embed:function(e){return"https://channel9.msdn.com/".concat(e,"/player")},index:1},gfycat:{regexp:i.gfycat,embed:function(e){return"https://gfycat.com/ifr/".concat(e)},index:1},instagram:{regexp:i.instagram,embed:function(e){return"https://instagram.com/p/".concat(e,"/embed/")},index:1},kickstarter:{regexp:i.kickstarter,embed:function(e){return"https://www.kickstarter.com/projects/".concat(e,"/widget/video.html")},index:1},mp4:{regexp:i.mp4,embed:function(e){return e},index:0},vimeo:{regexp:i.vimeo,requestLink:function(e){return"https://vimeo.com/api/v2/video/".concat(e,".json")},embed:function(e){return"https://player.vimeo.com/video/".concat(e)},index:1},vine:{regexp:i.vine,requestLink:function(e){return"https://vine.co/oembed.json?id=".concat(e)},embed:function(e){return"https://vine.co/v/".concat(e,"/embed/simple")},index:1},ustream:{regexp:i.ustream,embed:function(e){return"http://www.ustream.tv/embed/".concat(e,"?html5ui")},index:1},youtube:{regexp:i.youtube,image:function(e){return"https://i.ytimg.com/vi/".concat(e,"/0.jpg")},requestLink:function(e){return"https://img.youtube.com/vi/".concat(e,"/0.jpg")},embed:function(e){return"https://www.youtube.com/embed/".concat(e)},index:1}};function u(e,t){var r=e.replace(/youtu\.be/,"youtube").match(t);return null!==r?r[0]:null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=O(r(1)),o=O(r(38)),i=O(r(15)),l=O(r(728)),u=O(r(66)),s=r(71),c=r(14),d=O(r(22)),f=r(60),p=O(r(7)),m=r(85),h=r(67),y=r(43),g=r(202),_=r(178),v=O(r(21)),b=O(r(2));function O(e){return e&&e.__esModule?e:{default:e}}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C={create:{mutation:"create_bookmark_list"},update:{mutation:"update_bookmark_list"}},j={id:{validate:function(){return null},value:null,notRequired:!0},name:{validate:function(e){return(0,y.maxLength)(60,e,"Too long")},value:"",customIsRequired:function(e){return(0,y.isRequired)(e,"Required field")}},private:{validate:function(){return null},value:!0},project_id:{validate:function(){return null},value:null,notRequired:!0}},R=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=P(t).call(this,e))||"object"!==w(a)&&"function"!=typeof a?k(n):a).state={errors:{},fields:(0,m.initFields)(j,e.initValues),formError:"",isBusy:!1},r.handleChange=r.handleChange.bind(k(r)),r.handleKeyDown=r.handleKeyDown.bind(k(r)),r.handleSubmit=r.handleSubmit.bind(k(r)),r.getErrorForField=m.getErrorForField.bind(k(r)),r.getFieldValuesAsObject=m.getFieldValuesAsObject.bind(k(r)),r.setStateOrError=m.setStateOrError.bind(k(r)),r.validateFields=m.validateFields.bind(k(r)),r}var r,a,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,n.Component),r=t,(a=[{key:"handleChange",value:function(e){var t=e.target,r=t.name,n=t.value;this.setStateOrError(null,r,n),this.setState({formError:""})}},{key:"handleKeyDown",value:function(e){e.keyCode===_.ENTER&&this.handleSubmit(e)}},{key:"handleSubmit",value:function(){if(this.validateFields({doScroll:!1}))return this._submitForm()}},{key:"_handleCreateListAnalytics",value:function(e){d.default.reportEventWithObj((0,f.getCreateBookmarkListArgs)(Object.assign({id:e.id},this.props.analytics))),(0,h.objHasPropertyWithValue)(e,"bookmark_id")&&d.default.reportEventWithObj((0,f.getCreateBookmarkArgs)(Object.assign({id:e.bookmark_id},this.props.analytics)))}},{key:"_resetForm",value:function(e){this.state={errors:{},fields:e?(0,m.initFields)(j,{}):this.state.fields,formError:"",isBusy:!1}}},{key:"_submitForm",value:function(){var e=this,t=this.getFieldValuesAsObject(),r=C[this.props.mode].mutation;return this.setState({isBusy:!0}),(0,c.graphMutate)({t:r},t).then(function(r){var n=r.list;e._resetForm(e.props.clearOnSubmit),e.props.onSubmit(Object.assign({},t,n)),e._handleCreateListAnalytics(n)}).catch(function(t){e.setState({formError:g.GENERIC_ERROR,isBusy:!1}),(0,p.default)("BookmarksListForm handleSubmit",t)})}},{key:"_getCreateButton",value:function(){return n.default.createElement(i.default,{key:"bfs",className:b.default.fullWidth,colorStyle:"secondary",disabled:this.state.isBusy,onClick:this.handleSubmit,size:this.props.componentSize,type:"submit"},this.state.isBusy?n.default.createElement(u.default,{size:16}):"Create list")}},{key:"_getUpdateButtons",value:function(){return n.default.createElement("div",null,n.default.createElement(l.default,{disabled:this.state.isBusy,onClick:this.handleSubmit,size:this.props.componentSize,type:"submit"},this.state.isBusy?n.default.createElement(u.default,{size:16}):"Save"),n.default.createElement(i.default,{className:b.default.marginLeft10,colorStyle:"danger",disabled:this.state.isBusy,onClick:this.props.onDeleteClick,size:this.props.componentSize},"Delete"),n.default.createElement(i.default,{colorStyle:"cancel",disabled:this.state.isBusy,onClick:this.props.onCancelClick,size:this.props.componentSize},"Cancel"))}},{key:"render",value:function(){var e=this.state,t=e.formError,r=e.fields;return n.default.createElement("div",null,n.default.createElement("div",{onKeyDown:this.handleKeyDown},n.default.createElement(o.default,{autoFocus:!0,charCount:r.name.value.length,classList:{input:v.default[this.props.componentSize]},errors:this.getErrorForField("name"),label:"Name",maxVal:60,name:"name",onChange:this.handleChange,value:r.name.value})),(0,s.getFormErrorView)(t),"update"===this.props.mode?this._getUpdateButtons():this._getCreateButton())}}])&&E(r.prototype,a),y&&E(r,y),t}();R.propTypes={analytics:a.default.shape({widget_src:a.default.string.isRequired}).isRequired,clearOnSubmit:a.default.bool,componentSize:a.default.string,initValues:a.default.shape({name:a.default.string,private:a.default.bool}),mode:a.default.oneOf(["create","update"]),onCancelClick:a.default.func,onDeleteClick:a.default.func,onSubmit:a.default.func},R.defaultProps={clearOnSubmit:!0,componentSize:"md",initValues:{},mode:"create",onCancelClick:null,onDeleteClick:null,onSubmit:function(){}};var T=R;t.default=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(e,t,r){return function(a){var o=(0,n.isAFunction)(e)?e():e;o&&function(e,t,r){if(r&&(0,n.isAFunction)(e.composedPath))return!function(e,t){var r=e.composedPath(),n=!0,a=!1,o=void 0;try{for(var i,l=r[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){if(i.value===t)return!0}}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return!1}(e,t);return!t.contains(e.target)}(a,o,r)&&t(a)}}(e,t,r);return function(e){document.addEventListener("click",e)}(a),{remove:function(){return function(e){document.removeEventListener("click",e)}(a)}}};var n=r(11)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=r(8),i=r(55),l=d(r(2)),u=d(r(328)),s=d(r(3)),c=d(r(5));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){return"string"==typeof e?i.NOOP_HREF:e.hasOwnProperty("href")?e.href:i.NOOP_HREF},p=function(e){var t=e.activeIndex,r=e.centered,a=e.onClick,i=e.tabs,d=e.underline;return n.default.createElement("div",{className:"".concat(u.default.center," ").concat(u.default.themeLight," ").concat(d?c.default.borderBottom:"")},n.default.createElement("ul",{className:"".concat(u.default.list," ").concat(l.default.noScrollBar," ").concat(r?l.default.flexJustifyCenter:"")},i.map(function(e,r){var i=t===r,l=(0,o.getInObj)(["disabled"],e);return n.default.createElement("li",{key:r,className:"".concat(u.default.listItem," ").concat(l?s.default.linkDisabled:"")},n.default.createElement("div",{className:i?u.default.linkWrapperFocused:u.default.linkWrapper},n.default.createElement("a",{className:i?u.default.linkFocused:u.default.link,href:f(e),onClick:function(e){e.preventDefault(),l||a(r)}},function(e){return"string"==typeof e?e:e.label}(e))))})))};p.propTypes={activeIndex:a.default.number,centered:a.default.bool,onClick:a.default.func,tabs:a.default.array,underline:a.default.bool},p.defaultProps={activeIndex:0,centered:!0,onClick:function(){},tabs:[],underline:!0};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.key,r=e.createOrDeleteBool,n=e.id,o=e.source,i=l[t];if(!i)return Promise.resolve();var u=i(r),s=u.eventName,c=u.entity_type;return a.default.reportEvent({eventName:s},{entity_type:c,source:o,entity_id:n})};var n,a=(n=r(22))&&n.__esModule?n:{default:n};function o(e){return function(t){return{entity_type:e,eventName:t?"Followed entity":"Unfollowed entity"}}}function i(e){return function(t){return{entity_type:e,eventName:t?"Respected entity":"Unrespected entity"}}}var l={community_ids:o("Community"),followed_user_ids:o("User"),part_ids:o("Part"),platform_ids:o("Platform"),respected_comment_ids:i("Comment"),respected_feed_post_ids:i("FeedPost"),respected_news_article_ids:i("NewsArticle"),respected_project_ids:i("Project"),topic_ids:o("Topic")}},,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initCategoryFromProps=t.createRankedCategory=t.createSinglePrizeCategory=t.createPrize=t.getCustomTitleForHeader=t.getDefaultIntroduction=t.getDefaultTitleForHeader=t.getCategoryTypeForHeader=t.getCategoryType=void 0;var n,a=(n=r(96))&&n.__esModule?n:{default:n},o=r(261);var i={10:"tens",100:"hundreds",1e3:"thousands",1e4:"tens of thousands"},l=function(e){return null===e.name?o.RANKED_DEFAULT:e.is_runner_up?o.RUNNER_UPS:e.is_ranked?o.CATEGORY_RANKED:o.CATEGORY_CUSTOM};t.getCategoryType=l;t.getCategoryTypeForHeader=function(e,t){if(!t.length)return"";switch(e){case o.CATEGORY_CUSTOM:return"(custom)";case o.CATEGORY_RANKED:return"(ranked)";case o.RUNNER_UPS:return"(runner ups)";default:return""}};t.getDefaultTitleForHeader=function(e){switch(e){case o.RANKED_DEFAULT:return"Ranked category";case o.RUNNER_UPS:return"Runner ups";default:return""}};t.getDefaultIntroduction=function(e){var t=e.totalCash,r=e.totalPrizes;if(0===r)return"(empty because there are no prizes)";var n=Object.keys(i).reduce(function(e,r){return t>=parseInt(r)?i[r]:e},null),a=n?"".concat(n," of dollars in prizes"):"a great prize",o=1===r?"project":"".concat(r," projects"),l=1===r?"project":"projects";return"We are giving away ".concat(a," to the top ").concat(o,"! Our judges are going to pick the best qualifying ").concat(l," based on the judging criteria outlined in the rules section.")};t.getCustomTitleForHeader=function(e){switch(e){case o.CATEGORY_CUSTOM:return"Custom category";case o.CATEGORY_RANKED:return"Ranked category";case o.RUNNER_UPS:return"Runner ups";default:return""}};var u=function(e){return{cash_value:0,description:"",image:null,link:"",name:"",position:e,quantity:1,requires_shipping:!1,uuid:(0,a.default)()}};t.createPrize=u;t.createSinglePrizeCategory=function(e){return{description:"",isCollapsed:!1,is_enterable:!1,is_ranked:!1,is_runner_up:e,name:"",prizes:[u(0)],type:e?o.RUNNER_UPS:o.CATEGORY_CUSTOM,uuid:(0,a.default)()}};t.createRankedCategory=function(e){return{description:"",isCollapsed:!1,is_enterable:!1,is_ranked:!0,is_runner_up:!1,name:"",prizes:Array.from(new Array(3),function(e,t){return u(t)}),type:e,uuid:(0,a.default)()}};t.initCategoryFromProps=function(e){return{description:e.description||"",id:e.id,isCollapsed:!0,is_enterable:e.is_enterable||!1,is_ranked:e.is_ranked,is_runner_up:e.is_runner_up,name:e.name||"",position:e.position,prizes:e.prizes.map(function(e,t){return n=t,{cash_value:(r=e).cash_value||0,description:r.description||"",id:r.id,image:r.image||null,link:r.link||"",name:r.name,position:n,quantity:r.quantity||1,requires_shipping:r.requires_shipping||!1,uuid:null};var r,n}),type:l(e),uuid:null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.arrayMoveMutate=void 0;var n=function(e,t,r){e.splice(r<0?e.length+r:r,0,e.splice(t,1)[0])};t.arrayMoveMutate=n;var a=function(e,t,r){return e=e.slice(),n(e,t,r),e};t.default=a},function(e,t,r){e.exports={asphalt:"#D8D8D8",graphite:"#4A4A4A",hackster:"#2E9FE6",root:"sortable_list__root__2aoba",body:"sortable_list__body__2QcJU",onDrag:"sortable_list__onDrag__3WHEf",row:"sortable_list__row__3UaOb",dragHandle:"sortable_list__dragHandle__3KsL_",rowNoTopBorder:"sortable_list__rowNoTopBorder__3X4FJ sortable_list__row__3UaOb",cell:"sortable_list__cell__MQIj4",cellDefault:"sortable_list__cellDefault__Uytr3 sortable_list__cell__MQIj4",dragHandleIcon:"sortable_list__dragHandleIcon__zi3WE",dragHandleDisabled:"sortable_list__dragHandleDisabled__3Hinu"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(2)),i=c(r(5)),l=c(r(99)),u=c(r(50)),s=c(r(828));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.className,r=e.avatarBorder,a=e.avatarMargin,c=e.avatarSize,d=e.children,f=e.titleSize;return n.default.createElement("div",{className:"".concat(t," ").concat(o.default.flexCenterItems," ").concat(o.default.fullWidth)},n.default.createElement("div",{className:"".concat(l.default.loader," ").concat(i.default.circle," ").concat(o.default["marginRight".concat(a)]," ").concat(r?i.default.border:""),style:{height:c,width:c}}),n.default.createElement("div",{className:"".concat(s.default.content," ").concat(o.default.fullWidth)},n.default.createElement("div",{className:u.default["dummyText".concat(f)]}),d))};d.propTypes={avatarBorder:a.default.bool,avatarMargin:a.default.number,avatarSize:a.default.number,className:a.default.string,titleSize:a.default.oneOf(["S","M","L"])},d.defaultProps={avatarBorder:!0,avatarMargin:10,avatarSize:40,className:"",titleSize:"M"};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=g(r(1)),o=g(r(829)),i=r(14),l=r(830),u=r(196),s=g(r(831)),c=g(r(1813)),d=r(18),f=g(r(7)),p=g(r(96)),m=r(307),h=g(r(3)),y=g(r(1815));function g(e){return e&&e.__esModule?e:{default:e}}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=new o.default,P={community:function(e){return(0,i.graphQuery)((0,l.getCommunityHoverDataForGlobal)(e))},user:function(e){return(0,i.graphQuery)((0,u.getUserHoverDataForGlobal)(e))}},k={community:s.default,user:c.default},S=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=b(t).call(this,e))||"object"!==_(a)&&"function"!=typeof a?O(n):a).state={content:r._initContent(e),uuid:(0,p.default)()},r.handlePopoverEnter=r.handlePopoverEnter.bind(O(r)),r.handlePopoverLeave=r.handlePopoverLeave.bind(O(r)),r._popovers=[],r._hoveredPopovers=[],r._currentTarget=null,r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,n.PureComponent),r=t,(a=[{key:"_compoundKey",value:function(e){return"".concat(e.type,"_").concat(e.id)}},{key:"componentDidMount",value:function(){this._bindEventListeners()}},{key:"componentDidUpdate",value:function(e,t){var r=this;e.content===this.props.content&&t.content===this.state.content||this._unbindEventListeners(function(){return r._bindEventListeners()})}},{key:"componentWillUnmount",value:function(){this._unbindEventListeners()}},{key:"_initContent",value:function(e){return!e.truncateHtml.truncate||e.truncateHtml.limit>e.content.length?e.content:(0,m.sliceRichTextAt)(e.content,e.truncateHtml.limit).concat(" ...")}},{key:"_bindEventListeners",value:function(){var e=this,t=Array.from(this.root.querySelectorAll('a[data-mv-key="'.concat(this.state.uuid,'"]')));t.length&&t.forEach(function(t){t.addEventListener("mouseenter",e.handlePopoverEnter.bind(e,t)),t.addEventListener("mouseleave",e.handlePopoverLeave.bind(e,t)),e._popovers.push(t)})}},{key:"_unbindEventListeners",value:function(e){var t=this;this._popovers.length&&(this._popovers.forEach(function(e){e.removeEventListener("mouseenter",t.handlePopoverEnter),e.removeEventListener("mouseleave",t.handlePopoverLeave)}),this._popovers=[]),e&&"function"==typeof e&&e()}},{key:"handlePopoverEnter",value:function(e,t){var r=this;return this._currentTarget=t.target,this._hoveredPopovers=this._hoveredPopovers||[],this._hoveredPopovers.push(e),this._delay(e).then(function(e){return r._parseJSON(e)}).then(function(e){return Promise.all([r._fetchResource(e),Promise.resolve(e)])}).then(function(e){if(r._hoveredPopovers=[],null!==r._currentTarget)return(0,d.summonGlobalPopover)(r._getEventDetails(e[0],e[1]))}).catch(function(e){if(!e.message||"early reject"!==e.message)return(0,f.default)("PopoverPortal onMouseEnter: ",e)})}},{key:"_delay",value:function(e){var t=this;return new Promise(function(r,n){setTimeout(function(){e===t._currentTarget?r(e):n(new Error("early reject"))},250)})}},{key:"_parseJSON",value:function(e){return new Promise(function(t,r){try{t(JSON.parse(e.getAttribute("data-react-popover")))}catch(e){r(e)}})}},{key:"handlePopoverLeave",value:function(e,t){this._hoveredPopovers=this._hoveredPopovers.filter(function(t){return t!==e}),null!==this._currentTarget&&(this._currentTarget=null,(0,d.closeGlobalPopover)())}},{key:"_fetchResource",value:function(e){var t=this;return new Promise(function(r,n){var a=t._compoundKey(e);setTimeout(function(){return E.has(a)?r(E.get(a)):P[e.type](e.id).then(function(t){var n=t[Object.keys(t)[0]],o=Object.assign({},n,{id:e.id});E.set(a,o),r(o)}).catch(function(e){return n(e)})},500)})}},{key:"_getEventDetails",value:function(e,t){var r=Object.assign({},e,{updateResource:function(e,t,r,n){}}),a={community:{arrowOffset:0,popoverOffsetVertical:-120,targetOffset:15},user:{arrowOffset:0,targetOffset:10}}[t.type]||{};return{adjustments:Object.assign({},a),component:n.default.createElement(k[t.type],r),position:"bottom",target:this._currentTarget,uuid:this._compoundKey(t)}}},{key:"_renderMarkdownSafely",value:function(){try{return this.props.markdownService.render(this.state.content,{uuid:this.state.uuid})}catch(e){return(0,f.default)("Markdown renderer error",e),"There was an error parsing into markdown."}}},{key:"_getMoreButton",value:function(){var e=this;return this.state.content===this.props.content?null:n.default.createElement("p",{className:"".concat(h.default.linkBlue," ").concat(h.default.bodyS),onClick:function(){return e.setState({content:e.props.content},function(){return e.props.viewMoreClicked()})}},"More")}},{key:"render",value:function(){var e=this;return n.default.createElement(n.Fragment,null,n.default.createElement("div",{ref:function(t){return e.root=t},className:"".concat(y.default.root," ").concat(this.props.collapse?y.default.collapse:""),dangerouslySetInnerHTML:{__html:this._renderMarkdownSafely()}}),this._getMoreButton())}}])&&v(r.prototype,a),o&&v(r,o),t}();S.propTypes={content:a.default.string.isRequired,markdownService:a.default.object.isRequired,truncateHtml:a.default.shape({truncate:a.default.bool,limit:a.default.number}),viewMoreClicked:a.default.func},S.defaultProps={truncateHtml:{truncate:!1,limit:0},viewMoreClicked:function(){}};var C=S;t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(30)),i=f(r(89)),l=r(20),u=f(r(2)),s=f(r(3)),c=f(r(5)),d=f(r(50));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.classList,r=e.item,a=e.onClick,f=e.showBorder;return n.default.createElement("div",{className:t.wrapper||d.default.wrapper},n.default.createElement("div",{className:"".concat(d.default.card," ").concat(f&&c.default.border," ").concat(d.default.cardBody)},(r.avatar_url||r.logo_url)&&n.default.createElement("div",{className:d.default.icon},n.default.createElement("a",{href:r.url,onClick:a},n.default.createElement(o.default,{alt:r.name,captureScroll:!0,className:d.default.lazyImage,fit:"fill",ratio:"1:1",queryParams:{bg:"ffffff"},src:r.avatar_url||r.logo_url||"",width:75}))),n.default.createElement("a",{className:"".concat(d.default.title," ").concat(s.default.bodyM," ").concat(s.default.linkCharcoal," ").concat(u.default.marginTop15," ").concat(u.default.marginBottom10),href:r.url,onClick:a},r.name),n.default.createElement("section",{className:s.default.bodyS},r.pitch),n.default.createElement("div",{className:d.default.spacer}),n.default.createElement("div",{className:"".concat(d.default.stats," ").concat(s.default.bodyXS)},n.default.createElement("span",{className:d.default.stat},"".concat((0,l.formatNumberWithCommas)(r.members_count)," Members")),n.default.createElement("span",{className:d.default.stat},"".concat((0,l.formatNumberWithCommas)(r.projects_count)," Projects"))),n.default.createElement(i.default,{id:r.id,type:"channel_sm"})))};p.propTypes={classList:a.default.shape({wrapper:a.default.string}),item:a.default.shape({avatar_url:a.default.string,id:a.default.number,logo_url:a.default.string,members_count:a.default.number,name:a.default.string,pitch:a.default.string,projects_count:a.default.number}).isRequired,onClick:a.default.func,showBorder:a.default.bool},p.defaultProps={classList:{},onClick:function(){},showBorder:!0};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(1818)),i=l(r(479));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.className,r=e.onClick;return n.default.createElement("div",{className:"".concat(i.default.overlay," ").concat(t),onClick:r},n.default.createElement(o.default,{className:i.default.playButton}))};u.propTypes={className:a.default.string,onClick:a.default.func},u.defaultProps={className:"",onClick:function(){}};var s=u;t.default=s},function(e,t,r){e.exports={radiusTop:"video_card__radiusTop__1abei",overlay:"video_card__overlay__22rs0",playButton:"video_card__playButton__3CXfZ",thumbnail:"video_card__thumbnail__oz-cF",dummyImage:"video_card__dummyImage__1l2ut animation__loader__3jVQp",dummyText:"video_card__dummyText__2aOKk dummy_card__block__2O219 cards__dummyTextM__2BFD6 cards__dummyText__18wTq"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=r(8),i=l(r(264));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return function(e,t){if(t.user.isAdmin)return!0;var r=(0,o.getInObj)(["admin_ids"],e);return r&&r.includes(t.user.id)}(e.origin,e.record)?n.default.createElement("div",{className:i.default.adminBadge},"admin"):null};u.propTypes={origin:a.default.shape({admin_ids:a.default.arrayOf(a.default.number)}),record:a.default.shape({user:a.default.shape({id:a.default.number.isRequired,isAdmin:a.default.bool}).isRequired}).isRequired};var s=u;t.default=s},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={}}var t,r,a;return t=e,(r=[{key:"sub",value:function(e,t,r){this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push({key:r,callback:t})}},{key:"pub",value:function(e,t){this.events.hasOwnProperty(e)&&this.events[e].forEach(function(e){return e.callback(t)})}},{key:"unsub",value:function(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(function(e){return e.key!==t}))}}])&&n(t.prototype,r),a&&n(t,a),e}());t.default=a},,,function(e,t,r){e.exports={asphalt:"#D8D8D8",pebble:"#767676",postCreatorRoot:"post_editor__postCreatorRoot__11-qZ",postCreatorEditorWrapper:"post_editor__postCreatorEditorWrapper__3L7KS",postCreatorEditorWrapperFocused:"post_editor__postCreatorEditorWrapperFocused__1OHAH",postCreatorHeader:"post_editor__postCreatorHeader__3T69t",postCreatorHeaderAndEditor:"post_editor__postCreatorHeaderAndEditor__2_Kdz",postCreatorHeaderAndEditorFocused:"post_editor__postCreatorHeaderAndEditorFocused__2w_70",markdownBtn:"post_editor__markdownBtn__cPB9Z",postBody:"post_editor__postBody__2a35p",transparentBorder:"post_editor__transparentBorder__bTeW0"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flagContent=function(e,t){return a.default.apiRequest(n.default.post("".concat(a.default.getApiPath(),"/private/flags")).send({flag:{flaggable_id:e.id,flaggable_type:e.type,user_id:t}}),!1,!1)},t.markAsSpam=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return a.default.apiRequest(n.default.post("".concat(a.default.getApiPath(),"/private/spam_entities")).send({id:e.id,type:e.type,id_type:t}),!0,!1)};var n=o(r(35)),a=o(r(40));function o(e){return e&&e.__esModule?e:{default:e}}},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(188)),i=r(219),l=r(220),u=d(r(122)),s=d(r(2)),c=d(r(3));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){return n.default.createElement(l.TextPlaceholder,{backgroundColor:u.default.asphalt,height:"M"===e?14:16,width:"50%"})},p=function(e){var t=e.className,r=e.color,a=e.item,d=e.size;return n.default.createElement("div",{className:"".concat(t," ").concat(s.default.fullWidth," ").concat(c.default.breakWord)},a.title?function(e){var t=e.color,r=e.item,a=e.size;return n.default.createElement("span",{className:"".concat(c.default.link," ").concat(c.default.bold," ").concat("M"===a?c.default.bodyM:c.default.bodyL," ").concat(c.default[t])},r.title)}({color:r,item:a,size:d}):function(e){var t="M"===e?16:18;return n.default.createElement(n.Fragment,null,n.default.createElement(l.TextPlaceholder,{height:t,backgroundColor:u.default.asphalt,width:"100%"}),n.default.createElement(l.TextPlaceholder,{height:t,backgroundColor:u.default.asphalt,marginTop:"M"===e?6:8,width:"100%"}))}(d),n.default.createElement("div",{className:"".concat("M"===d?c.default.bodyS:c.default.bodyM," ").concat(c.default[r])},n.default.createElement("div",{className:s.default.marginTop10},a.start_date||a.end_date?(0,i.getDateRangeAsText)(a):f(d)),n.default.createElement("div",{className:s.default.marginTop10},a.event_type?n.default.createElement(o.default,{item:a}):f(d))))};p.propTypes={className:a.default.string,color:a.default.string,item:a.default.shape({city:a.default.string,country_iso2:a.default.string,custom_sponsors:a.default.arrayOf(a.default.string),event_type:a.default.string,id:a.default.number,image:a.default.shape({url:a.default.string}),imageRight:a.default.bool,link:a.default.string,start_date:a.default.string,state:a.default.string,title:a.default.string}).isRequired,size:a.default.oneOf(["M","L"])},p.defaultProps={className:"",color:"charcoal",size:"M"};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){null===n&&(n="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);return n};var n=null},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.keys(t);if(!r.length)return"";if(!u.hasOwnProperty(e))return"";var n=r.reduce(function(r,n){if(function(e,t){return u.hasOwnProperty(e)&&u[e].hasOwnProperty(t)&&!1==={location:!0}.hasOwnProperty(t)}(e,n)){var a=u[e][n](t[n]);return a.length?r.concat(a):r}return r},[]).join(" AND ");return Object.assign({filters:n},function(e){if(!e.hasOwnProperty("location"))return{};if(!1===(0,l.validateLocationObj)(e.location))return{};var t=(0,o.default)(e.location.geoloc,e.location.distance);return Array.isArray(t)?{insideBoundingBox:[t]}:{}}(t))},t.FILTER_WHITELIST=void 0;var n,a=r(49),o=(n=r(1946))&&n.__esModule?n:{default:n},i=r(16),l=r(493);var u={events:{attendance_type:function(e){return d(e,"attendance_type")},date:function(e){return function(e,t){if(!e)return"";var r="past"===e?"<":">";return"(".concat(t," ").concat(r," ").concat((0,i.timeNowUnixSeconds)(),")")}(e,"filter_timestamp")},event_type:function(e){return d(e,"event_type")},location:"location"},projects:{difficulty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"difficulty";return s(e,t,"OR")},language:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"programming_languages";return s(e,t,"OR")},parts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"parts.full_name";return s(e,t,"AND")},project_type:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content_type";return s(e,t,"OR")}},users:{available_for_hire:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"available_for_hire";return c(e,t)},location:"location",skills:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"skills";return s(e,t,"AND")}}};function s(e,t,r){return"(".concat(e.map(function(e){return"".concat(t,':"').concat((0,a.escape)(e),'"')}).join(" ".concat(r," ")),")")}function c(e,t){return e?"(".concat(t,":true)"):""}function d(e,t){return e?"(".concat(t,":").concat(e,")"):""}var f,p=(f=u,Object.keys(f).reduce(function(e,t){return Object.keys(f[t]).forEach(function(t){e[t]=t}),e},{}));t.FILTER_WHITELIST=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateLocationObj=function(e){var t=!0;return n.forEach(function(r){("geoloc"!==r||e.hasOwnProperty("geoloc")&&e.geoloc.hasOwnProperty("lat")&&e.geoloc.hasOwnProperty("lng"))&&e.hasOwnProperty(r)||(t=!1)}),t},t.LOCATION_KEYS=void 0;var n=["city","countryCode","distance","geoloc","state"];t.LOCATION_KEYS=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.keys(e);if(!r.length)return{};var a=Object.assign({},n,t);return r.reduce(function(t,r){return a[r]&&(t[r]=e[r]),t},{})};var n={hitsPerPage:"hitsPerPage",length:"length",offset:"offset",page:"page"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.keys(e);return n.length?n.reduce(function(n,a){var o=e[a];if(t[a]&&t[a](o)&&null!==o){var i=r[a];"function"==typeof i?n.push(i(o)):n.push(["".concat(i,":").concat(o)])}return n},[]):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ARROW_SIZE=t.default=void 0;var n=o(r(1)),a=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var i=Math.sqrt(2),l=10+i;t.ARROW_SIZE=l;var u=function(e){var t="top"===e.direction||"bottom"===e.direction,r="left"===e.direction||"top"===e.direction,n=e.borderWidth*i,o=n/2,l=10+n,u=20+2*n,s=r?l:0,c=r?o:l-o,d=u/2,f=u-o,p=t?["M",o,s,"L",d,c,"L",f,s]:["M",s,o+2,"L",c,d,"L",s,f-2];return a.default.createElement("svg",{style:Object.assign({position:"absolute"},e.style),className:e.classList,height:t?l:u,width:t?u:l,xmlns:"http://www.w3.org/svg/2000"},a.default.createElement("path",{d:p.join(" "),fill:e.color,stroke:e.borderColor,strokeWidth:e.borderWidth,strokeLinecap:"square"}))};u.propTypes={borderColor:n.default.string,borderWidth:n.default.number,classList:n.default.string,color:n.default.string.isRequired,direction:n.default.oneOf(["top","right","bottom","left"]).isRequired,style:n.default.object},u.defaultProps={borderWidth:1,borderColor:"transparent",classList:"",style:{}};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(9)),i=r(55),l=s(r(3)),u=s(r(1962));function s(e){return e&&e.__esModule?e:{default:e}}var c=[{name:"facebook",url:i.socialLinks.facebook},{name:"instagram",url:i.socialLinks.instagram},{name:"twitter",url:i.socialLinks.twitter},{name:"youtube-2",url:i.socialLinks.youtube},{name:"linkedin",url:i.socialLinks.linkedin}],d=function(e){var t=e.className,r=e.trackLinkClick;return n.default.createElement("div",{className:t},c.map(function(e,t){return n.default.createElement("a",{key:t,className:"".concat(u.default.icon," ").concat(l.default.charcoal),href:e.url,onClick:function(t){return r({delayRedirect:!1,type:"social",value:e.name})},rel:"noopener noreferrer",target:"_blank"},n.default.createElement(o.default,{className:l.default.iconClickable,name:e.name,size:"16"}))}))};d.propTypes={className:a.default.string,trackLinkClick:a.default.func},d.defaultProps={className:"",trackLinkClick:function(){}};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTitleStyles=t.getRootStyles=t.getImgContainerStyles=void 0;var n=l(r(2)),a=l(r(3)),o=l(r(5)),i=l(r(191));function l(e){return e&&e.__esModule?e:{default:e}}t.getImgContainerStyles=function(e){return e?"".concat(o.default.absolutePlaceholderParent," ").concat(o.default.aspectRatioPadding16_9," ").concat(n.default.marginBottom22):"".concat(n.default.fullWidth," ").concat(o.default.posRelative," ").concat(i.default.featuredImgWrapperSm)};t.getRootStyles=function(e){return"".concat(i.default.featuredCard," ").concat(n.default.flex," ").concat(a.default.overflowBreakWord," ").concat(e?i.default.featuredHero:i.default.featuredSm)};t.getTitleStyles=function(e){return"".concat(a.default.charcoal," ").concat(e?a.default.h3:a.default.h4)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doesStoryHaveContent=t.doesCENodesHaveContent=t.doesCENodeHaveContent=t.doesCEBlockHaveContent=t.extractItemContent=t.extractCoverImageFromStory=void 0;var n=r(11);t.extractCoverImageFromStory=function e(t){if((0,n.isBlank)(t))return{coverImage:null,story:t};var r=t[0];return"CE"!==r.type||a(r)?"Carousel"===r.type?{coverImage:r.images[0],story:t.slice(1)}:{coverImage:null,story:t}:e(t.slice(1))};t.extractItemContent=function e(t){return t.content?t.content:t.children.map(function(t){return e(t)}).join(" ")};var a=function(e){return i(e.json)};t.doesCEBlockHaveContent=a;var o=function(e){return!(0,n.isBlank)(e.content)||i(e.children)};t.doesCENodeHaveContent=o;var i=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;t<e.length;t++)if(o(e[t]))return!0;return!1};t.doesCENodesHaveContent=i;t.doesStoryHaveContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e)return!1;for(var t=0;t<e.length;t++){var r=e[t];if("CE"!==r.type||a(r))return!0}return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PORTAL_ID=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(224)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(897)),l=d(r(362)),u=d(r(2)),s=d(r(5)),c=d(r(899));function d(e){return e&&e.__esModule?e:{default:e}}var f="article_page_simple_ad_portal";t.PORTAL_ID=f;var p=function(e){var t=e.ad,r=e.initialized,a=e.onClick;return r&&null!==t?n.default.createElement(i.default,{ad:t,initialized:r,onClick:a}):(0,i.getPlaceholderView)()},m=function(){return n.default.createElement("div",{className:"".concat(c.default.divider," ").concat(s.default.borderTop)})},h=function(e){return n.default.createElement("div",{ref:e.forwardedRef},n.default.createElement("div",{className:u.default.hiddenMedDown},p(e)),n.default.createElement(l.default,{id:f},n.default.createElement("div",{className:"".concat(u.default.hiddenMedUp," ").concat(u.default.flexColumn," ").concat(u.default.flexCenterItems," ").concat(u.default.marginTop30)},m(),n.default.createElement("div",{className:"".concat(u.default.paddingTop30," ").concat(u.default.paddingBottom30)},p(e)),m())))};h.displayName="ArticlePageSimpleAd",h.propTypes={ad:a.default.shape({id:a.default.number.isRequired,cover_image:a.default.shape({url:a.default.string.isRequired}).isRequired,link:a.default.string.isRequired,text:a.default.string.isRequired}),forwardedRef:a.default.oneOfType([a.default.func,a.default.shape({current:a.default.any})]).isRequired,initialized:a.default.bool.isRequired,onClick:a.default.func.isRequired},h.defaultTypes={ad:null};var y=(0,o.default)(h);t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a,o=(n=r(429))&&n.__esModule?n:{default:n},i=r(75),l=r(8),u=r(14);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=(c(a={},i.CONTENT_PAGE,"get_ads_content_page"),c(a,i.HOME_PAGE,"get_ads_home_page"),c(a,i.NEWS_HOME_PAGE,"get_ads_news_home_page"),a),f=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pageType=t,this.relations=r,this._batcher=new o.default,this._isFetching=!1}var t,r,n;return t=e,(r=[{key:"_cachePromise",value:function(e){this._batcher.cachePromise(e)}},{key:"_fetchAds",value:function(){var e=this;return this._isFetching=!0,(0,u.graphQuery)({t:d[this.pageType]},this.relations).then(function(t){var r=t.ads;e._isFetching=!1,e._batcher.resolveBatch(r)}).catch(function(t){e._isFetching=!1,e._batcher.rejectBatch(t)})}},{key:"getAdForPage",value:function(e){var t=this;return new Promise(function(r,n){t.getAdsForPage().then(function(t){if(!t.hasOwnProperty(e))return n("Response does not have a key for arg: ".concat(e));r((0,l.getInObj)([e],t))}).catch(function(e){return n(e)})})}},{key:"getAdsForPage",value:function(){var e=this;return new Promise(function(t,r){if(e._cachePromise({resolve:t,reject:r}),!e._isFetching)return e._fetchAds()})}}])&&s(t.prototype,r),n&&s(t,n),e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(1)),a=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.basePath,r=e.history,n=e.transition;return a.default.createElement("div",{style:{padding:"10%",textAlign:"center"}},a.default.createElement("h1",null,"Sorry, this page does not exist"),r.length>1&&a.default.createElement("a",{href:"javascript:void(0);",onClick:function(e){e.preventDefault(),r.goBack()}},"Go back to the previous page"),r.length>1&&a.default.createElement("span",null," or "),a.default.createElement("a",{href:"javascript:void(0);",onClick:function(e){e.preventDefault(),n(r,"/")}},"Go to ".concat(t.slice(1).slice(0,1).toUpperCase()).concat(t.slice(2))))};i.propTypes={basePath:n.default.string.isRequired,history:n.default.object.isRequired,transition:n.default.func.isRequired};var l=i;t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REGEX=t.MD_SETTINGS=void 0;t.MD_SETTINGS={bold:{appendedChars:"**",prependedChars:"**"},bullet_list:{appendedChars:"",prependedChars:"- ",formatBlock:!0},code_fence:{appendedChars:"\n```",prependedChars:"```\n"},code_inline:{appendedChars:"`",prependedChars:"`"},italic:{appendedChars:"_",prependedChars:"_"},quote:{appendedChars:"",prependedChars:"> ",formatBlock:!0}};t.REGEX={linebreak:/\r?\n/,nonWhitespace:/\S/,leadingWhitespace:/^\s+/,trailingWhitespace:/\s+$/}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(1)),a=s(r(0)),o=s(r(162)),i=s(r(22)),l=s(r(754)),u=s(r(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t,r){i.default.recordEventWithDelayedRedirect({eventName:"Clicked link"},{href:t.url,location:r,type:"project_card",value:t.name},t.url,e)}var f=function(e){var t=e.cardBorder,r=e.classList,n=e.imageProps,i=e.lazy,s=e.location,f=e.maxWidth,p=e.project;return a.default.createElement("div",{className:"".concat(t?l.default.cardBorder:""," ").concat(r.wrapper||l.default.wrapper)},a.default.createElement("a",{className:l.default.imageContainer,href:p.url,onClick:function(e){return d(e,p,s)}},a.default.createElement("div",{className:l.default.itemImage},a.default.createElement(o.default,c({alt:p.name,className:l.default.lazyImage,lazy:i,ratio:"4:3",setStyle:!1,src:p.cover_image_url,width:f},n)))),a.default.createElement("a",{className:"".concat(u.default.link," ").concat(u.default.bold," ").concat(u.default.bodyS),href:p.url,onClick:function(e){return d(e,p,s)}},p.name))};f.propTypes={cardBorder:n.default.bool,classList:n.default.shape({wrapper:n.default.string}),imageProps:n.default.object,lazy:n.default.bool,location:n.default.string,maxWidth:n.default.number,project:n.default.shape({cover_image_url:n.default.string,hid:n.default.string,name:n.default.string,url:n.default.string}).isRequired,projectDefaultImageUrl:n.default.string},f.defaultProps={cardBorder:!1,classList:{},imageProps:{},lazy:!0,location:null,maxWidth:90,projectDefaultImageUrl:""};var p=f;t.default=p},,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AsyncSelect",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Select",{enumerable:!0,get:function(){return a.default}});var n=o(r(2142)),a=o(r(377));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(3)),i=l(r(144));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.children,r=e.links,a=e.onClick,l=e.title;return n.default.createElement("div",{className:i.default.container},n.default.createElement("div",{className:i.default.header},n.default.createElement("p",{className:i.default.title},l),n.default.createElement("a",{className:"".concat(o.default.bodyS," ").concat(o.default.bold," ").concat(o.default.linkPebble," ").concat(o.default.link),href:r.external,onClick:function(e){return a(e,r,{type:"view_all_link"})}},"View all")),t)};u.propTypes={links:a.default.shape({external:a.default.string,internal:a.default.string}).isRequired,onClick:a.default.func,title:a.default.string.isRequired},u.defaultProps={links:{external:"javascipt:void(0);",internal:"/"},onClick:function(){}};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=p(r(30)),i=p(r(478)),l=r(8),u=p(r(50)),s=p(r(3)),c=p(r(2)),d=p(r(5)),f=p(r(479));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.classList,r=e.i,a=e.item,p=e.onClick,m=e.sectionIndex,h="/videos/".concat(a.id);return n.default.createElement("div",{className:"".concat(u.default.wrapper," ").concat(t.wrapper)},n.default.createElement("div",{className:u.default.cardWithBorder},n.default.createElement("a",{className:"".concat(f.default.thumbnail),href:h,onClick:function(e){return p(e,a,r,m)}},n.default.createElement("div",{className:"".concat(d.default.absolutePlaceholderParent," ").concat(d.default.aspectRatioPadding16_9)},n.default.createElement(o.default,{alt:a.title,className:"".concat(f.default.radiusTop," ").concat(d.default.absolutePlaceholderChild," ").concat(d.default.overflowHidden),captureScroll:!0,fit:"crop",ratio:"16:9",src:(0,l.getInObj)(["image","url"],a),setStyle:!1,width:282}),n.default.createElement(i.default,{className:f.default.radiusTop}))),n.default.createElement("div",{className:u.default.body},n.default.createElement("a",{className:"".concat(s.default.bodyM," ").concat(s.default.bold," ").concat(s.default.link),href:h,onClick:function(e){return p(e,a,r,m)}},a.title),n.default.createElement("div",{className:u.default.spacer}),n.default.createElement("div",{className:"".concat(c.default.marginTop5," ").concat(s.default.bodyS)},a.category))))};m.propTypes={classList:a.default.shape({wrapper:a.default.string}),i:a.default.number,item:a.default.shape({category:a.default.string.isRequired,id:a.default.number.isRequired,image:a.default.shape({url:a.default.string.isRequired}),title:a.default.string.isRequired}).isRequired,onClick:a.default.func,sectionIndex:a.default.number},m.defaultProps={classList:{wrapper:""},i:null,onClick:function(){},sectionIndex:null};var h=m;t.default=h},function(e,t,r){e.exports={asphalt:"#D8D8D8",pebble:"#767676",med:"(max-width: 768px)",container:"horizontal_part_card__container__2hlEa",singleCardContainer:"horizontal_part_card__singleCardContainer__RadD4 horizontal_part_card__container__2hlEa",imageContainer:"horizontal_part_card__imageContainer__3A5iC",image:"horizontal_part_card__image__SzwwH",content:"horizontal_part_card__content__1oAhm",name:"horizontal_part_card__name__Zi7Jq",links:"horizontal_part_card__links__3FbUK",linkDivider:"horizontal_part_card__linkDivider__30DyD",description:"horizontal_part_card__description__3KIp7",buttons:"horizontal_part_card__buttons__2Id1N",dummyContainer:"horizontal_part_card__dummyContainer__1xev0",dummyBlock:"horizontal_part_card__dummyBlock__1RRfF animation__loader__3jVQp",dummyImage:"horizontal_part_card__dummyImage__b9u2H horizontal_part_card__dummyBlock__1RRfF animation__loader__3jVQp",dummyHeader:"horizontal_part_card__dummyHeader__3Rtja horizontal_part_card__dummyBlock__1RRfF animation__loader__3jVQp",dummyDescription:"horizontal_part_card__dummyDescription__3s5lJ horizontal_part_card__description__3KIp7 horizontal_part_card__dummyBlock__1RRfF animation__loader__3jVQp",dummyButtons:"horizontal_part_card__dummyButtons__1GRYU horizontal_part_card__dummyBlock__1RRfF animation__loader__3jVQp"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeRemaining=t.timeTilEndDateMs=void 0;var n,a=(n=r(6))&&n.__esModule?n:{default:n};t.timeTilEndDateMs=function(e){var t=Math.max((0,a.default)(e).diff((0,a.default)(Date.now())),0);return t<2147483647?t:0};t.timeRemaining=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,a.default)();if("string"!=typeof e)return null;var r=["seconds","minutes","hours","days"],n=(0,a.default)(e),o=r.reduce(function(e,a,o){if(e.unit)return e;var i=n.diff(t,a);return o===r.length-1?{unit:a,value:i}:i<100&&i>0?{unit:a,value:i}:e},{unit:null,value:0});return o.value<=0?"0 seconds":"".concat(o.value," ").concat(1===o.value?o.unit.slice(0,o.unit.length-1):o.unit)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PAGE_TITLE=t.DEFAULT_PAGE_DESCRIPTION=void 0;t.DEFAULT_PAGE_DESCRIPTION="Hackster is a community dedicated to learning hardware, from beginner to pro. Share your projects and learn from other developers. Come build awesome hardware!";t.DEFAULT_PAGE_TITLE="Hackster.io - The community dedicated to learning hardware."},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(967)),i=r(968),l=d(r(2)),u=d(r(99)),s=d(r(5)),c=d(r(359));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.className,r=e.imageAspectRatio,a=e.responsive;return n.default.createElement("div",{className:"".concat(a?c.default.cardResponsive:""," ").concat(l.default.flexColumn," ").concat(l.default.fullWidth," ").concat(t)},n.default.createElement("div",{className:"".concat(a?c.default.imageResponsive:""," ").concat(l.default.fullWidth," ").concat(s.default.absolutePlaceholderParent," ").concat((0,i.paddingClassForRatio)(r))},n.default.createElement("div",{className:"".concat(u.default.loader," ").concat(s.default.absolutePlaceholderChild," ").concat(s.default.borderRadius)})),n.default.createElement("div",{className:"".concat(a?c.default.textResponsive:""," ").concat(l.default.marginTop22)},n.default.createElement(o.default,null)))};f.propTypes={className:a.default.string,imageAspectRatio:a.default.string,responsive:a.default.bool},f.defaultProps={className:"",imageAspectRatio:"4:3",responsive:!1};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.projectCardFragment=void 0;t.projectCardFragment="fragment projectCard on ProjectType {\n  content_type\n  contest_winner\n  cover_image_url\n  difficulty\n  edit_url\n  guest_name\n  hid\n  id\n  name\n  one_liner\n  position(user_id: $author_id)\n  project_type\n  published_state\n  stats{\n    respects\n    views\n  }\n  team{\n    members{\n      avatar_url\n      id\n      name\n      stats{\n        live_projects\n      }\n      url\n    }\n    name\n    user_name\n  }\n  url\n}"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.labels=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(972)),i=r(94),l=c(r(10)),u=c(r(2)),s=c(r(280));function c(e){return e&&e.__esModule?e:{default:e}}var d={all:{title:"Projects"},drafts:{title:"Drafts"},public:{title:"Public projects"},guest:{title:"Guest projects"}};t.labels=d;var f=function(e){var t=e.basePath,r=e.cardBorder,a=e.category,c=(e.currentUser,e.displayCount),f=e.handleReorder,p=e.projects,m=e.toggleRespect,h=e.totalRecords,y=e.path||"projects/".concat(a),g=t?"".concat(t,"/").concat(y):y;return p.length>0&&n.default.createElement("section",{className:s.default.section,key:a},n.default.createElement("header",{className:s.default.sectionHeader},n.default.createElement("a",{className:s.default.headerTitle,href:g,onClick:function(e){return(0,i.goTo)(e,y)}},d[a].title),n.default.createElement("span",{className:s.default.headerCount},h.toString())),n.default.createElement("div",{className:s.default.projectList},n.default.createElement(o.default,{cardBorder:r,handleReorder:f,horizontal:!0,maxCols:3,orderable:"public"===a,records:p.slice(0,c),toggleRespect:m})),h>c&&n.default.createElement("button",{className:"".concat(l.default.sm," ").concat(l.default.tertiary," ").concat(l.default.pill," ").concat(u.default.flexAlignSelfEnd),onClick:function(e){return(0,i.goTo)(e,y)}},"View all"))};f.propTypes={basePath:a.default.string,cardBorder:a.default.bool,category:a.default.string.isRequired,currentUser:a.default.shape({id:a.default.number}),displayCount:a.default.number,handleReorder:a.default.func,path:a.default.string,projects:a.default.array,toggleRespect:a.default.func,totalRecords:a.default.number},f.defaultProps={basePath:null,cardBorder:!1,currentUser:{},displayCount:6,handleReorder:function(){return Promise.resolve()},path:null,projects:[],toggleRespect:function(){return Promise.resolve()},totalRecords:0};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(1)),a=d(r(0)),o=r(58),i=d(r(2283)),l=d(r(2286)),u=d(r(327)),s=d(r(2287)),c=d(r(5));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return a.default.createElement(o.TransitionGroup,null,a.default.createElement(o.CSSTransition,{key:e.pageKey,appear:!0,classNames:l.default,timeout:{enter:350,exit:20}},a.default.createElement("ul",{className:"".concat(c.default.ulReset," ").concat(c.default.posRelative)},(r=(t=e).currentUser,n=t.markRead,t.notifications.map(function(e){return a.default.createElement(i.default,{key:e.receipt_id,currentUser:r,markRead:n,notification:e})})),e.loading&&e.notifications.length>0&&a.default.createElement("div",{className:u.default.overlay}))));var t,r,n}var p=function(e){return a.default.createElement("div",{className:e.className},e.individualTransitions?(r=(t=e).currentUser,n=t.markRead,l=t.notifications,a.default.createElement(o.TransitionGroup,{component:"ul",className:c.default.ulReset},l.map(function(e){return a.default.createElement(o.CSSTransition,{key:e.receipt_id,classNames:s.default,timeout:350},a.default.createElement(i.default,{currentUser:r,markRead:n,notification:e}))}))):f(e));var t,r,n,l};p.propTypes={className:n.default.string,currentUser:n.default.shape({id:n.default.number}).isRequired,individualTransitions:n.default.bool,loading:n.default.bool,markRead:n.default.func,notifications:n.default.array.isRequired,pageKey:n.default.string},p.defaultProps={className:"",individualTransitions:!1,loading:!1,markRead:function(){return Promise.resolve()},pageKey:""};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(7)),a=l(r(239)),o=r(524),i=r(14);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initStore=this.initStore.bind(this),this.fetchPage=this.fetchPage.bind(this),this.markAllRead=this.markAllRead.bind(this),this.markRead=this.markRead.bind(this),this.__refresh__=this.__refresh__.bind(this),this.__setProperty__=this.__setProperty__.bind(this),this.channel=a.default.channel("notifications"),this._initializedAt=null,this._isInitialized=!1,this.store={notifications:{metadata:{},records:{}}}}var t,r,l;return t=e,(r=[{key:"initStore",value:function(){this._isInitialized||(this._isInitialized=!0,this._initializedAt=(new Date).toISOString())}},{key:"fetchPage",value:function(e){var t=this,r=this.getPageKey(e);return Array.isArray(this.store.notifications.records[r])?Promise.resolve():(0,i.graphQueryWithUser)((0,o.getNotifications)(),{page:e,per_page:10,created_before:this._initializedAt}).then(function(e){t.store=Object.assign({},t.store,{notifications:{metadata:Object.assign({},e.notifications.metadata),records:Object.assign({},t.store.notifications.records,u({},r,e.notifications.records))}}),t.initStore(),t._storeChanged()}).catch(function(e){return Promise.reject(e)})}},{key:"markAllRead",value:function(){var e=this,t=this.store,r=t.notifications.records,a=Object.keys(r).reduce(function(e,t){return Object.assign({},e,u({},t,r[t].map(function(e){return Object.assign({},e,{read:!0})})))},{});return this.store=Object.assign({},t,{notifications:Object.assign({},t.notifications,{records:a})}),this._storeChanged("notifications.markRead.all.optimistic"),(0,i.graphMutate)((0,o.notificationsReadMutation)(),{receipt_ids:[],all:!0,read:!0}).then(function(t){e._storeChanged("notifications.markRead.all.success")}).catch(function(r){e.store=t,e._storeChanged("notifications.markRead.all.failure"),(0,n.default)(r)})}},{key:"markRead",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.store,l=this.store.notifications.records,s=Object.keys(l).reduce(function(t,n){return Object.assign({},t,u({},n,l[n].map(function(t){return t.receipt_id===e?Object.assign({},t,{read:r}):t})))},{});return this.store=Object.assign({},a,{notifications:Object.assign({},a.notifications,{records:s})}),this._storeChanged("notifications.markRead.single.optimistic",{receipt_id:e}),(0,i.graphMutate)((0,o.notificationsReadMutation)(),{receipt_ids:[e],read:!0}).then(function(r){t._storeChanged("notifications.markRead.single.success",{receipt_id:e})}).catch(function(r){t.store=a,t._storeChanged("notifications.markRead.single.failure",{receipt_id:e}),(0,n.default)(r)})}},{key:"get",value:function(e){return this.has(e)?this.store[e]:null}},{key:"getChannel",value:function(){return this.channel}},{key:"getPageKey",value:function(e){return"page_".concat(e)}},{key:"getStore",value:function(){return this.store}},{key:"has",value:function(e){return this.store.hasOwnProperty(e)}},{key:"initializedAt",value:function(){return this._initializedAt}},{key:"isInitialized",value:function(){return this._isInitialized}},{key:"_storeChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"notifications.changed",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.channel.publish(e,t)}},{key:"__refresh__",value:function(){this.channel=a.default.channel("notifications"),this._isInitialized=!1,this._initializedAt=null,this.store={notifications:{metadata:{},records:{}}}}},{key:"__setProperty__",value:function(e,t){this[e]=t}}])&&s(t.prototype,r),l&&s(t,l),e}());t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNotifications=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"query getUserNotifications($per_page: Int, $page: Int, $created_before: String, $read: Boolean) {\n      notifications: notifications(per_page: $per_page, page: $page, created_before: $created_before, read: $read) {\n        ...paginatedInfo\n      }\n    }\n    ".concat((0,n.createPaginationFragment)("NotificationType","notificationFragment",e?"":" total_unread"),"\n    ").concat(a)},t.notificationsReadMutation=function(){return"mutation UpdateNotificationsReadMutation($all: Boolean, $receipt_ids: [Int!], $read: Boolean!) {\n      updateNotificationsRead(all: $all, receipt_ids: $receipt_ids, read: $read) { marked_read }\n    }"},t.resetNewNotificationsMutation=function(){return"mutation ResetNewNotificationsMutation { resetNewNotifications { total_new } }"};var n=r(197),a="fragment notificationFragment on NotificationType {\n  notifiable_type\n  created_at\n  deleted\n  event\n  notification_id\n  receipt_id\n  read\n  message_fields\n}"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(2337)),i=f(r(180)),l=f(r(2338)),u=f(r(2339)),s=f(r(2340)),c=f(r(3)),d=f(r(78));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=y(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?g(n):a).state={headers:r._initHeaders()},r.handleSelectableHeader=r.handleSelectableHeader.bind(g(r)),r.onCheckboxChange=r.onCheckboxChange.bind(g(r)),r.setHeaderActive=r.setHeaderActive.bind(g(r)),r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.Component),r=t,(a=[{key:"_initHeaders",value:function(){return this.props.headers.map(function(e){return Object.assign({},e,{status:{isActive:e.default||!1,state:0}})})}},{key:"handleSelectableHeader",value:function(e,t){var r=e?m(Array(this.props.tableItems.length)).map(function(e,t){return t}):[];this.props.reportSelected(r)}},{key:"onCheckboxChange",value:function(e,t,r){var n=e?this.props.selectedIndexes.concat(t):this.props.selectedIndexes.filter(function(e){return e!==t});this.props.reportSelected(n,e,r)}},{key:"setHeaderActive",value:function(e,t){var r=e.status.isActive?{isActive:!0,state:1===e.status.state?0:1}:{isActive:!0,state:0},n=this.state.headers.map(function(e,n){return Object.assign({},e,{status:n===t?r:{isActive:!1,state:0}})});this.props.onSort({sort:e.sort,status:r.state}),this.setState({headers:n})}},{key:"_createBodyView",value:function(){var e=this;return this.props.tableItems.map(function(t,r){var a=e.props.selectedIndexes.includes(r);return n.default.createElement("tr",{key:t.record.id,className:d.default.row},t.columns.map(function(n,o){return 0===o?e._createSelectableCell(n,o,r,t.record,a):e._createCell(n,o,r,t.record.id,a)}))})}},{key:"_createCell",value:function(e,t,r,a,i){return n.default.createElement(o.default,{key:"".concat(a,"_").concat(t),className:d.default.cell,body:e,disabled:this.props.disabledState&&!i})}},{key:"_createOrderableHeader",value:function(e,t){return n.default.createElement(s.default,{key:t,config:this.props.config[t],header:e,position:t,setHeaderActive:this.setHeaderActive})}},{key:"_createNoContentView",value:function(){return n.default.createElement("tr",null,n.default.createElement("td",{className:"".concat(d.default.noContent," ").concat(c.default.bodyM),colSpan:this.props.headers.length},"No content"))}},{key:"_createSelectableCell",value:function(e,t,r,a,o){var i=this;return n.default.createElement(l.default,{key:"".concat(a.id,"_").concat(t),className:d.default.selectableCell,body:e,disabled:this.props.disabledState&&!o,isSelected:o,onCheckboxChange:function(e){return i.onCheckboxChange(e,r,a)}})}},{key:"_createSelectableHeader",value:function(e,t){var r=this;return n.default.createElement(u.default,{key:t,config:this.props.config[t],header:e,isSelected:this.props.tableItems.length>0&&this.props.selectedIndexes.length===this.props.tableItems.length,onCheck:function(t){return r.handleSelectableHeader(t,e)},position:t,setHeaderActive:this.setHeaderActive})}},{key:"_getBodyView",value:function(){return this.props.tableItems.length?this._createBodyView():this._createNoContentView()}},{key:"_getHeaderView",value:function(){var e=this;return this.state.headers.map(function(t,r){return 0===r&&t.selectable?e._createSelectableHeader(t,r):e._createOrderableHeader(t,r)})}},{key:"_getPaginatorView",value:function(){return this.props.tableItems.length?this.props.pagination.hasOwnProperty("total_pages")?this._getDefaultPaginator():this._getSimplifiedPaginator():null}},{key:"_getDefaultPaginator",value:function(){var e=this;return n.default.createElement(i.default,{currentPage:this.props.pagination.current_page,onClick:function(t){return e.props.onPagination(t)},totalPages:this.props.pagination.total_pages})}},{key:"_getSimplifiedPaginator",value:function(){var e=this;return 1===this.props.pagination.current_page&&null===this.props.pagination.next_page?null:n.default.createElement(i.default,{currentPage:this.props.pagination.current_page,nextPage:this.props.pagination.next_page,onClick:function(t){return e.props.onPagination(t)},prevPage:this.props.pagination.prev_page})}},{key:"render",value:function(){return n.default.createElement("div",null,n.default.createElement("table",{className:d.default.table},n.default.createElement("thead",{className:""},n.default.createElement("tr",null,this._getHeaderView())),n.default.createElement("tbody",{className:d.default.body},this._getBodyView(),this.props.isBusy&&n.default.createElement("tr",null,m(new Array(this.props.headers.length)).map(function(e,t){return 0===t?n.default.createElement("td",{key:t,className:d.default.loadingOverlay}):n.default.createElement("td",{key:t})})))),this._getPaginatorView())}}])&&h(r.prototype,a),f&&h(r,f),t}();v.propTypes={config:a.default.arrayOf(a.default.shape({width:a.default.number})),disabledState:a.default.bool,headers:a.default.arrayOf(a.default.shape({title:a.default.string.isRequired,orderable:a.default.bool,sort:a.default.string})).isRequired,isBusy:a.default.bool.isRequired,onPagination:a.default.func.isRequired,onSort:a.default.func.isRequired,pagination:a.default.shape({current_page:a.default.integer,per_page:a.default.integer,total_pages:a.default.integer,total_records:a.default.integer,next_page:a.default.integer,prev_page:a.default.integer}),reportSelected:a.default.func,tableItems:a.default.arrayOf(a.default.shape({columns:a.default.array.isRequired,record:a.default.object})).isRequired},v.defaultProps={config:[],disabledState:!1,reportSelected:function(){}};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createVideoMutation=function(){return"\n    mutation createVideoMutation($category: VideoCategoryEnum!, $description: String!, $duration: Int!, $image_id: Int!, $part_ids: [Int!], $platform_ids: [Int!], $tag_ids: [Int!], $title: String!, $topic_ids: [Int!], $url: String!) {\n      record: createVideo(category: $category, description: $description, duration: $duration, image_id: $image_id, part_ids: $part_ids, platform_ids: $platform_ids, tag_ids: $tag_ids, title: $title, topic_ids: $topic_ids, url: $url) {\n        id\n      }\n    }\n  "},t.deleteVideosMutation=function(){return"\n    mutation deleteVideoMutation($ids: [Int!]!) {\n      record: deleteVideos(ids: $ids) {\n        ids\n      }\n    }\n  "},t.updateVideoMutation=function(){return"\n    mutation updateVideoMutation($category: VideoCategoryEnum!, $description: String!, $duration: Int!, $id: Int!, $image_id: Int!, $part_ids: [Int!], $platform_ids: [Int!], $tag_ids: [Int!], $title: String!, $topic_ids: [Int!], $url: String!) {\n      record: updateVideo(category: $category, description: $description, duration: $duration, id: $id, image_id: $image_id, part_ids: $part_ids, platform_ids: $platform_ids, tag_ids: $tag_ids, title: $title, topic_ids: $topic_ids, url: $url) {\n        id\n      }\n    }\n  "},t.getVideosByIdQuery=function(){return"query getVideosById($ids: [Int!]!) {\n      records: videos_by_id(ids: $ids) {\n        category created_at description duration id image { id name url} platforms {id label name value} products { id label name value } tags { id label name value } title topics { id label name value } url\n      }\n    }\n    "}},function(e,t,r){e.exports={asphalt:"#D8D8D8",fog:"#F7F7F7",pebble:"#767676",tableActions:"edit_videos__tableActions__f42q7",selectedPlaceholder:"edit_videos__selectedPlaceholder__1iNpz",selectedList:"edit_videos__selectedList__18ZY9"}},function(e,t,r){e.exports={asphalt:"#D8D8D8",hackster:"#2E9FE6",badge:"notification_dropdown__badge__2I2qP",dropdown:"notification_dropdown__dropdown__JfE1-",footer:"notification_dropdown__footer__L66vH",header:"notification_dropdown__header__3nWqd",icon:"notification_dropdown__icon__1Xhpr",list:"notification_dropdown__list__32w_o",loadingIcon:"notification_dropdown__loadingIcon__20O3f",onboarding:"notification_dropdown__onboarding__1HAC8"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_INDEX=void 0;t.DEFAULT_INDEX="projects"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e){var t=(0,i.mapifyStringQuery)(e);return Object.keys(t).reduce(function(e,r){if(s.hasOwnProperty(r))e[r]=t[r].split(",");else if(u.LOCATION_KEYS.includes(r)){var n=e.location||{};n[r]=function(e){try{return JSON.parse(e)}catch(e){return null}}(t[r])?JSON.parse(t[r]):t[r],e.location=n}else e[r]=t[r];return e},{})}(e);t.hasOwnProperty("i")||t.hasOwnProperty("index")||(t.index=o.DEFAULT_INDEX);return(0,l.filterSearchQueryInMap)((0,a.default)(t))};var n,a=(n=r(1003))&&n.__esModule?n:{default:n},o=r(529),i=r(44),l=r(395),u=r(493);var s={difficulty:!0,language:!0,parts:!0,project_type:!0,skills:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeSearchQuery=function(e){(0,o.setItem)(u,e)},t.trackSearchEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filters,r=e.index,n=e.query,i=e.sort,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=s.page,d=s.hitsPerPage,f=s.nbPages,p=s.nbHits,m=(0,o.getItem)(u);(0,o.deleteItem)(u);var h=function(e,t){return!!e&&t===e}(m,n)?"simple":"advanced",y={filters:t,pagination:{current_page:c,per_page:d,total_pages:f,total_records:p},query:n,result_type:r,search_type:h,sort:i};return l.recordEvent({eventName:"Searched"},y).catch(function(e){return(0,a.default)(e)})};var n=i(r(440)),a=i(r(7)),o=r(237);function i(e){return e&&e.__esModule?e:{default:e}}var l=new n.default,u="hck.kn.sq"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n[e]||!1};var n={events:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Body",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"CardImage",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"EventDetails",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"EventDate",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Stats",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"SubTitle",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Tags",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Title",{enumerable:!0,get:function(){return c.default}});var n=d(r(2453)),a=d(r(2455)),o=d(r(1006)),i=d(r(1007)),l=d(r(2458)),u=d(r(2460)),s=d(r(2461)),c=d(r(2463));function d(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContentPath=function(e,t){return e?(0,n.whitelabelUrlHelper)().appendToRootPath(t):t};var n=r(181)},function(e,t,r){e.exports={standardBorder:"1px solid #D8D8D8",standardBoxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)",menuRoot:"nav_dropdown__menuRoot__3jNvt",menuContainer:"nav_dropdown__menuContainer__3gS3E",column:"nav_dropdown__column__3lAwY",columnSection:"nav_dropdown__columnSection__19Yu_",footerItem:"nav_dropdown__footerItem__1pdK_"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports={ringSpinner:"hckui__animation__ringSpinner",rotate:"hckui__animation__rotate",dash:"hckui__animation__dash",color:"hckui__animation__color"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areCookiesSupported=c,t.deleteCookie=function(e){return c()?l(e):null},t.getCookie=function(e){return c()?u(e):null},t.setCookie=function(e,t){return c()?s(e,t):null};var n=r(238),a=r(12),o=null;function i(e){document.cookie=e}function l(e){var t=u(e);return i("".concat(e,"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/; domain=").concat(a.windowLocationHostname.get().toString(),";")),t}function u(e){var t=document.cookie.match(new RegExp("".concat(e,"=([^;]+)")));return t&&t[1]?(0,n.tryJSONParse)(t[1],t[1]):null}function s(e,t){i("".concat(e,"=").concat(JSON.stringify(t),"; path=/; domain=").concat(a.windowLocationHostname.get().toString(),";"))}function c(){if(null===o)if(a.isWindowDefined&&window.navigator.cookieEnabled){s("testcookie","1");var e=u("testcookie");e&&l("testcookie"),o=!!e}else o=!1;return o}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=[].slice.call(document.getElementsByTagName("meta")).find(function(e){return"csrf-token"===e.name});return e&&e.content?e.content:null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmountComponents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;U(e).forEach(function(e){var t=e.node;a.default.unmountComponentAtNode(t)})},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;U(e).forEach(function(e){var t=e.node,r=e.data,o=n.default.createElement(F[r.name],r.props);a.default.render(o,t)})};var n=L(r(0)),a=L(r(54)),o=r(238),i=L(r(706)),l=L(r(709)),u=L(r(1522)),s=L(r(437)),c=L(r(750)),d=L(r(1588)),f=L(r(1608)),p=L(r(1609)),m=L(r(1768)),h=L(r(1789)),y=L(r(1801)),g=L(r(1803)),_=L(r(1925)),v=L(r(1931)),b=L(r(1934)),O=L(r(1947)),w=L(r(879)),E=L(r(1950)),P=L(r(1951)),k=L(r(1954)),S=L(r(1955)),C=L(r(882)),j=L(r(1956)),R=L(r(1964)),T=L(r(2012)),N=L(r(2023)),M=L(r(2025)),A=L(r(2026)),I=L(r(254)),x=L(r(2028)),D=L(r(2036)),q=L(r(2132));function L(e){return e&&e.__esModule?e:{default:e}}var B="hacksternova-key",F={AddressBook:i.default,AddressForm:l.default,AuthDialog:u.default,AuthPanel:s.default,BookmarkButton:c.default,BookmarkList:d.default,ChallengeIdeaAddressForm:f.default,ChallengeFormEditorGroup:p.default,ChallengePrizeEditor:m.default,CollectionCategorySelect:h.default,ContestCsvExporter:y.default,ContestDiscussion:g.default,CourseWizard:_.default,DialogAction:v.default,EventFormPage:b.default,GlobalDialog:E.default,GlobalMessenger:P.default,GlobalPopover:k.default,FileUploader:O.default,FlagButton:w.default,ImageUploader:S.default,MarkSpamButton:C.default,NewFeatureTooltip:j.default,NewsAdminPage:R.default,ProjectComments:T.default,ProjectCountBanner:N.default,ProjectEditorImageUploader:M.default,ReputationUpdateButton:A.default,RespectButton:I.default,SimilarProjects:x.default,StoryEditor:D.default,StoryEditorHelpBox:q.default},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.querySelectorAll("[data-".concat(B,"]"));return[].reduce.call(t,function(e,t){var r=t.getAttribute("data-".concat(B));if(!F.hasOwnProperty(r))return console.warn("renderComponents found an element that has no matching Component. You likely forgot to import it or mispelled the Component name.",r),e;var n=(0,o.tryJSONParse)(t.getAttribute("data-".concat("hacksternova-props")),{});return e.concat({node:t,data:{name:r,props:n}})},[])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=p(r(35)),i=p(r(40)),l=p(r(1447)),u=p(r(131)),s=p(r(709)),c=p(r(42)),d=p(r(1521)),f=p(r(708));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=y(t).call(this,e))||"object"!==m(a)&&"function"!=typeof a?g(n):a).addAddressToBook=r.addAddressToBook.bind(g(r)),r.editAddress=r.editAddress.bind(g(r)),r.makeDefault=r.makeDefault.bind(g(r)),r.shipToAddress=r.shipToAddress.bind(g(r)),r.removeAddress=r.removeAddress.bind(g(r)),r.updateAddressInBook=r.updateAddressInBook.bind(g(r));var o=e.addresses.sort(function(e,t){return e.default&&!t.default?-1:!e.default&&t.default?1:0});return r.state={addresses:o,addressToEdit:{},messenger:{type:"",msg:""},openDialog:!1,redirecting:!1,showMessage:!1},r}var r,n,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,a.Component),r=t,(n=[{key:"_deleteAddress",value:function(e){return i.default.apiRequest(o.default.del("".concat(i.default.getApiPath(),"/private/addresses/").concat(e)),!0)}},{key:"_patchAddress",value:function(e){return i.default.apiRequest(o.default.patch("".concat(i.default.getApiPath(),"/private/addresses/").concat(e)).send({default:!0}),!0).then(function(e){return Promise.resolve(e.address)}).catch(function(e){return Promise.reject(e)})}},{key:"_patchShippingAddress",value:function(e){var t=this.props.shipTo,r=t.path,n=t.key;return i.default.apiRequest(o.default.patch("".concat(i.default.getApiPath()).concat(r)).send(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n,{address_id:e})),!0,!1)}},{key:"addAddressToBook",value:function(e){var t=this.state.addresses.concat([e]);this.props.updateAddresses?this.props.updateAddresses(t,e):this.setState({addressToEdit:{},addresses:t,openDialog:!1})}},{key:"updateAddressInBook",value:function(e){var t=this.state.addresses.map(function(t){return t.id===e.id?e:t});this.props.updateAddresses?this.props.updateAddresses(t,e):this.setState({addressToEdit:{},addresses:t,openDialog:!1})}},{key:"editAddress",value:function(e){this.setState({addressToEdit:e,openDialog:!0})}},{key:"makeDefault",value:function(e){var t=this;return this._patchAddress(e).then(function(e){var r=t.state.addresses.map(function(t){return t.default&&t.id!==e.id?t.default=null:t.id===e.id&&e.default&&(t.default=!0),t});t.props.updateAddresses&&t.props.updateAddresses(r),t.setState({addresses:r})}).catch(function(e){return console.error("Default Patch Error",e)})}},{key:"shipToAddress",value:function(e){var t=this.props.shipTo.redirect;return t&&t.length&&this.setState({redirecting:!0}),this._patchShippingAddress(e).then(function(e){window&&(window.location=t)}).catch(function(e){return console.error("Shipping Address Patch Error: ",e)})}},{key:"removeAddress",value:function(e){var t=this;if(window&&window.confirm("Are you sure?"))return this._deleteAddress(e).then(function(r){var n=t.state.addresses.filter(function(t){return t.id!==e});t.props.updateAddresses&&t.props.updateAddresses(n),t.setState({addresses:n})}).catch(function(e){return console.error("Address Delete Error: ",e)})}},{key:"render",value:function(){var e=this,t=this.props,r=t.addressId,n=t.selectable,o=t.selectAddress,i=t.shipTo,p=t.returnTo,m=t.urlParams;return a.default.createElement("div",null,a.default.createElement("div",{className:"row ".concat(f.default.table)},this.state.addresses.length?this.state.addresses.map(function(t,u){return a.default.createElement(l.default,{key:u,address:t,default:e.makeDefault,edit:e.editAddress,selectable:n,selectAddress:o,selected:r&&r===t.id,ship:e.shipToAddress,shipTo:i,redirecting:e.state.redirecting,remove:e.removeAddress})}):null,a.default.createElement(c.default,{dismiss:function(){return e.setState({openDialog:!1,addressToEdit:{}})},open:this.state.openDialog,nestedDialogLevel:0},a.default.createElement(s.default,{addAddressToBook:this.addAddressToBook,defaultAddress:this.state.addressToEdit,dismissForm:function(){return e.setState({openDialog:!1,addressToEdit:{}})},error:function(t){return e.setState({openDialog:!1,addressToEdit:{},showMessage:!0,messenger:{type:"error",msg:t}})},hiddenFields:m,updateAddressInBook:this.updateAddressInBook})),this.state.showMessage?a.default.createElement(d.default,{dismiss:function(){return e.setState({showMessage:!1,messenger:{}})},state:this.state.messenger}):null),a.default.createElement("div",null,a.default.createElement(u.default,{onClick:function(t){return e.setState({openDialog:!0})}},"Add a new address"),Object.keys(p).length?a.default.createElement(u.default,{colorStyle:"cancel",href:p.path},p.text):null))}}])&&h(r.prototype,n),p&&h(r,p),t}();v.propTypes={addressId:n.default.number,addresses:n.default.array,returnTo:n.default.shape({path:n.default.string,text:n.default.string}),selectAddress:n.default.func,selectable:n.default.bool,shipTo:n.default.shape({key:n.default.string,path:n.default.string,redirect:n.default.string}),updateAddresses:n.default.oneOfType([n.default.func,n.default.bool]),urlParams:n.default.object},v.defaultProps={addressId:null,addresses:[],returnTo:{},selectable:!1,selectAddress:function(){},shipTo:{},updateAddresses:!1,urlParams:{}};var b=v;t.default=b},,function(e,t,r){e.exports={fog:"#F7F7F7",pebble:"#767676",table:"styles__table__1cQt0",addressContainer:"styles__addressContainer__2Mpe5",address:"styles__address__1djO1"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=E(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=r(41),i=r(240),l=E(r(35)),u=E(r(40)),s=E(r(96)),c=E(r(710)),d=E(r(1455)),f=E(r(1456)),p=E(r(1457)),m=E(r(1458)),h=r(1459),y=r(105),g=r(304),_=E(r(1460)),v=E(r(42)),b=E(r(242)),O=E(r(10)),w=E(r(3));function E(e){return e&&e.__esModule?e:{default:e}}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R="auth-id=".concat("15000391262539876"),T="https://api.smartystreets.com/street-address?"+R,N="https://international-street.api.smartystreets.com/verify?"+R,M={Australia:g.Australia,Canada:g.Canada,China:g.China,Mexico:g.Mexico,"United States":g.States},A=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=S(t).call(this,e))||"object"!==P(a)&&"function"!=typeof a?C(n):a).fetchAddresses=r.fetchAddresses.bind(C(r)),r.handleSelection=r.handleSelection.bind(C(r)),r.handleSubmit=r.handleSubmit.bind(C(r)),r.updateField=r.updateField.bind(C(r)),r._fields=[];var i=Object.keys(e.defaultAddress).length,l=i?(0,y.getCountry)(e.defaultAddress):{countryCallingCodes:[],name:""};return r.state={addressToVerify:{primary:{},secondary:{},verified:null},country:l.name,countryCodes:l.countryCallingCodes,fields:i?(0,o.fromJS)((0,d.default)(e.defaultAddress,M)):e.fields.length?(0,o.fromJS)((0,f.default)(e.fields)):(0,o.fromJS)((0,f.default)((0,c.default)())),openDialog:!1,submitting:!1},r}var r,n,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,a.Component),r=t,(n=[{key:"componentWillUnmount",value:function(){this._fields=[]}},{key:"componentDidUpdate",value:function(e,t){this.state.country!==t.country&&this._handleCountrySpecificInputs(t.country,this.state.country)}},{key:"_getCurrentCountry",value:function(){var e=this.state.fields.find(function(e){return"country"===e.get("name")});return(0,y.getCountry)(e.get("value"))}},{key:"_handleCountrySpecificInputs",value:function(e,t){var r={Brazil:{extra_field:!0,isRequired:!0,name:"cpf",uuid:(0,s.default)(),value:""}};(r[e]||r[t])&&this.setState({fields:r[e]&&!r[t]?this.state.fields.filter(function(t){return t.get("name")!==r[e].name}):r[e]&&r[t]?this.state.fields.filter(function(t){return t.get("name")!==r[e].name}).reduce(function(e,n){return"zip"===n.get("name")?e.concat([n,(0,o.fromJS)(r[t])]):e.push(n)},(0,o.List)()):this.state.fields.reduce(function(e,n){return"zip"===n.get("name")?e.concat([n,(0,o.fromJS)(r[t])]):e.push(n)},(0,o.List)())})}},{key:"updateField",value:function(e,t,r,n){if("errors"!==t&&"country"===n){var a=i.lookup.countries({name:r})[0];this.setState({country:r,countryCodes:a&&a.countryCallingCodes&&a.countryCallingCodes.length?a.countryCallingCodes:[],fields:this._updateStateField(r).map(function(n){return"phone"===n.get("name")&&a&&a.countryCallingCodes&&a.countryCallingCodes.length?n.set("countryCode",a.countryCallingCodes[0]):n.get("uuid")===e?n.set(t,r):n})})}else this.setState({fields:this.state.fields.map(function(n){return n.get("uuid")===e?n.set(t,r):n})})}},{key:"_updateStateField",value:function(e){var t=this.state.fields,r=t.find(function(e){return"country"===e.get("name")});if(e===r.get("value"))return t;var n=t.find(function(e){return"state"===e.get("name")});return n.has("country")&&n.get("country")===e?t:M[e]?t.map(function(t){return"state"===t.get("name")?t.merge({type:"select",options:(0,o.fromJS)(M[e]),value:"",country:e,isRequired:!0}):t}):t.map(function(t){return"state"===t.get("name")?(0,o.Map)({name:"state",value:"",country:e,isRequired:!1,uuid:(0,s.default)()}):t})}},{key:"fetchAddresses",value:function(e,t,r){var n=this,a=this.state.country.length&&"United States"!==this.state.country?[(0,y.getCountryISO2)(this.state.country)].filter(function(e){return e.length}):[];l.default.post("https://places-dsn.algolia.net/1/places/query").send({query:e,hitsPerPage:10,language:"en",countries:a.map(function(e){return e.toLowerCase()})}).end(function(i,u){i?l.default.post("https://places-2.algolianet.com/1/places/query").set("X-Algolia-Application-Id","plZ09KG466NO").set("X-Algolia-API-Key","ef2fc9c578c4dc2099196acb774f01ae").send({query:e,hitsPerPage:10,language:"en",countries:a.map(function(e){return e.toLowerCase()})}).end(function(e,a){e?console.error("Autocomplete Error: ",e):n.updateField(t,"options",(0,o.fromJS)(n._parseAutocomplete(a.body.hits)||(0,o.List)()),r)}):n.updateField(t,"options",(0,o.fromJS)(n._parseAutocomplete(u.body.hits)||(0,o.List)()),r)})}},{key:"_parseAutocomplete",value:function(e){return e.filter(function(e){return e.is_highway&&e.locale_names&&e.city&&e.country_code}).map(function(e,t){return{data:e,children:[a.default.createElement("strong",null,"".concat(e.locale_names[0]," ")),a.default.createElement("small",null,"".concat(e.city[0],", ")),a.default.createElement("small",null,"".concat(e.administrative?e.administrative[0]:"",", ")),a.default.createElement("small",null,e.country_code.toUpperCase())],text:""}})}},{key:"handleSelection",value:function(e){var t=this,r=(0,m.default)(e.data),n=r.address_line1,a=r.city,o=r.country,i=r.state,l=r.zip;return this._fetchZipCode({address_line1:n,city:a,country:o,state:i}).then(function(e){var r=e.length&&e[0].components?e[0].components.zipcode:l.length?l:"",u={address_line1:n,city:a,state:i,zip:r,country:o.name},s=Object.keys(u);t.setState({fields:t._updateStateField(o.name).map(function(e){var t=e.get("name");return"phone"===t&&o.countryCallingCodes.length?e.set("countryCode",o.countryCallingCodes[0]):-1!==s.indexOf(t)?e.set("value",u[t]):e}),country:o.name||t.state.country,countryCodes:o.countryCallingCodes||t.state.countryCodes})}).catch(function(e){return console.error(e)})}},{key:"_fetchZipCode",value:function(e){var t=e.address_line1,r=e.city,n=e.country,a=e.state;return n.alpha3&&"USA"===n.alpha3?new Promise(function(e,n){(0,l.default)("".concat(T,"&street=").concat(t,"&city=").concat(r,"&state=").concat(a)).end(function(t,r){t?n(t):e(r.body)})}):Promise.resolve([])}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var r=this.state.fields,n=this._fields.filter(function(e){return null!==e}).reduce(function(e,t){var r=t.validate();return Object.keys(r.errors).length&&(e.count+=1),e[r.uuid]=r.errors,e},{count:0});if(!(n.count>0)){var a=this._getCurrentCountry();return this._verifyAddress(a).then(function(e){var n=(0,h.getBestSmartyMatch)(e);n&&"USA"===a.alpha3?t._handleUSAddress(n):n&&n.components&&"USA"!==n.components.country_iso_3?t._handleINTLAddress(n):t.setState({openDialog:!0,addressToVerify:{primary:(0,p.default)(r,M,!0),secondary:{}}})}).catch(function(e){!e||"422"===e.status&&"502"===e.status||console.error("Verification Error: ",e),t.setState({openDialog:!0,addressToVerify:{primary:(0,p.default)(r,M,!0),secondary:{}}})})}this.setState({fields:r.map(function(e){return e.set("errors",n[e.get("uuid")])})})}},{key:"_verifyAddress",value:function(e){var t=this;return new Promise(function(r,n){var a=(0,h.buildAddressQuery)(t.state.fields,e),o="US"===e.alpha2.toUpperCase()?"".concat(T).concat(a):"".concat(N).concat(a);(0,l.default)(o).end(function(e,t){e?n(e):r(t.body)})})}},{key:"_handleUSAddress",value:function(e){var t=(0,p.default)(this.state.fields,M,!0);if((0,h.addressesDiffer)(e,t.fields,!0,M)){var r=(0,h.buildVerificationAddress)(e,t.fields.fullName.join(" "),t.fields.company,"US",t.fields.phone,t.fields.extra_field,M);this.setState({openDialog:!0,addressToVerify:{primary:t,secondary:r,verified:e}})}else this._submitForm(!0)}},{key:"_handleINTLAddress",value:function(e){var t=e.analysis.verification_status,r=(0,p.default)(this.state.fields,M,!1);if("Verified"!==t||(0,h.addressesDiffer)(e,r.fields,!1,M))if((0,h.addressesDiffer)(e,r.fields,!1,M)){var n=i.lookup.countries({alpha3:e.components.country_iso_3})[0],a="None"!==t||e.components.postal_code?(0,h.buildVerificationAddress)(e,r.fields.fullName.join(" "),r.fields.company,n.alpha2,r.fields.phone,r.fields.extra_field,M):[];this.setState({openDialog:!0,addressToVerify:{primary:r,secondary:a,verified:e}})}else this.setState({openDialog:!0,addressToVerify:{primary:r,secondary:{},verified:{}}});else this._submitForm(!0)}},{key:"_buildForm",value:function(e){var t=this,r=Object.keys(this.props.hiddenFields).reduce(function(e,r){return t.props.hiddenFields[r]&&t.props.hiddenFields[r].length&&(e[r]=t.props.hiddenFields[r]),e},{}),n=this._getCurrentCountry();return this.state.fields.toJS().reduce(function(e,t){if("country"===t.name&&n&&n.alpha2)e["address[country_iso2]"]=n.alpha2;else if("state"===t.name&&M[n.name]){var r=M[n.name].find(function(e){return e.name===t.value});e["address[".concat(t.name,"]")]=r?r.short:t.value}else"phone"===t.name?e["address[".concat(t.name,"]")]=t.countryCode+t.value:t.extra_field?e["address[extra_fields[".concat(t.name,"]]")]=t.value:e["address[".concat(t.name,"]")]=t.value||"";return e},Object.assign({"address[verified]":e},r))}},{key:"_postAddress",value:function(e){return u.default.apiRequest(l.default.post("".concat(u.default.getApiPath(),"/private/addresses")).type("form").send(e),!0).then(function(e){return Promise.resolve(e.address)}).catch(function(e){return Promise.reject(e)})}},{key:"_updateAddress",value:function(e){return u.default.apiRequest(l.default.patch("".concat(u.default.getApiPath(),"/private/addresses/").concat(this.props.defaultAddress.id)).type("form").send(e),!0).then(function(e){return Promise.resolve(e.address)}).catch(function(e){return Promise.reject(e)})}},{key:"_submitForm",value:function(e){var t=this;return this.state.openDialog&&this.setState({submitting:!0}),(Object.keys(this.props.defaultAddress).length?this._updateAddress(this._buildForm(e)):this._postAddress(this._buildForm(e))).then(function(e){t.setState({openDialog:!1}),t.props.redirectTo&&"javascript:void(0);"!==t.props.redirectTo?window.location=t.props.redirectTo:Object.keys(t.props.defaultAddress).length?t.props.updateAddressInBook(e):t.props.addAddressToBook(e)}).catch(function(e){t.state.submitting&&t.setState({submitting:!1,openDialog:!1}),console.error("Submit Form Error ",e)})}},{key:"_useVerifiedForSubmission",value:function(){var e=this,t=this.state.addressToVerify.verified,r=t.components,n=this._getCurrentCountry(),a=!r.country_iso_3&&"USA"===n.alpha3,i=a?{address_line1:"delivery_line_1",address_line2:"delivery_line_2"}:{address_line1:"address1",address_line2:"address2"},l=a?{city:"city_name",state:"state_abbreviation",zip:"zipcode"}:{city:"locality",zip:"postal_code",state:"administrative_area",country:"country_iso_3"},u=this.state.fields,c=void 0!==M[n.name],d=!a&&"".concat(r[l.zip]," ").concat(r[l.city])===t[i.address_line2],f=u.reduce(function(e,n){var a=n.get("name");if("address_line2"===a&&d)return e.push(n.set("value",""));if("address_line2"===a&&!t[i[a]])return e.push(n.set("value",""));if(c&&"city"===a)e=e.concat([n,(0,o.Map)({name:"state",isRequired:!0,type:"select",options:(0,o.List)([]),value:r[l.state],uuid:(0,s.default)()})]);else if("state"===a&&!c)return e;return e=i[a]&&t[i[a]]&&t[i[a]].length?e.push(n.set("value",t[i[a]])):l[a]&&r[l[a]]&&r[l[a]].length?e.push(n.set("value",r[l[a]])):e.push(n)},(0,o.List)());this.setState({fields:f},function(){e._submitForm(!0)})}},{key:"render",value:function(){var e=this,t=this.props.redirectTo;return a.default.createElement("form",{ref:function(t){return e._form=t}},this.state.fields.map(function(t,r){return a.default.createElement(_.default,{ref:function(t){return e._fields[r]=t},key:r,country:e.state.country,countryCodes:e.state.countryCodes,fetchAddresses:e.fetchAddresses,field:t,setSelection:e.handleSelection,updateField:e.updateField})}),a.default.createElement("div",{className:b.default.addressField},a.default.createElement("div",{className:b.default.labelContainer}),a.default.createElement("div",{className:b.default.submitContainer},a.default.createElement("button",{className:"btn btn-primary",onClick:this.handleSubmit},"Save Address"),a.default.createElement("a",{className:"btn btn-link",href:t,onClick:function(t){e.props.dismissForm&&(t.preventDefault(),e.props.dismissForm())}},"Cancel"))),a.default.createElement(v.default,{open:this.state.openDialog,dismiss:function(){return e.setState({openDialog:!1,addressToVerify:{primary:{},secondary:{},verified:null}})},nestedDialogLevel:1},a.default.createElement("div",{className:b.default.addressVerification},a.default.createElement("h3",null,"Sorry, we couldn't verify your address!"),a.default.createElement("h4",null,"Please confirm or edit your address."),a.default.createElement("div",{className:b.default.addressWrapper},a.default.createElement("div",{className:b.default.reactFormAddress},a.default.createElement("h4",null,"You entered:"),this.state.addressToVerify.primary&&this.state.addressToVerify.primary.address?this.state.addressToVerify.primary.address.filter(function(e){return e.length}).map(function(e,t){return a.default.createElement("p",{key:t},e)}):null,a.default.createElement("div",{className:b.default.verificationButtonGroup},a.default.createElement("button",{className:"".concat(O.default.blank," ").concat(w.default.link," ").concat(b.default.shortBtn),onClick:function(){return e.setState({openDialog:!1,addressToVerify:{primary:{},secondary:{},verified:null}})}},"Edit this address"),a.default.createElement("button",{className:"".concat(O.default.sm," ").concat(b.default.shortBtn),disabled:this.state.submitting,onClick:function(t){t.preventDefault(),e._submitForm(!1)}},this.state.submitting?"Submitting":"Use this address"))),this.state.addressToVerify.secondary.address&&this.state.addressToVerify.secondary.address.length?a.default.createElement("div",{className:b.default.reactFormAddress},a.default.createElement("h4",null,this.state.addressToVerify.secondary.verified?"Verified:":"Partially Verified:"),a.default.createElement("div",null,this.state.addressToVerify.secondary.address.filter(function(e){return e.length}).map(function(e,t){return a.default.createElement("p",{key:t},e)})),a.default.createElement("div",{className:b.default.verificationButtonGroup},a.default.createElement("button",{className:"".concat(O.default.sm," ").concat(b.default.shortBtn),disabled:this.state.submitting,onClick:function(t){t.preventDefault(),e._useVerifiedForSubmission()}},this.state.submitting?"Submitting":"Use this address"))):null))))}}])&&k(r.prototype,n),g&&k(r,g),t}();A.propTypes={addAddressToBook:n.default.func,defaultAddress:n.default.object,dismissForm:n.default.func,error:n.default.func,fields:n.default.array,hiddenFields:n.default.object,redirectTo:n.default.string,updateAddressInBook:n.default.func},A.defaultProps={addAddressToBook:function(){},defaultAddress:{},dismissForm:null,error:function(){},fields:[],hiddenFields:{},redirectTo:"javascript:void(0);",updateAddressInBook:function(){}};var I=A;t.default=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e=e||null,t=t&&t.length?t:null;var r=e&&o[t]?{isRequired:!0,name:"state",type:"select",options:o[t],country:t,value:e}:o[t]?{isRequired:!0,name:"state",type:"select",options:o[t],country:t,value:""}:{name:"state",value:e||""};return[{isRequired:!0,name:"first_name",limit:{max:50}},{isRequired:!0,name:"last_name",limit:{max:50}},{name:"company",limit:{max:50}},{isRequired:!0,type:"select",name:"country",options:n.countries.all.filter(function(e){return"assigned"===e.status}).map(function(e){return e.name}).sort()},{isRequired:!0,name:"address_line1",label:"Address line 1",limit:{max:50},type:"searchable",options:[]},{name:"address_line2",label:"Address line 2",limit:{max:50}},{isRequired:!0,name:"city"},r,{isRequired:!0,name:"zip"},{isRequired:!0,help:"So the shipping company can call you if they have a problem.",name:"phone",countryCode:""},{type:"checkbox",inputValue:"Make this my default address",name:"default"}]};var n=r(240),a=r(304),o={Australia:a.Australia,Canada:a.Canada,China:a.China,Mexico:a.Mexico,"United States":a.States}},,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(15));function a(e){return e&&e.__esModule?e:{default:e}}var o=(0,a(r(1523)).default)(n.default);o.propTypes=n.default.propTypes,o.defaultProps=n.default.defaultProps;var i=o;t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=i(r(1)),o=i(r(96));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=s(t).call(this,e))||"object"!==l(a)&&"function"!=typeof a?c(n):a).state={height:"100%",id:e.id?e.id:(0,o.default)()},r.onChange=r.onChange.bind(c(r)),r.onKeyDown=r.onKeyDown.bind(c(r)),r.__focusTextAreaHook=r.__focusTextAreaHook.bind(c(r)),r._textarea,r}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this._resize()}},{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this._resize()}},{key:"__focusTextAreaHook",value:function(e,t){e&&t&&(this._resize(),this._textarea.setSelectionRange(e,t)),this._textarea.focus()}},{key:"onChange",value:function(e){var t=this;this.props.onChange(e),this.setState({height:""},function(){return t._resize()})}},{key:"onKeyDown",value:function(e){var t=e.ctrlKey&&90===e.keyCode||e.metaKey&&90===e.keyCode;this.props.disableUndo&&t&&e.preventDefault()}},{key:"_resize",value:function(){if(this._textarea){var e=this._textarea,t=window.getComputedStyle(e),r=("content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):0)+e.scrollHeight,n=0===r&&this.props.enforceMinHeight?93:r;this.setState({height:n})}}},{key:"render",value:function(){var e=this;return n.default.createElement("textarea",{ref:function(t){return e._textarea=t},style:{height:this.state.height},autoFocus:this.props.autoFocus,className:this.props.className,disabled:this.props.disabled,id:this.state.id,name:this.props.name,onBlur:this.props.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:this.props.placeholder,rows:this.props.minRows,value:this.props.value})}}])&&u(r.prototype,a),i&&u(r,i),t}();f.propTypes={autoFocus:a.default.bool,className:a.default.string,disableUndo:a.default.bool,disabled:a.default.bool,enforceMinHeight:a.default.bool,errors:a.default.string,id:a.default.oneOfType([a.default.string,a.default.number]),minRows:a.default.string,name:a.default.string,onBlur:a.default.func,onChange:a.default.func.isRequired,placeholder:a.default.string,value:a.default.string.isRequired},f.defaultProps={autoFocus:!1,className:"",disableUndo:!1,disabled:!1,enforceMinHeight:!0,errors:null,id:null,minRows:"3",name:null,onBlur:function(){},placeholder:""};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.validation=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=r(307),i=l(r(21));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.validation=function(e){var t=e.split(":");return 8!==e.length||3!==t.length?"please make sure the duration matches HH:MM:SS":parseInt(t[1])>59||parseInt(t[2])>59?"input must be 0-59 for minutes and seconds":null};var m=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==u(a)&&"function"!=typeof a?f(n):a).state={prevValue:e.value},r.onBlur=r.onBlur.bind(f(r)),r.onChange=r.onChange.bind(f(r)),r._input,r}var r,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n.Component),r=t,(a=[{key:"onBlur",value:function(e){var t=this.props.value.split(":");if(3===t.length&&!t.every(function(e){return 2===e.length})){var r=t.map(function(e){return 1===e.length?"0".concat(e):e}).join(":");this.setState({prevValue:r}),this.props.onChange(e,r)}}},{key:"onChange",value:function(e){var t=e.target.value;if(!(t.length>=9)){var r=this._getCursorPosition(),n=r.selectionStart;if(n!==r.selectionEnd)return this.props.onChange(t);var a="adding"==(this.state.prevValue.length>t.length?"deleting":"adding")?this._addColons((0,o.replaceAllButNums)(t)):t;this.setState({prevValue:a}),this.props.onChange(e,a),this._input&&n!==a.length&&this._resetCursor({formatted:a,selectionStart:n,value:t})}}},{key:"_addColons",value:function(e){return s(e).reduce(function(e,t,r){return(r+1)%2||r+1===6?e.concat(t):e.concat(t+":")},"")}},{key:"_getCursorPosition",value:function(e){return this._input?{selectionStart:this._input.selectionStart,selectionEnd:this._input.selectionEnd}:{selectionStart:0,selectionEnd:0}}},{key:"_resetCursor",value:function(e){var t=this,r=e.formatted,n=e.selectionStart,a=e.value;setTimeout(function(){var e=a.length<r.length?n+1:n;t._input.setSelectionRange(e,e)},10)}},{key:"render",value:function(){var e=this;return n.default.createElement("input",{ref:function(t){return e._input=t},className:"".concat(i.default.input," ").concat(this.props.errors?i.default.inputError:""," ").concat(this.props.classList.input),disabled:this.props.disabled,onBlur:this.onBlur,onChange:this.onChange,placeholder:this.props.placeholder,type:"tel",value:this.props.value})}}])&&c(r.prototype,a),l&&c(r,l),t}();m.propTypes={classList:a.default.shape({input:a.default.string}),disabled:a.default.bool,errors:a.default.string,onChange:a.default.func.isRequired,placeholder:a.default.string,value:a.default.string.isRequired},m.defaultProps={classList:{input:""},disabled:!1,errors:null,placeholder:"00:00:00"};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(1)),a=u(r(0)),o=u(r(106)),i=u(r(132)),l=u(r(21));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.classList,r=e.disabled,n=e.errors,u=e.helperText,s=e.label,c=e.name,d=e.onChange,f=e.options,p=e.values;return a.default.createElement(i.default,{classList:{root:t.root},errors:n,helperText:u,label:s,name:c,value:""},a.default.createElement("div",{className:l.default.radioGroup},f.map(function(e){return a.default.createElement("div",{key:e.value,className:l.default.radioButtonContainer},a.default.createElement(o.default,{isChecked:p.includes(e.value),disabled:r||e.disabled,label:e.label,error:n,name:c,onChange:function(t){return d(function(e,t,r){return t?r.concat([e]):r.filter(function(t){return t!==e})}(e.value,t,p))},value:e.value}))})))};s.propTypes={classList:n.default.shape({root:n.default.string}),disabled:n.default.bool,errors:n.default.oneOfType([n.default.array,n.default.string]),helperText:n.default.string,label:n.default.node,name:n.default.string,onChange:n.default.func,options:n.default.arrayOf(n.default.shape({disabled:n.default.bool,label:n.default.node,value:n.default.any})),values:n.default.array},s.defaultProps={classList:{},disabled:!1,errors:null,helperText:null,label:null,name:null,onChange:function(){},options:[],values:[]};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(1527)),i=l(r(2));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.count,r=e.images;return n.default.createElement("div",{className:"".concat(i.default.flexJustifyCenter," ").concat(i.default.flex10Auto)},Array.from(Array(3).keys()).map(function(e){return n.default.createElement(o.default,{key:e,isViewed:e<t,position:e+1,src:r[e]})}))};u.propTypes={count:a.default.number,images:a.default.arrayOf(a.default.string)},u.defaultProps={count:0,images:[]};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelAnimationFrame=t.requestAnimationFrame=void 0;var n=function(){return"undefined"==typeof window?{}:window},a=function(e){return window.setTimeout(e,1e3/60)};var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||a}(n());t.requestAnimationFrame=o;var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||e.clearTimeout}(n());t.cancelAnimationFrame=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addViewedProject=function(e){var t=e.hid,r=e.cover_image_url,c=s();if(c.count>=3||c.hids.includes(t))return c;var d=c.count+1,f=[].concat(o(c.hids),[t]),p=[].concat(o(c.images),[r]);return(0,n.setItem)(u,p),(0,a.setCookie)(i,d),(0,a.setCookie)(l,f),{count:d,hids:f,images:p}},t.getViewedProjects=s;var n=r(237),a=r(702);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i="projCnt",l="projHids",u="hck.viewed_proj_img";function s(){var e=(0,n.getItem)(u)||[];return{count:(0,a.getCookie)(i)||0,hids:(0,a.getCookie)(l)||[],images:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=l(r(7)),i=l(r(96));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=c(t).call(this,e))||"object"!==u(a)&&"function"!=typeof a?d(n):a).onScriptReady=r.onScriptReady.bind(d(r)),r.widgetID,r.globalCBName="recaptchaReady".concat((0,i.default)()),r._root,r}var r,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.getGlobalObject()?this.onScriptReady():this.loadScript()}},{key:"execute",value:function(){return this.getGlobalObject().execute(this.widgetID)}},{key:"getResponse",value:function(){return this.getGlobalObject().getResponse(this.widgetID)}},{key:"reset",value:function(){return this.getGlobalObject().reset(this.widgetID)}},{key:"getGlobalObject",value:function(){return window.grecaptcha}},{key:"loadScript",value:function(){window[this.globalCBName]=this.onScriptReady;var e="".concat("https://www.google.com/recaptcha/api.js","?onload=").concat(this.globalCBName,"&render=explicit"),t=document.createElement("script");t.src=e,t.async=1,t.deferred=1,t.error=function(e){return(0,o.default)(e||new Error("problem loading ReCAPTCHA script"))},document.body.appendChild(t)}},{key:"onScriptReady",value:function(){this.renderWidget(),this.props.onLoad(),window[this.globalCBName]=void 0}},{key:"renderWidget",value:function(){this.getGlobalObject()&&this._root&&(this.widgetID=this.getGlobalObject().render(this._root,{badge:this.props.badgePos,callback:this.props.callback,"error-callback":this.props.callback,"expired-callback":this.props.callback,sitekey:this.props.recaptchaSiteKey,size:"invisible"}))}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{ref:function(t){return e._root=t},className:this.props.className})}}])&&s(r.prototype,a),l&&s(r,l),t}();p.propTypes={badgePos:a.default.string,callback:a.default.func,onLoad:a.default.func,recaptchaSiteKey:a.default.string.isRequired},p.defaultProps={badgePos:"bottomright",callback:function(){},onLoad:function(){}};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(174))&&n.__esModule?n:{default:n};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("#")[0]||null}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.distinctId,n=void 0===r?null:r,o=t.sessionId,i=void 0===o?null:o,l=t.pageType,u=void 0===l?null:l,s=t.userId,c=void 0===s?null:s,d=t.utmParams,f=void 0===d?{}:d,p=t.whitelabel,m=void 0===p?null:p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clientEventId=(0,a.default)(),this.distinctId=n,this.pageType=u,this.userId=c,this.sessionId=i,this.utm_campaign=f.utm_campaign,this.utm_content=f.utm_content,this.utm_medium=f.utm_medium,this.utm_source=f.utm_source,this.utm_term=f.utm_term,this.whitelabel=m}var t,r,n;return t=e,(r=[{key:"createRecord",value:function(){return{client_event_id:this.clientEventId,distinct_id:this.distinctId,ip:"${keen.ip}",logged_in:this.userId&&"number"==typeof this.userId,page_url:document.location.toString(),page_type_category:i(this.pageType),page_type_full:this.pageType,referrer:{url:document.referrer||""},session_id:this.sessionId,user_id:this.userId,utm_campaign:this.utm_campaign,utm_content:this.utm_content,utm_medium:this.utm_medium,utm_source:this.utm_source,utm_term:this.utm_term,whitelabel:this.whitelabel,keen:{addons:[{name:"keen:url_parser",input:{url:"page_url"},output:"parsed_page_url"}]}}}}])&&o(t.prototype,r),n&&o(t,n),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidEventName=function(e){return n.hasOwnProperty(e)},t.getPropTemplate=function(e){return n[e]};var n={"Ad clicked":{id:"number"},"Ad viewed":{id:"number",blocked:"boolean"},"Added project to contest":{},"Added project to list":{},"Changed notification settings":{},"Clicked filter value":{},"Clicked button":{},"Clicked launch campaign":{},"Clicked link":{},"Clicked menu item":{},"Clicked part buy link":{link_position:"number"},"Clicked view all section":{},"Clicked view more":{},"Completed onboarding":{},"Completed onboarding step":{},"Confirmed email address":{},"Created account":{},"Created bookmark":{},"Created bookmark list":{},"Created comment":{},"Created event":{},"Created post":{},"Created project":{},"Deleted account":{},"Deleted bookmark":{},"Deleted bookmark list":{},"Deleted comment":{},"Deleted event":{},"Deleted post":{},"Dismissed tooltip":{},"Followed entity":{},"Joined experiment":{},"Logged in":{},"Logged out":{},"Made project public":{},"Opened bookmark menu":{},"Opened explore menu":{},"Opened menu":{},"Posted comment":{},"Posted feed post":{},"Registered for contest":{},"Registered for workshop":{},"Respected entity":{},Searched:{filters:{parts:"array",project_type:"array",difficulty:"array",language:"array",skills:"array",available_for_hire:"boolean",location:{geoloc:{lat:"number",lng:"number"},distance:"number"}},pagination:{current_page:"number",per_page:"number",total_pages:"number",total_records:"number"}},"Search filter":{},"Search location filter":{},"Sent invites":{count:"number"},"Signup prompt clicked":{},"Signup prompt shown":{},"Submitted idea to contest":{},"Submitted project to contest":{},"Unfollowed entity":{},"Updated comment":{},"Updated post":{},"Unregistered for contest":{},"Unrespected entity":{},"Viewed lock screen":{projects_viewed:"number"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(null===o){var e=(0,n.getNavigator)();e&&e.userAgent?(t=e.userAgent,o=a.test(t)):o=!0}var t;return o},t.__resetFlag=function(){o=null};var n=r(12),a=/facebook|google|yandex|bing|ezooms|twikle|wotbox|fetch|wordpress|pingdom|slurp|sogou|crawl|bot|spider/i,o=null},,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=y(r(1)),o=y(r(9)),i=y(r(248)),l=y(r(48)),u=y(r(7)),s=r(249),c=r(18),d=y(r(22)),f=r(60),p=r(178),m=y(r(10)),h=y(r(5));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=b(t).call(this,e))||"object"!==g(a)&&"function"!=typeof a?O(n):a).state={currentUserId:null,showDropdown:!1,initialized:!1,isBookmarked:!1},r.getTarget=r.getTarget.bind(O(r)),r.handleBookmarkChange=r.handleBookmarkChange.bind(O(r)),r.handleClick=r.handleClick.bind(O(r)),r.handleDismiss=r.handleDismiss.bind(O(r)),r.handleKeyDown=r.handleKeyDown.bind(O(r)),r._analyticsSrc=r._parseSourceForAnalytics(e.source),r._button,r._isMounted,r._updateSub,r}var r,a,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._isMounted=!0,this._updateSub=i.default.getChannel().subscribe("bookmark.changed",this.handleBookmarkChange),this._init()}},{key:"componentWillUnmount",value:function(){this._updateSub&&this._updateSub.unsubscribe(),this._isMounted=!1}},{key:"_init",value:function(){var e=this;return Promise.all([l.default.getAsync("id"),i.default.initialize()]).then(function(t){var r=_(t,2),n=r[0];r[1],e._isMounted&&e.setState({currentUserId:n,initialized:!0,isBookmarked:e._getIsBookmarked()})}).catch(function(e){return(0,u.default)("BookmarkButton _init",e)})}},{key:"_parseSourceForAnalytics",value:function(e){return{widget_src:e.split("_").filter(function(e){return"bookmark"!==e}).join("_")}}},{key:"getTarget",value:function(){return this._button}},{key:"handleBookmarkChange",value:function(e){var t=e.projectId,r=e.addOrRemoveBool;if(t===this.props.projectId)return r&&!this.state.isBookmarked?this.setState({isBookmarked:!0}):r?void 0:this.setState({isBookmarked:this._getIsBookmarked()})}},{key:"handleClick",value:function(e){if(this.state.showDropdown)return this.handleDismiss();null===this.state.currentUserId?(0,c.summonLoginPanel)({detail:{state:{currentPanel:"signup"},source:this.props.source}}):this._summonWidget(e)}},{key:"handleDismiss",value:function(){this.setState({showDropdown:!1})}},{key:"handleKeyDown",value:function(e){e.keyCode===p.ESC&&this.state.showDropdown&&this.handleDismiss()}},{key:"_getIsBookmarked",value:function(){var e=this;return i.default.getLists().some(function(t){return t.project_ids.includes(e.props.projectId)})}},{key:"_handleOpenMenuAnalytics",value:function(){d.default.reportEventWithObj((0,f.getOpenedBookmarkMenuArgs)(Object.assign({project_id:this.props.projectId},this._analyticsSrc)))}},{key:"_summonWidget",value:function(){var e=(0,s.showDropdownOrSummonDialog)({projectId:this.props.projectId});this._handleOpenMenuAnalytics(),this.setState({showDropdown:e})}},{key:"_getDropdown",value:function(){var e={analytics:this._analyticsSrc,dismiss:this.handleDismiss,projectId:this.props.projectId,getTarget:this.getTarget};return this.props.usePortal?(0,s.getPortalWidgetDropdown)(e):(0,s.getWidgetDropdown)(e)}},{key:"render",value:function(){var e=this,t=this.state.showDropdown;return n.default.createElement("div",{className:h.default.posRelative,onKeyDown:this.handleKeyDown},n.default.createElement("button",{ref:function(t){return e._button=t},className:"".concat(m.default.icon," ").concat(m.default[this.props.size]," ").concat(m.default.outlineBlack),disabled:!this.state.initialized,onClick:this.handleClick},n.default.createElement(o.default,{name:this.state.isBookmarked?"bookmark-filled":"bookmark"})),t&&this._getDropdown())}}])&&v(r.prototype,a),y&&v(r,y),t}();E.propTypes={projectId:a.default.number.isRequired,size:a.default.oneOf(["sm","md"]),source:a.default.string,usePortal:a.default.bool},E.defaultProps={size:"sm",source:"project_card_bookmark",usePortal:!1};var P=E;t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=u(r(106)),i=u(r(2)),l=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?f(n):a).state={isBusy:!1,isChecked:e.initChecked,isCheckedAndSuccessful:e.initChecked},r.onChange=r.onChange.bind(f(r)),r._isMounted,r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"onChange",value:function(e){var t=this;if(!this.state.isBusy)return this.setState({isBusy:!0,isChecked:e}),this.props.request(this.props.requestArgs(e)).then(function(){t._isMounted&&(t.props.propagateStatus(e),t.setState({isBusy:!1,isCheckedAndSuccessful:e,isChecked:e}))}).catch(function(r){t._isMounted&&(t.props.propagateStatus(!e),t.setState({isBusy:!1,isChecked:!e}))})}},{key:"_getLabel",value:function(){return this.props.successMsg&&this.state.isCheckedAndSuccessful?this.props.successMsg:this.props.label}},{key:"render",value:function(){return n.default.createElement("div",null,n.default.createElement(o.default,{classList:this.props.classList,checkboxPosition:this.props.checkboxPosition,disabled:this.props.disabled||this.state.isBusy,isChecked:this.state.isChecked,label:this.props.label,onChange:this.onChange}),this.props.successMsg&&this.state.isCheckedAndSuccessful&&n.default.createElement("p",{className:"".concat(l.default.bodyM," ").concat(l.default.bold," ").concat(l.default.textCenter," ").concat(i.default.marginTop15)},this.props.successMsg))}}])&&c(r.prototype,a),u&&c(r,u),t}();m.propTypes={checkboxPosition:a.default.string,classList:a.default.shape({label:a.default.string}),disabled:a.default.bool,initChecked:a.default.bool,label:a.default.string,propagateStatus:a.default.func,request:a.default.func.isRequired,requestArgs:a.default.func,successMsg:a.default.string},m.defaultProps={checkboxPosition:null,classList:{label:""},disabled:!1,initChecked:!1,label:null,propagateStatus:function(){},requestArgs:function(){},successMsg:null};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=i(r(1)),o=i(r(450));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=s(this,c(t).call(this,e)))._listener,r._wrapper,r}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._wrapper&&this._addListener()}},{key:"componentWillUnmount",value:function(){this._listener&&this._listener.remove()}},{key:"_addListener",value:function(){var e=this;this._listener=(0,o.default)(function(){return e._wrapper},function(t){return e.props.onClickOutside(t)},this.props.targetWillUnmount)}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:this.props.className,ref:function(t){return e._wrapper=t},onClick:this.props.onClick,style:this.props.style},this.props.children)}}])&&u(r.prototype,a),i&&u(r,i),t}();f.propTypes={className:a.default.string,onClick:a.default.func,onClickOutside:a.default.func,style:a.default.object,targetWillUnmount:a.default.bool},f.defaultProps={className:"",onClick:function(){},onClickOutside:function(){},style:null,targetWillUnmount:!1};var p=f;t.default=p},function(e,t,r){e.exports={fog:"#F7F7F7",bgGrey:"dummy_card__bgGrey__28_bQ",block:"dummy_card__block__2O219 cards__dummyTextM__2BFD6 cards__dummyText__18wTq",author:"dummy_card__author__3DWDw dummy_card__block__2O219 cards__dummyTextM__2BFD6 cards__dummyText__18wTq",contentType:"dummy_card__contentType__9uvYW dummy_card__block__2O219 cards__dummyTextM__2BFD6 cards__dummyText__18wTq",difficulty:"dummy_card__difficulty__3FDt1 dummy_card__block__2O219 cards__dummyTextM__2BFD6 cards__dummyText__18wTq",statNumber:"dummy_card__statNumber__2GVd5 dummy_card__block__2O219 cards__dummyTextM__2BFD6 cards__dummyText__18wTq",stats:"dummy_card__stats__1jF6c",itemImage:"dummy_card__itemImage__2utFJ animation__loader__3jVQp",smallBody:"dummy_card__smallBody__3Jw8w",smallTitle:"dummy_card__smallTitle__1ivg4 dummy_card__block__2O219 cards__dummyTextM__2BFD6 cards__dummyText__18wTq",title:"dummy_card__title__3wjJI dummy_card__block__2O219 cards__dummyTextM__2BFD6 cards__dummyText__18wTq",thumbs:"dummy_card__thumbs__3NQ61",views:"dummy_card__views__2dA4C"}},function(e,t,r){e.exports={asphalt:"#D8D8D8",cardBorder:"small_project_card__cardBorder__1ZZ3q cards__cardWithBorder__X_vK9 cards__card__nIkNU",imageContainer:"small_project_card__imageContainer__5dzbc",itemImage:"small_project_card__itemImage__30DOq",lazyImage:"small_project_card__lazyImage__1gPVA",wrapper:"small_project_card__wrapper__2tFos"}},function(e,t,r){e.exports={asphalt:"#D8D8D8",hackster:"#2E9FE6",small:"(max-width: 480px)",dropdownIconOpen:"paginated_list__dropdownIconOpen__1mUxe",dropdownIconClosed:"paginated_list__dropdownIconClosed__KHJ-0",filter:"paginated_list__filter__1p32A",filterGroup:"paginated_list__filterGroup__Z1uSY",filtersButton:"paginated_list__filtersButton__1Pkyy",filtersToggle:"paginated_list__filtersToggle__1HWu-",filtersToggleCount:"paginated_list__filtersToggleCount__1hw86",marginLeftOnOne:"paginated_list__marginLeftOnOne__r5Tir",paginatorRoot:"paginated_list__paginatorRoot__3LKEI",wrapper:"paginated_list__wrapper__31i62",filterGroupClosed:"paginated_list__filterGroupClosed__2xDaX"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(9)),i=s(r(254)),l=r(20),u=s(r(205));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.className,r=e.controlledRespects,a=e.customIcon,s=e.project,c=e.toggleRespect,d=e.usePortal;return"private"===s.published_state.toLowerCase()?null:n.default.createElement("section",{className:t},n.default.createElement("section",{className:u.default.stats},n.default.createElement("span",{className:u.default.stat},n.default.createElement(i.default,{controlled:r,id:s.id,respects:s.stats.respects,onClick:function(e){return c(s.hid,e)},source:"project_card",theme:"project_card"})),n.default.createElement("span",{className:u.default.stat},n.default.createElement(o.default,{name:"eye",size:16}),n.default.createElement("span",{className:u.default.statNumber},(0,l.formatNumberLimit4Chars)(s.stats.views)))),a(s,d))};c.propTypes={className:a.default.string,controlledRespects:a.default.bool,customIcon:a.default.func,project:a.default.shape({content_type:a.default.oneOfType([a.default.string,a.default.array]),cover_image_url:a.default.string,difficulty:a.default.string,edit_url:a.default.string,guest_name:a.default.string,id:a.default.number,hid:a.default.string,name:a.default.string,one_liner:a.default.string,published_state:a.default.string,respects:a.default.number,stats:a.default.object,team:a.default.object,url:a.default.string}).isRequired,toggleRespect:a.default.func,usePortal:a.default.bool},c.defaultProps={className:"",controlledRespects:!1,customIcon:function(){return null},toggleRespect:function(){},usePortal:!1};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChannelMember=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"\n    mutation createChannelMember {\n      channel: createChannelMember(channel_id: ".concat(e,") {\n        id\n        ").concat(t?"\n    dialog {\n      facebook_link\n      name\n      twitter_link\n    }\n  ":"","\n      }\n    }\n  ")},t.deleteChannelMember=function(e){return"\n    mutation deleteChannelMember {\n      channel: deleteChannelMember(channel_id: ".concat(e,") {\n        id\n      }\n    }\n  ")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPartUser=function(e){return"\n    mutation createProductUser {\n      product: createProductUser(product_id: ".concat(e,") {\n        id\n      }\n    }\n  ")},t.deletePartUser=function(e){return"\n    mutation deleteProductUser {\n      product: deleteProductUser(product_id: ".concat(e,") {\n        id\n      }\n    }\n  ")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(1604)),i=s(r(51)),l=s(r(3)),u=s(r(205));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,r=e.project;if(r.guest_name)return t=r.guest_name,n.default.createElement("span",{className:"".concat(l.default.bodyS," ").concat(u.default.author)},t);var a,s=r.team.members;return s.length>1?function(e,t){return n.default.createElement(o.default,{teamName:t,users:e})}(s,r.team.name):1===s.length?(a=s[0],n.default.createElement("a",{className:"".concat(l.default.bodyS," ").concat(l.default.link," ").concat(u.default.author),href:i.default.url(a.url)},a.name)):null};c.propTypes={project:a.default.shape({content_type:a.default.oneOfType([a.default.string,a.default.array]),cover_image_url:a.default.string,difficulty:a.default.string,edit_url:a.default.string,guest_name:a.default.string,hid:a.default.string,name:a.default.string,one_liner:a.default.string,published_state:a.default.string,respects:a.default.number,stats:a.default.object,team:a.default.object,url:a.default.string}).isRequired};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=r(330),i=l(r(51));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.children,r=e.className,a=e.itemIndex,l=e.location,u=e.overrideTracking,s=e.project;return n.default.createElement("a",{className:r,href:i.default.url((0,o.getProjectLink)(s,"url")),onClick:function(e){return(0,o.handleMainLinkClick)(e,s,l,u,a)}},t)};u.propTypes={className:a.default.string,itemIndex:a.default.number,location:a.default.string,overrideTracking:a.default.func,project:a.default.shape({content_type:a.default.oneOfType([a.default.string,a.default.array]),cover_image_url:a.default.string,difficulty:a.default.string,edit_url:a.default.string,guest_name:a.default.string,hid:a.default.string,name:a.default.string,one_liner:a.default.string,published_state:a.default.string,respects:a.default.number,stats:a.default.object,team:a.default.object,url:a.default.string}).isRequired},u.defaultProps={className:"",itemIndex:null,location:null,overrideTracking:null};var s=u;t.default=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.reduce(function(e,r,n){switch(r.type){case"CE":e.push(Promise.resolve(function(e){return(0,a.default)(e.html).then(function(e){return Promise.resolve({type:"CE",json:e})}).catch(function(e){return Promise.reject(e)})}(r)));break;case"Carousel":var o=function(e,t){return{type:"Carousel",images:e.images.filter(function(e){return void 0!==e.id&&null!==e.id}).map(function(e){var r=e.id,n=e.figcaption,a=e.uuid,o=e.name,i=e.width,l=e.height,u=e.url;return{id:r,figcaption:n,uuid:a,name:o,height:l,width:i,url:t?u:null}})}}(r,t);o.images.length&&e.push(Promise.resolve(o));break;case"ImageLink":e.push(Promise.resolve(function(e,t){var r=e.image,n=r.id,a=r.figcaption,o=r.uuid,i=r.name,l=r.link,u=r.width,s=r.height;return{type:"ImageLink",image:{id:n,figcaption:a,uuid:o,name:i,link:l,width:u,height:s,url:t?image.url:null}}}(r,t)));break;case"Video":e.push(Promise.resolve(function(e){var t=e.video,r=t.id,n=t.figcaption,a=t.embed,o=t.service,i=t.type,l=t.height,u=t.width;return{type:"Video",video:[{id:r,figcaption:n,embed:a,service:o,type:i,height:l,width:u}]}}(r)));break;default:e.push(Promise.resolve(r))}return e},[]);return Promise.all(r)};var n,a=(n=r(1745))&&n.__esModule?n:{default:n}},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStory=function(e){return l.default.apiRequest((0,n.default)("".concat(l.default.getApiPath(),"/private/projects/").concat(e,"/description")),!0).then(function(e){return e?null!==e.description?e.description.length?(0,u.parseDescription)(e.description,{initialParse:!0}).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)}):Promise.resolve(""):null!==e.story?Promise.resolve(e.story.length?e.story:""):void 0:Promise.reject("Error fetching story!")}).catch(function(e){return Promise.reject("Error fetching story!")})},t.uploadImageToServer=h,t.processRemoteImage=function(e){return f(e)?m(e):p(e)};var n=c(r(35)),a=c(r(441)),o=r(818),i=r(325),l=c(r(40)),u=r(1765),s=r(246);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var f=function(e){return-1!==e.url.split(",")[0].indexOf("base64")},p=function(e){return new Promise(function(t,r){return(0,i.postRemoteURL)(e.url,"image").then(function(t){return Promise.all([(0,i.pollJob)(t.job_id),Promise.resolve(Object.assign({},e,{id:t.id}))])}).then(function(e){return t(e[1])}).catch(function(e){return r(e)})})},m=function(e){var t=(0,s.getAWSResources)();t.S3BucketURL,t.AWSAccessKeyId;return new Promise(function(t,r){return(0,o.dataURIToBlob)(e.url).then(function(t,r){return h(Object.assign({},e,{rawFile:t}))}).then(function(e){return Promise.all([e,(0,s.getImageDimsFromUrl)(e.url)])}).then(function(e){var t=d(e,2),r=t[0],n=t[1];return Object.assign({},r,n)}).then(function(e){return t(e)}).catch(function(e){return r(e)})})};function h(e){var t=(0,s.getAWSResources)(),r=t.S3BucketURL,n=t.AWSAccessKeyId;return new Promise(function(t,o){return(0,a.default)(e.rawFile,{S3BucketURL:r,AWSAccessKeyId:n}).then(function(r){return t(Object.assign({},e,{id:r}))}).catch(function(e){return o(e)})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canvasToBlob=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(r,n){HTMLCanvasElement.prototype.toBlob?e.toBlob.apply(e,[function(e){return r(e)}].concat(i(t))):r(l(e.toDataURL.apply(e,i(t))))})},t.createDataURLFromURL=function(e,t){return new Promise(function(r,n){var a=new Image;a.crossOrigin="use credentials";var o=document.createElement("canvas"),i=o.getContext("2d");a.onload=function(){var e=t?t.width:a.width,n=t?t.height:a.height;o.width=e,o.height=n,i.drawImage(a,0,0,e,n),r(o.toDataURL())},a.onerror=function(e){return n(e)},a.src=e})},t.dataURIToBlob=l,t.promisifiedFileReader=function(e){return new Promise(function(t,r){var n=new FileReader;n.onload=function(r){return t({dataUrl:r.target.result,hash:(0,a.default)(),rawFile:e})},n.onerror=function(e){return r(e)},n.readAsDataURL(e)})};var n,a=(n=r(174))&&n.__esModule?n:{default:n};function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e){return new Promise(function(t,r){for(var n=o(e.split(","),2),a=n[0],i=n[1],l=-1!==a.indexOf("base64")?atob(i):decodeURI(i),u=a.split(":")[1].split(";")[0],s=[],c=0;c<l.length;c++)s[c]=l.charCodeAt(c);t(new Blob([new Uint8Array(s)],{type:u}))})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=p(r(38)),i=p(r(106)),l=p(r(121)),u=r(8),s=p(r(21)),c=p(r(2)),d=p(r(3)),f=p(r(212));function p(e){return e&&e.__esModule?e:{default:e}}var m,h,y,g=function(e,t){return e&&e.hasOwnProperty(t)?e[t]:null},_=function(e){var t=e.allowQuantity,r=e.cash_value,a=e.description,p=e.errors,m=e.id,h=e.image,y=e.label,_=e.link,v=e.name,b=e.quantity,O=e.requires_shipping,w=e.updateAttribute,E=function(e,t){return e||t}(m,e.uuid);return n.default.createElement("div",{className:f.default.prize,"data-prize-id":E},n.default.createElement("div",{className:f.default.prizeImgWrapper},n.default.createElement("label",{className:"".concat(s.default.label)},"Prize image"),n.default.createElement(l.default,{allowRemoteURL:!1,classList:{previewWrapper:f.default.prizeImg},dimensionMins:{width:217},ignoreCropper:!0,imageData:{id:(0,u.getInObj)(["id"],h),url:(0,u.getInObj)(["url"],h)},imageVersion:"prize_thumb",propagateUpload:function(e){return w("image",e)}})),n.default.createElement("div",{className:f.default.prizeData},y&&n.default.createElement("h3",{className:"".concat(d.default.h3," ").concat(d.default.bold," ").concat(c.default.marginBottom30)},y),n.default.createElement("div",{"data-prize-name":E},n.default.createElement(o.default,{charCount:v.length,errors:g(p,"name"),label:"Prize name (is required)",maxVal:255,onChange:function(e){return w("name",e.target.value)},value:v})),n.default.createElement(o.default,{element:"textarea",label:"Prize description (optional)",onChange:function(e){return w("description",e.target.value)},value:a}),n.default.createElement(o.default,{label:"Cash value",onChange:function(e){return w("cash_value",parseInt(e.target.value))},type:"number",value:r}),n.default.createElement("div",{"data-prize-link":E},n.default.createElement(o.default,{charCount:_.length,errors:g(p,"link"),label:"Link",maxVal:255,onChange:function(e){return w("link",e.target.value)},value:_})),t&&n.default.createElement("div",{"data-prize-quantity":E},n.default.createElement(o.default,{errors:g(p,"quantity"),label:"Quantity",onChange:function(e){return w("quantity",parseInt(e.target.value))},type:"number",value:b})),n.default.createElement("div",{className:c.default.marginBottom30},n.default.createElement(i.default,{classList:{label:s.default.label},isChecked:O,label:"Requires shipping?",onChange:function(e){return w("requires_shipping",e)},value:O}))))};_.propTypes={allowQuantity:a.default.bool.isRequired,cash_value:a.default.oneOfType([a.default.number,a.default.string]),description:a.default.string,errors:a.default.shape((m={},h=a.default.string,y=a.default.string,h in m?Object.defineProperty(m,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[h]=y,m)),id:a.default.number,image:a.default.shape({id:a.default.number,url:a.default.string}),label:a.default.string,link:a.default.string,name:a.default.string,position:a.default.number,quantity:a.default.oneOfType([a.default.number,a.default.string]),requires_shipping:a.default.bool,updateAttribute:a.default.func.isRequired,uuid:a.default.string},_.defaultProps={errors:null,image:null,label:null};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(1770)),o=i(r(822));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=function(e){return n.default.createElement(a.default,e)},s=function(e){return n.default.createElement(o.default,l({},e,{renderView:u}))};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(0)),a=o(r(1771));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){return n.default.createElement("div",{className:a.default.wrapper},n.default.createElement("div",{className:a.default.bg},n.default.createElement("div",{className:a.default.fill})))};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=_(r(1)),o=_(r(1773)),i=_(r(42)),l=_(r(823)),u=_(r(120)),s=_(r(7)),c=r(818),d=r(1776),f=r(200),p=r(8),m=r(117),h=r(116),y=r(43),g=r(246);function _(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,r,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,a)}function O(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){b(o,n,a,i,l,"next",e)}function l(e){b(o,n,a,i,l,"throw",e)}i(void 0)})}}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S={cropperData:{},isBusy:!1,remoteURL:"",showCropper:!1,showDeletePrompt:!1},C=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=E(t).call(this,e))||"object"!==v(a)&&"function"!=typeof a?P(n):a).state=S,r.handleCropperError=r.handleCropperError.bind(P(r)),r.handleFileEvent=r.handleFileEvent.bind(P(r)),r.handleImageCrop=r.handleImageCrop.bind(P(r)),r.handleReset=r.handleReset.bind(P(r)),r.handleUploadBtnClick=r.handleUploadBtnClick.bind(P(r)),r.handleURLChange=r.handleURLChange.bind(P(r)),r.handleURLSubmit=r.handleURLSubmit.bind(P(r)),r._fileInput,r}var r,a,_,b,C,j;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,n.Component),r=t,(a=[{key:"handleFileEvent",value:function(e){e.preventDefault();var t=(0,m.getFilesFromEvent)(e)[0];this._fileInput&&(this._fileInput.value="");var r=(0,y.isValidImageFile)(t,this.props.allowGifs);if(r)return this._reportError({msg:r});this.handleReset({isBusy:!0}),this._processFile(t)}},{key:"handleImageCrop",value:function(e){var t=this.state.cropperData,r=t.fileName,n=t.fileType;this.handleReset({isBusy:!0}),this._processCroppedImage(e,r,n)}},{key:"handleReset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},S,e);t.isBusy!==this.state.isBusy&&this.props.propagateStatus(t.isBusy),this.props.reportError(null),this.props.propagateUpload({}),this.setState(t)}},{key:"handleCropperError",value:function(e){this.setState({cropperData:{},showCropper:!1}),this._reportError(e)}},{key:"handleUploadBtnClick",value:function(e){this._fileInput&&(e.preventDefault(),this._fileInput.click())}},{key:"handleURLChange",value:function(e){this.setState({remoteURL:e.target.value})}},{key:"handleURLSubmit",value:function(){var e=this.state.remoteURL,t=(0,y.isUrlWithProtocol)(e);if(t)return this._reportError({msg:t});this.handleReset({isBusy:!0}),this._processRemoteURL(e)}},{key:"_getImageAttachmentArgs",value:function(){return{get_image_version:this.props.imageVersion,type:(0,d.getAttachmentTypeEnum)(this.props.attachmentType)}}},{key:"_getViewProps",value:function(){var e=this;return Object.assign({},this.props,{handleDelete:function(){return e.setState({showDeletePrompt:!0})},handleURLChange:this.handleURLChange,handleURLSubmit:this.handleURLSubmit,handleUploadBtnClick:this.handleUploadBtnClick,isBusy:this.state.isBusy,remoteURL:this.state.remoteURL})}},{key:"_processCroppedImage",value:(j=O(regeneratorRuntime.mark(function e(t,r,n){var a,o,i,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(0,g.isJpeg)(n)?[g.JPEG_MIMETYPE,.85]:[],o=t.height,i=t.width,e.next=5,(0,c.canvasToBlob)(t,a);case 5:return(l=e.sent).name=r,e.next=9,(0,g.getAndUpdateAttachmentFromLocalFile)(l,{height:o,width:i},this._getImageAttachmentArgs());case 9:u=e.sent,this._resolveUploadImage(u,r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),this._reportError(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])})),function(e,t,r){return j.apply(this,arguments)})},{key:"_processFile",value:(C=O(regeneratorRuntime.mark(function e(t){var r,n,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.promisifiedFileReader)(t);case 3:if(r=e.sent,n=r.dataUrl,!this._shouldOpenCropper(t.type)){e.next=7;break}return e.abrupt("return",this._seedCropper(t,n));case 7:return e.next=9,(0,g.getImageDimsFromUrl)(n);case 9:return a=e.sent,e.next=12,(0,g.getAndUpdateAttachmentFromLocalFile)(t,a,this._getImageAttachmentArgs());case 12:o=e.sent,this._resolveUploadImage(o,t.name),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),this._reportError(e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])})),function(e){return C.apply(this,arguments)})},{key:"_processRemoteURL",value:(b=O(regeneratorRuntime.mark(function e(t){var r,n,a,o,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,g.getRemoteFileTypeAndConfirmURL)(t);case 3:if(r=e.sent,n=r.type,a=r.url,!(o=(0,y.isValidImageFile)({type:n},this.props.allowGifs))){e.next=9;break}return e.abrupt("return",this._reportError({msg:o}));case 9:if(i=(0,h.getFileNameFromUrl)(a),!this._shouldOpenCropper(n)){e.next=12;break}return e.abrupt("return",this._seedCropper({name:i,type:n},a));case 12:return e.next=14,(0,g.getAndUpdateAttachmentFromRemoteURL)(a,this._getImageAttachmentArgs());case 14:l=e.sent,this._resolveUploadImage(l,i),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),this._reportError(e.t0);case 21:case"end":return e.stop()}},e,this,[[0,18]])})),function(e){return b.apply(this,arguments)})},{key:"_reportError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hasOwnProperty("msg")?e.msg:(0,f.getErrorMsg)("uploading your image"),r=e.hasOwnProperty("err")?e.err:e instanceof Error?e:null;this.props.reportError(t),r&&(0,s.default)(r),this.setState({isBusy:!1}),this.props.propagateStatus(!1)}},{key:"_reportUpload",value:function(e){var t=e.dimensions,r=void 0===t?{}:t,n=e.id,a=e.name,o=e.url;this.props.propagateUpload({dimensions:r,id:n,name:a,url:o}),this.props.propagateStatus(!1),this.setState(S)}},{key:"_resolveUploadImage",value:function(e,t){if(!(0,p.getInObj)(["updateAttachment",this.props.attachmentURLKey],e))return this._reportError(new Error("updateAttachmentMutation failed! Check the request."));var r=parseInt(e.updateAttachment.id),n=e.updateAttachment.metadata,a=e.updateAttachment[this.props.attachmentURLKey];this._reportUpload({dimensions:n,id:r,name:t,url:a})}},{key:"_seedCropper",value:function(e,t){this.setState({cropperData:{src:t,fileName:e.name?e.name:"tmp_image_0",fileType:e.type},showCropper:!0})}},{key:"_shouldOpenCropper",value:function(e){return!(this.props.ignoreCropper||(0,g.isGif)(e))}},{key:"render",value:function(){var e=this;return n.default.createElement(l.default,{disabled:this.state.isBusy,onDrop:this.handleFileEvent}," ",n.default.createElement("input",{ref:function(t){return e._fileInput=t},accept:(0,g.getInputAcceptProp)(this.props.allowGifs),className:this.props.inputClassName,onChange:this.handleFileEvent,style:{display:"none"},type:"file"}),this.props.renderView(this._getViewProps()),!this.props.ignoreCropper&&n.default.createElement(i.default,{dismiss:this.handleReset,open:this.state.showCropper,nestedDialogLevel:this.props.nestedDialogLevel,title:this.props.dialogTitle},this.state.showCropper&&n.default.createElement(o.default,{aspectRatio:this.props.aspectRatio,handleImageCrop:this.handleImageCrop,onCancel:this.handleReset,onError:this.handleCropperError,src:this.state.cropperData.src})),n.default.createElement(u.default,{action:"Remove",actionColor:"danger",dismiss:function(){return e.setState({showDeletePrompt:!1})},okay:this.handleReset,open:this.state.showDeletePrompt,title:"Are you sure you want to remove this image?"}))}}])&&w(r.prototype,a),_&&w(r,_),t}();C.propTypes={allowGifs:a.default.bool,aspectRatio:a.default.number,attachmentType:a.default.string,attachmentURLKey:a.default.oneOf(["file_url","imgix_url"]),cropperTitle:a.default.oneOfType([a.default.string,a.default.element]),dimensionsMins:a.default.shape({width:a.default.number}),ignoreCropper:a.default.bool,imageData:a.default.shape({dimensions:a.default.shape({width:a.default.number}),id:a.default.number,name:a.default.string,url:a.default.string}),imageVersion:a.default.string,inputClassName:a.default.string,nestedDlogLevel:a.default.number,propagateStatus:a.default.func,propagateUpload:a.default.func.isRequired,renderView:a.default.func.isRequired,reportError:a.default.func},C.defaultProps={allowGifs:!0,aspectRatio:null,attachmentType:"Image",attachmentURLKey:"imgix_url",ignoreCropper:!1,imageData:{},imageVersion:null,inputClassName:"",nestedDialogLevel:0,propagateStatus:function(){},reportError:function(){}};var j=C;t.default=j},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=(n=r(1))&&n.__esModule?n:{default:n};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=u(t).call(this,e))||"object"!==i(a)&&"function"!=typeof a?s(n):a).state={isDragActive:!1},r.handleDragLeave=r.handleDragLeave.bind(s(r)),r.handleDragOver=r.handleDragOver.bind(s(r)),r.handleDrop=r.handleDrop.bind(s(r)),r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a.Component),r=t,(n=[{key:"handleDragLeave",value:function(e){this.setState({isDragActive:!1})}},{key:"handleDragOver",value:function(e){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy",this.setState({isDragActive:!0}))}},{key:"handleDrop",value:function(e){e.preventDefault(),this.setState({isDragActive:!1}),this.props.onDrop(e)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.disabled,n=e.getClassName;return a.default.createElement("div",{className:n(!r&&this.state.isDragActive),onDragLeave:r?null:this.handleDragLeave,onDragOver:r?null:this.handleDragOver,onDrop:r?null:this.handleDrop},t)}}])&&l(r.prototype,n),o&&l(r,o),t}();d.propTypes={disabled:o.default.bool,getClassName:o.default.func,onDrop:o.default.func},d.defaultProps={disabled:!1,getClassName:function(){return""},onDrop:function(){}};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(348)),i=r(263),l=s(r(5)),u=s(r(1780));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.offsetX,r=e.offsetY,a=e.position,s=e.tooltip,c=e.theme;return n.default.createElement(o.default,{classList:{tooltipInner:u.default.tooltipInner,wrapper:i.tooltipV2},offsetX:t,offsetY:r,multiline:!0,position:a,tooltip:s},n.default.createElement("span",{className:"".concat(l.default.circle," ").concat(u.default[c])},"?"))};c.propTypes={offsetX:a.default.number,offsetY:a.default.number,position:a.default.string,theme:a.default.string,tooltip:a.default.oneOfType([a.default.string,a.default.element]).isRequired},c.defaultProps={offsetX:0,offsetY:0,position:"right",theme:"light"};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(1)),o=i(r(263));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.children,r=e.classList,a=e.multiline,i=e.offsetX,l=e.offsetY,u=e.position,s=e.innerWidth;return n.default.createElement("div",{className:"".concat(r.tooltip," ").concat(o.default.tooltip," ").concat(o.default[u])},n.default.createElement("div",{className:"".concat(o.default.tooltipInner," ").concat(r.tooltipInner," ").concat(a?o.default.tooltipInnerMultiline:""),style:{left:i,top:l,width:s}},t))};l.propTypes={classList:a.default.shape({tooltip:a.default.string,tooltipInner:a.default.string}),innerWidth:a.default.oneOfType([a.default.number,a.default.string]),multiline:a.default.bool,offsetX:a.default.number,offsetY:a.default.number,position:a.default.string},l.defaultProps={classList:{},innerWidth:null,multiline:!1,offsetX:0,offsetY:0,position:"bottom"};var u=l;t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=q(r(1)),o=q(r(57)),i=q(r(1804)),l=q(r(213)),u=q(r(1807)),s=q(r(1808)),c=q(r(1809)),d=q(r(847)),f=q(r(1859)),p=q(r(1860)),m=r(14),h=r(68),y=r(1862),g=r(1863),_=r(1864),v=q(r(22)),b=r(60),O=q(r(1865)),w=q(r(7)),E=q(r(28)),P=r(200),k=r(860),S=r(8),C=r(11),j=r(44),R=r(117),T=r(18),N=r(12),M=r(357),A=q(r(2)),I=q(r(3)),x=q(r(5)),D=q(r(1923));function q(e){return e&&e.__esModule?e:{default:e}}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W={highlightClass:I.default.linkBlue,highlightChar:"@",rules:["code","highlight"]},H={highlightClass:I.default.linkBlue,rules:["code","mention"]},z=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=!(a=F(t).call(this,e))||"object"!==L(a)&&"function"!=typeof a?U(n):a;var o=(0,h.cleanPreAndPostSlashes)(e.currentHistoryData.pathname);return r.state={currentPath:o,currentView:r._getCurrentViewForPath(o),isBusy:!0,isNavigating:!0,offset:0,pagination:M.SIMPLE_PAGINATION,records:[],workers:{}},r.createOrUpdateComment=r.createOrUpdateComment.bind(U(r)),r.createOrUpdatePost=r.createOrUpdatePost.bind(U(r)),r.getCommentsForPost=r.getCommentsForPost.bind(U(r)),r.getRepliesForComment=r.getRepliesForComment.bind(U(r)),r.handleCopyToClipboard=r.handleCopyToClipboard.bind(U(r)),r.handleNavigationForCategory=r.handleNavigationForCategory.bind(U(r)),r.handleNavigationForPost=r.handleNavigationForPost.bind(U(r)),r.handleReportPostOrComment=r.handleReportPostOrComment.bind(U(r)),r.handleSpamPostOrComment=r.handleSpamPostOrComment.bind(U(r)),r.addWorker=y.addWorker.bind(U(r)),r.createComment=g.createComment.bind(U(r)),r.createPost=_.createPost.bind(U(r)),r.deleteComment=g.deleteComment.bind(U(r)),r.deleteCommentViaSpam=g.deleteCommentViaSpam.bind(U(r)),r.deletePost=_.deletePost.bind(U(r)),r.deletePostViaSpam=_.deletePostViaSpam.bind(U(r)),r.getComments=g.getComments.bind(U(r)),r.getCommentReplies=g.getCommentReplies.bind(U(r)),r.removeFromWorkersState=y.removeFromWorkersState.bind(U(r)),r.updateComment=g.updateComment.bind(U(r)),r.updatePost=_.updatePost.bind(U(r)),r._isMounted=!1,r._postAndCommentMarkdownService,r._postEditorMarkdownService,r._windower,r}var r,a,q;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this._isMounted=!0,this._postAndCommentMarkdownService=(0,O.default)(H),this._postEditorMarkdownService=(0,O.default)(W),this._init()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"_init",value:function(){this.props.onInit();var e=this.props.topAnchorId?document.getElementById(this.props.topAnchorId):0;(0,E.default)(e,0),this._fetchRecordsForCurrentView(this.state.currentView,this.state.currentPath)}},{key:"createOrUpdateComment",value:function(e){var t=e.comment,r=e.resolverFn;return t.hasOwnProperty("id")?this.updateComment({comment:t,resolverFn:r}):this.createComment({comment:t,resolverFn:r})}},{key:"createOrUpdatePost",value:function(e){var t=e.post,r=e.oldPost,n=e.failureFn,a=e.resolverFn;return t.hasOwnProperty("id")?this.updatePost({post:t,oldPost:r,failureFn:n,resolverFn:a},this.props.categoryConfigs):this.createPost({post:t,failureFn:n,resolverFn:a})}},{key:"getCommentsForPost",value:function(e,t){this.getComments(e,t)}},{key:"getRepliesForComment",value:function(e){var t=e.comment,r=e.postId,n=e.resolverFn,a=e.worker;this.getCommentReplies({comment:t,postId:r,resolverFn:n,worker:a})}},{key:"handleCopyToClipboard",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};switch(t){case"comment":return r(),v.default.reportEventWithObj((0,b.getClickedMenuItemArgs)({entity_id:e.commentId,entity_type:"Comment",value:"Copy link"})),(0,k.copyStringToClipboard)(this._buildCommentLink(e));case"post":return r(),v.default.reportEventWithObj((0,b.getClickedMenuItemArgs)({entity_id:e.postId,entity_type:"FeedPost",value:"Copy link"})),(0,k.copyStringToClipboard)(this._buildPostLink(e));default:return r()}}},{key:"handleNavigationForCategory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.state.isBusy||this.state.isNavigating,a=t&&t.hasOwnProperty("path")?"/".concat(t.path):"/";(0,R.clickEventHasModifierKey)(e)?v.default.reportEventWithObj((0,b.getClickedLinkArgs)(Object.assign({},r,{href:a,entity_id:this.props.origin.id,entity_type:this.props.origin.type}),e)):(e.preventDefault(),n||(this.props.transition({pathname:a}),v.default.reportEventWithObj((0,b.getClickedLinkArgs)(Object.assign({},r,{href:a,entity_id:this.props.origin.id,entity_type:this.props.origin.type}),e))))}},{key:"handleNavigationForPost",value:function(e,t){if(!(0,R.clickEventHasModifierKey)(e)&&(e.preventDefault(),!this.state.isBusy&&!this.state.isNavigating)){var r="/posts/".concat(t);this.props.currentHistoryData.pathname!==r&&this.props.transition({pathname:r})}}},{key:"handleReportPostOrComment",value:function(e,t,r){var n=this;return this.props.setFlaggedIds(this._getUpdatedFlaggedIdState(e,t),r),(0,y.flagPostOrComment)(t,e.id,(0,S.getInObj)(["id"],this.props.currentUser)).catch(function(r){return n.props.setFlaggedIds(n._getRevertedFlaggedIdState(e,t))})}},{key:"handleSpamPostOrComment",value:function(e,t,r){var n=this;return this.props.setFlaggedIds(this._getUpdatedFlaggedIdState(e,t),r),(0,y.markPostOrCommentAsSpam)(t,e.id).then(function(){return n._resolveHandleSpamPostOrComment(e,t)}).catch(function(r){return n.props.setFlaggedIds(n._getRevertedFlaggedIdState(e,t))})}},{key:"_applySearchToHistory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.props.transition({pathname:this.state.currentPath,search:e}),this._fireNavFilterSelectAnalytics(e)}},{key:"_buildCommentLink",value:function(e){var t=e.commentId,r=e.postId;return"".concat(N.windowLocationOrigin.get()).concat(this.props.pathHelpers.basePath,"/posts/").concat(r,"#comment-").concat(t)}},{key:"_buildPostLink",value:function(e){var t=e.postId,r=this.props.topAnchorId?"#".concat(this.props.topAnchorId):"";return"".concat(N.windowLocationOrigin.get()).concat(this.props.pathHelpers.basePath,"/posts/").concat(t).concat(r)}},{key:"_fetchRecordsForCurrentView",value:function(e,t){return"singular"===e?this._getSingularPost(e,t):this._isByCurrentUser()&&!(0,C.isSignedInUser)(this.props.currentUser)?this._getFakePaginatedResults():this._getPaginatedPosts(e,t)}},{key:"_fetchMoreRecords",value:function(){return this._getPaginatedPosts(this.state.currentView,this.state.currentPath,{page:this.state.pagination.next_page})}},{key:"_fireNavFilterSelectAnalytics",value:function(e){var t=e.length>0?["my_activity",!0]:["all_posts",!0];v.default.reportEventWithObj(b.getClickedFilterArgs.apply(void 0,t))}},{key:"_getCategorySelectOpts",value:function(){return this._isAdmin()?this.props.selectCategories:this.props.selectCategories.filter(function(e){return"ANNOUNCEMENTS"!==e.value})}},{key:"_getCurrentViewForPath",value:function(e){return"/"===e?"default":e.includes("posts/")?"singular":"category"}},{key:"_getRevertedFlaggedIdState",value:function(e,t){return"feed_post"===t?{flaggedPostIds:this.props.flaggedPostIds.filter(function(t){return t!==e.id})}:{flaggedCommentIds:this.props.flaggedCommentIds.filter(function(t){return t!==e.id})}}},{key:"_getUpdatedFlaggedIdState",value:function(e,t){return"feed_post"===t?{flaggedPostIds:this.props.flaggedPostIds.concat([e.id])}:{flaggedCommentIds:this.props.flaggedCommentIds.concat([e.id])}}},{key:"_isByCurrentUser",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.currentView;return"default"===e&&"true"===(0,j.mapifyStringQuery)(this.props.currentHistoryData.search).by_current_user}},{key:"_isAdmin",value:function(){return"admin"===(0,S.getInObj)(["role"],this.props.currentUser)||this.props.origin.admin_ids.includes((0,S.getInObj)(["id"],this.props.currentUser))}},{key:"_isMemberOrAdmin",value:function(){return this.props.isMember||this._isAdmin()}},{key:"_shouldRenderPostEditorView",value:function(){return!(!this._postEditorMarkdownService||"singular"===this.state.currentView||this._isByCurrentUser()||!this._isAdmin()&&this.state.currentPath.toLowerCase()==="ANNOUNCEMENTS".toLowerCase())}},{key:"_safelySetState",value:function(e,t){this._isMounted&&this.setState(e,t)}},{key:"_getFakePaginatedResults",value:function(){var e=this;return new Promise(function(t,r){e._safelySetState({isBusy:!1,isNavigating:!1,pagination:M.SIMPLE_PAGINATION,records:[]}),t()})}},{key:"_getPaginatedPosts",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,m.graphQuery)({t:"feed_posts_simple_pagination"},this._getPaginatedPostsArgs(e,t,n)).then(function(e){var t=e.feed_posts;r._safelySetState({isBusy:!1,isNavigating:!1,pagination:t.metadata,records:n?r.state.records.concat(t.records):t.records})}).catch(function(e){r._safelySetState({isBusy:!1,isNavigating:!1}),(0,w.default)("Discussion _getPaginatedPosts: ",e),(0,T.summonGlobalMessenger)({msg:(0,P.getErrorMsg)("retrieving posts"),type:"error"})})}},{key:"_getPaginatedPostsArgs",value:function(e,t,r){var n="category"===e?{by_category:t.toUpperCase()}:{},a=this._isByCurrentUser(e)?{by_current_user:!0}:{},o=r||{};return Object.assign({},n,a,o,{offset:this.state.offset,origin_id:this.props.origin.id,origin_type:this.props.origin.type})}},{key:"_getSingularPost",value:function(e,t){var r=this,n=parseInt((0,h.cleanPreAndPostSlashes)(t).split("/")[1]);return n&&"number"==typeof n?(0,m.graphQuery)({t:"feed_post"},{id:n,origin_id:this.props.origin.id,origin_type:this.props.origin.type}).then(function(e){var t=e.feed_post;r._safelySetState({isBusy:!1,isNavigating:!1,pagination:M.SIMPLE_PAGINATION,records:[t]})}).catch(function(e){r._safelySetState({isBusy:!1,isNavigating:!1}),(0,w.default)("Discussion _getSingularPost: ",e),(0,T.summonGlobalMessenger)({msg:(0,P.getErrorMsg)("retrieving the post"),type:"error"})}):this._getFakePaginatedResults()}},{key:"_resolveHandleSpamPostOrComment",value:function(e,t){switch(t){case"comment":return this.deleteCommentViaSpam(e);case"feed_post":return this.deletePostViaSpam(e);default:return}}},{key:"_getBreadCrumb",value:function(){var e=this,t=this.props.topAnchorId?"#".concat(this.props.topAnchorId):"";return n.default.createElement(o.default,{classList:{root:A.default.marginBottom10},color:"Pebble",href:"".concat(this.props.pathHelpers.basePath,"/").concat(t),onClick:function(t){return e.handleNavigationForCategory(t,null,{location:"Breadcrumb"})},text:"Back to discussion board"})}},{key:"_getHeader",value:function(){switch(this.state.currentView){case"category":return this._getCategoryHeaderView();case"default":return this._getDefaultHeaderView();case"singular":return this._getSingularPostHeaderView();default:return null}}},{key:"_getDefaultHeaderView",value:function(){var e=this;return n.default.createElement("div",null,this._getHeaderTitleWithMobileMenu(n.default.createElement("h2",{className:I.default.h2},"Discussion board")),n.default.createElement(u.default,{currentHistoryData:this.props.currentHistoryData,onClick:function(t){return e._applySearchToHistory(t.value)}}))}},{key:"_getCategoryTitle",value:function(e){return n.default.createElement("div",{className:"".concat(A.default.flexCenterItems)},n.default.createElement("div",{style:{borderRadius:2,height:15,marginTop:3,width:15},className:"".concat(x.default[e.colorClass]," ").concat(A.default.marginRight10)}),n.default.createElement("h2",{className:I.default.h2},e.title))}},{key:"_getCategoryHeaderView",value:function(){var e=this,t=this.props.categoryConfigs.find(function(t){return t.path===e.state.currentPath});return t?n.default.createElement("div",null,this._getBreadCrumb(),this._getHeaderTitleWithMobileMenu(this._getCategoryTitle(t))):null}},{key:"_getHeaderTitleWithMobileMenu",value:function(e){return n.default.createElement("div",{className:"".concat(A.default.flexCenterItems," ").concat(A.default.flexJustifySpaceBetween," ").concat(A.default.marginBottom30)},n.default.createElement(n.Fragment,null,e,this._getMobileMenu()))}},{key:"_getMobileMenu",value:function(){return n.default.createElement("div",{className:A.default.hiddenMedUp},n.default.createElement(i.default,{basePath:this.props.pathHelpers.basePath,categories:this.props.categoryConfigs,onClick:this.handleNavigationForCategory,topAnchorId:this.props.topAnchorId}))}},{key:"_getPlaceHolderView",value:function(e){return n.default.createElement("div",{className:"".concat(I.default.bodyM," ").concat(A.default.marginTop30)},e)}},{key:"_getPostCreatorView",value:function(){return this._shouldRenderPostEditorView()?this._isMemberOrAdmin()?n.default.createElement(d.default,{categoryConfig:this.props.categoryConfigs,categorySelectOpts:this._getCategorySelectOpts(),currentPath:this.state.currentPath,currentUser:this.props.currentUser,isBusy:this.state.isBusy,markdownService:this._postEditorMarkdownService,origin:this.props.origin,onPostOrUpdate:this.createOrUpdatePost}):this._getPlaceHolderView(this.props.isNotMemberPlaceholder):null}},{key:"_getSingularPostHeaderView",value:function(){return this._getHeaderTitleWithMobileMenu(this._getBreadCrumb())}},{key:"_getPosts",value:function(){if(this.state.isNavigating)return n.default.createElement(s.default,null);switch(this.state.currentView){case"default":case"category":return this._getPostsView();case"singular":return this._getSingularPostView();default:return null}}},{key:"_getPostsView",value:function(){var e=this;if(this._isByCurrentUser()&&!(0,C.isSignedInUser)(this.props.currentUser))return this._getPlaceHolderView("Please log in to see your posts.");if(!this.state.records.length)return this._getPlaceHolderView("There are no posts yet!");var t=this.state.records.length,r=this.state.pagination.next_page?t+1:t;return n.default.createElement(l.default,{buffer:500,fetchMore:function(){return e._fetchMoreRecords()},recordsCount:t,renderLoader:function(){return n.default.createElement(s.default,null)},totalRecordsCount:r},n.default.createElement(p.default,{ref:function(t){return e._windower=t},isBusy:this.state.isBusy,records:this.state.records},function(t){var r=t.record;return n.default.createElement(c.default,{key:r.id,basePath:e.props.pathHelpers.basePath,categoryConfig:e.props.categoryConfigs,categorySelectOpts:e._getCategorySelectOpts(),config:{allowScrollToCommentOnMount:!1},createOrUpdateComment:e.createOrUpdateComment,currentPath:e.state.currentPath,currentUser:e.props.currentUser,deleteComment:e.deleteComment,flaggedIds:{comments:e.props.flaggedCommentIds,posts:e.props.flaggedPostIds},isBusy:e.state.isBusy,markdownServices:{editor:e._postEditorMarkdownService,postOrComment:e._postAndCommentMarkdownService},onCategoryTagClick:function(t,r){return e.handleNavigationForCategory(t,r,{location:"CategoryTag"})},onCopyLinkClick:e.handleCopyToClipboard,onCreatedAtClick:e.handleNavigationForPost,onDeleteClick:e.deletePost,onPostUpdate:e.createOrUpdatePost,onReportClick:e.handleReportPostOrComment,onShowMoreCommentRepliesClick:e.getRepliesForComment,onShowPreviousCommentsClick:e.getCommentsForPost,onSpamClick:e.handleSpamPostOrComment,origin:e.props.origin,post:r,userCanComment:e._isMemberOrAdmin(),workers:e.state.workers})}))}},{key:"_getSingularPostView",value:function(){return n.default.createElement(c.default,{basePath:this.props.pathHelpers.basePath,categoryConfig:this.props.categoryConfigs,categorySelectOpts:this._getCategorySelectOpts(),config:{allowScrollToCommentOnMount:!0},createOrUpdateComment:this.createOrUpdateComment,currentPath:this.state.currentPath,currentUser:this.props.currentUser,deleteComment:this.deleteComment,flaggedIds:{comments:this.props.flaggedCommentIds,posts:this.props.flaggedPostIds},isBusy:this.state.isBusy,markdownServices:{editor:this._postEditorMarkdownService,postOrComment:this._postAndCommentMarkdownService},onCategoryTagClick:this.handleNavigationForCategory,onCopyLinkClick:this.handleCopyToClipboard,onCreatedAtClick:this.handleNavigationForPost,onDeleteClick:this.deletePost,onPostUpdate:this.createOrUpdatePost,onReportClick:this.handleReportPostOrComment,onShowMoreCommentRepliesClick:this.getRepliesForComment,onShowPreviousCommentsClick:this.getCommentsForPost,onSpamClick:this.handleSpamPostOrComment,origin:this.props.origin,post:this.state.records[0]||null,renderAllComments:!0,userCanComment:this._isMemberOrAdmin(),workers:this.state.workers})}},{key:"render",value:function(){return n.default.createElement("div",{className:"".concat(A.default.container," ").concat(D.default.container)},n.default.createElement("div",{className:"".concat(A.default.wrapper960," ").concat(A.default.flex," ").concat(x.default.posRelative)},n.default.createElement("div",{className:A.default.fullWidth},n.default.createElement("div",{className:D.default.header},this._getHeader()),this._getPostCreatorView(),this._getPosts()),n.default.createElement("div",{className:"".concat(D.default.sidebarWrapper," ").concat(A.default.hiddenMedDown),id:"discussionSidebar"},n.default.createElement(f.default,{basePath:this.props.pathHelpers.basePath,categories:this.props.categoryConfigs,className:D.default.sidebar,onClick:this.handleNavigationForCategory,parentId:"discussionSidebar",topBuffer:this.props.stickyBuffer,topAnchorId:this.props.topAnchorId}))))}}])&&B(r.prototype,a),q&&B(r,q),t}();z.propTypes={currentHistoryData:a.default.shape({pathname:a.default.string,search:a.default.string}).isRequired,currentUser:a.default.shape({avatar_url:a.default.string.isRequired,confirmed:a.default.bool,id:a.default.number,name:a.default.string,role:a.default.string,url:a.default.string}).isRequired,flaggedCommentIds:a.default.arrayOf(a.default.number).isRequired,flaggedPostIds:a.default.arrayOf(a.default.number).isRequired,isMember:a.default.bool.isRequired,isNotMemberPlaceholder:a.default.string,onInit:a.default.func,origin:a.default.shape({admin_ids:a.default.arrayOf(a.default.number).isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,type:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,pathHelpers:a.default.shape({basePath:a.default.string.isRequired}).isRequired,setFlaggedIds:a.default.func.isRequired,stickyBuffer:a.default.number,topAnchorId:a.default.string},z.defaultProps={isNotMemberPlaceholder:"Only participants can post here.",onInit:function(){},stickyBuffer:0,topAnchorId:null};var G=z;t.default=G},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(2)),i=u(r(3)),l=u(r(5));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.basePath,r=e.categories,a=(e.className,e.onClick),u=e.topAnchorId;return n.default.createElement("div",null,n.default.createElement("h5",{className:"".concat(i.default.h5," ").concat(o.default.paddingBottom10," ").concat(l.default.borderBottom)},"Categories"),n.default.createElement("div",null,n.default.Children.toArray(r.map(function(e){return n.default.createElement("div",{className:o.default.marginTop10},n.default.createElement("div",{className:o.default.flexCenterItems},n.default.createElement("div",{style:{height:8,width:8},className:"".concat(l.default.borderRadiusSmall," ").concat(l.default[e.colorClass])}),n.default.createElement("a",{className:"".concat(i.default.bodyM," ").concat(i.default.bold," ").concat(i.default.linkCharcoal," ").concat(i.default.bold," ").concat(o.default.marginLeft10),href:"".concat(t,"/").concat(e.path).concat(u?"#".concat(u):""),onClick:function(t){return function(e){var t=e.category,r=e.e,n=e.onClick,a={location:"CategorySidebar"};t.hasOwnProperty("onClick")&&"function"==typeof t.onClick?n(r,t.onClick(t),a):n(r,t,a)}({category:e,e:t,onClick:a})}},e.title)),n.default.createElement("p",{className:i.default.bodyM},e.text))}))))};s.propTypes={basePath:a.default.string.isRequired,categories:a.default.arrayOf(a.default.shape({colorClass:a.default.string.isRequired,enum:a.default.string.isRequired,path:a.default.string.isRequired,text:a.default.string.isRequired,title:a.default.string.isRequired})).isRequired,onClick:a.default.func.isRequired,topAnchorId:a.default.string},s.defaultProps={topAnchorId:null};var c=s;t.default=c},function(e,t,r){e.exports={content:"user_card__content__1YVc5"}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return Array.isArray(t)?e.find(function(e){return e[t[0]]===t[1]}):new Error("Expected next in path to be a [key: value] list! Key: ".concat(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.previous={},this.store={}}var t,r,o;return t=e,(r=[{key:"delete",value:function(e){var t=this.store[e];return this.store[e]?(this.previous[e]=t,delete this.store[e],t):new Error("Resource is not in store!")}},{key:"deleteIn",value:function(e){var t=this;return e.reduce(function(r,n,o){return"error"==typeof r?r:(Array.isArray(r)?o===e.length-1?(r=function(e,t){return e.filter(function(e){return e[t[0]]!==t[1]})}(r,n),t.updateRecords(e.slice(0,-1),r)):r=a(r,n):o===e.length-1||r[n]?o===e.length-1?delete r[n]:r=r[n]:r=new Error("Incorrect path for setIn! Path: ".concat(e)),r)},this.store)}},{key:"dispatch",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(a,o){return r.has(t)&&!1===n?a(r.get(t)):e().then(function(e){return r.set(t,e),a(e)}).catch(function(e){return o(e)})})}},{key:"get",value:function(e){return this.store[e]}},{key:"getIn",value:function(e){return Array.isArray(e)?e.reduce(function(t,r){return"error"==typeof t?t:t=Array.isArray(t)?a(t,r):t[r]?t[r]:new Error("Incorrect path for getIn! Path: ".concat(e,", Key: ").concat(r))},this.store):new Error("getIn argument must be an array!  Arg: ".concat(e))}},{key:"getPrevious",value:function(e){return this.previous[e]}},{key:"getStore",value:function(){return this.store}},{key:"has",value:function(e){return this.store.hasOwnProperty(e)}},{key:"hasIn",value:function(e){if(!Array.isArray(e))return new Error("hasIn argument must be an array!  Arg: ".concat(e));var t=!0;return e.reduce(function(e,r){if(!t)return e;if(Array.isArray(e)){var n=a(e,r);"error"!=typeof n&&void 0!==n?e=n:t=!1}else e[r]?e=e[r]:t=!1;return e},this.store),t}},{key:"set",value:function(e,t){return this.has(e)&&(this.previous[e]=this.store[e]),this.store[e]=t,this.store}},{key:"setAll",value:function(e){return this.store=Object.assign({},this.store,e),this.store}},{key:"setIn",value:function(e,t){var r=this;return e.reduce(function(n,o,i){return"error"==typeof n?n:(Array.isArray(n)?i===e.length-1?(n=function(e,t,r){var n=!1;return e.reduce(function(a,o,i){return i!==e.length-1||o[t[0]]===t[1]||n?o[t[0]]===t[1]?(n=!0,a.concat(Object.assign({},o,r))):a.concat(o):a.concat(r)},[])}(n,o,t),r.updateRecords(e.slice(0,-1),n)):n=a(n,o):i===e.length-1||n[o]?i===e.length-1?n[o]=t:n=n[o]:n=new Error("Incorrect path for setIn! Path: ".concat(e)),n)},this.store)}},{key:"updateRecords",value:function(e,t){e.reduce(function(r,n,a){return a===e.length-1?r[n]=t:r=r[n],r},this.store)}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommunityHoverData=function(e){return"\n    {\n      record: channel(id: ".concat(e,") {\n        avatar_url\n        brief\n        stats {\n          members\n          projects\n        }\n        type\n      }\n    }\n  ")},t.getCommunityHoverDataForGlobal=function(e){return"\n    {\n      record: channel(id: ".concat(e,") {\n        avatar_url\n        brief\n        name\n        stats {\n          members\n          projects\n        }\n        type\n        url\n      }\n    }\n  ")},t.getPaginatedCommunitiesForUser=function(e){var t=e.per_page,r=e.page,n=e.user_id;return"\n    {\n      communities: user_channels(user_id: ".concat(n,", per_page: ").concat(t,", page: ").concat(r,', sort: "top") {\n        records {\n          avatar_url\n          id\n          name\n          status(user_id: ').concat(n,")\n          type\n          url\n        }\n        metadata {\n          current_page\n          per_page\n          total_pages\n          total_records\n        }\n      }\n    }\n  ")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=l(r(477)),i=l(r(1812));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,d(t).call(this,e))}var r,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n.Component),r=t,(a=[{key:"render",value:function(){var e=this.props,t=e.avatar_url,r=e.brief,a=e.classList,l=e.id,u=e.name,s=e.stats,c=e.url,d=Object.assign({},i.default,a),f={avatar_url:t,id:l,members_count:s.members,name:u,pitch:r,projects_count:s.projects,url:c};return n.default.createElement(o.default,{classList:{wrapper:d.root},item:f,showBorder:!1})}}])&&s(r.prototype,a),l&&s(r,l),t}();p.propTypes={avatar_url:a.default.string,brief:a.default.string.isRequired,classList:a.default.shape({root:a.default.string,panel:a.default.string}),id:a.default.number.isRequired,name:a.default.string.isRequired,stats:a.default.shape({members:a.default.number.isRequired,projects:a.default.number.isRequired}),url:a.default.string.isRequired},p.defaultProps={avatar_url:null,classList:{}};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=p(r(1816)),i=p(r(436)),l=p(r(1817)),u=r(11),s=r(55),c=p(r(2)),d=p(r(5)),f=p(r(350));function p(e){return e&&e.__esModule?e:{default:e}}var m={video:l.default},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.link;return t||s.NOOP_HREF},y=function(e){var t=e.embed,r=e.killEmbed,a=e.mode;return(0,u.isBlank)(t)?null:n.default.createElement("a",{className:"".concat(f.default.root," ").concat(c.default.marginBottom15," ").concat(c.default.marginTop15," ").concat(d.default.border," ").concat(d.default.posRelative),href:"edit"===a?s.NOOP_HREF:h(t),rel:"noopener noreferrer",target:"_blank"},"edit"===a&&n.default.createElement(i.default,{className:f.default.dismiss,onClick:function(e){e.preventDefault(),r()}}),n.default.createElement(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.embed_type;return m[t]||o.default}(t),{embed:t,mode:a}))};y.propTypes={embed:a.default.object.isRequired,killEmbed:a.default.func,mode:a.default.string},y.defaultProps={killEmbed:function(){},mode:"show"};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=r(49),i=c(r(2)),l=c(r(3)),u=c(r(5)),s=c(r(350));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return e.substring(0,200).replace(/[\,\.\;\-\(\+\=\{\s]+$/,"")+"..."},f=function(e){var t,r,a=e.embed;return n.default.createElement("div",{className:"".concat(i.default.padding15," ").concat(i.default.flexColumn," ").concat(s.default.bodyWrapper)},n.default.createElement("div",{className:"".concat(u.default.overflowHidden," ").concat(i.default.flexColumn," ").concat(s.default.body)},n.default.createElement("div",{className:"".concat(l.default.bodyM," ").concat(l.default.link," ").concat(l.default.bold)},a.title),n.default.createElement("p",{className:"".concat(s.default.description," ").concat(l.default.bodyS," ").concat(l.default.pebble," ").concat(l.default.overflowBreakWord)},(t=a.description,r=t?(0,o.unescape)(t):"",t.length>200?d(r):r)),n.default.createElement("div",{className:"".concat(s.default.siteName," ").concat(l.default.bodyS," ").concat(l.default.pebble)},a.website_name)))};f.propTypes={embed:a.default.object.isRequired};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=r(199),i=l(r(5));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.allowFullScreen,r=e.aspectRatio,a=e.className,l=e.src;return n.default.createElement("div",{className:"".concat(i.default.absolutePlaceholderParent," ").concat(a),style:{paddingBottom:(0,o.aspectRatioPadding)({aspectRatio:r})}},n.default.createElement("iframe",{allowFullScreen:t,className:"".concat(i.default.absolutePlaceholderChild," ").concat(i.default.overflowHidden),frameBorder:0,height:"100%",src:l,width:"100%"}))};u.propTypes={allowFullScreen:a.default.bool,aspectRatio:a.default.number,className:a.default.string,src:a.default.string},u.defaultProps={allowFullScreen:!0,aspectRatio:16/9,className:"",src:""};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(9)),i=s(r(1822)),l=s(r(10)),u=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return e&&"admin"===e.role},d=function(e,t){return!!e&&("admin"===e.role||e.id===t.user.id)},f=function(e){var t=e.copyLinkText,r=e.currentUser,a=e.isFlagged,s=e.onCopyLinkClick,f=e.onDeleteClick,p=e.onEditClick,m=e.onReportClick,h=e.onSpamClick,y=e.openMenu,g=e.record,_=e.toggleMenu;return n.default.createElement("div",{className:"".concat(u.default.posRelative," ").concat(u.default.height100P)},n.default.createElement("button",{className:l.default.blank,onClick:_},n.default.createElement(o.default,{name:"view-more",size:16})),y&&n.default.createElement(i.default,{copyLinkText:t,isCurrentUserAnAdmin:c(r),isCurrentUserPostAuthorOrAdmin:d(r,g),isFlagged:a,isUserSignedIn:r.id>0,onCopyLinkClick:s,onDeleteClick:f,onEditClick:p,onReportClick:m,onSpamClick:h,toggleMenu:_}))};f.propTypes={copyLinkText:a.default.string.isRequired,currentUser:a.default.shape({id:a.default.number,role:a.default.string}),isFlagged:a.default.bool.isRequired,onCopyLinkClick:a.default.func.isRequired,onDeleteClick:a.default.func.isRequired,onEditClick:a.default.func.isRequired,onReportClick:a.default.func.isRequired,onSpamClick:a.default.func.isRequired,openMenu:a.default.bool.isRequired,record:a.default.shape({user:a.default.shape({id:a.default.number.isRequired}).isRequired}).isRequired,toggleMenu:a.default.func.isRequired},f.defaultProps={currentUser:null};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=h(r(1)),o=h(r(115)),i=h(r(15)),l=h(r(837)),u=r(43),s=h(r(10)),c=h(r(21)),d=h(r(2)),f=h(r(484)),p=h(r(3)),m=h(r(352));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(r=!(o=_(t).call(this,e))||"object"!==y(o)&&"function"!=typeof o?v(a):o).state={editorText:"",editorToolbar:n.default.createElement("div",null),renderEditor:"default"!==e.mode},r.activateEditor=r.activateEditor.bind(v(r)),r.handleSubmit=r.handleSubmit.bind(v(r)),r.resetState=r.resetState.bind(v(r)),r._editor,r}var r,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n.PureComponent),r=t,(a=[{key:"activateEditor",value:function(){var e=this.props.currentUser;!e.id||e.id<0?this.props.summonLoginPanel():e.confirmed?this._toggleRenderEditor(!0):this.props.summonConfirmationEmailMsg()}},{key:"handleSubmit",value:function(){var e=this.props.comment.id?{id:this.props.comment.id}:{},t=this.props.comment.parent_id?{parent_id:this.props.comment.parent_id}:{};null===this._getTextAreaErrors()&&this.props.onPost({comment:Object.assign({},e,t,{commentable_id:this.props.postId,commentable_type:"FeedPost",raw_body:this.state.editorText.trim()}),resolverFn:"default"!==this.props.mode?this.props.dismiss:this.resetState})}},{key:"resetState",value:function(){this._editor&&this._editor.__reset()}},{key:"_getTextAreaErrors",value:function(){return(0,u.maxLength)(1600,this.state.editorText.trim())}},{key:"_toggleRenderEditor",value:function(e){var t=this;e!==this.state.renderEditor&&this.setState({renderEditor:e},function(){e||t.props.dismiss()})}},{key:"_getEditor",value:function(){return this.state.renderEditor?this._getEditorView():this._getDummyInputView()}},{key:"_getEditorView",value:function(){var e=this;return n.default.createElement("div",{className:"".concat(c.default.input," ").concat(m.default.input)},n.default.createElement(l.default,{ref:function(t){return e._editor=t},classList:{root:m.default.richTextEditorRoot,markdownBtn:"".concat(s.default.cancel," ").concat(p.default.bodyS," ").concat(f.default.markdownBtn)},config:{mentions:!0,tags:!0},focusOnMount:!0,initText:this.props.comment.raw_body,markdownService:this.props.markdownService,onBlur:function(){return e._toggleRenderEditor(!1)},onFocus:function(){return e._toggleRenderEditor(!0)},placeholder:"Add comment",propagateText:function(t){return e.setState({editorText:t})},propagateToolbar:function(t){return e.setState({editorToolbar:t})}}))}},{key:"_getDummyInputView",value:function(){return n.default.createElement("input",{className:"".concat(c.default.input," ").concat(m.default.inputDummy),onClick:this.activateEditor,placeholder:"Add comment",readOnly:!0,value:""})}},{key:"_getEditorActionsView",value:function(){return!this.state.renderEditor||this.state.renderEditor&&!this.state.editorText.length?null:n.default.createElement("div",{className:"".concat(d.default.flexJustifySpaceBetween," ").concat(d.default.marginTop5)},this.state.editorToolbar,this._getEditorActionsBtnsView())}},{key:"_getEditorActionsBtnsView",value:function(){var e="edit"===this.props.mode;return n.default.createElement("div",null,e&&n.default.createElement(i.default,{colorStyle:"cancel",disabled:this.props.isBusy,onClick:this.props.dismiss,size:"sm"},"Cancel"),n.default.createElement(o.default,{isBusy:this.props.isBusy,onClick:this.handleSubmit,size:"sm",text:e?"Save":"Post"}))}},{key:"_getErrorView",value:function(){var e=this._getTextAreaErrors();if(null!==e)return n.default.createElement("div",{className:"".concat(c.default.error," ").concat(d.default.margin0)},e)}},{key:"render",value:function(){return n.default.createElement("div",{className:d.default.flex},"edit"!==this.props.mode&&n.default.createElement("img",{className:"".concat(this.props.comment.parent_id?m.default.avatarSm:m.default.avatar," ").concat(d.default.marginRight10),src:this.props.currentUser.avatar_url}),n.default.createElement("div",{className:"".concat(d.default.flexColumn," ").concat(d.default.fullWidth)},this._getEditor(),this._getEditorActionsView(),this._getErrorView()))}}])&&g(r.prototype,a),h&&g(r,h),t}();O.propTypes={comment:a.default.shape({id:a.default.number,parent_id:a.default.number,raw_body:a.default.string}),currentUser:a.default.shape({avatar_url:a.default.string,confirmed:a.default.bool,id:a.default.number,name:a.default.string,role:a.default.string,url:a.default.string}).isRequired,dismiss:a.default.func,isBusy:a.default.bool.isRequired,markdownService:a.default.object.isRequired,mode:a.default.oneOf(["default","edit","reply"]),postId:a.default.number.isRequired,summonConfirmationEmailMsg:a.default.func,summonLoginPanel:a.default.func},O.defaultProps={comment:{id:null,parent_id:null,raw_body:""},dismiss:function(){},mode:"default",summonConfirmationEmailMsg:function(){},summonLoginPanel:function(){}};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=p(r(1)),o=r(23),i=p(r(476)),l=p(r(1823)),u=p(r(1850)),s=p(r(1853)),c=p(r(1854)),d=p(r(10)),f=p(r(481));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=y(t).call(this,e))||"object"!==m(a)&&"function"!=typeof a?g(n):a).state={currentEntity:null,editorState:(0,l.default)(e.initText,g(r)),rawText:"",readOnly:!1,view:"default"},r.handleReturn=r.handleReturn.bind(g(r)),r.onBlur=r.onBlur.bind(g(r)),r.updateEditorState=r.updateEditorState.bind(g(r)),r.__focus=r.__focus.bind(g(r)),r.__getText=r.__getText.bind(g(r)),r.__getToolbar=r.__getToolbar.bind(g(r)),r.__reset=r.__reset.bind(g(r)),r.__setReadOnly=r.__setReadOnly.bind(g(r)),r.__setStuntedEvent=r.__setStuntedEvent.bind(g(r)),r.__toggleViewState=r.__toggleViewState.bind(g(r)),r._stuntedEvent=null,r._isMounted,r.editor,r}var r,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._isMounted=!0,this._propagateCallbacks(),this.props.focusOnMount&&this.__focus()}},{key:"componentDidUpdate",value:function(e,t){t.view===this.state.view&&t.editorState.getCurrentContent()===this.state.editorState.getCurrentContent()||this._propagateCallbacks()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"_propagateCallbacks",value:function(){var e=this.__getText();this.props.propagateViewState(this.state.view),this.props.propagateToolbar(this.__getToolbar(e)),this.props.propagateText(e)}},{key:"__focus",value:function(){this._isMounted&&this.editor&&this.editor.focus()}},{key:"__getText",value:function(){if(this._isMounted)return this.state.editorState.getCurrentContent().getPlainText()}},{key:"__getToolbar",value:function(e){var t=this,r=(e=e||this.__getText()).length>0;return n.default.createElement("div",{className:c.default.toolbar},n.default.createElement("button",{className:this.props.classList.markdownBtn||d.default.blank,disabled:!r,onClick:function(){return t.__toggleViewState()}},"default"===this.state.view?"Markdown preview":"Click to edit"))}},{key:"__reset",value:function(){if(this._isMounted)return this.setState({editorState:(0,l.default)(null,this),rawText:"",view:"default"})}},{key:"__setReadOnly",value:function(e,t){this.setState({readOnly:e},t)}},{key:"__setStuntedEvent",value:function(e){this._stuntedEvent=e}},{key:"__toggleViewState",value:function(){this._isMounted&&("markdown"===this.state.view?this.setState({view:"default"}):this.setState({rawText:this.state.editorState.getCurrentContent().getPlainText(),view:"markdown"}))}},{key:"handleReturn",value:function(e){if(f.default.pub("return",e),"return"===this._stuntedEvent)return"handled"}},{key:"onBlur",value:function(e){f.default.pub("blur",e),this.state.editorState.getCurrentContent().getPlainText().length>0||this.props.onBlur(e)}},{key:"updateEditorState",value:function(e){var t=this._getCurrentEntity(e),r=t!==this.state.currentEntity,n=e.getCurrentContent()!==this.state.editorState.getCurrentContent(),a={currentEntity:t,previousEntity:this.state.currentEntity};this.setState({editorState:e,currentEntity:t},function(){r&&f.default.pub("entityChanged",a),n&&f.default.pub("stateUpdated",e)})}},{key:"_getCurrentEntity",value:function(e){var t=e.getCurrentContent(),r=e.getSelection();if(!1===r.isCollapsed())return null;var n=r.getAnchorOffset();return t.getBlockForKey(r.getAnchorKey()).getEntityAt(n-1)}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:"\n          ".concat(c.default.resetDraftGlobals,"\n          ").concat(c.default.root,"\n          ").concat(this.props.classList.root,"\n          ").concat(c.default[this.props.toolbarPlacement],"\n        ").trim()},"default"===this.state.view?n.default.createElement(o.Editor,{ref:function(t){return e.editor=t},editorState:this.state.editorState,handleBeforeInput:u.default.bind(this),handlePastedText:s.default.bind(this),handleReturn:this.handleReturn,onBlur:this.onBlur,onChange:this.updateEditorState,onEscape:function(e){return f.default.pub("escape",e)},onFocus:this.props.onFocus,onUpArrow:function(e){return f.default.pub("arrow_up",e)},onDownArrow:function(e){return f.default.pub("arrow_down",e)},placeholder:this.props.placeholder,readOnly:this.state.readOnly,stripPastedStyles:!0}):n.default.createElement(i.default,{content:this.state.rawText,markdownService:this.props.markdownService}))}}])&&h(r.prototype,a),p&&h(r,p),t}();v.propTypes={classList:a.default.shape({root:a.default.string,markdownBtn:a.default.string}),config:a.default.shape({mentions:a.default.bool,tags:a.default.bool}),focusOnMount:a.default.bool,handleEmbed:a.default.func,initText:a.default.string,markdownService:a.default.object.isRequired,mode:a.default.string,onBlur:a.default.func,onFocus:a.default.func,placeholder:a.default.string,propagateText:a.default.func,propagateToolbar:a.default.func,propagateViewState:a.default.func,renderToolbar:a.default.bool,toolbarPlacement:a.default.string},v.defaultProps={classList:{root:"",markdownBtn:null},config:{mentions:!1,tags:!1},focusOnMount:!1,handleEmbed:function(){},initText:null,mode:"default",onBlur:function(){},onFocus:function(){},placeholder:"",propagateText:function(){},propagateToolbar:function(){},propagateViewState:function(){},renderToolbar:!0,toolbarPlacement:"row"};var b=v;t.default=b},,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return e.getBlockMap().reduce(function(e,l){var u=[];return(0,a.findWithRegex)(t,l,function(t,a,s){var c=function(e,t){return o.hasOwnProperty(e)?o[e](t):new Error("Entity type is not defined!  Check entifyContent.")}(r,e);u.push({blockKey:l.getKey(),entityKey:c.getLastCreatedEntityKey(),text:i(s),start:t,end:a});var d=n.SelectionState.createEmpty(l.getKey()).merge({anchorOffset:t,focusOffset:a}),f=n.Modifier.applyEntity(c,d,c.getLastCreatedEntityKey());e=f}),u.reduceRight(function(e,t){var r=n.SelectionState.createEmpty(t.blockKey).merge({anchorOffset:t.start,focusOffset:t.end});return n.Modifier.replaceText(e,r,t.text,null,t.entityKey)},e)},e)};var n=r(23),a=r(354),o={MENTION:function(e){return function(e){return e.createEntity("MENTION","MUTABLE",{})}(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=_(r(1)),o=r(49),i=_(r(1856)),l=_(r(848)),u=_(r(1857)),s=_(r(1858)),c=_(r(481)),d=_(r(450)),f=_(r(96)),p=_(r(7)),m=r(8),h=r(45),y=r(11),g=_(r(3));function _(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P="Share something cool or ask a question.",k=function(e){function t(e){var r,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this;var i=(r=!(o=O(t).call(this,e))||"object"!==v(o)&&"function"!=typeof o?w(a):o)._initCategoryOpt(e);return r.state={categoryOpt:i,categorySelectOpts:r._initCategorySelectOpts(e,i),embed:(0,m.getInObj)(["entities","embed"],e.post)||{},embedCache:{},errors:{},isBusy:!1,isFocused:"edit"===r.props.mode,markdownBtn:n.default.createElement("div",null),placeholder:P},r.clickOutsideListenerCallback=r.clickOutsideListenerCallback.bind(w(r)),r.handleCategorySelection=r.handleCategorySelection.bind(w(r)),r.handleDraftEditorUpated=r.handleDraftEditorUpated.bind(w(r)),r.handleOnPostOrSave=r.handleOnPostOrSave.bind(w(r)),r.resetEditorState=r.resetEditorState.bind(w(r)),r.setServerError=r.setServerError.bind(w(r)),r.scrapePageForLink=r.scrapePageForLink.bind(w(r)),r._draftSubKey=(0,f.default)(),r._clickOutsideListener,r._editor,r._root,r}var r,a,_;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){"edit"===this.props.mode&&this._editor&&this._editor.__focus(),c.default.sub("stateUpdated",this.handleDraftEditorUpated,this._draftSubKey)}},{key:"componentWillUnmount",value:function(){this._cleanupOutsideClickListener(),c.default.unsub("stateUpdated",this._draftSubKey)}},{key:"_initCategoryOpt",value:function(e){return e.post?e.categorySelectOpts.find(function(t){return t.value===e.post.category}):null}},{key:"_initCategorySelectOpts",value:function(e,t){return"default"===e.mode?this._initCategorySelectOptsDefault(e):this._initCategorySelectOptsEdit(e,t)}},{key:"_initCategorySelectOptsDefault",value:function(e){var t=[{disabled:!0,hidden:!0,label:this._getBlankLabelForCategoryOpts(),labelText:"Choose category",value:"NOOP"}].concat(e.categorySelectOpts),r="/"===e.currentPath?{value:"NOOP"}:{value:e.currentPath};return this._getUpdatedCategorySelectOpts(r,t)}},{key:"_initCategorySelectOptsEdit",value:function(e,t){return this._getUpdatedCategorySelectOpts(t,e.categorySelectOpts)}},{key:"clickOutsideListenerCallback",value:function(){this._cleanupOutsideClickListener(),this._unFocusEditorConditonally()}},{key:"handleCategorySelection",value:function(e){this.setState({categoryOpt:e,categorySelectOpts:this._getUpdatedCategorySelectOpts(e),errors:(0,h.removeFromObject)(this.state.errors,"category")})}},{key:"handleDraftEditorUpated",value:function(e){this.state.errors.hasOwnProperty("content")&&e.getCurrentContent().getPlainText().length>0&&this.setState({errors:(0,h.removeFromObject)(this.state.errors,"content")})}},{key:"handleOnPostOrSave",value:function(){var e=this._getCategoryForPost(),t=this._editor.__getText(),r=this._validate(t,e);if(!(0,y.isBlank)(r))return this.setState({errors:r});var n=this.props.post?{id:this.props.post.id}:{},a=(0,y.isBlank)(this.state.embed)?{}:{entities:JSON.stringify({embed:this.state.embed})},i=Object.assign({},n,a,{category:e,body:(0,o.escape)(t)});this.props.onPostOrUpdate({post:i,oldPost:this.props.post,failureFn:this.setServerError,resolverFn:"default"===this.props.mode?this.resetEditorState:this.props.dismiss}),this._editor.__setReadOnly(!0)}},{key:"resetEditorState",value:function(){this._editor.__reset(),this._editor.__setReadOnly(!1),this.setState({categoryOpt:null,categorySelectOpts:this._initCategorySelectOpts(this.props,null),embed:{},embedCache:{},errors:{},isFocused:!1})}},{key:"setServerError",value:function(){this._editor.__setReadOnly(!1),this.setState({errors:{server:"Sorry, try posting again!"}})}},{key:"scrapePageForLink",value:function(e){if((0,y.isBlank)(this.state.embed))return this.state.embedCache.hasOwnProperty(e)?this.setState({embed:this.state.embedCache[e]}):this._fetchScrapedPage(e)}},{key:"_fetchScrapedPage",value:function(e){var t=this;return this.setState({isBusy:!0}),(0,s.default)(e).then(function(r){var n,a,o,i=(0,m.getInObj)(["link"],r),l=i||e,u=i?r:{};t.setState({embed:u,embedCache:Object.assign({},t.state.embedCache,(n={},a=l,o=u,a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o,n)),isBusy:!1})}).catch(function(e){(0,p.default)("PostEditor _fetchScrapedPage",e),t.setState({isBusy:!1})})}},{key:"_getCategoryForPost",value:function(){var e=this;return"edit"===this.props.mode||"/"===this.props.currentPath?(0,m.getInObj)(["value"],this.state.categoryOpt):this.state.categorySelectOpts.filter(function(t){return t.value.toLowerCase()===e.props.currentPath.toLowerCase()})[0].value}},{key:"_getCategorySelectOptsForCurrentPath",value:function(){var e=this;switch(this.props.currentPath.toLowerCase()){case"/":return this.state.categorySelectOpts;default:var t=this.state.categorySelectOpts.filter(function(t){return t.value.toLowerCase()===e.props.currentPath.toLowerCase()});return[Object.assign({},t[0],{active:!0})]}}},{key:"_getUpdatedCategorySelectOpts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.categorySelectOpts;return e?t.map(function(t){return t.value.toLowerCase()===e.value.toLowerCase()?Object.assign({},t,{active:!0}):Object.assign({},t,{active:!1})}):t}},{key:"_setIsFocused",value:function(){"default"===this.props.mode&&this._bindOutsideClickListener(),this.state.isFocused||this.setState({isFocused:!0}),!this.state.isFocused&&this._editor&&this._editor.__focus()}},{key:"_validate",value:function(e,t){var r=t&&"NOOP"!==t?{}:{category:"Please select a category."},n=e.length>0||!(0,y.isBlank)(this.state.embed)?{}:{content:"Posts cannot be empty."};return Object.assign({},r,n)}},{key:"_bindOutsideClickListener",value:function(){"default"===this.props.mode&&this._root&&void 0===this._clickOutsideListener&&(this._clickOutsideListener=(0,d.default)(this._root,this.clickOutsideListenerCallback,!0))}},{key:"_cleanupOutsideClickListener",value:function(){this._clickOutsideListener&&this._clickOutsideListener.hasOwnProperty("remove")&&(this._clickOutsideListener.remove(),this._clickOutsideListener=void 0)}},{key:"_unFocusEditorConditonally",value:function(){this._editor.__getText().length||Object.keys(this.state.embed).length||this.setState({categoryOpt:null,categorySelectOpts:this._getUpdatedCategorySelectOpts({value:"NOOP"}),errors:{},isFocused:!1})}},{key:"_getBlankLabelForCategoryOpts",value:function(){return n.default.createElement("div",{className:"".concat(g.default.bodyS," ").concat(g.default.asphalt)},"Choose category")}},{key:"_getBodyView",value:function(){var e=this;return n.default.createElement(u.default,{getEditorRef:function(t){return e._editor=t},deleteEmbed:function(){return e.setState({embed:{}})},embed:this.state.embed,isEditorFocused:this.state.isFocused,markdownService:this.props.markdownService,mode:this.props.mode,post:this.props.post,propogateToolbar:function(t){return e.setState({markdownBtn:t})},scrapePageForLink:this.scrapePageForLink})}},{key:"_getDefaultView",value:function(){return n.default.createElement(i.default,{categoryConfig:this.props.categoryConfig,categorySelectOpts:this._getCategorySelectOptsForCurrentPath(),currentPath:this.props.currentPath,currentUser:this.props.currentUser,errors:this.state.errors,isBusy:this.props.isBusy||this.state.isBusy,isEditorFocused:this.state.isFocused,markdownBtn:this.state.markdownBtn,onCategorySelect:this.handleCategorySelection,onPost:this.handleOnPostOrSave,origin:this.props.origin},this._getBodyView())}},{key:"_getEditView",value:function(){return n.default.createElement("div",null,this._getBodyView(),n.default.createElement(l.default,{categorySelectOpts:this.state.categorySelectOpts,dismiss:this.props.dismiss,errors:this.state.errors,isBusy:this.props.isBusy||this.state.isBusy,markdownBtn:this.state.markdownBtn,mode:this.props.mode,onCategorySelect:this.handleCategorySelection,onPostOrSave:this.handleOnPostOrSave}))}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{ref:function(t){return e._root=t},onClick:function(){return e._setIsFocused()}},"default"===this.props.mode?this._getDefaultView():this._getEditView())}}])&&b(r.prototype,a),_&&b(r,_),t}();k.propTypes={categoryConfig:a.default.arrayOf(a.default.shape({colorClass:a.default.string.isRequired,enum:a.default.string.isRequired,path:a.default.string.isRequired,text:a.default.string.isRequired,title:a.default.string.isRequired})),categorySelectOpts:a.default.arrayOf(a.default.shape({label:a.default.oneOfType([a.default.element,a.default.string]),value:a.default.string})).isRequired,currentPath:a.default.string.isRequired,currentUser:a.default.shape({avatar_url:a.default.string,confirmed:a.default.bool,id:a.default.number,name:a.default.string,role:a.default.string,url:a.default.string}).isRequired,dismiss:a.default.func,isBusy:a.default.bool.isRequired,markdownService:a.default.object.isRequired,mode:a.default.oneOf(["default","edit"]),onPostOrUpdate:a.default.func.isRequired,origin:a.default.shape({admin_ids:a.default.arrayOf(a.default.number)}).isRequired,post:a.default.shape({body:a.default.string,id:a.default.number.isRequired,entities:a.default.shape({embed:a.default.object})})},k.defaultProps={categoryConfig:null,dismiss:function(){},mode:"default",post:null};var S=k;t.default=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=p(r(115)),i=p(r(15)),l=p(r(349)),u=p(r(119)),s=r(71),c=r(11),d=p(r(2)),f=p(r(5));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.categorySelectOpts,r=e.onCategorySelect;return n.default.createElement(u.default,{onSelection:r,options:t})},h=function(e){var t=e.categoryConfig,r=(e.categorySelectOpts,e.currentPath),a=t.find(function(e){return e.enum.toLowerCase()===r.toLowerCase()});return n.default.createElement("div",{className:f.default.categoryBadge},n.default.createElement(l.default,{categoryConfig:a}))},y=function(e){var t=e.categoryConfig,r=e.categorySelectOpts,a=e.currentPath,l=e.errors,u=e.dismiss,f=e.isBusy,p=e.markdownBtn,y=e.mode,g=e.onCategorySelect,_=e.onPostOrSave;return n.default.createElement("div",{className:"".concat(d.default.flexJustifySpaceBetween," ").concat("default"===y?d.default.padding15:d.default.marginTop10)},n.default.createElement("div",{className:d.default.flexColumn},n.default.createElement("div",{className:d.default.flexRowWrap},n.default.createElement("div",{className:d.default.marginRight10},function(e){var t=e.categoryConfig,r=e.categorySelectOpts,n=e.currentPath,a=e.onCategorySelect;return n&&"/"!==n?h({categoryConfig:t,categorySelectOpts:r,currentPath:n}):m({categorySelectOpts:r,onCategorySelect:a})}({categoryConfig:t,categorySelectOpts:r,currentPath:a,onCategorySelect:g})),p),!(0,c.isBlank)(l)&&function(e){return n.default.createElement("div",null,n.default.Children.toArray(Object.values(e).map(function(e){return(0,s.getErrorHelperView)(e)})))}(l)),n.default.createElement("div",{className:d.default.flexStartItems},"edit"===y&&n.default.createElement(i.default,{colorStyle:"cancel",disabled:f,onClick:u,size:"sm"},"Cancel"),n.default.createElement(o.default,{isBusy:f,onClick:_,size:"sm",text:"default"===y?"Post":"Save"})))};y.propTypes={categoryConfig:a.default.arrayOf(a.default.shape({colorClass:a.default.string.isRequired,enum:a.default.string.isRequired,path:a.default.string.isRequired,text:a.default.string.isRequired,title:a.default.string.isRequired})),categorySelectOpts:a.default.arrayOf(a.default.shape({label:a.default.oneOfType([a.default.element,a.default.string]),value:a.default.string})).isRequired,currentPath:a.default.string,dismiss:a.default.func,errors:a.default.shape({category:a.default.string,content:a.default.string}).isRequired,isBusy:a.default.bool.isRequired,markdownBtn:a.default.element.isRequired,mode:a.default.oneOf(["default","edit"]),onCategorySelect:a.default.func.isRequired,onPostOrSave:a.default.func.isRequired},y.defaultProps={currentPath:null,dismiss:function(){},mode:"default"};var g=y;t.default=g},,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(427))&&n.__esModule?n:{default:n},o=r(49);var i=function(e){try{return e()}catch(e){return!1}},l=function(e,t){return i(function(){return a.default.highlight(t,(0,o.unescape)(e),!0).value})||""},u=function(e,t){return console.log("code",e),t?l(e,t):function(e){return i(function(){return a.default.highlightAuto((0,o.unescape)(e)).value})||""}(e)},s=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r).replace('<code class="','<code class="hljs hljs-monokai ').replace("<code>",'<code class="hljs hljs-monokai">')}},c=function e(t,r){r=Object.assign({},e.defaults,r),t.options.highlight=r.auto?u:l,t.renderer.rules.fence=s(t.renderer.rules.fence),r.code&&(t.renderer.rules.code_block=s(t.renderer.rules.code_block))};c.defaults={auto:!0,code:!0};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyStringToClipboard=void 0;var n=r(18);t.copyStringToClipboard=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Link copied!",r=document.createElement("input");r.value=e,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),(0,n.summonGlobalMessenger)({msg:t})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setFlaggedIds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.setState((0,n.filterObject)(e,null,a),t)},t.getFlaggedIds=t.FLAGGED_ID_KEYS=void 0;var n=r(45);var a=["flaggedCommentIds","flaggedPostIds"];t.FLAGGED_ID_KEYS=a;t.getFlaggedIds=function(e){return a.reduce(function(t,r){return Object.assign({},t,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,e(r)))},{})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCategoryEnum=t.FEED_POST_CATEGORIES=void 0;var n={Announcements:"ANNOUNCEMENTS","Free hardware":"FREE_HARDWARE",General:"GENERAL","Technical help":"TECHNICAL_HELP"},a=Object.keys(n);t.FEED_POST_CATEGORIES=a;t.getCategoryEnum=function(e){return n[e]||null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=I(r(1)),o=I(r(115)),i=I(r(358)),l=I(r(38)),u=I(r(57)),s=I(r(15)),c=I(r(266)),d=I(r(121)),f=I(r(100)),p=I(r(869)),m=I(r(1938)),h=I(r(1943)),y=I(r(108)),g=I(r(160)),_=r(20),v=r(8),b=r(85),O=r(43),w=r(271),E=r(16),P=r(12),k=r(123),S=r(272),C=r(116),j=I(r(52)),R=I(r(21)),T=I(r(2)),N=I(r(221)),M=I(r(3)),A=I(r(5));function I(e){return e&&e.__esModule?e:{default:e}}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=S.HACKSTER_FORM_EVENT_TYPE_OPTS.map(function(e){return(0,k.valueToSelectIn)(e,_.capitalize,_.capitalize)}),U={custom_sponsors:{order:2,validate:function(e){return(0,O.maxLength)(5,e)},value:[],notRequired:!0,formatIn:function(e){return e.map(function(e){return(0,k.valueToSelectIn)(e)})},formatOut:function(e){return(0,k.multiSelectToArrayOut)(e)}},event_type:{order:10,validate:function(e){return(0,O.minLength)(1,e)},value:"",formatIn:function(e){return(0,k.valueToSelectIn)(e,_.capitalize,_.capitalize)},formatOut:function(e){return(0,v.getInObj)(["value"],e)}},image:{order:9,validate:function(e){return(0,O.imageV)(e)},value:null},link:{order:5,validate:function(e){return(0,O.isUrlWithProtocol)(e)},value:""},location:{order:8,validate:function(e){return null},value:{},notRequired:!0,formatOut:function(e){return(0,k.locationSelectOut)(e,!0)}},platforms:{order:1,validate:function(e){return(0,O.maxLength)(5,e)},value:[],notRequired:!0,formatIn:function(e){return(0,k.multiSelectIn)(e,"name")},formatOut:function(e){return(0,k.multiSelectToArrayOut)(e)}},sponsored:{order:0,validate:function(){return null},value:"false",formatIn:function(e){return(0,k.boolOrNullIn)(e)},formatOut:function(e){return(0,k.boolOrNullOut)(e)}},summary:{order:3,validate:function(e){return(0,O.maxLength)(255,e)},value:"",notRequired:!0},title:{order:4,validate:function(e){return(0,O.maxLength)(60,e)},value:""}},V={end_date:{order:7,validate:function(e){return(0,O.minLength)(1,e)},value:"",notRequired:!0,formatIn:function(e){return(0,E.timestampToPrettyDate)(e,k.DATE_INPUT_FORMATTER,!1)}},start_date:{order:6,validate:function(e){return(0,O.minLength)(1,e)},value:"",formatIn:function(e){return(0,E.timestampToPrettyDate)(e,k.DATE_INPUT_FORMATTER,!1)}}},W={end_date:{order:7,validate:function(e){return(0,O.minLength)(1,e)||(0,O.isDatetimeLocalValueInFuture)(e,!1)},value:"",notRequired:!0,formatIn:function(e){return(0,E.timestampToPrettyDate)(e,k.DATE_INPUT_FORMATTER,!1)}},start_date:{order:6,validate:function(e){return(0,O.minLength)(1,e)||(0,O.isDatetimeLocalValueInFuture)("".concat(e,"T23:59"))},value:"",formatIn:function(e){return(0,E.timestampToPrettyDate)(e,k.DATE_INPUT_FORMATTER,!1)}}},H=[{label:"Yes",value:!0},{label:"No",value:!1}],z=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=!(a=q(t).call(this,e))||"object"!==x(a)&&"function"!=typeof a?L(n):a;var o=e.isAdmin?Object.assign({},U,V):Object.assign({},U,W);return r.state={errors:{},isBusy:!1,fields:(0,b.initFields)(o,r._getInitRecord()),workers:[]},r.addOrUpdateContent=r.addOrUpdateContent.bind(L(r)),r.getErrorForField=b.getErrorForField.bind(L(r)),r.getFieldValuesAsObject=b.getFieldValuesAsObject.bind(L(r)),r.setIsBusy=b.setIsBusy.bind(L(r)),r.setStateOrError=b.setStateOrError.bind(L(r)),r.validate=b.validateFields.bind(L(r)),r}var r,a,_;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){(0,P.windowScrollTo)(0,0)}},{key:"_getInitRecord",value:function(){return this._isDefaultMode()?this.props.isAdmin?{sponsored:!0}:null:this.props.initRecord}},{key:"addOrUpdateContent",value:function(){this.validate()&&this.props.saveContent(this.getFieldValuesAsObject())}},{key:"_getPreviewObject",value:function(){var e=this.getFieldValuesAsObject();return Object.assign({},e,e.location,{platforms:this.state.fields.platforms.value.map(function(e){return{id:e.value,name:e.label,url:C.NO_URL}})})}},{key:"_isDefaultMode",value:function(){return"default"===this.props.mode}},{key:"_isSponsoredEvent",value:function(){return"true"===this.state.fields.sponsored.value}},{key:"_getAdminPanel",value:function(){var e=this;return n.default.createElement("div",{className:"".concat(j.default.panel," ").concat(j.default.panelInner)},n.default.createElement("fieldset",{className:j.default.container675},n.default.createElement("div",{id:"vfsponsored"},n.default.createElement(y.default,{buttons:H,errors:this.state.errors.sponsored,label:"Is this a sponsored event?",onChange:function(t){return e.setStateOrError(null,"sponsored",t.target.value)},value:this.state.fields.sponsored.value})),this._isSponsoredEvent()&&this._getAdminSponsorInputs()))}},{key:"_getAdminSponsorInputs",value:function(){var e=this;return n.default.createElement(n.Fragment,null,this._getSponsorInputs(),n.default.createElement("div",{id:"vfsummary"},n.default.createElement(l.default,{charCount:this.state.fields.summary.value.length,errors:this.state.errors.summary,helperText:"This will display underneath the event name on the large event cards.",label:"Description (optional)",maxVal:255,onChange:function(t){return e.setStateOrError((0,O.maxLength)(255,t.target.value),"summary",t.target.value)},placeholder:"30+ Speakers - Hands-on Workshops - Free Hardware*",value:this.state.fields.summary.value})))}},{key:"_getSponsorInputs",value:function(){var e=this;return n.default.createElement(n.Fragment,null,n.default.createElement("div",{id:"vfplatforms"},n.default.createElement(i.default,{algoliaParameters:{hitsPerPage:100,initFacet:["model:Platform"]},algoliaRecordsToOptions:w.recordsToOptions,algoliaService:this.props.algoliaPlatformsService,errors:this.state.errors.platforms,helperText:"Limit 5 max.",label:"Sponsors with a platform (optional)",onSelect:function(t){return e.setStateOrError(null,"platforms",t)},placeholder:"Arduino, Raspberry Pi",selectionLimit:5,value:this.state.fields.platforms.value})),n.default.createElement("div",{id:"vfcustom_sponsors"},n.default.createElement(f.default,{key:"custom_sponsors",creatableOpts:{creatable:!0},errors:this.state.errors.custom_sponsors,helperText:"Limit 5 max.",label:"Sponsors without a platform (optional)",onSelectedChange:function(t){return e.setStateOrError(null,"custom_sponsors",t)},options:this.state.fields.custom_sponsors.value||[],placeholder:"Arm, Not Impossible",searchOpts:{multiLimit:5,rule:"default"},type:"multi",value:this.state.fields.custom_sponsors.value})))}},{key:"_getEventUserPanel",value:function(){return n.default.createElement("div",{className:"".concat(j.default.panel," ").concat(T.default.padding30)},n.default.createElement("div",{className:j.default.container675},n.default.createElement("h4",{className:M.default.h4},n.default.createElement("span",null,"Created by: "),n.default.createElement("a",{className:M.default.charcoal,href:this.props.initRecord.user.url,target:"_blank"},this.props.initRecord.user.name))))}},{key:"render",value:function(){var e=this,t=this._getPreviewObject(),r=this._isDefaultMode(),a=this._isSponsoredEvent();return n.default.createElement(n.Fragment,null,n.default.createElement("div",{className:"".concat(T.default.container," ").concat(A.default.bgFog)},n.default.createElement("div",{className:"".concat(T.default.wrapper1170," ").concat(T.default.flexColumn," ").concat(T.default.flexCenterItems)},n.default.createElement("form",{className:T.default.maxWidth100P,onSubmit:function(e){return e.preventDefault}},this.props.isAdmin&&"edit"===this.props.mode&&this._getEventUserPanel(),this.props.isAdmin&&this._getAdminPanel(),n.default.createElement("div",{className:"".concat(j.default.panel," ").concat(j.default.panelInner)},n.default.createElement("fieldset",{className:j.default.container675},n.default.createElement("div",{id:"vftitle"},n.default.createElement(l.default,{charCount:this.state.fields.title.value.length,errors:this.state.errors.title,label:"Event Title",maxVal:60,onChange:function(t){return e.setStateOrError((0,O.maxLength)(60,t.target.value),"title",t.target.value)},placeholder:"AIOT Dev Summit",value:this.state.fields.title.value})),n.default.createElement("div",{id:"vflink"},n.default.createElement(l.default,{errors:this.state.errors.link,label:"Link to external event page",helperText:"Make sure to add the link's protocol (https:// or http://)",maxVal:255,onChange:function(t){return e.setStateOrError(null,"link",t.target.value)},placeholder:"https://www.eventbrite.com",value:this.state.fields.link.value})),n.default.createElement("div",{id:"vfstart_date"},n.default.createElement(c.default,{autoComplete:"off",errors:this.state.errors.start_date,label:"Start date",onChange:function(t){return e.setStateOrError(null,"start_date",t)},initValue:this.state.fields.start_date.value})),n.default.createElement("div",{id:"vfend_date"},n.default.createElement(c.default,{autoComplete:"off",errors:this.state.errors.end_date,label:"End date (optional)",onChange:function(t){return e.setStateOrError(null,"end_date",t)},initValue:this.state.fields.end_date.value})),n.default.createElement("div",{id:"vflocation"},n.default.createElement(p.default,{errors:this.state.errors.location,label:"Location (optional)",onChange:function(t){return e.setStateOrError(null,"location",t)},placeholder:"San Francisco, California US",renderDistanceInput:!1,value:this.state.fields.location.value})),n.default.createElement("div",{id:"vfimage"},n.default.createElement(d.default,{allowGifs:!1,label:"Thumbnail image",aspectRatio:1.5,dimensionMins:{width:1110},errors:this.state.errors.image,helperText:"This image will display in cards that link to the event. This picture should have a ratio of 3:2 and be at least 1110x740px for the best quality.",imageData:this.state.fields.image.value,propagateStatus:function(t){return e.setIsBusy(t,"image")},propagateUpload:function(t){return e.setStateOrError(null,"image",t)}})),n.default.createElement("div",{id:"vfevent_type"},n.default.createElement(f.default,{key:"event_type",errors:this.state.errors.event_type,label:"Event type",onSelectedChange:function(t){return e.setStateOrError(null,"event_type",t)},options:F,placeholder:"Select event type",selectOpts:{rule:"norule"},value:this.state.fields.event_type.value})),(!this.props.isAdmin||this.props.isAdmin&&!a)&&this._getSponsorInputs()))),n.default.createElement("section",{className:"".concat(j.default.panel," ").concat(T.default.fullWidth)},n.default.createElement("div",{className:"".concat(j.default.panelHeader," ").concat(A.default.borderBottom)},n.default.createElement("p",{className:"".concat(R.default.label," ").concat(T.default.margin0)},"".concat(a?"Sponsored event":"Event"," card preview"))),n.default.createElement("div",{className:j.default.panelInner},a?n.default.createElement(h.default,{item:t}):n.default.createElement(m.default,{item:t}))),this.props.renderRecaptchaBadge("".concat(T.default.fullWidth," ").concat(T.default.flexJustifyEnd," ").concat(T.default.marginBottom30)))),n.default.createElement("div",{className:"".concat(N.default.actionsBarRoot," ").concat(A.default.posRelative),id:"eventFormFooter"},n.default.createElement(g.default,{className:"".concat(N.default.actionsBar," ").concat(A.default.borderTop," ").concat(T.default.flexJustifyCenter),parentId:"eventFormFooter",startPos:"bottom",stickToEnd:!1},n.default.createElement("div",{className:"".concat(T.default.wrapper1170," ").concat(N.default.actionsBarInner)},n.default.createElement(u.default,{classList:{root:T.default.margin0,text:T.default.hiddenSmallDown},href:this.props.breadcrumbProps.href,onClick:this.props.breadcrumbProps.onClick,text:this.props.breadcrumbProps.text}),n.default.createElement("h1",{className:"".concat(M.default.bodyM," ").concat(T.default.margin0)},r?"Create event":"Edit event"),n.default.createElement("div",null,!r&&n.default.createElement(s.default,{className:T.default.marginRight10,colorStyle:"danger",disabled:this.state.isBusy||this.props.isBusy,onClick:this.props.onDeleteClick},"Delete"),n.default.createElement(o.default,{disabled:this.state.isBusy,isBusy:this.props.isBusy,onClick:this.addOrUpdateContent,text:r?"Publish":"Update"}))))))}}])&&D(r.prototype,a),_&&D(r,_),t}();z.propTypes={algoliaPlatformsService:a.default.object.isRequired,breadcrumbProps:a.default.shape({href:a.default.string,onClick:a.default.func,text:a.default.string}),initRecord:a.default.shape({custom_sponsors:a.default.arrayOf(a.default.string),event_type:a.default.string,image:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}),link:a.default.string,location:a.default.shape({city:a.default.string,countryCode:a.default.string,state:a.default.string}),platforms:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired})),start_date:a.default.string,title:a.default.string,user:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired})}),isAdmin:a.default.bool.isRequired,isBusy:a.default.bool.isRequired,mode:a.default.string,onDeleteClick:a.default.func,renderRecaptchaBadge:a.default.func,saveContent:a.default.func.isRequired},z.defaultProps={breadcrumbProps:{},initRecord:null,mode:"default",onDeleteClick:null,renderRecaptchaBadge:function(){return null}};var G=z;t.default=G},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=_(r(1)),o=_(r(9)),i=r(178),l=r(199),u=r(244),s=r(11),c=r(307),d=r(44),f=r(267),p=_(r(21)),m=_(r(2)),h=_(r(3)),y=_(r(5)),g=_(r(217));function _(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(e){var r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(r=!(o=w(t).call(this,e))||"object"!==v(o)&&"function"!=typeof o?E(a):o).state={values:r._initValues(e),wrapperHasFocus:!1},r.handleArrowMouseDown=r.handleArrowMouseDown.bind(E(r)),r.handleClearMouseDown=r.handleClearMouseDown.bind(E(r)),r.handleInputKeyDown=r.handleInputKeyDown.bind(E(r)),r.handleNumberBlur=r.handleNumberBlur.bind(E(r)),r.handleNumberChange=r.handleNumberChange.bind(E(r)),r.handleWrapperClick=r.handleWrapperClick.bind(E(r)),r._inputRefs=Object.keys(e.inputConfig).map(function(){return n.default.createRef()}),r}var r,a,_;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,n.PureComponent),r=t,(a=[{key:"_initValues",value:function(e){var t=e.initValue,r=e.inputConfig,n=(0,e.parseValueString)(t);return(0,d.transformObjValues)(n,function(e,t){return(0,s.isBlank)(e)&&r[t].defaultValue?r[t].defaultValue:e})}},{key:"handleArrowMouseDown",value:function(e,t){e.preventDefault();var r=this._getOrFocusCurrentInput(this._inputRefs);this._stepInputValue(r,t)}},{key:"handleClearMouseDown",value:function(e){e.preventDefault(),this._setValues((0,d.transformObjValues)(this.state.values,function(){return""}))}},{key:"handleInputKeyDown",value:function(e){if(e.keyCode===i.DELETE)return e.preventDefault(),this._setValues(b({},e.target.name,""));if([i.LEFT,i.RIGHT].includes(e.keyCode))return e.preventDefault(),this._focusNextOrPreviousInput(this._inputRefs,e.target,e.keyCode===i.LEFT?-1:1);if([i.UP,i.DOWN].includes(e.keyCode))return e.preventDefault(),this._stepInputValue(e.target,e.keyCode);var t=this.props.inputConfig[e.target.name],r=(0,s.isAFunction)(t.getValueFromKeyDown)?t.getValueFromKeyDown(e):null;null!==r&&this._setValues(b({},e.target.name,r))}},{key:"handleNumberBlur",value:function(e){var t=e.target,r=t.name,n=t.value;if(""!==n){var a=this.props.inputConfig[r],o=a.max,i=a.maxLength,u=a.min,s=this._processNumberInput(n),c=(0,l.clamp)(u,s,o);s!==c&&this._setValues(b({},r,(0,f.zeroPadValue)(c,i)))}}},{key:"handleNumberChange",value:function(e){var t=e.target,r=t.name,n=t.value,a=this.props.inputConfig[r],o=a.max,i=a.maxLength,l=this._processNumberInput(n);if(null===l)return this._setValues(b({},r,""));this._setValues(b({},r,(0,f.zeroPadValue)(l,i))),l>=o/10&&this._focusNextOrPreviousInput(this._inputRefs,e.target,1)}},{key:"handleWrapperClick",value:function(e){e.target!==e.currentTarget||this.state.wrapperHasFocus||this.props.disabled||this._inputRefs[0].current.focus()}},{key:"_areAllInputsBlank",value:function(){var e=this;return Object.keys(this.state.values).every(function(t){return""===e.state.values[t]})}},{key:"_focusNextOrPreviousInput",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e.findIndex(function(e){return e.current===t}),a=n+r;e[a]&&e[a].current.focus()}},{key:"_getOrFocusCurrentInput",value:function(e){var t=e.find(function(e){return e.current===(0,u.documentActiveElement)()});return t?t.current:(e[0].current.focus(),e[0].current)}},{key:"_getWrapperClassName",value:function(){return this.props.disabled?g.default.wrapperDisabled:this.props.errors?p.default.inputError:this.state.wrapperHasFocus?p.default.inputFocus:""}},{key:"_processNumberInput",value:function(e){var t=(0,c.replaceAllButNums)(e);return 0===t.length?null:parseInt(t)}},{key:"_propagateValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.props.onChange(this.props.formatOut(e)),t()}},{key:"_setValues",value:function(e,t){var r=this;this.setState({values:Object.assign({},this.state.values,e)},function(){return r._propagateValue(r.state.values,t)})}},{key:"_stepInputValue",value:function(e,t){var r=this.props.inputConfig[e.name],n=r.getSteppedValue(e.value,t,r);this._setValues(b({},e.name,n),function(){return e.select()})}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:"".concat(g.default.wrapperDesktop," ").concat(p.default.input," ").concat(this._getWrapperClassName()),onClick:this.handleWrapperClick,onFocus:function(){return e.setState({wrapperHasFocus:!0})},onBlur:function(){return e.setState({wrapperHasFocus:!1})}},n.default.createElement("div",{className:"".concat(m.default.inlineFlex," ").concat(m.default.margin10)},this.props.children({_inputRefs:this._inputRefs,handleInputKeyDown:this.handleInputKeyDown,handleNumberBlur:this.handleNumberBlur,handleNumberChange:this.handleNumberChange,values:this.state.values})),n.default.createElement("div",{className:"".concat(g.default.buttons," ").concat(m.default.inlineFlex," ").concat(m.default.marginRight10)},n.default.createElement("div",{className:"".concat(h.default.textWithIcon," ").concat(g.default.clear," ").concat(m.default.marginRight5," ").concat(this._areAllInputsBlank()?y.default.hidden:""),onMouseDown:this.handleClearMouseDown},n.default.createElement(o.default,{name:"close",size:12})),n.default.createElement("div",{className:g.default.arrowButtons},n.default.createElement("div",{className:h.default.textWithIcon,onMouseDown:function(t){return e.handleArrowMouseDown(t,i.UP)}},n.default.createElement(o.default,{className:g.default.toggle,name:"arrow-up",size:12})),n.default.createElement("div",{className:h.default.textWithIcon,onMouseDown:function(t){return e.handleArrowMouseDown(t,i.DOWN)}},n.default.createElement(o.default,{className:g.default.toggle,name:"arrow-down",size:12})))))}}])&&O(r.prototype,a),_&&O(r,_),t}();k.propTypes={children:a.default.func.isRequired,disabled:a.default.bool,errors:a.default.string,formatOut:a.default.func.isRequired,initValue:a.default.string,inputConfig:a.default.object.isRequired,onChange:a.default.func,parseValueString:a.default.func.isRequired},k.defaultProps={disabled:!1,errors:null,initValue:"",onChange:function(){}};var S=k;t.default=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=r(117),i=l(r(217));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e._inputRefs,r=e.autoComplete,a=e.disabled,l=e.handleInputKeyDown,u=e.handleNumberBlur,s=e.handleNumberChange,c=e.values;return n.default.createElement(n.Fragment,null,n.default.createElement("input",{ref:t[0],className:i.default.input,autoComplete:r,disabled:a,name:"month",onBlur:u,onChange:s,onClick:o.selectTargetContents,onFocus:o.selectTargetContents,onKeyDown:l,placeholder:"MM",value:c.month}),n.default.createElement("span",null,"/"),n.default.createElement("input",{ref:t[1],className:i.default.input,onBlur:u,onChange:s,onClick:o.selectTargetContents,onFocus:o.selectTargetContents,onKeyDown:l,autoComplete:r,disabled:a,name:"day",placeholder:"DD",value:c.day}),n.default.createElement("span",null,"/"),n.default.createElement("input",{ref:t[2],className:i.default.inputWide,autoComplete:r,disabled:a,name:"year",onBlur:u,onChange:s,onClick:o.selectTargetContents,onFocus:o.selectTargetContents,onKeyDown:l,placeholder:"YYYY",value:c.year}))};u.propTypes={_inputRefs:a.default.arrayOf(a.default.object).isRequired,autoComplete:a.default.string,disabled:a.default.bool,handleInputKeyDown:a.default.func.isRequired,handleNumberBlur:a.default.func.isRequired,handleNumberChange:a.default.func.isRequired,values:a.default.shape({day:a.default.string.isRequired,month:a.default.string.isRequired,year:a.default.string.isRequired}).isRequired},u.defaultProps={autoComplete:null,disabled:!1};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=i(r(1)),o=i(r(21));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u=function(e){var t=e.autoComplete,r=e.disabled,a=e.errors,i=e.initValue,u=e.onChange,s=e.type,c=l((0,n.useState)(i),2),d=c[0],f=c[1];return n.default.createElement("input",{className:"".concat(o.default.input," ").concat(a?o.default.inputError:""),autoComplete:t,disabled:r,errors:a,onChange:function(e){f(e.target.value),u(e.target.value)},type:s,value:d})};u.propTypes={autoComplete:a.default.string,disabled:a.default.bool,errors:a.default.string,initValue:a.default.string,onChange:a.default.func.isRequired,type:a.default.string.isRequired},u.defaultProps={autoComplete:null,disabled:!1,errors:null,initValue:"",onChange:function(){}};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=l(r(21)),i=l(r(217));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=c(this,d(t).call(this,e)))._inputRef=n.default.createRef(),r}var r,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n.PureComponent),r=t,(a=[{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:"".concat(i.default.wrapperMobile," ").concat(o.default.input," ").concat(this.props.errors?o.default.inputError:""),onFocus:function(){return e._inputRef.current&&e._inputRef.current.focus()},tabIndex:this.props.disabled?null:0},n.default.createElement(n.Fragment,null,this.props.children,n.default.createElement("input",{ref:this._inputRef,autoComplete:this.props.autoComplete,className:o.default.hiddenInput,disabled:this.props.disabled,onChange:this.props.onChange,type:this.props.type,value:this.props.value})))}}])&&s(r.prototype,a),l&&s(r,l),t}();p.propTypes={autoComplete:a.default.string,disabled:a.default.bool,errors:a.default.string,onChange:a.default.func,type:a.default.string.isRequired},p.defaultProps={autoComplete:null,disabled:!1,errors:null,onChange:function(){}};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(n.isWindowDefined&&null===a){var e=document.createElement("input");e.setAttribute("type","date"),e.setAttribute("value","a"),a="a"!==e.value}return a};var n=r(12),a=null},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(132)),i=l(r(870));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){return n.default.createElement(o.default,{errors:Array.isArray(e.errors)?e.errors.join(", "):e.errors,helperText:e.helperText,label:e.label,name:e.name,value:""},n.default.createElement(i.default,u({},e,{hasErrors:e.errors&&e.errors.length>0})))};s.propTypes={disabled:a.default.bool,errors:a.default.oneOfType([a.default.array,a.default.string]),helperText:a.default.string,historyStateEnabled:a.default.bool,label:a.default.string,name:a.default.string,onChange:a.default.func,placeholder:a.default.string,renderDistanceInput:a.default.bool,value:a.default.shape({city:a.default.string,countryCode:a.default.string,state:a.default.string,distance:a.default.oneOfType([a.default.string,a.default.number]),geoloc:a.default.shape({lat:a.default.number,lng:a.default.number})})},s.defaultProps={disabled:!1,errors:null,helperText:null,name:null,historyStateEnabled:!1,label:"Location",onChange:function(){},placeholder:"Start typing to select a location!",renderDistanceInput:!0,value:{}};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_DISTANCE_OPT=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(252)),i=d(r(187)),l=d(r(871)),u=r(872),s=r(11),c=d(r(2));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g={label:"Within 5 miles",value:"5"};t.DEFAULT_DISTANCE_OPT=g;var _=[{label:"Within 2 miles",value:"2"},{label:"Within 5 miles",value:"5"},{label:"Within 10 miles",value:"10"},{label:"Within 25 miles",value:"25"},{label:"Within 50 miles",value:"50"}],v={label:"",location:{},value:""},b={distanceValue:{label:"Within 5 miles",value:"5"},initOnMount:!1,locationValue:{label:"",value:""}},O=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?h(n):a).state=Object.assign({},r._init(e.value)),r.getLocationOptions=r.getLocationOptions.bind(h(r)),r.onDistanceChange=r.onDistanceChange.bind(h(r)),r.onLocationChange=r.onLocationChange.bind(h(r)),r._distanceInput,r._locationInput,r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidUpdate",value:function(e){this.props.historyStateEnabled&&!(0,o.default)(e.value,this.props.value)&&(this._triggerChangeForLocationInput(this.props.value),(0,o.default)(e.value.distance,this.props.value.distance)||this._triggerChangeForDistanceInput(this.props.value))}},{key:"_init",value:function(e){return e&&(0,s.isObjectWithLength)(e)?{distanceValue:this._getDistanceFromOptsFromValue(e),initOnMount:!0,locationValue:this._initFormatLocationForSelect(e)}:b}},{key:"_initFormatLocationForSelect",value:function(e){if(!e||!(0,s.isObjectWithLength)(e))return v;var t=(0,u.formatLocationForLabel)(e);return{label:t,location:e,value:t}}},{key:"getLocationOptions",value:function(e){var t=this;return new Promise(function(r,n){return(0,l.default)(e).then(function(e){return r(t._formatSearchResults(e.body.hits))}).catch(function(e){return n(e)})})}},{key:"onDistanceChange",value:function(e){var t=this;this.setState({distanceValue:e||g},function(){return t._propagateLocation()})}},{key:"onLocationChange",value:function(e){var t=this;this.setState({locationValue:e||v},function(){return t._propagateLocation()})}},{key:"_formatSearchResults",value:function(e){return{options:e.reduce(function(e,t){var r=(0,u.processAlgoliaPlacesRecord)(t),n=r.city,a=r.country,o=r.countryCode,i=r.full,l=r.geoloc,s=r.state;return e.concat({label:i,value:i,location:{city:n,country:a,countryCode:o,full:i,geoloc:l,state:s}})},[])}}},{key:"_formatSelectLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["city","state","countryCode"];return t.reduce(function(t,r,n,a){return e.hasOwnProperty(r)&&e[r].length>0?t.length>0?n===a.length-1?"".concat(t," ").concat(e[r]):"".concat(t,", ").concat(e[r]):e[r]:t},"")}},{key:"_getDistanceFromOptsFromValue",value:function(e){var t=e.distance?e.distance.toString():null;return _.find(function(e){return e.value===t})||g}},{key:"_propagateLocation",value:function(){var e=(0,s.isObjectWithLength)(this.state.locationValue.location)?Object.assign({},this.state.locationValue.location,{distance:this.state.distanceValue.value}):{};this.props.onChange(e)}},{key:"_triggerChangeForDistanceInput",value:function(e){if(this._distanceInput){var t=this._getDistanceFromOptsFromValue(e);this._distanceInput.__triggerOnChangeForValue(t.label)}}},{key:"_triggerChangeForLocationInput",value:function(e){var t=(0,u.formatLocationForLabel)(e);t.length>0?(this._locationInput.__triggerOnChangeForValue(t,(0,u.formatLocationForLabel)(e,["city","state"])),this.setState({locationValue:this._initFormatLocationForSelect(e)})):(this._locationInput.__resetState(),this.setState({locationValue:v}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.disabled,a=t.hasErrors,o=t.placeholder,l=t.renderDistanceInput,u=t.theme;return n.default.createElement("div",null,n.default.createElement(i.default,{ref:function(t){return e._locationInput=t},asyncOpts:{initOnMount:this.state.initOnMount,initQuery:this.state.locationValue.location,request:this.getLocationOptions},disabled:r,hasErrors:a,onSelectedChange:this.onLocationChange,placeholder:o,theme:this.props.theme,uiOpts:{leftIconName:"search"===u?"search":null,renderX:!0},value:this.state.locationValue}),l&&n.default.createElement("div",{className:c.default.marginTop10},n.default.createElement(i.default,{ref:function(t){return e._distanceInput=t},disabled:r||!this.state.locationValue.value.length,options:_,onSelectedChange:this.onDistanceChange,searchOpts:{rule:"norule"},uiOpts:{renderX:!1},value:this.state.distanceValue})))}}])&&p(r.prototype,a),d&&p(r,d),t}();O.propTypes={disabled:a.default.bool,hasErrors:a.default.bool,historyStateEnabled:a.default.bool,onChange:a.default.func,placeholder:a.default.string,renderDistanceInput:a.default.bool,theme:a.default.oneOf(["default","search"]),value:a.default.shape({city:a.default.string,countryCode:a.default.string,state:a.default.string,distance:a.default.oneOfType([a.default.string,a.default.number]),geoloc:a.default.shape({lat:a.default.number,lng:a.default.number})})},O.defaultProps={disabled:!1,hasErrors:!1,historyStateEnabled:!1,onChange:function(){},placeholder:"Start typing to select a location!",renderDistanceInput:!0,theme:"default",value:{}};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchLocationWithRawQuery=s,t.default=function(e){return s(i(e))};var n,a=(n=r(35))&&n.__esModule?n:{default:n};var o={hitsPerPage:5,language:"en",aroundLatLngViaIP:!1},i=function(e){if(e&&"string"!=typeof e){var t=e.city&&e.city.length>0,r=e.countryCode&&e.countryCode.length>0?{countries:[e.countryCode.toLowerCase()]}:{},n=t?{type:"city"}:{},a=t?e.city:"";return Object.assign({query:a},r,n,o)}return Object.assign({query:e},o)},l=function(e){return a.default.post("https://places-2.algolianet.com/1/places/query").set("X-Algolia-Application-Id","plZ09KG466NO").set("X-Algolia-API-Key","ef2fc9c578c4dc2099196acb774f01ae").send(e)},u=function(e){return new Promise(function(t){return a.default.post("https://places-dsn.algolia.net/1/places/query").send(e).then(function(e){return t(e)}).catch(function(e){return t(null)})})};function s(e){return new Promise(function(t,r){return u(e).then(function(t){return null===t?l(e):t}).then(function(e){return t(e)}).catch(function(e){return r(e)})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processAlgoliaPlacesRecord=t.formatLocationForLabel=void 0;var n=r(218),a=r(105),o=r(67),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["city","state","countryCode"];return t.reduce(function(t,r,n,a){return e.hasOwnProperty(r)&&e[r].length>0?t.length>0?n===a.length-1?"".concat(t," ").concat(e[r]):"".concat(t,", ").concat(e[r]):e[r]:t},"")};t.formatLocationForLabel=i;t.processAlgoliaPlacesRecord=function(e){var t=(0,o.objHasPropertyOfLength)(e,"city")?e.city[0]:(0,o.objHasPropertyOfLength)(e,"locale_names")?e.locale_names[0]:"",r=e.country,l=2===e.country_code.length?e.country_code.toUpperCase():(0,a.getCountryISO2)(r),u=e._geoloc,s=n.COUNTRY_ISO_2_HAS_VALID_STATES.includes(e.country_code.toUpperCase())&&(0,o.objHasPropertyOfLength)(e,"administrative")?e.administrative[0]:"";return{city:t,country:r,countryCode:l,full:i({city:t,state:s,countryCode:l}),geoloc:u,state:s}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(9)),i=r(16),l=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.dateString,r=e.classList,a=(0,i.timestampToPrettyDate)(t,"D",!1,null),u=(0,i.timestampToPrettyDate)(t,"MMM",!1,null);return n.default.createElement("div",{className:l.default.textCenter},n.default.createElement("div",{className:r.day},a||n.default.createElement(o.default,{name:"calendar"})),n.default.createElement("div",{className:r.month},u||"tba"))};s.propTypes={classList:a.default.shape({day:a.default.string,month:a.default.string}),dateString:a.default.string},s.defaultProps={classList:{},dateString:""};var c=s;t.default=c},function(e,t,r){e.exports={fog:"#F7F7F7",med:"(max-width: 768px)",small:"(max-width: 480px)",largeCardInfoSection:"preview_cards__largeCardInfoSection__XAzZC"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=O(r(1)),o=O(r(268)),i=O(r(876)),l=O(r(188)),u=O(r(9)),s=O(r(46)),c=O(r(269)),d=r(220),f=r(219),p=r(8),m=r(11),h=O(r(122)),y=O(r(2)),g=O(r(3)),_=O(r(5)),v=O(r(189)),b=O(r(874));function O(e){return e&&e.__esModule?e:{default:e}}var w=function(e){var t=e.className,r=e.imageRight,a=e.item,O=(0,p.getInObj)(["image","url"],a);return n.default.createElement("div",{className:"".concat(y.default.flexCenterItems," ").concat(r?y.default.flexRowReverse:y.default.flexRow," ").concat(v.default.largeCard," ").concat(g.default.breakWord," ").concat(y.default.fullWidth," ").concat(t)},n.default.createElement("div",{className:"".concat(y.default.flex1," ").concat(v.default.imageLarge," ").concat(_.default.posRelative," ").concat(_.default.borderRadiusLarge," ").concat(O?"":_.default.bgAsphalt)},!!O&&function(e,t){return n.default.createElement(s.default,{key:e,classList:{image:_.default.borderRadiusLarge},alt:t,ratio:"3:2",setStyle:!1,src:e,width:555})}(O,a.title),n.default.createElement("div",{className:v.default.dateBadge},a.start_date||a.end_date?n.default.createElement(o.default,{endDate:a.end_date,startDate:a.start_date}):n.default.createElement(i.default,null))),n.default.createElement("div",{className:"".concat(g.default.bodyL," ").concat(y.default.flexColumnWrap," ").concat(y.default.flex1," ").concat(r?v.default.largeCardInfoWrapperLeft:v.default.largeCardInfoWrapperRight)},n.default.createElement("div",{className:"".concat(v.default.largeCardInfoSection," ").concat(b.default.largeCardInfoSection),onClick:function(e){return e.preventDefault()}},(0,m.isBlank)(a.platforms)&&(0,m.isBlank)(a.custom_sponsors)?n.default.createElement(d.TextPlaceholder,{backgroundColor:h.default.asphalt,height:18,width:"50%"}):n.default.createElement(c.default,{item:a})),n.default.createElement("div",{className:"".concat(v.default.largeCardInfoSection," ").concat(b.default.largeCardInfoSection)},a.title?n.default.createElement("span",{className:"".concat(g.default.linkCharcoal," ").concat(g.default.h2Responsive," ").concat(v.default.largeCardTitle)},a.title):n.default.createElement(n.Fragment,null,n.default.createElement(d.TextPlaceholder,{height:34,backgroundColor:h.default.asphalt,width:"100%"}),n.default.createElement(d.TextPlaceholder,{height:34,backgroundColor:h.default.asphalt,marginTop:10,width:"100%"}))),!!a.summary&&n.default.createElement("div",{className:"".concat(v.default.largeCardInfoSection," ").concat(b.default.largeCardInfoSection)},a.summary),n.default.createElement("div",{className:"".concat(v.default.largeCardInfoSection," ").concat(b.default.largeCardInfoSection)},n.default.createElement("div",{className:"".concat(y.default.inlineFlex," ").concat(y.default.flexCenterItems)},a.start_date||a.end_date?(0,f.getDateRangeAsText)(a):n.default.createElement(d.TextPlaceholder,{backgroundColor:h.default.asphalt,height:18,width:80}),n.default.createElement("span",{className:"".concat(y.default.marginLeft10," ").concat(y.default.marginRight10)},"•"),a.event_type?n.default.createElement(l.default,{item:a}):n.default.createElement(d.TextPlaceholder,{backgroundColor:h.default.asphalt,height:18,width:80})),n.default.createElement("span",{className:"".concat(v.default.ctaLink," ").concat(g.default.bold," ").concat(g.default.linkBlue," ").concat(g.default.textWithIcon)},"Learn more",n.default.createElement(u.default,{className:y.default.marginLeft5,name:"arrow-right"})))))};w.propTypes={event:a.default.shape({custom_sponsors:a.default.arrayOf(a.default.string),end_date:a.default.string,event_type:a.default.string,image:a.default.shape({url:a.default.string}),location:a.default.shape({}),platforms:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string.isRequired,url:a.default.string.isRequired})),start_date:a.default.string,state:a.default.string,title:a.default.string})},w.defaultProps={event:{custom_sponsors:[],end_date:null,event_type:null,image:null,location:null,platforms:[],start_date:null,state:null,title:null}};var E=w;t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=r(220),o=u(r(122)),i=u(r(2)),l=u(r(5));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){return n.default.createElement("div",{className:"".concat(l.default.bgWhite," ").concat(i.default.flexCenterItems," ").concat(i.default.flexJustifySpaceBetween," ").concat(i.default.flexColumn," ").concat(l.default.borderRadius," ").concat(i.default.padding15),style:{height:78,width:66}},n.default.createElement(a.TextPlaceholder,{backgroundColor:o.default.pebble,height:22,width:15}),n.default.createElement(a.TextPlaceholder,{backgroundColor:o.default.pebble,height:16,width:"100%"}))};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=b(r(1)),o=b(r(268)),i=b(r(876)),l=b(r(188)),u=b(r(9)),s=b(r(30)),c=b(r(269)),d=r(220),f=r(219),p=r(8),m=r(11),h=b(r(122)),y=b(r(2)),g=b(r(3)),_=b(r(5)),v=b(r(189));function b(e){return e&&e.__esModule?e:{default:e}}var O=function(e){var t=e.className,r=(e.imageRight,e.item),a=(0,p.getInObj)(["image","url"],r);return n.default.createElement("div",{className:"".concat(y.default.flexCenterItems," ").concat(y.default.flexColumnWrap," ").concat(y.default.fullWidth," ").concat(g.default.breakWord," ").concat(t)},n.default.createElement("div",{className:"".concat(_.default.absolutePlaceholderParent," ").concat(_.default.aspectRatioPadding3_2," ").concat(y.default.fullWidth," ").concat(_.default.borderRadius," ").concat(a?"":_.default.bgAsphalt," ").concat(g.default.breakWord)},!!a&&n.default.createElement(s.default,{alt:r.title,classList:{root:_.default.absolutePlaceholderChild,image:_.default.borderRadius},ratio:"3:2",setStyle:!1,src:a,width:370}),n.default.createElement("div",{className:v.default.dateBadge},r.start_date||r.end_date?n.default.createElement(o.default,{endDate:r.end_date,startDate:r.start_date}):n.default.createElement(i.default,null))),n.default.createElement("div",{className:"".concat(g.default.bodyL," ").concat(y.default.flexColumnWrap," ").concat(y.default.flexCenterItems," ").concat(y.default.fullWidth),onClick:function(e){return e.preventDefault()}},(0,m.isBlank)(r.platforms)&&(0,m.isBlank)(r.custom_sponsors)?n.default.createElement(d.TextPlaceholder,{backgroundColor:h.default.asphalt,height:18,marginTop:22,width:"50%"}):n.default.createElement(c.default,{className:"".concat(y.default.marginTop22," ").concat(g.default.textCenter),item:r}),r.title?n.default.createElement("span",{className:"".concat(g.default.linkCharcoal," ").concat(g.default.h3Responsive," ").concat(y.default.marginTop10," ").concat(g.default.textCenter)},r.title):n.default.createElement(n.Fragment,null,n.default.createElement(d.TextPlaceholder,{height:24,backgroundColor:h.default.asphalt,marginTop:15,width:"100%"}),n.default.createElement(d.TextPlaceholder,{height:24,backgroundColor:h.default.asphalt,marginTop:10,width:"80%"})),n.default.createElement("div",{className:"".concat(y.default.inlineFlex," ").concat(y.default.flexCenterItems," ").concat(y.default.marginTop10)},r.start_date||r.end_date?(0,f.getDateRangeAsText)(r):n.default.createElement(d.TextPlaceholder,{backgroundColor:h.default.asphalt,height:18,width:80}),n.default.createElement("span",{className:"".concat(y.default.marginLeft10," ").concat(y.default.marginRight10)},"•"),r.event_type?n.default.createElement(l.default,{item:r}):n.default.createElement(d.TextPlaceholder,{backgroundColor:h.default.asphalt,height:18,width:80})),n.default.createElement("span",{className:"".concat(y.default.flex," ").concat(y.default.flexJustifyCenter," ").concat(y.default.marginTop10," ").concat(g.default.bold," ").concat(g.default.linkBlue," ").concat(g.default.textWithIcon)},"Learn more",n.default.createElement(u.default,{className:y.default.marginLeft5,name:"arrow-right"}))))};O.propTypes={event:a.default.shape({custom_sponsors:a.default.arrayOf(a.default.string),end_date:a.default.string,event_type:a.default.string,image:a.default.shape({url:a.default.string}),location:a.default.shape({}),platforms:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string.isRequired,url:a.default.string.isRequired})),start_date:a.default.string,state:a.default.string,title:a.default.string})},O.defaultProps={event:{custom_sponsors:[],end_date:null,event_type:null,image:null,location:null,platforms:[],start_date:null,state:null,title:null}};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.whitelabelWhiteList=t.defaultWhiteList=void 0;var n,a=r(41),o=(n=r(265))&&n.__esModule?n:{default:n};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l={channels:!0,events:!0,parts:!0,news_articles:!0,projects:!0,users:!0};t.defaultWhiteList=l;var u={parts:!0,projects:!0,users:!0};t.whitelabelWhiteList=u;var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=(0,a.Map)(),this.whitelists={default:l,whitelabel:u}}var t,r,n;return t=e,(r=[{key:"getSetting",value:function(e){var t=this;return new Promise(function(r,n){return t._inWhiteList(e)?t.settings.has(e)?r(t.settings.get(e)):(0,o.default)(e).getSettings().then(function(n){t.settings=t.settings.set(e,n),r(n)}).catch(function(e){return n(e)}):n(new Error("IndexSettings cannont get setting for invalid index: ".concat(e)))})}},{key:"__setSetting",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,a){return t._inWhiteList(e)||a(new Error("IndexSettings cannont set setting for invalid index: ".concat(e))),(0,o.default)(e).setSettings(r).then(function(e){return n(e)}).catch(function(e){return a(e)})})}},{key:"_inWhiteList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||!e.length)return!1;var r=null!==t?this.whitelists.whitelabel:this.whitelists.default;return r.hasOwnProperty(e.toLowerCase())}}])&&i(t.prototype,r),n&&i(t,n),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(66)),i=r(485),l=s(r(7)),u=s(r(118));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?p(n):a).state={flagged:!1,isLoading:!1},r.onClick=r.onClick.bind(p(r)),r}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.Component),r=t,(a=[{key:"onClick",value:function(){this.state.isLoading||this.state.flagged||(this.setState({isLoading:!0}),this._createFlag())}},{key:"_createFlag",value:function(){var e=this;return(0,i.flagContent)(this.props.flaggable,this.props.currentUserId).then(function(t){return e.setState({isLoading:!1,flagged:!0})}).catch(function(e){return(0,l.default)("FlagButton createFlag ",e)})}},{key:"_getLoader",value:function(){return n.default.createElement(o.default,{size:"16"})}},{key:"_getText",value:function(){return this.state.flagged?"Report sent":"Report"}},{key:"render",value:function(){return n.default.createElement("span",{className:"flag-btn ".concat(this.state.flagged?u.default.optionDisabled:""),onClick:this.onClick},this.state.isLoading?this._getLoader():this._getText())}}])&&d(r.prototype,a),s&&d(r,s),t}();h.propTypes={currentUserId:a.default.number.isRequired,flaggable:a.default.shape({id:a.default.number.isRequired,type:a.default.string.isRequired}).isRequired};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPosition=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=(d=t,f=d.top,p=d.bottom,m=d.left,h=d.right,y=function(e,t){return t-e}(m,h),g=function(e,t){return t-e}(f,p),{top:f+window.pageYOffset,bottom:p+window.pageYOffset,left:m+window.pageXOffset,right:h+window.pageXOffset,width:y,height:g}),c=l(e,s,r,o);var d,f,p,m,h,y,g;return function(e,t,r,o){var s,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},d=o.bodyStyles,f=o.arrowStyles,p="left"===e||"right"===e?"vertical":"horizontal",m=function(e,t){var r,o,s=u(),c=e.top+t.height;return{vertical:(r={},a(r,"reposition-popover-up",function(){return e.top-(c-s.bottom+i)}),a(r,"reposition-popover-down",function(){return e.top+(s.top-e.top+i)}),a(r,"recenter-arrow",function(e,t){return t.top+t.height/2-e.top-n.ARROW_SIZE}),r),horizontal:(o={},a(o,"flip-popover-up",function(e,r){return l("top",e,t,r)}),a(o,"flip-popover-down",function(e,r){return l("bottom",e,t,r)}),o)}}(d,r)[p],h=function(e,t){var r,o=u(),i=e.top+t.height;return{vertical:(r={},a(r,"popover-out-of-view",function(){return{obVerticalTop:e.top<o.top,obVerticalBottom:i>o.bottom}}),a(r,"will-arrow-fit-on-popover",function(e,t){return e+2*n.ARROW_SIZE+3<t.height&&e-3>0}),r),horizontal:a({},"popover-out-of-view",function(){return{obHorizontalTop:e.top<o.top,obHorizontalBottom:i>o.bottom}})}}(d,r)[p],y={},g={};switch(p){case"vertical":var _=h["popover-out-of-view"](),v=_.obVerticalTop,b=_.obVerticalBottom;y=v?{top:m["reposition-popover-down"]()}:b?{top:m["reposition-popover-up"]()}:{};var O=m["recenter-arrow"](y,t);h["will-arrow-fit-on-popover"](O,r)?g.top=O:y.top=d.top;break;case"horizontal":var w=h["popover-out-of-view"](),E=w.obHorizontalTop,P=w.obHorizontalBottom,k={};P?(k=m["flip-popover-up"](t,c),s="bottom"):E&&(k=m["flip-popover-down"](t,c),s="top"),y=k.bodyStyles||{},g=k.arrowStyles||{};break;default:console.warn("axis value should always be horizontal or vertical. Somehow got:",p)}var S=s?{adjustedArrowDirection:s}:{};return Object.assign({bodyStyles:Object.assign({},d,y),arrowStyles:Object.assign({},f,g)},S)}(e,s,r,c,o)},t.REPOSITION_OFFSET=t.ARROW_ADJUSTMENT=void 0;var n=r(496);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=1;t.ARROW_ADJUSTMENT=o;var i=5;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.top,l=t.right,u=t.left,s=t.width,c=t.height,d=a.popoverOffsetVertical||0,f=a.targetOffset||0;return{top:function(){return{bodyStyles:{top:i-r.height-f,left:u-(r.width-s)/2},arrowStyles:{top:r.height-o-1,left:r.width/2-n.ARROW_SIZE-o}}},right:function(){return{bodyStyles:{top:i+d,left:l+f},arrowStyles:{top:c/2-n.ARROW_SIZE-d,left:-n.ARROW_SIZE}}},bottom:function(){return{bodyStyles:{top:i+c+f,left:u-(r.width-s)/2},arrowStyles:{top:-n.ARROW_SIZE,left:r.width/2-n.ARROW_SIZE-o}}},left:function(){return{bodyStyles:{top:i+d,left:u-r.width-f},arrowStyles:{top:c/2-n.ARROW_SIZE-d,left:r.width-(o+1)}}}}[e]()}function u(){return{top:window.pageYOffset,right:window.innerWidth+window.pageXOffset,bottom:window.innerHeight+window.pageYOffset,left:window.pageXOffset}}t.REPOSITION_OFFSET=i},function(e,t,r){e.exports={standardBorder:"1px solid #D8D8D8",root:"popover__root__3gWbL"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(66)),i=r(485),l=s(r(7)),u=s(r(118));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?p(n):a).state={flagged:!1,isLoading:!1},r.onClick=r.onClick.bind(p(r)),r}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.Component),r=t,(a=[{key:"onClick",value:function(){this.state.isLoading||this.state.flagged||!this._confirm()||(this.setState({isLoading:!0}),this._createFlag())}},{key:"_confirm",value:function(){var e=this.props.confirmMessage||"Warning! This will also delete the ".concat(this.props.flaggable.type.toLowerCase(),". This action is irreversible. Are you sure?");return!this.props.shouldConfirm||window.confirm(e)}},{key:"_createFlag",value:function(){var e=this;return(0,i.markAsSpam)(this.props.flaggable).then(function(){return e.setState({isLoading:!1,flagged:!0})}).catch(function(e){return(0,l.default)("MarkSpamButton _createFlag: ",e)})}},{key:"_getLoader",value:function(){return n.default.createElement(o.default,{size:"16"})}},{key:"_getText",value:function(){return this.state.flagged?"Marked as spam":"Mark as spam"}},{key:"render",value:function(){return n.default.createElement("span",{className:"flag-btn ".concat(this.state.flagged?u.default.optionDisabled:""),onClick:this.onClick},this.state.isLoading?this._getLoader():this._getText())}}])&&d(r.prototype,a),s&&d(r,s),t}();h.propTypes={confirmMessage:a.default.string,flaggable:a.default.shape({id:a.default.number.isRequired,type:a.default.string.isRequired}).isRequired,shouldConfirm:a.default.bool},h.defaultProps={confirmMessage:null,shouldConfirm:!1};var y=h;t.default=y},function(e,t,r){e.exports={exit:"transitions__exit__1apcb",exitActive:"transitions__exitActive__23f3A"}},function(e,t,r){e.exports={"med-large":"(max-width: 992px)",root:"sticky_footer__root__1Rc1b",bodyWrapper:"sticky_footer__bodyWrapper__2H4dQ",socialFooterBodyWrapper:"sticky_footer__socialFooterBodyWrapper__2EEy1",socialList:"sticky_footer__socialList__VnQ0U",bodyAndSocialIcons:"sticky_footer__bodyAndSocialIcons__227fk",closeBtn:"sticky_footer__closeBtn__30MsA",socialFooterBody:"sticky_footer__socialFooterBody__3WBWB"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=g(r(1)),i=g(r(115)),l=g(r(15)),u=g(r(57)),s=g(r(160)),c=r(139),d=r(8),f=r(16),p=g(r(2)),m=g(r(3)),h=g(r(5)),y=g(r(221));function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=(_(n={},"PUBLISH",{action:function(e){return e(1,c.PUBLISHED_STATUS)},text:"Publish"}),_(n,"SAVE",{action:function(e){return e(0)},text:"Save progress"}),_(n,"SUBMIT",{action:function(e){return e(1,c.SUBMITTED_STATUS)},text:"Submit article"}),_(n,"UPDATE",{action:function(e){return e(1)},text:"Update article"}),n),b=function(e){var t=e.disabled,r=e.isBusy,n=e.toggleCurrentView;return a.default.createElement(u.default,{classList:{root:y.default.actionsBreadcrumbRoot},href:"/news/admin",onClick:function(e){e.preventDefault(),t||r||n("default")},size:"M",text:"Back to articles"})},O=function(e){return e?a.default.createElement("div",{className:"".concat(m.default.bodyS," ").concat(m.default.pebble," ").concat(p.default.hiddenMedDown)},"Saved on ".concat((0,f.timestampToPrettyDate)(e.updated_at,f.DATE_AT_TIME_FORMAT,!0))):null},w=function(e){var t=e.article,r=e.disabled,n=e.hasChanges,o=e.isAdminOrEditor,u=e.isBusy,s=e.saveProgress,f=e.toggleCurrentView,m=(e.view,v[function(e,t,r){var n=(0,d.getInObj)(["status"],e);return null===n?"SAVE":r?n===c.PUBLISHED_STATUS?"UPDATE":t?"SAVE":"PUBLISH":[c.PUBLISHED_STATUS,c.SUBMITTED_STATUS].includes(n)?"UPDATE":t?"SAVE":"SUBMIT"}(t,n,o)]);return a.default.createElement(a.Fragment,null,b({isBusy:u,toggleCurrentView:f}),O(t),a.default.createElement("div",{className:"".concat(p.default.flex," ").concat(y.default.actionsFormViewButtons)},null!==t&&a.default.createElement(l.default,{className:p.default.marginRight10,colorStyle:"tertiary",disabled:r||u,onClick:function(){return f("preview")},size:"md"},"Preview"),a.default.createElement(i.default,{key:m.text,color:"",disabled:r,isBusy:u,onClick:function(){return m.action(s)},size:"md",text:m.text})))},E=function(e){switch(e.view){case"form":return w(e);case"preview":return r=(t=e).article,n=t.disabled,t.isAdminOrEditor,o=t.isBusy,i=t.toggleCurrentView,a.default.createElement(a.Fragment,null,b({disabled:n,isBusy:o,toggleCurrentView:i}),O(r),a.default.createElement(l.default,{className:p.default.marginRight10,colorStyle:"tertiary",disabled:o||n,onClick:function(){return i("form")},size:"md"},"Continue editing"));default:return null}var t,r,n,o,i},P=function(e){return a.default.createElement("div",{className:"".concat(y.default.actionsBarRoot," ").concat(h.default.posRelative),id:"newsAdminStickyFooter"},a.default.createElement(s.default,{className:"".concat(y.default.actionsBar," ").concat(h.default.borderTop," ").concat(p.default.flexJustifyCenter),parentId:"newsAdminStickyFooter",startPos:"bottom",stickToEnd:!1},a.default.createElement("div",{className:"".concat(p.default.wrapper1170," ").concat(y.default.actionsBarInner)},E(e))))};P.propTypes={article:o.default.shape({status:o.default.string,updated_at:o.default.oneOfType([o.default.string,o.default.number])}),disabled:o.default.bool,hasChanges:o.default.bool,isAdminOrEditor:o.default.bool.isRequired,isBusy:o.default.bool,saveProgress:o.default.func,toggleCurrentView:o.default.func.isRequired,view:o.default.string.isRequired},P.defaultProps={article:null,disabled:!1,hasChanges:!1,isBusy:!1,saveProgress:null};var k=P;t.default=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=p(r(887)),i=r(139),l=r(8),u=r(16),s=p(r(2)),c=p(r(3)),d=p(r(5)),f=p(r(221));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=function(e){switch(e.status){case i.DRAFT_STATUS:return{classColor:d.default.categoryGrayBG,text:"Draft"};case i.PUBLISHED_STATUS:var t=e.published_at,r=(0,u.timestampToPrettyDate)(t,u.DATE_AT_TIME_FORMAT);return(0,u.timeIsFuture)(t)?{classColor:d.default.categoryGreenBG,text:"Scheduled for ".concat(r)}:{classColor:null,text:"Published on ".concat(r)};case i.SUBMITTED_STATUS:return{classColor:d.default.categoryOrangeBG,text:"Submitted"};default:return{classColor:null,text:"Error"}}}(e),r=t.classColor,a=t.text;return n.default.createElement("div",{className:"".concat(s.default.flexCenterItems," ").concat(f.default.topMenuBarStatus)},r&&n.default.createElement("div",{className:"".concat(d.default.categoryBadgeRectSmall," ").concat(s.default.marginRight10," ").concat(r)}),n.default.createElement("span",{className:"".concat(c.default.bodyM," ").concat(c.default.bold)},a))},h=function(e){var t=e.article,r=e.deleteArticle,a=e.isAdminOrEditor,i=e.unpublishArticle;return t?n.default.createElement("div",{className:"".concat(d.default.borderBottom," ").concat(f.default.topMenuBarRoot)},n.default.createElement("div",{className:"".concat(s.default.wrapper1170," ").concat(s.default.flexCenterItems)},n.default.createElement("div",{className:"".concat(s.default.flex1," ").concat(s.default.flexJustifyCenter)},m(t),function(e){var t=e.article;if(!e.isAdminOrEditor)return null;var r=(0,l.getInObj)(["user","avatar_url"],t),a=(0,l.getInObj)(["user","name"],t);return n.default.createElement("div",{className:s.default.flexCenterItems},n.default.createElement("span",{style:{fontSize:22,padding:"0 15px"},className:c.default.asphalt},"|"),r&&n.default.createElement("img",{style:{height:20,width:20},className:d.default.circle,src:r}),a&&n.default.createElement("p",{className:"".concat(c.default.bodyM," ").concat(c.default.breakWord," ").concat(s.default.paddingLeft10)},a))}({article:t,isAdminOrEditor:a})),n.default.createElement(o.default,{article:t,deleteArticle:r,isAdminOrEditor:a,type:"topbar",unpublishArticle:i}))):null};h.propTypes={article:a.default.shape({status:a.default.string,published_at:a.default.oneOfType([a.default.string,a.default.number]),url:a.default.string}),deleteArticle:a.default.func.isRequired,isAdminOrEditor:a.default.bool.isRequired,unpublishArticle:a.default.func.isRequired},h.defaultProps={article:null};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=h(r(1)),o=h(r(251)),i=h(r(9)),l=r(139),u=r(16),s=r(860),c=h(r(10)),d=h(r(2)),f=h(r(118)),p=h(r(3)),m=h(r(5));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=_(t).call(this,e))||"object"!==y(a)&&"function"!=typeof a?v(n):a).state={openMenu:!1},r.toggleMenu=r.toggleMenu.bind(v(r)),r}var r,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n.PureComponent),r=t,(a=[{key:"toggleMenu",value:function(){this.setState({openMenu:!this.state.openMenu})}},{key:"_copyUrlToClipboard",value:function(){(0,s.copyStringToClipboard)(this.props.article.url),this.toggleMenu()}},{key:"_editArticle",value:function(){this.props.redirectToArticleEdit(this.props.article),this.toggleMenu()}},{key:"_deleteArticle",value:function(){this.props.deleteArticle(this.props.article),this.toggleMenu()}},{key:"_openInNewWindow",value:function(){window.open(this.props.article.url),this.toggleMenu()}},{key:"_unpublishArticle",value:function(){this.props.unpublishArticle(this.props.article),this.toggleMenu()}},{key:"_viewStats",value:function(){this.props.redirectToArticleStats(this.props.article),this.toggleMenu()}},{key:"_getDropdownOptions",value:function(){return this.props.isAdminOrEditor?this._getMenuOptsForAdminOrEditor():this._getMenuOptsForAuthor()}},{key:"_getMenuOptsForAdminOrEditor",value:function(){var e=this,t=this.props.article.status,r=t===l.PUBLISHED_STATUS&&(0,u.timeIsPast)(this.props.article.published_at),a=t===l.PUBLISHED_STATUS&&(0,u.timeIsFuture)(this.props.article.published_at);return n.default.createElement(n.Fragment,null,r&&n.default.createElement("li",{className:f.default.option,onClick:function(){return e._unpublishArticle()}},"Unpublish"),r&&n.default.createElement("li",{className:f.default.option,onClick:function(){return e._openInNewWindow()}},"View live article"),r&&n.default.createElement("li",{className:f.default.option,onClick:function(){return e._viewStats()}},"View stats"),a&&n.default.createElement("li",{className:f.default.option,onClick:function(){return e._unpublishArticle()}},"Unschedule"),!r&&n.default.createElement("li",{className:f.default.option,onClick:function(){return e._copyUrlToClipboard()}},"Copy draft link"),n.default.createElement("hr",{className:"".concat(m.default.hr," ").concat(d.default.marginTop10," ").concat(d.default.marginBottom10)}),"list"===this.props.type&&n.default.createElement("li",{className:f.default.option,onClick:function(){return e._editArticle()}},"Edit article"),n.default.createElement("li",{className:"".concat(f.default.option," ").concat(p.default.error),onClick:function(){return e._deleteArticle()}},"Delete article"))}},{key:"_getMenuOptsForAuthor",value:function(){var e=this,t=this.props.article.status,r=t===l.PUBLISHED_STATUS&&(0,u.timeIsPast)(this.props.article.published_at);return n.default.createElement(n.Fragment,null,r&&n.default.createElement("li",{className:f.default.option,onClick:function(){return e._openInNewWindow()}},"View live article"),r&&n.default.createElement("li",{className:f.default.option,onClick:function(){return e._viewStats()}},"View stats"),!r&&n.default.createElement("li",{className:f.default.option,onClick:function(){return e._copyUrlToClipboard()}},"Copy draft link"),(t!==l.PUBLISHED_STATUS||"list"===this.props.type)&&n.default.createElement("hr",{className:"".concat(m.default.hr," ").concat(d.default.marginTop10," ").concat(d.default.marginBottom10)}),"list"===this.props.type&&n.default.createElement("li",{className:f.default.option,onClick:function(){return e._editArticle()}},"Edit article"),t!==l.PUBLISHED_STATUS&&n.default.createElement("li",{className:"".concat(f.default.option," ").concat(p.default.error),onClick:function(){return e._deleteArticle()}},"Delete article"))}},{key:"render",value:function(){return n.default.createElement("div",{className:"".concat(m.default.posRelative," ").concat(m.default.height100P)},n.default.createElement("button",{className:c.default.blank,onClick:this.toggleMenu,type:"button"},n.default.createElement(i.default,{name:"view-more",size:16})),this.state.openMenu&&n.default.createElement(o.default,{key:"menu",className:this.props.classList.dropdown,alignTop:!1,dismiss:this.toggleMenu,alignRight:!0},n.default.createElement("ul",{className:m.default.ulReset},n.default.Children.toArray(this._getDropdownOptions()))))}}])&&g(r.prototype,a),h&&g(r,h),t}();O.propTypes={article:a.default.shape({status:a.default.string.isRequired,published_at:a.default.oneOfType([a.default.string,a.default.number]),url:a.default.string}).isRequired,classList:a.default.shape({dropdown:a.default.string}),deleteArticle:a.default.func.isRequired,isAdminOrEditor:a.default.bool.isRequired,redirectToArticleEdit:a.default.func,redirectToArticleStats:a.default.func,type:a.default.oneOf(["list","topbar"]),unpublishArticle:a.default.func.isRequired},O.defaultProps={classList:{dropdown:""},redirectToArticleEdit:null};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(99)),i=l(r(140));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s=function(e){var t=e.isAdminOrEditor;return n.default.createElement("div",{className:i.default.listItem},n.default.createElement("div",{className:i.default.listItemTitleCell},n.default.createElement("div",{className:i.default.listItemCoverImageWrapper},n.default.createElement("div",{style:{borderRadius:2},className:"".concat(i.default.listItemCoverImage," ").concat(o.default.loader)})),n.default.createElement("div",{style:{width:"100%"},className:i.default.listItemData},n.default.createElement("div",{style:{height:18,marginBottom:5,width:"100%"},className:o.default.loader}),n.default.createElement("div",{className:i.default.listItemMobileAuthorStatus},t&&n.default.createElement("div",{style:{height:16,marginBottom:5,width:100},className:o.default.loader}),n.default.createElement("div",{style:{height:16,width:100},className:o.default.loader})))),t&&n.default.createElement("div",{style:{height:18,width:200},className:"".concat(i.default.listItemAuthorCell," ").concat(o.default.loader)}),n.default.createElement("div",{className:i.default.listItemDateCell},n.default.createElement("div",{style:{height:18,width:t?100:200},className:o.default.loader})))},c=function(e){var t=e.isAdminOrEditor;return n.default.createElement("div",null,u(Array(5).keys()).map(function(e){return n.default.createElement(s,{key:e,isAdminOrEditor:t})}))};c.propTypes={isAdminOrEditor:a.default.bool.isRequired};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(1977)),i=d(r(1993)),l=d(r(905)),u=d(r(2)),s=d(r(5)),c=d(r(361));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.article,r=e.isPreview,a=e.relatedArticles,d=e.signup_cta_image_urls,f=e.social_sharing_links,p=e.sponsoredArticles;return n.default.createElement("div",{className:"".concat(u.default.fullWidth," ").concat(u.default.flex," ").concat(c.default.row1)},n.default.createElement("div",{className:u.default.flex1},n.default.createElement(o.default,{article:t,isPreview:r,social_sharing_links:f})),n.default.createElement("div",{className:"".concat(u.default.hiddenMedDown," ").concat(u.default.marginLeft30," ").concat(u.default.marginRight30," ").concat(s.default.borderLeft)}),n.default.createElement("div",{className:c.default.sidebar},r?n.default.createElement(l.default,null):n.default.createElement(i.default,{article:t,signup_cta_image_urls:d,relatedArticles:a,sponsoredArticles:p})))};f.propTypes={article:a.default.object.isRequired,isPreview:a.default.bool,relatedArticles:a.default.array,signup_cta_image_urls:a.default.object,social_sharing_links:a.default.arrayOf(a.default.shape({label:a.default.string.isRequired,service:a.default.string.isRequired,url:a.default.string.isRequired})),sponsoredArticles:a.default.array},f.defaultProps={isPreview:!1,relatedArticles:null,signup_cta_image_urls:null,social_sharing_links:[],sponsoredArticles:null};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n};var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.default.Children.toArray(e.reduce(function(r,n,a){return a===e.length-1?r.concat([n]):r.concat([n,t])},[]))};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(254)),i=f(r(88)),l=f(r(9)),u=f(r(10)),s=f(r(2)),c=f(r(3)),d=f(r(329));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){return"side"===e?"".concat(s.default.marginTop10," ").concat(d.default.stickyButton):s.default.marginLeft10},m=function(e){var t=e.article,r=e.disabled,a=e.position,f=e.social_sharing_links;return n.default.createElement(n.Fragment,null,n.default.createElement(o.default,{disabled:r,id:t.id,respects:t.respects_count,theme:"side"===a?"articleSide":"articleBottom",type:"news_article"}),n.default.createElement(i.default,{classList:{button:"".concat(u.default.icon," ").concat(u.default.outlineBlack," ").concat(u.default.md," ").concat(p(a)),dropdown:c.default.whitespaceNowrap},alignTop:"bottom"===a,disabled:r,label:n.default.createElement(l.default,{name:"share-project"})},n.default.createElement("div",{className:s.default.padding15},f.map(function(e){return n.default.createElement("div",{key:e.service},(r=(t=e).label,a=t.service,o=t.url,n.default.createElement("a",{className:"".concat(c.default.link," ").concat(c.default.bodyS," ").concat(c.default.bold),href:o},n.default.createElement("div",{className:d.default.socialIcon},n.default.createElement("i",{className:"fa fa-".concat(a)})),n.default.createElement("span",null,"Share on ".concat(r)))));var t,r,a,o}))))};m.propTypes={article:a.default.shape({id:a.default.number.isRequired,respects_count:a.default.number.isRequired}).isRequired,disabled:a.default.bool,position:a.default.oneOf(["bottom","side"]),social_sharing_links:a.default.arrayOf(a.default.shape({label:a.default.string.isRequired,service:a.default.string.isRequired,url:a.default.string.isRequired}))},m.defaultProps={disabled:!1,position:"side",social_sharing_links:[]};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderContent=t.ParagraphPlaceholder=void 0;var n=d(r(0)),a=d(r(893)),o=d(r(1981)),i=r(499),l=d(r(99)),u=d(r(122)),s=d(r(2)),c=d(r(361));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p=function(e){var t=e.animated,r=void 0!==t&&t,a=e.numLines,o=void 0===a?5:a,i=e.backgroundColor,s=void 0===i?u.default.fog:i,c=e.textHeight,d=void 0===c?"1em":c,p=e.lastLineWidth,m=void 0===p?"inherit":p,h=e.textSpacing,y=void 0===h?"0.2em":h,g=e.width,_=void 0===g?"inherit":g;return n.default.Children.toArray(f(new Array(o).keys()).map(function(e){return n.default.createElement("div",{key:e,className:r?l.default.loader:null,style:{backgroundColor:s,height:d,marginTop:y,width:e===o-1?m:_}})}))};t.ParagraphPlaceholder=p;var m=function(e){return n.default.createElement(p,{backgroundColor:u.default.asphalt,textHeight:16,textSpacing:6,lastLineWidth:"60%",numLines:e})},h=function(e){return n.default.createElement(o.default,{className:c.default.content,story:e.content})},y=function(e){return(0,i.doesStoryHaveContent)(e.content)?h(e):n.default.createElement("div",{className:s.default.fullWith},m(8),n.default.createElement(a.default,{className:"".concat(s.default.marginTop30," ").concat(s.default.marginBottom30),aspectRatio:16/9,backgroundColor:u.default.asphalt}),m(10))};t.renderContent=function(e,t){return t?y(e):h(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(99)),i=u(r(122)),l=u(r(2));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.animated,r=e.aspectRatio,a=e.backgroundColor,i=e.className;return n.default.createElement("div",{className:"".concat(l.default.fullWidth," ").concat(i," ").concat(t?o.default.loader:""),style:{backgroundColor:a,paddingTop:"".concat(1/r*100,"%")}})};s.propTypes={animated:a.default.bool,aspectRatio:a.default.number,backgroundColor:a.default.string,className:a.default.string},s.defaultProps={animated:!1,aspectRatio:4/3,backgroundColor:i.default.fog,className:""};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0),a=l(r(1)),o=l(r(7)),i=r(11);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=c(this,d(t).call(this,e))).state={hasError:!1},r}var r,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n.Component),r=t,l=[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}],(a=[{key:"componentDidCatch",value:function(e,t){(0,o.default)(e,t),this.props.onError(e,t)}},{key:"_getFallbackView",value:function(){return(0,i.isAFunction)(this.props.fallbackView)?this.props.fallbackView():this.props.fallbackView}},{key:"render",value:function(){return this.state.hasError?this._getFallbackView():this.props.children}}])&&s(r.prototype,a),l&&s(r,l),t}();p.propTypes={fallbackView:a.default.any,onError:a.default.func},p.defaultProps={fallbackView:null,onError:function(){}};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=s(r(1985)),i=s(r(1987)),l=r(896),u=s(r(360));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=!(a=f(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?p(n):a;var o=e.images.map(l.gifToVideo);return r.state={active:!1,activeIndex:0,activeViewerIndex:0,images:o.map(function(e,t){return Object.assign({},e,{url:e.image_urls.headline_url,imageIndex:t})}),showViewer:!1,viewerImages:o.map(function(e,t){return Object.assign({},e,{url:e.image_urls.lightbox_url,imageIndex:t})})},r.dismiss=r.dismiss.bind(p(r)),r.updateActiveIndex=r.updateActiveIndex.bind(p(r)),r.toggleActive=r.toggleActive.bind(p(r)),r}var r,n,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,a.Component),r=t,(n=[{key:"dismiss",value:function(){this.setState({showViewer:!1,activeIndex:this.state.activeViewerIndex})}},{key:"toggleActive",value:function(e){this.state.active!==e&&this.setState({active:e})}},{key:"updateActiveIndex",value:function(e,t){this.setState(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,t))}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{key:"react-carousel-".concat(this.props.uid),onMouseOver:function(){return e.toggleActive(!0)},onMouseLeave:function(){return e.toggleActive(!1)}},a.default.createElement(o.default,{activeIndex:this.state.activeIndex,classList:this.props.classList,enableArrowKeyNavigation:this.state.active&&!this.state.showViewer,images:this.state.images,onImageClick:function(){return e.setState({showViewer:!0,activeViewerIndex:e.state.activeIndex})},updateActiveIndex:function(t){return e.updateActiveIndex("activeIndex",t)}}),a.default.createElement(i.default,{dialogProps:{dismiss:this.dismiss,open:this.state.showViewer}},a.default.createElement(o.default,{activeIndex:this.state.activeViewerIndex,classList:{image:u.default.viewerImage,container:u.default.viewerContainer},enableArrowKeyNavigation:this.state.showViewer,images:this.state.viewerImages,inViewer:this.state.showViewer,updateActiveIndex:function(t){return e.updateActiveIndex("activeViewerIndex",t)}})))}}])&&d(r.prototype,n),s&&d(r,s),t}();h.propTypes={classList:n.default.shape({container:n.default.string}),images:n.default.array.isRequired,uid:n.default.string.isRequired},h.defaultProps={classList:{}};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cycleIndex=s,t.getCycledArray=function(e,t){return Array.isArray(e)&&0!==e.length?1===e.length?e:2===e.length?0===t?[e[1],e[0],e[1]]:[e[0],e[1],e[0]]:t===e.length-1?[e[e.length-2],e[e.length-1],e[0]]:0===t?[e[e.length-1],e[0],e[1]]:[e[t-1],e[t],e[t+1]]:[]},t.gifToVideo=function(e){var t=e.image_urls,r=t.headline_url,n=t.lightbox_url;return(0,i.canConvertToMP4)(r)?Object.assign({},e,{format:i.VIDEO,image_urls:{headline_url:(0,o.addQueryParamsToURL)(r,u),lightbox_url:(0,o.addQueryParamsToURL)(n,u)}}):Object.assign({},e,{format:i.IMG})},t.updateActionsOnScroll=void 0;var n,a=(n=r(28))&&n.__esModule?n:{default:n},o=r(175),i=r(155);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={fm:"mp4",auto:"compress"};function s(e,t){return e>t?0:e<0?t:e}var c={left:function(e){var t=e.props.activeIndex-1;e.preventScrollAndUpdate(function(){return e.updateActiveIndex(t)})},right:function(e){var t=e.props.activeIndex+1;e.preventScrollAndUpdate(function(){return e.updateActiveIndex(t)})},snapLeft:function(e){e.preventScrollAndUpdate(function(){return(0,a.default)(0,200,function(){return e.updateActiveIndex(e.props.activeIndex-1)},e._scrollContainer,!0)})},center:function(e){var t=Math.floor(e._scrollContainer.clientWidth);e.preventScrollAndUpdate(function(){return(0,a.default)(t,200,function(){return e.updateState({noScroll:!1})},e._scrollContainer,!0)})},snapRight:function(e){var t=Math.floor(e._scrollContainer.clientWidth);e.preventScrollAndUpdate(function(){return(0,a.default)(2*t,200,function(){return e.updateActiveIndex(e.props.activeIndex+1)},e._scrollContainer,!0)})},eagerUpdateRight:function(e){if(e.state.activeIndex===e.props.activeIndex){var t=s(e.props.activeIndex+1,e.props.images.length-1);e.updateState({activeIndex:t,loadedImageIndexes:Object.assign({},e.state.loadedImageIndexes,l({},t,!0))})}},eagerUpdateLeft:function(e){if(e.state.activeIndex===e.props.activeIndex){var t=s(e.props.activeIndex-1,e.props.images.length-1);e.updateState({activeIndex:t,loadedImageIndexes:Object.assign({},e.state.loadedImageIndexes,l({},t,!0))})}}};t.updateActionsOnScroll=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getPlaceholderView=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(162)),i=r(55),l=c(r(2)),u=c(r(3)),s=c(r(1992));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){return n.default.createElement("div",{className:s.default.root})};t.getPlaceholderView=d;var f=function(e){var t=e.ad,r=e.classList,a=e.initialized,c=e.onClick;if(!a)return d();var f=t.cover_image,p=t.id,m=t.link,h=t.text;return n.default.createElement("div",{className:"".concat(s.default.root," ").concat(r.root)},n.default.createElement("div",{className:s.default.wrapper},n.default.createElement("a",{href:m,onClick:function(e){return c(e,{id:p})},rel:"noopener",target:"_blank"},n.default.createElement(o.default,{className:s.default.image,lazy:!0,ratio:"4:3",src:f.url,width:125})),n.default.createElement("div",{className:s.default.textWrapper},n.default.createElement("a",{className:"".concat(s.default.text," ").concat(u.default.bodyS," ").concat(u.default.link," ").concat(u.default.whitespacePre," ").concat(u.default.anchorNoUnderlineOnHover),href:m,onClick:function(e){return c(e,{id:p})},rel:"noopener",target:"_blank"},h),n.default.createElement("div",{className:"".concat(s.default.disclaimerWrapper," ").concat(l.default.marginTop10)},n.default.createElement("a",{className:"".concat(s.default.adFAQLink," ").concat(u.default.uppercase," ").concat(u.default.bold," ").concat(u.default.anchorNoUnderlineOnHover),href:i.adFAQLink,rel:"noopener",target:"_blank"},"Advertisement")))))};f.propTypes={ad:a.default.shape({id:a.default.number.isRequired,cover_image:a.default.shape({url:a.default.string.isRequired}).isRequired,link:a.default.string.isRequired,text:a.default.string.isRequired}),classList:a.default.shape({root:a.default.string}),initialized:a.default.bool.isRequired,onClick:a.default.func.isRequired},f.defaultProps={classList:{root:""}};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(308)),i=r(155),l=s(r(2)),u=s(r(156));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,p(t).apply(this,arguments))}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.PureComponent),r=t,(a=[{key:"_processProps",value:function(e){var t=e.fit,r=e.queryParams,n=e.ratio,a=e.setStyle,o=e.src,l=e.width,u=(0,i.processURL)({fit:t,queryParams:r,ratio:n,src:o,width:l,useSrcSet:!0}),s=a?{height:u.height,width:l}:null;return{format:u.format,src:u.src,srcSet:u.srcSet,style:s}}},{key:"render",value:function(){var e=this.props,t=e.alt,r=e.className,a=e.onClick,i=e.onMouseLeave,s=e.onMouseOver,c=this._processProps(this.props),d=c.format,f=c.src,p=c.srcSet,m=c.style;return n.default.createElement("div",{className:"".concat(r," ").concat(u.default.root),onClick:a,onMouseLeave:i,onMouseOver:s,style:m},n.default.createElement(o.default,{className:l.default.fullWidth,alt:t,format:d,src:f,srcSet:p}))}}])&&d(r.prototype,a),s&&d(r,s),t}();h.propTypes={alt:a.default.string,className:a.default.string,fit:a.default.string,onClick:a.default.func,onMouseLeave:a.default.func,onMouseOver:a.default.func,queryParams:a.default.object,ratio:a.default.string.isRequired,setStyle:a.default.bool,src:a.default.string.isRequired,width:a.default.number.isRequired},h.defaultProps={alt:"",className:"",fit:"min",onClick:function(){},onMouseLeave:function(){},onMouseOver:function(){},queryParams:{},setStyle:!0};var y=h;t.default=y},function(e,t,r){e.exports={small:"(max-width: 480px)",divider:"article_page_simple_ad__divider__1fo0p"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=d(r(1)),o=d(r(500)),i=f(r(901)),l=d(r(903)),u=d(r(501)),s=d(r(7)),c=r(75);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=h(this,y(t).call(this,e))).state={ad:null,initialized:!1},r.adsService=new u.default(c.CONTENT_PAGE,e.relations),r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._fetchAd()}},{key:"_fetchAd",value:function(){var e=this;return this.adsService.getAdForPage("content").then(function(t){return e.setState({ad:t,initialized:!0})}).catch(function(t){e.setState({initialized:!0}),(0,s.default)("ModularAd _fetchAds: ".concat(t))})}},{key:"_getAdView",value:function(){return this.state.ad.ad_type===c.CONTENT_PAGE?this._getContentPageView():this._getBetaAdView()}},{key:"_getBetaAdView",value:function(){return"article_page"===this.props.page_type?this._getBetaArticlePageView():this._getBetaProjectPageView()}},{key:"_getBetaArticlePageView",value:function(){return n.default.createElement(o.default,{ad:this.state.ad,initialized:this.state.initialized})}},{key:"_getBetaProjectPageView",value:function(){return n.default.createElement(l.default,{ad:this.state.ad,initialized:this.state.initialized})}},{key:"_getContentPageView",value:function(){return n.default.createElement(i.default,{ad:this.state.ad,initialized:this.state.initialized,pageType:this.props.page_type})}},{key:"_getContentPagePlaceholderView",value:function(){return this.state.initialzed?null:(0,i.ContentPageAdPlaceholderView)(this.props.page_type)}},{key:"render",value:function(){return this.state.initialized||this.state.ad?this.state.initialized&&!this.state.ad?null:this._getAdView():this._getContentPagePlaceholderView()}}])&&m(r.prototype,a),d&&m(r,d),t}();_.propTypes={page_type:a.default.oneOf(["article_page","project_page"]).isRequired,relations:a.default.shape({platform_ids:a.default.arrayOf(a.default.number),tag_ids:a.default.arrayOf(a.default.number)})},_.defaultProps={relations:{platform_ids:[],tag_ids:[]}};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ContentPageAdPlaceholderView=void 0;var n=g(r(0)),a=g(r(1)),o=g(r(224)),i=g(r(162)),l=g(r(362)),u=r(55),s=g(r(899)),c=g(r(2)),d=g(r(902)),f=g(r(3)),p=g(r(5)),m=g(r(1994)),h=r(500),y=r(903);function g(e){return e&&e.__esModule?e:{default:e}}var _=function(e){return"article_page"===e},v=function(e){var t=e.ad,r=e.forwardedRef,a=e.onClick,o=e.onImageLoad,l=e.pageType,s=e.initialized;return s?s&&null===t?null:n.default.createElement("div",{ref:r,className:c.default.marginBottom15},n.default.createElement("div",null,n.default.createElement("a",{href:t.link,onClick:function(){return a(t)},rel:"noopener",target:"_blank"},n.default.createElement(i.default,{className:p.default.borderRadius,lazy:!0,onLoad:function(){return o(t)},ratio:"4:3",setStyle:!1,src:t.cover_image.url,width:_(l)?280:270}))),n.default.createElement("div",{className:"".concat(c.default.flexJustifyEnd)},n.default.createElement("a",{className:"".concat(f.default.bodyS),href:u.adFAQLink,rel:"noopener",target:"_blank"},"Ad"))):b(l)},b=function(e){return n.default.createElement("div",{className:"".concat(c.default.marginBottom30," ").concat(p.default.bgFog," ").concat(p.default.borderRadius," ").concat(_(e)?m.default.articlePlaceholder:m.default.projectPlaceholder)})};t.ContentPageAdPlaceholderView=b;var O=function(){return n.default.createElement("div",{className:"".concat(s.default.divider," ").concat(p.default.borderTop)})},w=function(e){return"news_home_page"===e.pageType?function(e){return n.default.createElement("div",{className:c.default.flex1},n.default.createElement("div",{className:c.default.hiddenMedDown},v(e)),n.default.createElement("div",{className:"".concat(c.default.hiddenMedUp," ").concat(c.default.flexCenterItems," ").concat(c.default.flexColumn)},n.default.createElement("div",{className:m.default.projectWrapper},v(e))))}(e):function(e){if(!e.initialized)return b(e.pageType);if(e.initialized&&null===e.ad)return null;var t=_(e.pageType);return n.default.createElement("div",null,n.default.createElement("div",{className:c.default.hiddenMedDown},v(e)),n.default.createElement(l.default,{id:t?h.PORTAL_ID:y.PORTAL_ID},n.default.createElement("div",{className:"".concat(c.default.hiddenMedUp," ").concat(c.default.flexCenterItems," ").concat(c.default.flexColumn," ").concat(t&&c.default.marginTop30)},t&&O(),n.default.createElement("div",{className:"".concat(c.default.fullWidth," ").concat(t?m.default.articleWrapper:m.default.projectWrapper)},v(e)),t&&O()),!t&&n.default.createElement("div",{className:"project-section-break ".concat(d.default.portal)})))}(e)};w.propTypes={ad:a.default.shape({id:a.default.number.isRequired,ad_type:a.default.string.isRequired,cover_image:a.default.shape({url:a.default.string.isRequired}).isRequired,link:a.default.string.isRequired}),forwardedRef:a.default.oneOfType([a.default.func,a.default.shape({current:a.default.any})]).isRequired,initialized:a.default.bool.isRequired,onClick:a.default.func.isRequired,onImageLoad:a.default.func.isRequired,pageType:a.default.oneOf(["article_page","news_home_page","project_page"]).isRequired},w.defaultProps={ad:null};var E=(0,o.default)(w);t.default=E},function(e,t,r){e.exports={med:"(max-width: 768px)",portal:"project_page__portal__1M0QQ"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PORTAL_ID=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(224)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(897)),l=s(r(362)),u=s(r(902));function s(e){return e&&e.__esModule?e:{default:e}}var c="project_page_simple_ad_portal";t.PORTAL_ID=c;var d=function(e){var t=e.ad,r=e.initialized,a=e.isPortal,o=e.onClick;return n.default.createElement(i.default,{ad:t,classList:{root:a?u.default.portal:""},initialized:r,onClick:o})},f=function(e){var t=e.ad,r=e.forwardedRef,a=e.initialized,o=e.onClick,s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a&&null!==t?d({ad:t,initialized:a,isPortal:e,onClick:o}):(0,i.getPlaceholderView)()};return n.default.createElement("div",{ref:r},s(),n.default.createElement(l.default,{id:c},s(!0),n.default.createElement("div",{className:"project-section-break ".concat(u.default.portal)})))};f.displayName="ProjectPageSimpleAd",f.propTypes={ad:a.default.shape({id:a.default.number.isRequired,cover_image:a.default.shape({url:a.default.string.isRequired}).isRequired,link:a.default.string.isRequired,text:a.default.string.isRequired}),forwardedRef:a.default.oneOfType([a.default.func,a.default.shape({current:a.default.any})]).isRequired,initialized:a.default.bool.isRequired,onClick:a.default.func.isRequired},f.defaultTypes={ad:null};var p=(0,o.default)(f);t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(15)),i=d(r(48)),l=d(r(7)),u=r(18),s=d(r(2)),c=d(r(3));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g={detail:{state:{currentPanel:"signup"},source:"news_cta"}},_=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=m(this,h(t).call(this,e))).state={currentUserId:null,initialized:!1},r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){var e=this;return i.default.getAsync("id").then(function(t){return e.setState({currentUserId:t,initialized:!0})}).catch(function(e){return(0,l.default)("NewsSignupCTA",e)})}},{key:"render",value:function(){if(!this.state.initialized||this.state.currentUserId)return null;var e=this.props.imageURLs,t=e.x1,r=e.x2;return n.default.createElement("div",{className:"".concat(this.props.className," ").concat(s.default.flexJustifyCenter)},n.default.createElement("div",{className:s.default.fullWidth,style:{maxWidth:480}},n.default.createElement("div",{className:"".concat(s.default.flexJustifySpaceBetween," ").concat(s.default.flexCenterItems)},n.default.createElement("div",{className:"".concat(c.default.bodyL," ").concat(s.default.marginRight10," ").concat(s.default.flex1)},"Get our weekly newsletter when you join Hackster."),n.default.createElement("div",{className:"".concat(s.default.paddingLeft15," ").concat(s.default.paddingRight15),style:{flex:"0 1 auto"}},n.default.createElement("img",{src:t,srcSet:"".concat(t," 1x, ").concat(r," 2x")}))),n.default.createElement(o.default,{className:"".concat(s.default.fullWidth," ").concat(s.default.marginTop30),onClick:function(){return(0,u.summonLoginPanel)(g)},size:"lg"},"Sign up")))}}])&&p(r.prototype,a),d&&p(r,d),t}();_.propTypes={className:a.default.string,imageURLs:a.default.shape({x1:a.default.string.isRequired,x2:a.default.string.isRequired}).isRequired},_.defaultProps={className:""};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=r(892),o=u(r(122)),i=u(r(2)),l=u(r(5));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){return n.default.createElement(n.Fragment,null,n.default.createElement(a.ParagraphPlaceholder,{animated:t,backgroundColor:o.default.asphalt,lastLineWidth:"40%",numLines:e,textHeight:16,textSpacing:6}),n.default.createElement("div",{className:"".concat(i.default.marginTop15," ").concat(i.default.marginBottom15," ").concat(l.default.borderTop)}))},c=function(e){var t=e.animated;return n.default.createElement("div",{className:i.default.fullWith},s(3,t),s(4,t),s(3,t),s(4,t))};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=y(r(1)),o=y(r(729)),i=y(r(15)),l=y(r(66)),u=y(r(2015)),s=r(2016),c=r(43),d=y(r(222)),f=y(r(28)),p=y(r(10)),m=y(r(21)),h=y(r(2));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=v(t).call(this,e))||"object"!==g(a)&&"function"!=typeof a?b(n):a).state={activeTab:"write",textAreaValue:e.initialTextValue||""},r.handleSelectTool=r.handleSelectTool.bind(b(r)),r.handleTextareaChange=r.handleTextareaChange.bind(b(r)),r.__resetStateHook=r.__resetStateHook.bind(b(r)),r._autosizeWrapper,r._root,r}var r,a,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.props.config.scrollToOnMount&&this._scrollToAndFocus()}},{key:"__resetStateHook",value:function(){this.setState({activeTab:"write",textAreaValue:""})}},{key:"_scrollToAndFocus",value:function(){var e=this;this._root&&(0,f.default)(this._root.getBoundingClientRect().top+window.pageYOffset-window.innerHeight/2,500,function(){e._autosizeWrapper.__focusTextAreaHook()})}},{key:"_setActiveTab",value:function(e){this.setState({activeTab:e})}},{key:"_getTabClass",value:function(e){return e===this.state.activeTab?"comments-form-tab active":"comments-form-tab"}},{key:"_getSelectionData",value:function(){var e=this._autosizeWrapper._textarea,t=e.selectionStart,r=e.selectionEnd,n=e.value;return(0,s.getSelection)({textAreaValue:n,selectionStart:t,selectionEnd:r})}},{key:"_getTextAreaErrors",value:function(){return(0,c.maxLength)(1600,this.state.textAreaValue)}},{key:"handleTextareaChange",value:function(e){this.setState({textAreaValue:e.target.value})}},{key:"handleSelectTool",value:function(e){var t=this;e.preventDefault();var r=e.currentTarget.dataset.label,n=this._getSelectionData(),a={textAreaValue:n.textAreaValue,selectedStr:n.selectedStr,selectionRange:n.selectionRange,initialCaretPos:n.initialCaretPos,toolLabel:r},o=(0,s.formatSelection)(a),i=o.newCaretPos,l=o.newTextAreaValue;this.setState({textAreaValue:l},function(){return t._autosizeWrapper.__focusTextAreaHook(i.start,i.end)})}},{key:"_getErrorView",value:function(){var e=this._getTextAreaErrors();if(null!==e)return n.default.createElement("div",{className:"".concat(m.default.error," ").concat(h.default.margin0," ").concat(h.default.paddingLeft5," ").concat(h.default.flex1)},e)}},{key:"_getNavView",value:function(){var e=this;return n.default.createElement("nav",{className:"comments-form-nav"},n.default.createElement("button",{disabled:"write"===this.state.activeTab,href:"javascript:void(0);",className:this._getTabClass("write"),onClick:function(){return e._setActiveTab("write")}},"Write"),n.default.createElement("button",{disabled:"preview"===this.state.activeTab,href:"javascript:void(0);",className:this._getTabClass("preview"),onClick:function(){return e._setActiveTab("preview")}},n.default.createElement("img",{src:"/assets/markdown-mark.png",className:"markdown-supported"}),"Preview"))}},{key:"_getTextAreaView",value:function(){var e=this;return n.default.createElement(o.default,{ref:function(t){return e._autosizeWrapper=t},autoFocus:!1,className:"comments-textarea",disableUndo:!0,onChange:this.handleTextareaChange,placeholder:this.props.placeholder,value:this.state.textAreaValue})}},{key:"_getPreviewView",value:function(){return n.default.createElement("div",{className:"comments-preview",dangerouslySetInnerHTML:{__html:d.default.render(this.state.textAreaValue)}})}},{key:"_getPostButton",value:function(){var e=this,t=this.props.isEditing?"Save changes":"Post";return n.default.createElement(i.default,{className:p.default.sm,onClick:function(){null===e._getTextAreaErrors()&&e.props.onPost(e.state.textAreaValue)}},this.props.isBusy?n.default.createElement(l.default,{size:16}):t)}},{key:"_getCancelButton",value:function(){return this.props.uiConfig.renderCancel?n.default.createElement("a",{href:"javascript:void(0);",className:"btn-link btn",onClick:this.props.onDismiss},"Cancel"):null}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{ref:function(t){return e._root=t}},n.default.createElement("div",{className:h.default.flex},this._getNavView(),n.default.createElement(u.default,{handleSelectTool:this.handleSelectTool})),n.default.createElement("div",{className:h.default.flex},"write"===this.state.activeTab?this._getTextAreaView():this._getPreviewView()),n.default.createElement("div",{className:"comments-form-button-container"},this._getErrorView(),this._getPostButton(),this._getCancelButton()))}}])&&_(r.prototype,a),y&&_(r,y),t}();w.propTypes={config:a.default.shape({scrollToOnMount:a.default.bool}),initialTextValue:a.default.string,isEditing:a.default.bool,onCancel:a.default.func,onPost:a.default.func.isRequired,placeholder:a.default.string,uiConfig:a.default.shape({renderCancel:a.default.bool})},w.defaultProps={config:{scrollToOnMount:!1},initialTextValue:"",isEditing:!1,onCancel:null,placeholder:"",uiConfig:{renderCancel:!0}};var E=w;t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertStrAtCaretPos=function(e,t,r,n){return e.slice(0,t)+n+e.slice(r)},t.isAnEntireRowSelected=function(e,t,r){return 1===e.length&&function(e,t){return t===e.length||"\n"===e.slice(t,t+1)}(t,r)}},function(e,t,r){e.exports={asphalt:"#D8D8D8",container:"similar_projects_bar__container__Z0qAu",link:"similar_projects_bar__link__3Nzf6",text:"similar_projects_bar__text__3cFd-"}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports={fog:"#F7F7F7",pebble:"#767676",graphite:"#4A4A4A","med-large":"(max-width: 992px)",autosaveLabel:"story_editor__autosaveLabel__28OM7",autosaveInput:"story_editor__autosaveInput__1n9jk",helpBox:"story_editor__helpBox__4D0hi",fixed:"story_editor__fixed__3LrB8",saving:"story_editor__saving__gn9iu",statusWrapper:"story_editor__statusWrapper__9fP4u",tips:"story_editor__tips__3qhzS"}},function(e,t,r){e.exports={hackster:"#2E9FE6",error:"select__error__VWNYZ",pebble:"#767676",asphalt:"#D8D8D8",inputContainer:"select__inputContainer__2JJHr",inputWrapper:"select__inputWrapper__3GyGI",inputControl:"select__inputControl__30hN4",input:"select__input__2Q55H",disabled:"select__disabled__25IlP",active:"select__active__3dk7u",activeMenuOpen:"select__activeMenuOpen__27MtN select__active__3dk7u",buttonContainer:"select__buttonContainer__3RI8E",arrow:"select__arrow__1vEw7",reset:"select__reset__svcwp"}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return e&&e.length&&"string"==typeof e?e.trim().split(" ").map(function(e){return[e[0].toUpperCase()].concat(a(e.slice(1))).join("")}).join(" "):""}function l(e,t){if(""===t.label&&""===t.value)return!1;var r=t.label,n=t.value;return 0===e.filter(function(e){return r===e.label&&n===e.value}).length}Object.defineProperty(t,"__esModule",{value:!0}),t.formatAdditionalOptions=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"object"!==o(t)&&"string"!=typeof t||!t||!r.addInitialValueAsOption?[]:r.multi?Object.keys(t).reduce(function(r,n){return l(e,t[n])?[].concat(a(r),[t[n]]):r},[]):l(e,t)?[t]:[]},t.formatValueIn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.multi?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(Array.isArray(e)?e:e?[e]:[]).reduce(function(e,r){if(t.simpleValue){var a={label:i(r),value:r};return Object.assign({},e,n({},a.label,a))}return Object.assign({},e,n({},r.label,r))},{})}(e,t):function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).simpleValue?{label:i(e),value:e||""}:{label:e.label||"",value:e.value||""}}(e,t)},t.formatValueOut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.multi?function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object.keys(e).map(function(t){return e[t].value})}(e,t):function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.value}(e,t)},t.getLabelFromValue=i,t.isOptionUnique=l},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){var t=e.replace(/\s\s+/g," ").trim();return{label:t,value:t,userCreated:!0}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return("string"==typeof e?e:e.toString()).replace(/\W/g,"").toLowerCase().trim()}Object.defineProperty(t,"__esModule",{value:!0}),t.createNewOption=a,t.normalizeString=o,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t.trim().length)return e;var i=o(t),l=e.reduce(function(e,t){var r=o(t.label),a=r.substr(0,i.length)===i?[t]:[];return{filtered:[].concat(n(e.filtered),a),exactMatch:!!e.exactMatch||r===i}},{filtered:[],exactMatch:!1}),u=l.filtered,s=l.exactMatch;return r&&!s?[a(t)].concat(n(u)):u}},function(e,t,r){e.exports={asphalt:"#D8D8D8",pebble:"#767676",fog:"#F7F7F7",med:"(max-width: 768px)",small:"(max-width: 480px)",root:"header__root__2MnpM",actions:"header__actions__3wSkj",avatar:"header__avatar__lCECR",body:"header__body__1yi3a",callToAction:"header__callToAction__3jXgQ",content:"header__content__3-GL6",contentWrapper:"header__contentWrapper__2rfTe",header:"header__header__23P1W",name:"header__name__2CnJ-",wrapper:"header__wrapper__AZr3E",navList:"header__navList__2hKl7"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(r(0)),a=y(r(2177)),o=y(r(2179)),i=y(r(943)),l=y(r(225)),u=y(r(161)),s=y(r(944)),c=y(r(276)),d=y(r(2185)),f=y(r(255)),p=y(r(947)),m=y(r(2189)),h=y(r(7));function y(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var v=function(){function e(t){var r=t.type,n=t.props,a=void 0===n?{}:n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=(0,m.default)(r,a,o),this.contestsService=new i.default,this.partsService=new l.default,this.platformsService=new u.default,this.projectsService=new s.default,this.topicsService=new c.default,this.videosService=new d.default,this.graphQlProjectsService=new f.default,this.graphQlVideosService=new p.default}var t,r,y;return t=e,(r=[{key:"getComponent",value:function(e,t,r,a){var o=this.config._getViewMethodNameForSectionKey(e.key);return o?this[o](e,t,r,a):((0,h.default)("ViewAllBuilder getComponent requires a known key but got, ".concat(e.key,"! Check the config's SECTION_KEY_TO_VIEW_METHOD to make sure the key is defined!")),n.default.createElement("div",null))}},{key:"_getComponentFromConfig",value:function(e,t){return this.config.components.hasOwnProperty(e.key)?this.config.components[e.key](t):n.default.createElement("div",null)}},{key:"_getLinksFromConfig",value:function(e,t){return this.config.links.hasOwnProperty(e.key)?this.config.links[e.key](e,t):{external:"",internal:""}}},{key:"_getListFacet",value:function(e,t,r){return this.config.listFacet.hasOwnProperty(e.key)?this.config.listFacet[e.key](e,t,r):[]}},{key:"_getLoaderComponentFromConfig",value:function(e){return this.config.loaderComponent.hasOwnProperty(e.key)?this.config.loaderComponent[e.key](e):n.default.createElement("div",null)}},{key:"_getPagination",value:function(e){return this.config.pagination.hasOwnProperty(e.key)?this.config.pagination[e.key](e):{}}},{key:"_getPinnedItemFacet",value:function(e){return this.config.pinnedItemFacet.hasOwnProperty(e.key)?this.config.pinnedItemFacet[e.key](e):[]}},{key:"_getProjectsFacet",value:function(e){return this.config.projectsFacet.hasOwnProperty(e.key)?this.config.projectsFacet[e.key](e):[]}},{key:"_getQueryMap",value:function(e){return this.config.queryMap.hasOwnProperty(e.key)?this.config.queryMap[e.key](e):{}}},{key:"_getServiceFromConfig",value:function(e){return this.config.service.hasOwnProperty(e.key)?this.config.hasOwnProperty("serviceOverride")&&this.config.serviceOverride.hasOwnProperty(e.key)?this[this.config.serviceOverride[e.key]()]:this[this.config.service[e.key]()]:((0,h.default)("ViewAllBuilder _getServiceFromConfig got an unknown key, ".concat(e.key,"!  Known keys: ").concat(Object.keys(this.config.service))),{})}},{key:"_getProjectServiceForPinnedList",value:function(e){return this.config.hasOwnProperty("pinnedServiceOverride")&&this.config.pinnedServiceOverride.hasOwnProperty(e.key)?this[this.config.pinnedServiceOverride[e.key]()]:this.projectsService}},{key:"_pinnedItemProjectsListView",value:function(e,t,r,o){var i=this;return n.default.createElement(a.default,g({key:"".concat(e.key,"_").concat(e.value),algoliaPinnedItemService:this._getServiceFromConfig(e),algoliaProjectsService:this._getProjectServiceForPinnedList(e),index:t,initPinnedItemFacet:this._getPinnedItemFacet(e),initProjectsFacet:this._getProjectsFacet(e),pinnedCardTemplateFn:function(t){return i._getComponentFromConfig(e,t)},queryMap:this._getQueryMap(e),pagination:this._getPagination(e),title:e.title,viewAllLinksComposer:function(t){return i._getLinksFromConfig(e,t)}},r))}},{key:"_viewAllList",value:function(e,t,r,a){var i=this;return n.default.createElement(o.default,g({key:"".concat(e.key,"_").concat(e.value),algoliaService:this._getServiceFromConfig(e),cardTemplateFn:function(t,r,n){return i._getComponentFromConfig(e,Object.assign({record:t,i:r},n))},index:t,initFacet:this._getListFacet(e,a,t),loaderCardFn:function(){return i._getLoaderComponentFromConfig(e)},pagination:this._getPagination(e),queryMap:this._getQueryMap(e),section:e,title:e.title,viewAllLinksComposer:function(){return i._getLinksFromConfig(e)}},r))}}])&&_(t.prototype,r),y&&_(t,y),e}();t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(1)),o=i(r(144));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.msg,r=e.title;return n.default.createElement("div",{className:o.default.container},n.default.createElement("div",{className:o.default.header},n.default.createElement("p",{className:o.default.title},r)),n.default.createElement("div",{className:o.default.emptyMsg},t))};l.propTypes={msg:a.default.string,title:a.default.string.isRequired},l.defaultProps={msg:"No projects match this section's settings."};var u=l;t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildPaginatedQuery=void 0;var n={offset:function(e,t){return{length:t.length,offset:e.offset+e.length,sort:"trending"}},page:function(e){return{hitsPerPage:e.hitsPerPage,page:e.page+1}}};t.buildPaginatedQuery=function(e){var t=e.queryMap,r=e.pagination,a=e.currentQuery;return Object.assign({},t,n[r.type](a,r))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(190)),a=i(r(273)),o=r(124);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).call(this,e,"contests",a.default))}var r,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n["default"]),r=t,(i=[{key:"searchWithQueryString",value:function(e,t,r){var n=this;return new Promise(function(i,l){return(0,a.default)(t,r).then(function(t){return(0,o.searchIndexWithFacets)(Object.assign({index:n.algoliaIndex,query:e},t))}).then(function(e){return i(e)}).catch(function(e){return l(e)})})}}])&&u(r.prototype,i),l&&u(r,l),t}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(190)),a=l(r(2181)),o=r(946),i=r(65);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,d(t).call(this,e,"projects",a.default))}var r,l,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n["default"]),r=t,(l=[{key:"initializeLazyFiltersDependencies",value:function(e){var t=this;return new Promise(function(r,n){var a=t._getDependencies(e);if(!a.promises.length)return r({});Promise.all(a.promises.map(i.reflectPromise)).then(function(e){r(e.reduce(function(e,t,r){if("resolved"===t.status&&t.data){var n=a.map[r];e[n]=n}return e},{}))}).catch(function(e){return n(e)})})}},{key:"_getDependencies",value:function(e){return e.reduce(function(e,t){if((0,o.hasDependency)(t)){var r=Object.keys(t)[0],n=e.promises.length;e.promises.push((0,o.getDependency)(t)()),e.map[n]=r}return e},{promises:[],map:{}})}}])&&s(r.prototype,l),u&&s(r,u),t}();t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doesInitFacetHavePlatform=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).findIndex(function(e){return"string"==typeof e&&"platforms.id"===e.split(":")[0]})>-1},t.doesQueryMapContainFeatured=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);return t.includes("by")&&"featured"===e.by||t.includes("tag_id")&&"featured"===e.tag_id||t.includes("topic_id")&&"featured"===e.topic_id||t.includes("category_id")&&"featured"===e.category_id}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLazyFilterPromise=function(e){var t=Object.keys(e)[0];return l[t]&&l[t][e[t]]?l[t][e[t]]:i},t.hasDependency=function(e){var t=Object.keys(e)[0];return u.hasOwnProperty(t)},t.getDependency=function(e){var t=Object.keys(e)[0];return u[t]?u[t]:i};var n=o(r(48)),a=o(r(201));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){return Promise.resolve()},l={user:{part_ids:function(){return a.default.fetchResource("part_ids")}}};var u={user:function(){return n.default.getAsync("id")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(182)),a=i(r(2188)),o=r(14);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){return{t:"videos_with_simple_pagination"}},p=function(e){function t(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).history;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).call(this,{history:e,queryBuilder:a.default,queryString:f}))}var r,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n["default"]),r=t,(i=[{key:"searchWithNoEffects",value:function(e,t){var r=this;return arguments.length>2&&void 0!==arguments[2]&&arguments[2],new Promise(function(n,a){return r._translateQueryMap(e,t).then(function(e){return(0,o.graphQuery)({t:"videos_by_id"},e)}).then(function(e){var t=e.videos;n({hits:t,nbHits:t.length})}).catch(function(e){return a(e)})})}},{key:"_translateQueryMap",value:function(e,t){return new Promise(function(t,r){var n={},o=e.qlVars||{};return e.hitsPerPage&&(n.per_page=e.hitsPerPage),(0,a.default)(n).then(function(e){return t(Object.assign({},e,o))}).catch(function(e){return r(e)})})}}])&&u(r.prototype,i),l&&u(r,l),t}();t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n};var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return null;var t=e.reduce(function(t,r,n){return n===e.length-1?t.concat([r]):n===e.length-2?t.concat([r," and "]):t.concat([r,", "])},[]);return a.default.Children.toArray(t)};t.default=o},function(e,t,r){e.exports={standardBorder:"1px solid #D8D8D8",card:"simple_logo_card__card__1cvmf",image:"simple_logo_card__image__35EJd",dummyImage:"simple_logo_card__dummyImage__3jDfV animation__loader__3jVQp simple_logo_card__image__35EJd",dummyTitle:"simple_logo_card__dummyTitle__13WSj animation__loader__3jVQp",wrapper:"simple_logo_card__wrapper__1vIAO cards__wrapper__ybxCu"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(50)),i=u(r(2)),l=u(r(479));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.classList;return n.default.createElement("div",{className:"".concat(o.default.wrapper," ").concat(t.wrapper)},n.default.createElement("div",{className:o.default.cardWithBorder},n.default.createElement("div",{className:l.default.dummyImage}),n.default.createElement("div",{className:o.default.body},n.default.createElement("div",{className:l.default.dummyText}),n.default.createElement("div",{className:o.default.spacer}),n.default.createElement("div",{className:"".concat(i.default.marginTop5," ").concat(l.default.dummyText)}))))};s.propTypes={classList:a.default.shape({wrapper:a.default.string})},s.defaultProps={classList:{}};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(30)),i=c(r(50)),l=c(r(2)),u=c(r(3)),s=c(r(2197));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.classList,r=e.onClick,a=e.part;return n.default.createElement("div",{className:t.wrapper||i.default.wrapper},n.default.createElement("a",{href:a.url,className:"".concat(i.default.cardWithBorder," ").concat(s.default.root),onClick:r},n.default.createElement("div",{className:s.default.itemImage},n.default.createElement(o.default,{alt:a.name,className:s.default.lazyImage,fit:"fill",ratio:"3:2",queryParams:{bg:"ffffff"},setStyle:!1,src:a.image_url,width:255})),n.default.createElement("div",{className:s.default.info},n.default.createElement("p",{className:"".concat(i.default.title," ").concat(u.default.bodyM," ").concat(u.default.linkCharcoal," ").concat(l.default.marginTop15," ").concat(l.default.marginBottom10)},a.name),a.pitch&&n.default.createElement("p",{className:s.default.pitch},a.pitch),n.default.createElement("p",{className:s.default.action},"view product"))))};d.propTypes={classList:a.default.shape({wrapper:a.default.string}),onClick:a.default.func.isRequired,part:a.default.shape({image_url:a.default.string,name:a.default.string,pitch:a.default.string})},d.defaultProps={classList:{},part:{image_url:"",name:"",pitch:""}};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=y(r(1)),o=y(r(76)),i=y(r(953)),l=y(r(954)),u=y(r(2205)),s=y(r(955)),c=r(65),d=r(11),f=y(r(7)),p=y(r(381)),m=y(r(516)),h=y(r(2));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=v(this,b(t).call(this,e))).state={fetched:!1,part:null},r.qlService=new s.default({history:r.props.history,queryString:function(){return{t:"platform_product"}},resolverKey:"product"}),r._activePromise,r}var r,a,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._initializeFromUrl()}},{key:"componentWillUnmount",value:function(){this._activePromise&&this._activePromise.cancel()}},{key:"_initializeFromUrl",value:function(){var e=this;return this.qlService.getPartSlugFromWindowLocation().then(function(t){return e._getCancelableRequest(t).promise}).then(function(t){return e._resolvePart(t)}).catch(function(t){t.promiseCanceled||(e.setState({fetched:!0}),(0,f.default)("initializeFromUrl",t))})}},{key:"_getCancelableRequest",value:function(e){return this._activePromise=(0,c.cancelablePromise)(this.qlService.searchWithNoEffectsForSingleRecord({slug:e},this.props.graphQLArguments)),this._activePromise}},{key:"_resolvePart",value:function(e){var t=e.part;if(!e.promiseCanceled){if(!t)return this.setState({fetched:!0});this.setState({fetched:!0,part:t}),this.props.propagatePart(t)}}},{key:"_getPartView",value:function(){return this.state.fetched?this.state.fetched&&!this.state.part?n.default.createElement("div",null,"Product not found!"):(0,d.isObjectWithLength)(this.state.part)?n.default.createElement(l.default,{className:m.default.singleCardContainer,canManage:this.props.canManage,part:this.state.part,platformId:this.props.platformId,showLinks:!1}):n.default.createElement(o.default,{type:"no-product"}):n.default.createElement(i.default,{className:p.default.dummyContainer})}},{key:"render",value:function(){return n.default.createElement("div",{className:"".concat(h.default.container)},n.default.createElement("div",{className:h.default.wrapper1170},this._getPartView(),this.state.fetched&&(0,d.isObjectWithLength)(this.state.part)&&n.default.createElement("div",{className:p.default.wrapper},n.default.createElement(u.default,{currentPath:this.props.path,part:this.state.part,transition:this.props.transition}),n.default.createElement("div",{className:p.default.childWrapper},this.props.children))))}}])&&_(r.prototype,a),y&&_(r,y),t}();w.propTypes={canManage:a.default.bool,graphQLArguments:a.default.shape({platform_id:a.default.oneOfType([a.default.string,a.default.number]),platform_user_name:a.default.string}),history:a.default.object.isRequired,path:a.default.string.isRequired,platformId:a.default.number.isRequired,propagatePart:a.default.func.isRequired,transition:a.default.func.isRequired},w.defaultProps={canManage:!1};var E=w;t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(0)),a=o(r(516));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.className;return n.default.createElement("div",{className:"".concat(a.default.dummyContainer," ").concat(t)},n.default.createElement("div",{className:a.default.imageContainer},n.default.createElement("div",{className:a.default.dummyImage})),n.default.createElement("div",{className:a.default.content},n.default.createElement("div",{className:a.default.dummyHeader}),n.default.createElement("div",{className:a.default.dummyDescription}),n.default.createElement("div",{className:a.default.dummyButtons})))};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=p(r(2202)),i=p(r(2203)),l=p(r(131)),u=p(r(30)),s=r(8),c=p(r(516)),d=p(r(2)),f=p(r(3));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.canManage,r=e.className,a=e.part,p=e.platformId,m=e.showLinks,h=e.transition;return n.default.createElement("div",{className:"".concat(c.default.container," ").concat(r)},n.default.createElement("a",{className:c.default.imageContainer,href:a.url,onClick:function(e){return e.preventDefault()}},a.image_url&&n.default.createElement(u.default,{className:c.default.image,fit:"fill",queryParams:{bg:"fff"},src:a.image_url,width:255,ratio:"3:2",onClick:function(e){return h("projects",a.slug,e)}})),n.default.createElement("div",{className:c.default.content},n.default.createElement("div",null,n.default.createElement("h3",{className:c.default.name},n.default.createElement("a",{className:f.default.link,href:a.url,onClick:function(e){e.preventDefault(),h("projects",a.slug,e)}},a.name)),m&&n.default.createElement("div",{className:c.default.links},(0,s.getInObj)(["links","get_started"],a)&&n.default.Children.toArray([n.default.createElement("a",{className:f.default.linkBlue,href:a.links.get_started,rel:"noopener nofollow",target:"_blank"},"Getting Started"),n.default.createElement("span",{className:c.default.linkDivider},String.fromCharCode(124))]),n.default.createElement("a",{className:f.default.linkBlue,href:a.url,onClick:function(e){e.preventDefault(),h("projects",a.slug,e)}},"View projects")),a.one_liner&&n.default.createElement("div",{className:"".concat(c.default.description," ").concat(f.default.bodyM)},a.one_liner)),n.default.createElement("div",{className:c.default.buttons},a.online_stores.length>0&&n.default.createElement(i.default,{partId:a.id,stores:a.online_stores}),n.default.createElement(o.default,{partId:a.id}),t&&n.default.createElement(l.default,{className:d.default.marginRight10,colorStyle:"tertiary",href:"/groups/".concat(p,"/products/").concat(a.id,"/edit")},"Edit"))))};m.propTypes={canManage:a.default.bool,className:a.default.string,part:a.default.shape({description:a.default.string,id:a.default.number.isRequired,image_url:a.default.string,links:a.default.shape({get_started:a.default.string}),name:a.default.string,one_liner:a.default.string,online_stores:a.default.arrayOf(a.default.shape({id:a.default.number,link:a.default.string,retailer:a.default.shape({id:a.default.number,name:a.default.string})})),slug:a.default.string,url:a.default.string.isRequired}).isRequired,platformId:a.default.number.isRequired,showLinks:a.default.bool,transition:a.default.func},m.defaultProps={canManage:!1,className:"",part:{description:null,image_url:null,links:{get_started:null},name:null,one_liner:null,online_stores:[],slug:""},showLinks:!0,transition:function(){}};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(182)),a=l(r(2206)),o=r(14),i=r(331);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(){return{t:"platform_products"}},m="products",h=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.history,n=e.queryString,o=e.resolverKey;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,d(t).call(this,{history:r,queryBuilder:a.default,queryString:n||p,resolverKey:o||m}))}var r,l,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n["default"]),r=t,(l=[{key:"getPartSlugFromWindowLocation",value:function(){return new Promise(function(e,t){return(0,i.getUrlSegmentsAfterUrlPart)("products").then(function(t){return e(t[0])}).catch(function(e){return t(e)})})}},{key:"searchWithNoEffects",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(function(a,i){return r._translateQueryMap(e,t).then(function(e){return(0,o.graphQuery)(r.graphQLQueryString(),e)}).then(function(e){var t=e[r.resolverKey];a({hits:t.records,nbHits:r._translateMetadata(t,n)})}).catch(function(e){return i(e)})})}},{key:"searchWithNoEffectsForSingleRecord",value:function(e,t){var r=this;return new Promise(function(n,a){return r._translateQueryMap(e,t).then(function(e){return(0,o.graphQuery)(r.graphQLQueryString(),e)}).then(function(e){n({part:e[r.resolverKey]})}).catch(function(e){return a(e)})})}},{key:"_translateMetadata",value:function(e,t){return e.hasOwnProperty("metadata")?e.metadata.next_page&&null===e.metadata.next_page?t:"number"==typeof e.per_page?e.per_page+t:0:0}},{key:"_translateQueryMap",value:function(e,t){return new Promise(function(r,n){var o=Object.assign({},e,t),i=e.qlVars||{};return(0,a.default)(o).then(function(e){return r(Object.assign({},e,i))}).catch(function(e){return n(e)})})}}])&&s(r.prototype,l),u&&s(r,u),t}();t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(1)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2217));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=[o.ENTERING,o.EXITING],c=function(e){var t=e.maxHeight,r=e.node;switch(e.status){case o.ENTERING:return t;case o.EXIT:return d(r,t);case o.ENTER:case o.EXITING:case o.EXITED:return 0;case o.ENTERED:default:return"none"}},d=function(e,t){return e?e.getBoundingClientRect().height:t},f=function(e){var t=e.children,r=e.className,a=e.maxHeight,i=e.timeout,d=u(e,["children","className","maxHeight","timeout"]);return n.default.createElement(o.default,l({},d,{getStyle:function(e,t,r){return function(e){var t=e.maxHeight,r=e.node,n=e.status,a=e.timeout,i=s.includes(n)?{transition:"max-height ".concat(a,"ms ease")}:{},l=n===o.ENTERED?{}:{overflow:"hidden"};return Object.assign({},i,l,{maxHeight:c({maxHeight:t,node:r,status:n})})}({maxHeight:a,node:e,status:t,timeout:i})},timeout:i}),n.default.createElement("div",{className:r},t))};f.propTypes={className:a.default.string,maxHeight:a.default.number,timeout:a.default.number},f.defaultProps={className:"",maxHeight:500,timeout:350};var p=f;t.default=p},function(e,t,r){e.exports={cardBody:"submission_card__cardBody__YNROW",statusPill:"submission_card__statusPill__29V-B"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInputType=t.isInputTypeSelect=t.getTypeForFormSelect=t.CHALLENGE_EXTRA_FIELDS_INPUT_TYPES=void 0;var n={SELECT:"select",TEXT:"input"};t.CHALLENGE_EXTRA_FIELDS_INPUT_TYPES=n;t.getTypeForFormSelect=function(e){return"select"===e?"default":e};t.isInputTypeSelect=function(e){return"SELECT"===e};t.resolveInputType=function(e){return n[e]||"textarea"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(203)),i=f(r(275)),l=r(16),u=r(11),s=f(r(2)),c=f(r(3)),d=f(r(278));function f(e){return e&&e.__esModule?e:{default:e}}var p={fullSection:["skills"],oneLine:["hours_weekly","hours_total","owned"]},m=["problem","build","solution","components"],h={build:function(){return"What are you going to build to solve this problem? How is it different from existing solutions? Why is it useful?"},problem:function(){return"What problem are you going to solve?"},solution:function(e){return"How does your solution work? What are the main features? Please specify how you will use the ".concat(e," in your solution.")},components:function(){return"List the hardware and software you will use to build this."},skills:function(){return"Tell us about yourself. What do you spend most of your time doing? What skills or experience do you have that will enable you to be successful in building this project?"},hours_weekly:function(){return"Time commitment: "},hours_total:function(){return"Estimated time required: "},owned:function(){return"Purchased hardware: "}},y=function(e){return!!e.old_html_description},g=function(e){return e.current_user_permissions.edit||e.current_user_permissions.admin},_=function(e){var t=e.fieldName,r=e.hardwareName,a=e.idea;return n.default.createElement("div",{key:t,className:s.default.marginTop30},n.default.createElement("h3",{className:c.default.h3},h[t](r)),n.default.createElement("p",{className:"".concat(c.default.bodyL," ").concat(c.default.whitespacePre)},a.application[t]))},v=function(e){var t=e.fullPage,r=e.idea,a=e.hardwareName;return n.default.createElement("div",{className:s.default.fullWidth},n.default.createElement(i.default,{titleSize:"S",user:r.user},n.default.createElement("span",{className:"".concat(c.default.bodyS," ").concat(c.default.pebble)},"Submitted ".concat((0,l.formatTimestampPreserveTZ)(r.submitted_at_pt,l.CONTEST_DATE_AT_TIME_FORMAT)))),n.default.createElement("h1",{className:"".concat(c.default.h1," ").concat(s.default.marginTop15," ").concat(d.default.ideaHeader)},r.name),y(r)?n.default.createElement("div",{className:s.default.marginTop30,dangerouslySetInnerHTML:{__html:r.old_html_description}}):function(e){var t=e.hardwareName,r=e.idea;return m.map(function(e){return _({fieldName:e,idea:r,hardwareName:t})})}({hardwareName:a,idea:r}),function(e){if(!(0,u.isBlank)(e.extra_fields)){var t=g(e)?e.extra_fields.filter(function(e){return!1===(0,u.isBlank)(e.answer)}):e.extra_fields.filter(function(e){return!1===e.hide&&!1===(0,u.isBlank)(e.answer)});return n.default.Children.toArray(t.map(function(e){return n.default.createElement("div",{className:s.default.marginTop30},n.default.createElement("h3",{className:c.default.h3},e.label),n.default.createElement("p",{className:c.default.bodyL},e.answer))}))}}(r),function(e){var t=e.fullPage,r=e.idea;return t&&!y(r)&&g(r)}({fullPage:t,idea:r})&&function(e){return n.default.createElement(n.Fragment,null,p.fullSection.map(function(t){return _({fieldName:t,idea:e})}),n.default.createElement("div",{className:s.default.marginTop30},p.oneLine.map(function(t){return n.default.createElement("div",{key:t},n.default.createElement("span",{className:c.default.h3},h[t]()),n.default.createElement("span",{className:c.default.bodyL},e.application[t]))})))}(r),n.default.createElement("div",{className:s.default.marginTop30},r.current_user_permissions.edit&&n.default.createElement(o.default,{className:s.default.marginRight15,bold:!0,color:"Blue",href:"".concat(r.url,"/edit"),size:"S"},"Edit"),!t&&r.current_user_permissions.admin&&n.default.createElement(o.default,{bold:!0,color:"Blue",href:r.url,size:"S"},"Go to judging panel")))};v.propTypes={fullPage:a.default.bool,hardwareName:a.default.string.isRequired,idea:a.default.shape({application:a.default.shape({build:a.default.string,components:a.default.string,hours_total:a.default.number,hours_weekly:a.default.number,owned:a.default.string,problem:a.default.string,skills:a.default.string,solution:a.default.string}),created_at:a.default.string.isRequired,current_user_permissions:a.default.shape({admin:a.default.bool.isRequired,edit:a.default.bool.isRequired,moderate:a.default.bool.isRequired}).isRequired,extra_fields:a.default.arrayOf(a.default.shape({answer:a.default.string.isRequired,hide:a.default.bool.isRequired,label:a.default.string.isRequired})).isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,old_html_description:a.default.string,project:a.default.shape({cover_image_url:a.default.string,hid:a.default.string,name:a.default.string,url:a.default.string}),submitted_at:a.default.string.isRequired,user:a.default.shape({avatar_url:a.default.string.isRequired,challenge_stats:a.default.shape({entries_submitted:a.default.number,entries_won:a.default.number,ideas_awarded:a.default.number,ideas_submitted:a.default.number,registrations:a.default.number,status:a.default.string}),country:a.default.string,created_at:a.default.string,id:a.default.number.isRequired,name:a.default.string.isRequired,stats:a.default.shape({live_projects:a.default.number}),url:a.default.string.isRequired}).isRequired,status:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired},v.defaultProps={fullPage:!1};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(518),a={"/ideas":function(e){return{title:"".concat(e.name," ideas"),meta_desc:n.DEFAULT_PAGE_DESCRIPTION,pageType:"challenge_ideas#index",entity_id:e.id}},"/ideas/*":function(e){return{title:n.DEFAULT_PAGE_TITLE,meta_desc:n.DEFAULT_PAGE_DESCRIPTION,pageType:"challenge_ideas#show",entity_id:e.id}}},o=function(e){return a[e]};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(382)),i=c(r(2)),l=c(r(3)),u=c(r(21)),s=c(r(2243));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.address,r=e.addressView,a=e.diffingAddress,c=e.disabled,d=e.edit,f=e.isChecked,p=e.makeDefault,m=e.onChange,h=e.showDefaultView;return n.default.createElement("div",{className:s.default.selectable},n.default.createElement("div",{className:s.default.address,onClick:function(){return m(t)}},n.default.createElement("div",{className:i.default.marginRight10},n.default.createElement("label",{className:u.default.radioButtonContainer},n.default.createElement("input",{checked:f,className:u.default.radioButton,disabled:c,name:t.id,onChange:function(){},type:"radio",value:t.id}),n.default.createElement("span",{className:s.default.radio}))),n.default.createElement(o.default,{address:t,diffingAddress:a,view:r})),n.default.createElement("div",{className:s.default.btnWrapper},n.default.createElement("button",{className:s.default.editBtn,disabled:c,onClick:function(){return d(t)},type:"button"},"Edit"),h&&function(e,t,r){return e.default?n.default.createElement("span",{className:"".concat(l.default.bodyS," ").concat(l.default.pebble," ").concat(i.default.marginLeft15)},"Default address"):n.default.createElement("button",{className:s.default.makeDefaultBtn,disabled:t,onClick:function(){return r(e)},type:"button"},"Make default")}(t,c,p)))};d.propTypes={address:a.default.shape({address_line1:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired,address_line2:a.default.oneOfType([a.default.string,a.default.object,a.default.element]),city:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired,company:a.default.oneOfType([a.default.string,a.default.object,a.default.element]),country:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired,country_iso2:a.default.oneOfType([a.default.string,a.default.object,a.default.element]),cpf:a.default.oneOfType([a.default.string,a.default.object,a.default.element]),default:a.default.oneOfType([a.default.bool,a.default.object,a.default.element]),id:a.default.oneOfType([a.default.number,a.default.object,a.default.element]),first_name:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired,last_name:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired,phone:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired,state:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired,zip:a.default.oneOfType([a.default.string,a.default.object,a.default.element]).isRequired}).isRequired,addressView:a.default.string,diffingAddress:a.default.object,disabled:a.default.bool,edit:a.default.func.isRequired,isChecked:a.default.bool.isRequired,isDeliverable:a.default.bool,makeDefault:a.default.func,onChange:a.default.func.isRequired,showDefaultView:a.default.bool},d.defaultProps={addressView:"select",diffingAddress:null,disabled:!1,makeDefault:function(){},showDefaultView:!0};var f=d;t.default=f},function(e,t,r){e.exports={title:"address_form__title__2r3Y-",footnoteMsgs:"address_form__footnoteMsgs__32kHC",footnoteMsg:"address_form__footnoteMsg__1Y7kR"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(1)),o=i(r(99));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.height,r=e.width;return n.default.createElement("div",{className:o.default.loader,style:{height:t,width:r}})};l.propTypes={height:a.default.oneOfType([a.default.string,a.default.number]),width:a.default.oneOfType([a.default.string,a.default.number])},l.defaultProps={height:41,width:"100%"};var u=l;t.default=u},function(e,t,r){e.exports={standardBorder:"1px solid #D8D8D8",standardBorderRadius:"4px",small:"(max-width: 480px)",contentWrapper:"idea_form__contentWrapper__1ANLM",formWrapper:"idea_form__formWrapper__2T9bi",faqContainer:"idea_form__faqContainer__1qpx0",faqBox:"idea_form__faqBox__kmFKP"}},function(e,t,r){e.exports={asphalt:"#D8D8D8",fog:"#F7F7F7",pebble:"#767676",body:"contest_idea_card__body__-ebQO cards__body__3yUOQ",user:"contest_idea_card__user__2pcKn",linkWrapper:"contest_idea_card__linkWrapper__1Jcvm",title:"contest_idea_card__title__3qCX9",placeholderInner:"contest_idea_card__placeholderInner__qeLeY",placeholderOuter:"contest_idea_card__placeholderOuter__oqq8-",project:"contest_idea_card__project__3oKvN",projectHeader:"contest_idea_card__projectHeader__VsaKq",dummyBody:"contest_idea_card__dummyBody__1R3pK cards__dummyTextS__3QoTA cards__dummyText__18wTq",dummyPlaceholderInner:"contest_idea_card__dummyPlaceholderInner__3F_Tq animation__loader__3jVQp",dummyTitle:"contest_idea_card__dummyTitle__2_1EW cards__dummyTextL__1_yKf cards__dummyText__18wTq"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=l(r(42)),i=r(8);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==u(a)&&"function"!=typeof a?p(n):a).state={entity:null,open:!1},r.handleDismiss=r.handleDismiss.bind(p(r)),r.handleLocationChange=r.handleLocationChange.bind(p(r)),r.popHistory=r.popHistory.bind(p(r)),r.pushHistory=r.pushHistory.bind(p(r)),r._dismissPopStatePending=!1,r}var r,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.unlisten=this.props.history.listen(this.handleLocationChange)}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"_summonDialog",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.props.onOpen(!r,e),this.setState({entity:e,open:!0},function(){t._afterSummon(e,r)})}},{key:"_buildPath",value:function(e){return this.props.buildPath(e)}},{key:"_dismiss",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({open:!1},function(){return e._afterDismiss(t)})}},{key:"_afterDismiss",value:function(e){e?(this._dismissPopStatePending=!0,this.popHistory()):this.props.onDismiss(!0)}},{key:"_afterSummon",value:function(e,t){t&&this.pushHistory(e)}},{key:"handleDismiss",value:function(){this._dismiss()}},{key:"handleLocationChange",value:function(e,t){"POP"===t&&(this._dismissPopStatePending?(this._dismissPopStatePending=!1,this.props.onDismiss(!1)):!this.state.open&&(0,i.getInObj)(["state","entity"],e)?this._summonDialog(e.state.entity,!1):this.state.open&&this._dismiss(!1))}},{key:"popHistory",value:function(){this.props.history.goBack()}},{key:"pushHistory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props.history.push(this._buildPath(e),{entity:e})}},{key:"_renderChildren",value:function(){var e=this.props,t=e.BodyComponent,r=e.children;return"function"==typeof t?n.default.createElement(t,{entity:this.state.entity}):1===n.default.Children.count(r)?n.default.cloneElement(r,{entity:this.state.entity}):r}},{key:"render",value:function(){var e=this.props,t=(e.BodyComponent,e.buildPath,e.children,e.history,e.onDismiss,e.onOpen,c(e,["BodyComponent","buildPath","children","history","onDismiss","onOpen"]));return n.default.createElement(o.default,s({},t,{dismiss:this.handleDismiss,open:this.state.open}),null!==this.state.entity&&this._renderChildren())}}])&&d(r.prototype,a),l&&d(r,l),t}();h.propTypes={BodyComponent:a.default.func,buildPath:a.default.func.isRequired,history:a.default.object.isRequired,onDismiss:a.default.func,onOpen:a.default.func},h.defaultProps={BodyComponent:null,onDismiss:function(e){},onOpen:function(e,t){}};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=r(220),o=i(r(2));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.className,r=void 0===t?"":t,i=e.size,l=void 0===i?"M":i;return n.default.createElement("div",{className:"".concat(r," ").concat(o.default.fullWidth)},n.default.createElement(a.TextPlaceholder,{height:"M"===l?16:18,width:"95%"}),n.default.createElement(a.TextPlaceholder,{height:"M"===l?14:16,marginTop:10,width:"40%"}),n.default.createElement(a.TextPlaceholder,{height:"M"===l?14:16,marginTop:10,width:"60%"}))};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paddingClassForRatio=void 0;var n,a=(n=r(5))&&n.__esModule?n:{default:n};var o={"3:2":a.default.aspectRatioPadding3_2,"4:3":a.default.aspectRatioPadding4_3,"16:9":a.default.aspectRatioPadding16_9};t.paddingClassForRatio=function(e){return o[e]||a.default.aspectRatioPadding4_3}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(2271)),i=c(r(971)),l=c(r(384)),u=r(61),s=c(r(383));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.editable,r=e.item,a=e.itemIndex,c=e.overrideTracking,d=e.redirectTo,f=e.responsive;return n.default.createElement(i.default,{className:t?s.default.overlayParent:"",imageAspectRatio:"3:2",item:Object.assign({},r,{url:r.link}),linkProps:{isExternal:!0,itemIndex:a,linkType:u.EVENT_CARD,overrideTracking:c},renderAfterImage:t?function(){return n.default.createElement(o.default,{editLink:"/events/".concat(r.id,"/edit").concat(d?"?redirect_to=".concat(d):"")})}:function(){return null},renderBody:function(){return n.default.createElement(l.default,{item:r,itemIndex:a,overrideTracking:c,showYear:!0})},responsive:f})};d.propTypes={editable:a.default.bool,item:a.default.shape({city:a.default.string,country_iso2:a.default.string,custom_sponsors:a.default.arrayOf(a.default.string),event_type:a.default.string.isRequired,id:a.default.number.isRequired,image:a.default.shape({url:a.default.string}).isRequired,link:a.default.string.isRequired,start_date:a.default.stringisRequired,state:a.default.string,title:a.default.string.isRequired}).isRequired,itemIndex:a.default.number,overrideTracking:a.default.func,redirectTo:a.default.string,responsive:a.default.bool},d.defaultProps={editable:!1,itemIndex:null,overrideTracking:null,redirectTo:null,responsive:!1};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n};var o=function(e){var t=e.className;return a.default.createElement("svg",{className:t,viewBox:"6 6 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.default.createElement("path",{d:"M22.7495292,6.66666667 C21.6949153,6.66666667 20.9039548,7.45762712 20.2711864,8.09039548 L8.88135593,19.480226 L8.88135593,19.480226 C8.82862524,19.5329567 8.77589454,19.5856874 8.77589454,19.6384181 L6.71939736,24.3841808 C6.61393597,24.6478343 6.66666667,24.9114878 6.87758945,25.1224105 C6.98305085,25.2278719 7.19397363,25.3333333 7.35216573,25.3333333 C7.45762712,25.3333333 7.51035782,25.3333333 7.61581921,25.2806026 L12.3615819,23.2241055 C12.4143126,23.1713748 12.4670433,23.1713748 12.519774,23.1186441 L12.519774,23.1186441 L23.9096045,11.7288136 L23.9096045,11.7288136 C24.6478343,10.9905838 26.2824859,9.3559322 24.4896422,7.56308851 C23.9096045,6.93032015 23.3295669,6.66666667 22.7495292,6.66666667 L22.7495292,6.66666667 Z M22.7495292,7.98493409 C23.0131827,7.98493409 23.2768362,8.14312618 23.5404896,8.40677966 C24.173258,9.03954802 24.0677966,9.4613936 23.3822976,10.252354 L21.6949153,8.56497175 C22.0112994,8.24858757 22.3804143,7.98493409 22.7495292,7.98493409 L22.7495292,7.98493409 Z M9.56685499,21.0621469 L10.8323917,22.3276836 L10.8851224,22.3804143 L8.56497175,23.3822976 L9.56685499,21.0621469 L9.56685499,21.0621469 Z M12.0451977,21.6421846 L10.3050847,19.9020716 L20.7457627,9.4613936 L22.4858757,11.2015066 L12.0451977,21.6421846 L12.0451977,21.6421846 Z",id:"Shape",stroke:"none",fill:"#4A4A4A",fillRule:"evenodd"}))};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(70)),i=f(r(46)),l=r(8),u=r(968),s=f(r(2)),c=f(r(5)),d=f(r(359));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var m=function(e){var t=e.className,r=e.item,a=e.imageAspectRatio,f=e.linkProps,m=e.renderAfterImage,h=e.renderBody,y=e.responsive;return n.default.createElement("div",{className:"".concat(y?d.default.cardResponsive:""," ").concat(s.default.flexColumn," ").concat(s.default.fullWidth," ").concat(t)},n.default.createElement("div",{className:"".concat(y?d.default.imageResponsive:""," ").concat(s.default.fullWidth," ").concat(c.default.absolutePlaceholderParent," ").concat((0,u.paddingClassForRatio)(a))},n.default.createElement(o.default,p({item:r},f),n.default.createElement(i.default,{alt:r.title,classList:{root:"".concat(c.default.absolutePlaceholderChild," ").concat(c.default.borderRadius)},ratio:a,setStyle:!1,src:(0,l.getInObj)(["image","url"],r),width:270})),m()),n.default.createElement("div",{className:"".concat(y?d.default.textResponsive:""," ").concat(s.default.marginTop22)},h()))};m.propTypes={className:a.default.string,imageAspectRatio:a.default.string,item:a.default.shape({id:a.default.oneOfType([a.default.string,a.default.number]),image:a.default.shape({url:a.default.string}),title:a.default.string,url:a.default.string.isRequired}).isRequired,linkProps:a.default.shape({linkType:a.default.string.isRequired}).isRequired,renderAfterImage:a.default.func,renderBody:a.default.func,responsive:a.default.bool},m.defaultProps={className:"",imageAspectRatio:"4:3",renderAfterImage:function(){return null},renderBody:function(){return null},responsive:!1};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=r(69),i=s(r(2277)),l=s(r(206)),u=s(r(491));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var y=function(e){var t=e.className,r=h(e,["className"]);return n.default.createElement("div",{className:t},n.default.createElement(i.default,r))},g=function(e){var t=e.className,r=e.children;return n.default.createElement("div",{className:t},r)},_=(0,o.sortableElement)(y),v=(0,o.sortableContainer)(g),b=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?p(n):a).onSortEnd=r.onSortEnd.bind(p(r)),r.isTouchDevice=(0,u.default)(),r}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.Component),r=t,(a=[{key:"onSortEnd",value:function(e){var t=e.oldIndex,r=e.newIndex,n=(0,o.arrayMove)(this.props.records,t,r).map(function(e,t){return Object.assign({},e,{position:t})});this.props.handleReorder(n)}},{key:"_getSortableCell",value:function(e,t,r){return n.default.createElement(_,{key:e.hid,className:r,cardBorder:this.props.cardBorder,isTouchDevice:this.isTouchDevice,index:t,sortable:!0,project:e,toggleRespect:this.props.toggleRespect})}},{key:"_getSortableList",value:function(e){return n.default.createElement(v,{className:e.grid,axis:"xy",onSortEnd:this.onSortEnd,useDragHandle:!0},this._getCellsView(!0,e.cell))}},{key:"_getUnsortableCell",value:function(e,t){return n.default.createElement(y,{key:e.hid,className:t,cardBorder:this.props.cardBorder,isTouchDevice:this.isTouchDevice,sortable:!1,project:e,toggleRespect:this.props.toggleRespect})}},{key:"_getUnsortableList",value:function(e){return n.default.createElement(g,{className:e.grid},this._getCellsView(!1,e.cell))}},{key:"_getListView",value:function(e,t){return e?this._getSortableList(t):this._getUnsortableList(t)}},{key:"_getCellsView",value:function(e,t){var r=this;return this.props.records.map(function(n,a){return e?r._getSortableCell(n,a,t):r._getUnsortableCell(n,t)})}},{key:"render",value:function(){var e=(0,l.default)(this.props.horizontal,this.props.maxCols),t=this.props.orderable&&this.props.records.length>1;return this._getListView(t,e)}}])&&d(r.prototype,a),i&&d(r,i),t}();t.default=b,b.propTypes={cardBorder:a.default.bool,currentUser:a.default.shape({id:a.default.number}),handleReorder:a.default.func,horizontal:a.default.bool,maxCols:a.default.number,orderable:a.default.bool,records:a.default.array,toggleRespect:a.default.func},b.defaultProps={cardBorder:!1,currentUser:{},handleReorder:function(){},horizontal:!1,maxCols:4,orderable:!1,records:[],toggleRespect:function(){return Promise.resolve()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateProjectPositions=function(e){return a.default.apiRequest(n.default.patch("".concat(a.default.getApiPath(),"/graphql/mutate")).query({q:(0,o.projectPositionMutation)(e)}))},t.updateUserProfile=function(e){return a.default.apiRequest(n.default.patch("".concat(a.default.getApiPath(),"/private/users/update_me")).send(e),!0)};var n=i(r(35)),a=i(r(40)),o=r(385);function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(88)),i=d(r(9)),l=d(r(10)),u=d(r(118)),s=d(r(3)),c=d(r(5));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.isCampaignActive,r=e.onActionable,a=e.record,d=e.renderForType;return n.default.createElement(o.default,{alignTop:!1,alignRight:!0,classList:{button:l.default.blank},closeOnSelect:!0,label:n.default.createElement("span",{className:"".concat(c.default.posRelative," ").concat(c.default.height100P)},n.default.createElement(i.default,{name:"view-more",size:16}))},n.default.createElement("ul",{className:c.default.ulReset},n.default.createElement("li",{key:"edit",className:u.default.option,onClick:function(){return r("edit",a)}},"Edit"),"campaign"===d&&n.default.createElement("li",{key:"view",className:u.default.option,onClick:function(){return r("view",a)}},"View"),function(e){var t=e.isCampaignActive,r=e.onActionable,a=e.record,o=e.renderForType,i=function(e,t,r){return"ad"!==r||e&&(t.active||t.is_activatable)?t.active?"Deactivate":"Activate":"Disabled"}(t,a,o),l="Disabled"===i;return n.default.createElement("li",{key:"active",className:"".concat(u.default.option," ").concat(l&&u.default.optionDisabled),disabled:l,onClick:function(){l||r("active",a)}},i)}({isCampaignActive:t,onActionable:r,record:a,renderForType:d}),n.default.createElement("hr",{style:{margin:0}}),n.default.createElement("li",{key:"delete",className:"".concat(u.default.option," ").concat(s.default.error),onClick:function(){return r("delete",a)}},"Delete")))};f.propTypes={isCampaignActive:a.default.bool,onActionable:a.default.func.isRequired,record:a.default.shape({active:a.default.bool.isRequired,is_activatable:a.default.bool}).isRequired,renderForType:a.default.oneOf(["ad","campaign"]).isRequired},f.defaultTypes={isCampaignActive:null};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(99)),o=i(r(140));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=function(){return n.default.createElement("div",{className:o.default.listItem},n.default.createElement("div",{className:o.default.listItemTitleCell},n.default.createElement("div",{className:o.default.listItemCoverImageWrapper},n.default.createElement("div",{style:{borderRadius:2},className:"".concat(o.default.listItemCoverImage," ").concat(a.default.loader)})),n.default.createElement("div",{style:{width:"100%"},className:o.default.listItemData},n.default.createElement("div",{style:{height:18,marginBottom:5,width:"100%"},className:a.default.loader}),n.default.createElement("div",{className:o.default.listItemMobileAuthorStatus},n.default.createElement("div",{style:{height:16,width:100},className:a.default.loader})))),n.default.createElement("div",{className:o.default.listItemDateCell},n.default.createElement("div",{style:{height:18,width:200},className:a.default.loader})))},s=function(){return n.default.createElement("div",null,l(Array(5).keys()).map(function(e){return n.default.createElement(u,{key:e})}))};t.default=s},function(e,t,r){e.exports={imageContainer:"home_page_banner_ad__imageContainer__vpwUe"}},function(e,t,r){e.exports={historyCol:"history_log__historyCol__2HLuG",historyColLarge:"history_log__historyColLarge__2f82H history_log__historyCol__2HLuG",historyLink:"history_log__historyLink__3YzGO"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=m(r(1)),o=m(r(213)),i=m(r(223)),l=r(14),u=r(357),s=m(r(7)),c=r(65),d=m(r(2)),f=m(r(3)),p=m(r(5));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=_(t).call(this,e))||"object"!==h(a)&&"function"!=typeof a?v(n):a).state={initialized:!1,pagination:u.SIMPLE_PAGINATION,records:[],search:""},r.fetchMoreRecords=r.fetchMoreRecords.bind(v(r)),r.handleSearch=r.handleSearch.bind(v(r)),r._activePromise,r}var r,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this._getRecordsAndResolve()}},{key:"componentWillUnmount",value:function(){this._activePromise&&this._activePromise.cancel()}},{key:"fetchMoreRecords",value:function(){return null===this.state.pagination.next_page?Promise.resolve():(this.setState({pagination:Object.assign({},this.state.pagination,{page:this.state.pagination.next_page})}),this._getRecords())}},{key:"handleSearch",value:function(e){var t=this;this.setState({search:e,pagination:u.SIMPLE_PAGINATION,records:[]},function(){return t._getRecordsAndResolve()})}},{key:"_getBaseQLArguments",value:function(){var e;return Object.assign((y(e={},this.props.qlSearchKey,this.state.search),y(e,"page",this.state.pagination.page),e),this.props.qlArguments)}},{key:"_getQLArguments",value:function(){return"function"==typeof this.props.qlArgumentsBuilderFn?this.props.qlArgumentsBuilderFn(this._getBaseQLArguments()):this._getBaseQLArguments()}},{key:"_getRecords",value:function(){var e=this;return new Promise(function(t,r){return e._activePromise=(0,c.cancelablePromise)((0,l.graphQuery)({t:e.props.qlTemplate},e._getQLArguments())),e._activePromise.promise.then(function(r){if(e._activePromise=void 0,r.promiseCanceled)return t();var n=e.props.qlResolverKey?r[e.props.qlResolverKey]:r,a=n.metadata.current_page>1?e.state.records.concat(n.records):n.records;e.setState({initialized:!0,pagination:n.metadata,records:a}),e.props.propagateRecords(a),t()}).catch(function(t){e._activePromise=void 0,r(t)})})}},{key:"_getRecordsAndResolve",value:function(){return this._getRecords().catch(function(e){return(0,s.default)("GraphQLSearchableScrollList _getRecordsAndResolve",e)})}},{key:"_getListView",value:function(){return this.state.initialized&&!this.state.records.length?this._getNoRecordsView():this._getInfiniteScrollView()}},{key:"_getInfiniteScrollView",value:function(){return n.default.createElement(o.default,{fetchMore:this.fetchMoreRecords,mountInContainer:{querySelector:'[data-ref="'.concat(this.props.dialogRef,'"]')},recordsCount:this.state.records.length,totalRecordsCount:null!==this.state.pagination.next_page?this.state.records.length+1:this.state.records.length},this._getChildrenView())}},{key:"_getChildrenView",value:function(){return!this.state.initialized&&this.props.loaderRenderFn?this.props.loaderRenderFn():this.props.children}},{key:"_getNoRecordsView",value:function(){return this.props.noResultsRenderFn?this.props.noResultsRenderFn():n.default.createElement("div",{className:"".concat(p.default.borderTop," ").concat(d.default.paddingTop30)},n.default.createElement("p",{className:f.default.bodyM},"No results found."))}},{key:"render",value:function(){var e=this.props.classList;return n.default.createElement("div",{className:"".concat(d.default.wrapper1170," ").concat(e.root)},n.default.createElement("div",{className:"".concat("".concat(d.default.flex," ").concat(d.default.marginBottom30)," ",e.controls)},n.default.createElement(i.default,{onEnter:this.handleSearch,placeholder:"Press enter to search"})),this._getListView())}}])&&g(r.prototype,a),m&&g(r,m),t}();O.propTypes={classList:a.default.shape({controls:a.default.string,root:a.default.string}),dialogRef:a.default.string,loaderRenderFn:a.default.func,noResultsRenderFn:a.default.func,propagateRecords:a.default.func.isRequired,qlArguments:a.default.object,qlArgumentsBuilderFn:a.default.func,qlResolverKey:a.default.string,qlSearchKey:a.default.string,qlTemplate:a.default.string.isRequired},O.defaultProps={classList:{controls:"",root:""},loaderRenderFn:null,noResultsRenderFn:null,qlArguments:{},qlArgumentsBuilderFn:null,qlResolverKey:null,qlSearchKey:"q"};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n};var o=function(e){var t=e.className;return a.default.createElement("svg",{className:t,viewBox:"130 288 10 5",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.default.createElement("polygon",{stroke:"none",fill:"#7E7E7E",fillRule:"evenodd",transform:"translate(135.166667, 290.500000) rotate(180.000000) translate(-135.166667, -290.500000) ",points:"135.166667 288 139.333333 293 131 293"}))};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=p(r(1)),o=p(r(2343)),i=r(14),l=r(526),u=r(390),s=r(16),c=p(r(7)),d=p(r(2)),f=p(r(3));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=y(t).call(this,e))||"object"!==m(a)&&"function"!=typeof a?g(n):a).state={isBusy:!1,mode:e.mode},r.saveContent=r.saveContent.bind(g(r)),r}var r,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.Component),r=t,(a=[{key:"saveContent",value:function(e){var t=e.data,r={category:(0,u.getCategoryEnum)(t.category),description:t.description,duration:(0,s.durationToSeconds)(t.duration),image_id:t.image.id,part_ids:t.products.map(function(e){return e.value}),platform_ids:t.platforms.map(function(e){return e.value}),tag_ids:t.tags.map(function(e){return e.value}),title:t.title,topic_ids:t.topics.map(function(e){return e.value}),url:t.url};return this._setIsBusy(!0),"default"===this.state.mode?this._postVideo(r,t):this._updateVideo(r,t)}},{key:"_postVideo",value:function(e,t){var r=this;return(0,i.graphMutate)((0,l.createVideoMutation)(),e).then(function(n){var a=n.record;r._setIsBusy(!1),r.props.propagateNewRecord(Object.assign({},t,{category:t.category,created_at:Date.now(),duration:e.duration,id:parseInt(a.id)}))}).catch(function(e){r._setIsBusy(!1),(0,c.default)("AddOrEditVideoView _postVideo: ",e)})}},{key:"_updateVideo",value:function(e,t){var r=this;return(0,i.graphMutate)((0,l.updateVideoMutation)(),Object.assign({},e,{id:this.props.initRecord.id})).then(function(n){var a=n.record;r._setIsBusy(!1),r.props.propagateEditedRecord(Object.assign({},t,{created_at:r.props.initRecord.created_at,duration:e.duration,id:parseInt(a.id)}))}).catch(function(e){r._setIsBusy(!1),(0,c.default)("AddOrEditVideoView _updateVideo: ",e)})}},{key:"_getInitDataForForm",value:function(){return"default"===this.props.mode?null:{data:Object.assign({},this.props.initRecord,{duration:(0,s.secondsToDuration)(this.props.initRecord.duration)}),index:null}}},{key:"_setIsBusy",value:function(e){this.props.propagateBusyStatus(e),this.setState({isBusy:e})}},{key:"_getTitleForMode",value:function(){return"default"===this.props.mode?"Add video":"Edit video"}},{key:"render",value:function(){return n.default.createElement("div",null,n.default.createElement("h1",{className:"".concat(f.default.h1," ").concat(d.default.marginBottom60)},this._getTitleForMode()),n.default.createElement(o.default,{algoliaPartsService:this.props.algoliaPartsService,algoliaPlatformsService:this.props.algoliaPlatformsService,algoliaTagsService:this.props.algoliaTagsService,algoliaTopicsService:this.props.algoliaTopicsService,imageResources:this.props.imageResources,initData:this._getInitDataForForm(),isBusy:this.state.isBusy,dismiss:this.props.dismiss,mode:this.state.mode,saveContent:this.saveContent}))}}])&&h(r.prototype,a),p&&h(r,p),t}();v.propTypes={algoliaPartsService:a.default.object.isRequired,algoliaPlatformsService:a.default.object.isRequired,algoliaTagsService:a.default.object.isRequired,algoliaTopicsService:a.default.object.isRequired,dismiss:a.default.func.isRequired,imageResources:a.default.shape({aws_key:a.default.string.isRequired,s3_url:a.default.string.isRequired}).isRequired,initRecord:a.default.shape({category:a.default.string.isRequired,created_at:a.default.oneOfType([a.default.string,a.default.number]).isRequired,description:a.default.string.isRequired,duration:a.default.integer,id:a.default.number,image:a.default.shape({id:a.default.number.isRequired,name:a.default.string,url:a.default.string.isRequired}),products:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.number})),tag_ids:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.number})),title:a.default.string.isRequired,url:a.default.string.isRequired}),mode:a.default.string,propagateBusyStatus:a.default.func,propagateEditedRecord:a.default.func.isRequired,propagateNewRecord:a.default.func.isRequired},v.defaultProps={mode:"default",propagateBusyStatus:function(){}};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(70)),i=f(r(46)),l=r(8),u=f(r(2)),s=f(r(3)),c=f(r(5)),d=f(r(270));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var m=function(e){var t=e.className,r=e.item,a=e.linkProps,f=e.renderBody;return n.default.createElement("div",{className:"".concat(d.default.card," ").concat(u.default.fullWidth," ").concat(s.default.overflowBreakWord," ").concat(t)},n.default.createElement(o.default,p({className:"".concat(d.default.image," ").concat(c.default.posRelative),item:r},a),n.default.createElement(i.default,{alt:r.title,classList:{image:c.default.borderRadius},ratio:"3:2",setStyle:!1,src:(0,l.getInObj)(["image","url"],r),width:340})),n.default.createElement("div",{className:d.default.text},f()))};m.propTypes={className:a.default.string,item:a.default.shape({image:a.default.shape({url:a.default.string.isRequired}).isRequired}).isRequired,linkProps:a.default.shape({linkType:a.default.string.isRequired}).isRequired,renderBody:a.default.func},m.defaultProps={className:"",renderBody:function(){return null}};var h=m;t.default=h},function(e,t,r){e.exports={fadeBackground:"events_home_page__fadeBackground__1gL3J"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.keys(e).reduce(function(t,r){if(l.hasOwnProperty(r))t=t.concat("".concat(l[r],"=").concat(e[r]));else if(u.hasOwnProperty(r)){var s=u[r];Object.keys(s).forEach(function(n){e[r][n]&&(t=t.concat("".concat(s[n],"=").concat(encodeURIComponent(e[r][n]))))})}else"filters"===r?t=t.concat((c=e.filters,Object.keys(c).reduce(function(e,t){var r,a;return n.FILTER_WHITELIST.hasOwnProperty(t)&&("boolean"==typeof(a=c[t])&&!0===a||"boolean"!=typeof a&&null!=a)&&(e="location"===t?e.concat((r=c[t],(0,o.validateLocationObj)(r)?Object.keys(r).reduce(function(e,t){return e.concat("".concat(t,"=").concat((0,i.isObject)(r[t])?encodeURIComponent(JSON.stringify(r[t])):encodeURIComponent(r[t])))},[]):[])):e.concat("".concat(t,"=").concat((0,i.isObject)(c[t])?encodeURIComponent(JSON.stringify(c[t])):encodeURIComponent(c[t])))),e},[]))):"sort"===r&&(0,a.validatedSortIndex)(e.index,e.sort)&&(t=t.concat("sort_by=".concat(encodeURIComponent(e.sort))));var c;return t},[]).join("&");return"?".concat(t)};var n=r(492),a=r(265),o=r(493),i=r(11),l={query:"q",index:"i"},u={params:{page:"page"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(518),a={"/":function(){return e="events#index",{meta_desc:n.DEFAULT_PAGE_DESCRIPTION,pageType:e,title:n.DEFAULT_PAGE_TITLE};var e}};t.default=function(e){return a[e]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(714)),i=c(r(38)),l=c(r(121)),u=c(r(28)),s=c(r(52));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?y(n):a).state=Object.assign({errors:{}},r._initState(e)),r.getFormData=r.getFormData.bind(y(r)),r.validate=r.validate.bind(y(r)),r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),r=t,(a=[{key:"_initState",value:function(e){return e.initData?e.initData:{image:null,link:"",name:""}}},{key:"getFormData",value:function(){return{image:this.state.image,link:this.state.link,name:this.state.name}}},{key:"validate",value:function(){var e=this,t={image:this._imageV(),name:this._nameV(),link:this._linkV()},r=Object.keys(t).reduce(function(e,r){return t[r]&&"string"==typeof t[r]&&(e[r]=t[r]),e},{});return!(Object.keys(r).length>0&&(this.setState({errors:r},function(){return e._scrollToError(r)}),1))}},{key:"_scrollToError",value:function(e){var t=["name","image","link"].reduce(function(t,r){return null!==t?t:e.hasOwnProperty(r)?document.getElementById("cta".concat(r)):t},null);t&&(0,u.default)(t)}},{key:"_imageV",value:function(){var e=this;return["id","name","url"].every(function(t){return e.state.image&&e.state.image.hasOwnProperty(t)})?null:"An image is required!"}},{key:"_nameV",value:function(){return this.state.name&&this.state.name.length>2?null:"A name is required!  3 characters or more."}},{key:"_linkV",value:function(){return this.state.link&&this.state.link.length>0&&(0,o.default)(this.state.link,{require_protocol:!0})?null:"A link is required!  Make sure to add a correct protocol (http:// or https://)."}},{key:"_removeErrorForType",value:function(e){var t=this.state.errors;return t[e],f(t,[e].map(p))}},{key:"_setErrorForType",value:function(e,t){var r,n,a;this.setState({errors:Object.assign({},this.state.errors,(r={},n=e,a=t,n in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r))})}},{key:"render",value:function(){var e=this;return n.default.createElement("form",{className:s.default.container},n.default.createElement("div",{id:"ctaname"},n.default.createElement(i.default,{errors:this.state.errors.name,helperText:"This is used for admin purposes",label:"Name",name:"name",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name})),n.default.createElement("div",{id:"ctaimage"},n.default.createElement(l.default,{aspectRatio:3,dimensionMins:{width:1170},errors:this.state.errors.image,helperText:"Make sure your image is 1,170px x 390px for the best display",imageResources:this.props.imageResources,imageData:this.state.image,label:"Add image",propagateStatus:this.props.propagateStatus,propagateUpload:function(t){return e.setState({image:t,errors:e._removeErrorForType("image")})},reportError:function(t){return e._setErrorForType("image",t)}})),n.default.createElement("div",{id:"ctalink"},n.default.createElement(i.default,{errors:this.state.errors.link,label:"Action link",name:"link",onChange:function(t){return e.setState({link:t.target.value})},value:this.state.link})))}}])&&m(r.prototype,a),c&&m(r,c),t}();_.propTypes={imageResources:a.default.shape({aws_key:a.default.string.isRequired,s3_url:a.default.string.isRequired}).isRequired,initData:a.default.shape({image:a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string}),link:a.default.string,name:a.default.string}),propagateStatus:a.default.func},_.defaultProps={initData:null,propagateStatus:function(){}};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=m(r(1)),o=m(r(435)),i=m(r(38)),l=m(r(2356)),u=m(r(42)),s=m(r(987)),c=m(r(2359)),d=m(r(52)),f=m(r(2)),p=m(r(3));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b={data:null,mode:"default",open:!1,title:""},O=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=g(t).call(this,e))||"object"!==h(a)&&"function"!=typeof a?_(n):a).state={errors:{},dialog:b,sections:e.initData,title:e.initTitle},r.addSection=r.addSection.bind(_(r)),r.getContent=r.getContent.bind(_(r)),r.removeSection=r.removeSection.bind(_(r)),r.updateSection=r.updateSection.bind(_(r)),r.validate=r.validate.bind(_(r)),r}var r,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,n.Component),r=t,(a=[{key:"getContent",value:function(){return{content:this.state.sections,title:this.state.title}}},{key:"validate",value:function(){return this.state.title.length?this.state.sections.length>=4:(this.setState({errors:{title:"A title is required"}}),!1)}},{key:"addSection",value:function(e){this.setState({dialog:b,sections:this.state.sections.concat(Object.assign({},e,{key:(0,o.default)()}))})}},{key:"removeSection",value:function(e){this.setState({sections:this.state.sections.filter(function(t,r){return e.index!==r})})}},{key:"updateSection",value:function(e){this.setState({dialog:b,sections:this.state.sections.map(function(t,r){return e.index===r?Object.assign({},e.data,{key:t.key}):t})})}},{key:"_openDialogWithData",value:function(e){var t=e.data,r=e.mode,n=e.title;this.setState({dialog:{data:t,mode:r,title:n,open:!0}})}},{key:"_closeDialogWithData",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({dialog:e?b:Object.assign({},this.state.dialog,{open:!1})})}},{key:"render",value:function(){var e=this;return n.default.createElement("div",null,n.default.createElement("div",{className:f.default.marginBottom30},n.default.createElement("div",{className:f.default.marginBottom15},n.default.createElement("h3",{className:p.default.h3},"Preview"),n.default.createElement("p",{className:p.default.bodyS},"The first 4 content items will appear in this section")),n.default.createElement(s.default,{content:this.state.sections})),n.default.createElement("div",{className:d.default.container},n.default.createElement(i.default,{errors:this.state.errors.title,label:"Section title",onChange:function(t){return e.setState({errors:{},title:t.target.value})},placeholder:"Type your title here",value:this.state.title})),n.default.createElement(c.default,{content:this.state.sections,openDialog:function(){return e._openDialogWithData({data:e.state.dialog.data,mode:"default",title:"Add content item"})},removeSection:this.removeSection,updateSection:function(t){return e._openDialogWithData({data:t,mode:"edit",title:"Edit content item"})},updateSectionsOrder:function(t){return e.setState({sections:t})}}),n.default.createElement(u.default,{dismiss:function(){return e._closeDialogWithData("edit"===e.state.dialog.mode)},dismissStyle:{fontWeight:100,opacity:1},open:this.state.dialog.open,title:this.state.dialog.title,titleStyle:{fontSize:24,marginBottom:40,textAlign:"left"},wrapperStyle:{marginTop:100,width:870}},n.default.createElement(l.default,{algoliaPartsService:this.props.algoliaPartsService,algoliaTagsService:this.props.algoliaTagsService,dismiss:function(){return e._closeDialogWithData()},imageResources:this.props.imageResources,initData:this.state.dialog.data,mode:this.state.dialog.mode,propagateContent:function(t){return e.setState({dialog:Object.assign({},e.state.dialog,{data:t})})},saveContent:function(t){return null!==t.index?e.updateSection(t):e.addSection(t.data)}})))}}])&&y(r.prototype,a),m&&y(r,m),t}();O.propTypes={algoliaPartsService:a.default.object.isRequired,algoliaTagsService:a.default.object.isRequired,imageResources:a.default.shape({aws_key:a.default.string.isRequired,s3_url:a.default.string.isRequired}).isRequired,initData:a.default.arrayOf(a.default.shape({})),initTitle:a.default.string},O.defaultProps={initData:[],initTitle:""};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(2357)),i=s(r(2358)),l=s(r(144)),u=s(r(391));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return n.default.createElement("div",{className:"".concat(l.default.header," ").concat(u.default.titleWrapper)},n.default.createElement("p",{className:l.default.title},e))},d=function(e){var t=e.content,r=e.onClick,a=e.renderForPreview,u=e.title;return n.default.createElement("div",{className:l.default.container},function(e){var t=e.renderForPreview,r=e.title;return t?null:c(r)}({renderForPreview:a,title:u}),n.default.createElement("div",null,n.default.createElement(o.default,{content:t.slice(0,4),onClick:r}),n.default.createElement(i.default,{content:t.slice(0,4),onClick:r})))};d.propTypes={content:a.default.arrayOf(a.default.shape({})).isRequired,onClick:a.default.func,renderForPreview:a.default.bool,title:a.default.string},d.defaultProps={onClick:function(){},renderForPreview:!1,title:null};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DummyMobileView=t.DummyContentDefaultView=t.DummyListItem=void 0;var n=l(r(0)),a=l(r(2)),o=l(r(3)),i=l(r(391));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){return n.default.createElement("div",{className:i.default.mobileCard},n.default.createElement("div",{className:i.default.dummyMobileCardImage}),n.default.createElement("div",{className:i.default.mobileCardInfo},n.default.createElement("p",{className:o.default.h5},"Type"),n.default.createElement("a",{className:"".concat(o.default.bodyM," ").concat(o.default.link," ").concat(o.default.bold)},"Title")))},s=function(){return n.default.createElement("div",{className:i.default.listItem},n.default.createElement("div",null,n.default.createElement("p",{className:o.default.h5},"Type"),n.default.createElement("p",{className:"".concat(o.default.link," ").concat(o.default.bodyM," ").concat(o.default.bold)},"Title")),n.default.createElement("div",{className:i.default.dummyImageSmall}))};t.DummyListItem=s;t.DummyContentDefaultView=function(){return n.default.createElement("div",{className:i.default.defaultView},n.default.createElement("div",{className:i.default.mainCard},n.default.createElement("div",{className:i.default.mainInfo},n.default.createElement("p",{className:"".concat(o.default.h5," ").concat(a.default.marginBottom10)},"TYPE"),n.default.createElement("p",{className:"".concat(o.default.linkCharcoal," ").concat(i.default.bigTitle)},"Title"),n.default.createElement("p",{className:o.default.bodyM},"Content description")),n.default.createElement("div",{className:i.default.dummyImageLarge})),n.default.createElement("div",{className:i.default.listContainer},[0,0,0].map(function(e,t){return n.default.createElement(s,{key:t})})))};t.DummyMobileView=function(){return n.default.createElement("div",{className:i.default.dummyMobileView},[0,0,0,0].map(function(e,t){return n.default.createElement(u,{key:t})}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=S(r(1)),o=S(r(980)),i=S(r(38)),l=S(r(42)),u=S(r(2362)),s=S(r(2363)),c=S(r(2366)),d=S(r(225)),f=S(r(161)),p=S(r(226)),m=S(r(276)),h=S(r(7)),y=r(16),g=r(12),_=r(14),v=r(526),b=r(390),O=S(r(28)),w=S(r(52)),E=S(r(2)),P=S(r(78)),k=S(r(3));function S(e){return e&&e.__esModule?e:{default:e}}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=[{cell:"title",title:"title",orderable:!0,sort:"title"},{cell:"category",title:"category",orderable:!1,sort:null},{cell:"created_at",title:"date added",orderable:!0,sort:"most_recent",default:!0},{cell:"actionFn",title:"actions",orderable:!1,sort:null}],I=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=T(t).call(this,e))||"object"!==C(a)&&"function"!=typeof a?N(n):a).state={currentSearch:null,currentSort:{sort:"most_recent",status:0},dialog:{mode:"default",open:!1,record:null,scroll:0},errors:{},isBusy:!1,mode:e.mode,pagination:{current_page:1,next_page:2,per_page:20,prev_page:null},records:[],selectedIndexes:[],selectedRecords:[],title:e.initTitle},r.algoliaPartsService=new d.default,r.algoliaPlatformsService=new f.default,r.algoliaTagsService=new p.default,r.algoliaTopicsService=new m.default,r.addNewRecord=r.addNewRecord.bind(N(r)),r.handlePagination=r.handlePagination.bind(N(r)),r.handleReportedSelectedIndexes=r.handleReportedSelectedIndexes.bind(N(r)),r.handleSearch=r.handleSearch.bind(N(r)),r.handleSort=r.handleSort.bind(N(r)),r.updateRecord=r.updateRecord.bind(N(r)),r._tableRef,r}var r,a,S;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,n.Component),r=t,(a=[{key:"__getContent",value:function(){return{content:this.state.selectedRecords.map(function(e){return e.id}),title:this.state.title}}},{key:"__validate",value:function(){var e=this;return this.state.title.length?this.state.selectedRecords.length>=4:(this.setState({errors:{title:"A title is required"}},function(){return e._safeScroll("vf_title")}),!1)}},{key:"componentDidMount",value:function(){this._fetchRecords()}},{key:"_fetchRecords",value:function(){var e=this;return this._toggleIsBusy(!0),Promise.all([this._handlePaginationRequest(1),this._fetchInitRecords(this.props.initRecords)]).then(function(t){var r=j(t,2),n=r[0].videos,a=r[1].initRecords;e.setState({isBusy:!1,pagination:n.metadata,records:e._formatRecords(n.records),selectedIndexes:e._getSelectedIndexesForIds(n.records,a),selectedRecords:a},function(){return e._forceUpdateTableView()})}).catch(function(t){e._toggleIsBusy(!1),(0,h.default)("EditVideos _fetchRecords:",t)})}},{key:"_fetchInitRecords",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(function(r,n){return t.length?(0,_.graphQuery)((0,v.getVideosByIdQuery)(),{ids:t}).then(function(n){var a=n.records;return r({initRecords:e._sortRecordsByOrder(t,a)})}).catch(function(e){return n(e)}):r({initRecords:[]})})}},{key:"_formatRecords",value:function(e){var t=this;return e.map(function(e,r){return{record:e,columns:[e.title,e.category,(0,y.timestampToPrettyDate)(e.created_at),t._createActionsColumn.bind(t,e,r)]}})}},{key:"addNewRecord",value:function(e){var t=this,r=this.state.records.length===this.state.pagination.per_page?-1:this.state.records.length,n=this.state.selectedIndexes.reduce(function(e,r){return r+1<=t.state.pagination.per_page-1?e.concat(r+1):e},4===this.state.selectedRecords.length?[]:[0]);this.setState({records:this._formatRecords([e]).concat(this.state.records.slice(0,r)),selectedIndexes:n,selectedRecords:4===this.state.selectedRecords.length?this.state.selectedRecords:this.state.selectedRecords.concat(e)},function(){return t._dismissDialog()})}},{key:"handlePagination",value:function(e){var t=this;return this._toggleIsBusy(!0),this._handlePaginationRequest(e).then(function(e){var r=e.videos;t.setState({isBusy:!1,pagination:r.metadata,records:t._formatRecords(r.records),selectedIndexes:t._getSelectedIndexesForIds(r.records)},function(){return t._forceUpdateTableView()})}).catch(function(e){t._toggleIsBusy(!1),(0,h.default)("EditVideos handlePagination:",e)})}},{key:"handleReportedSelectedIndexes",value:function(e,t,r){var n=t?this.state.selectedRecords.concat(r):this.state.selectedRecords.filter(function(e){return e.id!==r.id});this.setState({selectedIndexes:e,selectedRecords:n})}},{key:"handleSearch",value:function(e){var t=this;return this._toggleIsBusy(!0),(0,_.graphQuery)({t:"videos_admin"},{page:1,per_page:this.state.pagination.per_page,search:e,sort:(0,b.getSortEnum)(this.state.currentSort.sort,this.state.currentSort.status)}).then(function(r){var n=r.errors,a=r.videos;if(n)return Promise.reject(n);t.setState({currentSearch:e,isBusy:!1,pagination:a.metadata,records:t._formatRecords(a.records),selectedIndexes:t._getSelectedIndexesForIds(a.records)},function(){return t._forceUpdateTableView()})}).catch(function(e){t._toggleIsBusy(!1),(0,h.default)("EditVideos handlePagination:",e)})}},{key:"handleSort",value:function(e){var t=this,r=e.sort,n=e.status;return this._toggleIsBusy(!0),(0,_.graphQuery)({t:"videos_admin"},{page:1,per_page:this.state.pagination.per_page,search:this.state.currentSearch,sort:(0,b.getSortEnum)(r,n)}).then(function(e){var a=e.errors,o=e.videos;if(a)return Promise.reject(a);t.setState({currentSort:{sort:r,status:n},isBusy:!1,pagination:o.metadata,records:t._formatRecords(o.records),selectedIndexes:t._getSelectedIndexesForIds(o.records)},function(){return t._forceUpdateTableView()})}).catch(function(e){t._toggleIsBusy(!1),(0,h.default)("EditVideos handlePagination:",e)})}},{key:"updateRecord",value:function(e){var t=this;this.setState({records:this.state.records.map(function(r){return r.record.id===e.id?t._formatRecords([Object.assign({},r.record,e)])[0]:r}),selectedRecords:this.state.selectedRecords.map(function(t){return t.id===e.id?e:t})},function(){return t._dismissDialog()})}},{key:"_removeFromSelectedRecords",value:function(e){var t=this.state.records.findIndex(function(t){return t.record.id===e.id});this.setState({records:this._formatRecords(this.state.records.map(function(e){return e.record})),selectedIndexes:this.state.selectedIndexes.filter(function(e){return e!==t}),selectedRecords:this.state.selectedRecords.filter(function(t){return t.id!==e.id})})}},{key:"_sortRecordsByOrder",value:function(e,t){return e.map(function(e){return t.find(function(t){return t.id===e})})}},{key:"_updateSelectedRecords",value:function(e){this.setState({selectedRecords:e})}},{key:"_disableRow",value:function(e){return this._disableUnselectedRows()&&-1===this.state.selectedRecords.findIndex(function(t){return t.id===e.id})}},{key:"_disableUnselectedRows",value:function(){return this.state.selectedRecords.length>=4}},{key:"_dismissDialog",value:function(){this.state.isBusy||this.setState({dialog:{open:!1,mode:"default",record:null,scroll:0}})}},{key:"_forceUpdateTableView",value:function(){this._tableRef&&this._tableRef.forceUpdate()}},{key:"_getSelectedIndexesForIds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.selectedRecords;return t.length?e.reduce(function(e,r,n){return t.findIndex(function(e){return e.id===r.id})>-1?e.concat(n):e},[]):[]}},{key:"_handlePaginationRequest",value:function(e){var t=this;return new Promise(function(r,n){return(0,_.graphQuery)({t:"videos_admin"},{page:e,per_page:t.state.pagination.per_page,search:t.state.currentSearch,sort:(0,b.getSortEnum)(t.state.currentSort.sort,t.state.currentSort.status)}).then(function(e){var t=e.errors,n=e.videos;if(t)return Promise.reject(t);r({videos:n})}).catch(function(e){return n(e)})})}},{key:"_safeScroll",value:function(e){var t=document.getElementById(e);t&&(0,O.default)(t,200)}},{key:"_summonDialog",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.setState({dialog:{open:!0,scroll:window.scrollY,mode:t,record:r}},function(){return(0,g.windowScrollTo)(0,e.state.dialog.scroll)})}},{key:"_toggleIsBusy",value:function(e){this.setState({isBusy:e})}},{key:"_createActionsColumn",value:function(e,t){var r=this._disableRow(e);return n.default.createElement("span",null,n.default.createElement("button",{className:"".concat(P.default.editBtn," ").concat(r?P.default.disabled:""),disabled:r,onClick:this._summonDialog.bind(this,"edit",e)},"Edit"))}},{key:"render",value:function(){var e=this;return n.default.createElement("div",null,n.default.createElement("div",{id:"vf_title"},n.default.createElement(i.default,{classList:{root:w.default.container},errors:this.state.errors.title||null,label:"Section title",onChange:function(t){return e.setState({title:t.target.value,errors:Object.assign({},e.state.errors,{title:null})})},placeholder:"Enter your title",value:this.state.title})),n.default.createElement("div",{className:E.default.marginBottom30},n.default.createElement("h2",{className:k.default.h2},"Select ".concat(4," videos")),n.default.createElement("p",{className:k.default.bodyM},"Select the videos you would like to feature in this section.")),n.default.createElement("div",{className:E.default.marginBottom60},n.default.createElement(c.default,{tableRef:function(t){return e._tableRef=t},disabledState:this._disableUnselectedRows(),headers:A,isBusy:this.state.isBusy,onDelete:this.handleMassDeletion,onPagination:this.handlePagination,onSearch:this.handleSearch,onSort:this.handleSort,pagination:this.state.pagination,reportSelected:this.handleReportedSelectedIndexes,selectedIndexes:this.state.selectedIndexes,summonDialog:function(t){return e._summonDialog(t)},tableItems:this.state.records})),n.default.createElement("div",{className:E.default.marginBottom30},n.default.createElement("h2",{className:"".concat(k.default.h2," ").concat(E.default.marginBottom5)},"Selected videos"),n.default.createElement("p",{className:k.default.bodyM},"You must add 4 content items before publishing. Drag a video to a new position to reorder it.")),n.default.createElement("div",{className:E.default.marginBottom60},n.default.createElement(s.default,{items:this.state.selectedRecords,removeItem:function(t){t.index;var r=t.data;return e._removeFromSelectedRecords(r)},updateItem:function(t){t.index;var r=t.data;return e._summonDialog("edit",r)},updateItemsOrder:function(t){return e._updateSelectedRecords(t)}})),n.default.createElement("div",{className:E.default.marginBottom30},n.default.createElement("h2",{className:"".concat(k.default.h2," ").concat(E.default.marginBottom5)},"Preview"),n.default.createElement("p",{className:k.default.bodyM},"This is how the section will appear on the homepage.")),n.default.createElement("div",{className:E.default.paddingBottom30},n.default.createElement(u.default,{records:this.state.selectedRecords})),n.default.createElement(l.default,{dismiss:function(){return e._dismissDialog()},dismissStyle:{fontWeight:100,opacity:1},open:this.state.dialog.open,wrapperStyle:{marginTop:100,width:870}},n.default.createElement(o.default,{algoliaPartsService:this.algoliaPartsService,algoliaPlatformsService:this.algoliaPlatformsService,algoliaTagsService:this.algoliaTagsService,algoliaTopicsService:this.algoliaTopicsService,dismiss:function(){return e._dismissDialog()},imageResources:this.props.imageResources,initRecord:this.state.dialog.record,mode:this.state.dialog.mode,propagateBusyStatus:function(t){return e._toggleIsBusy(t)},propagateEditedRecord:this.updateRecord,propagateNewRecord:this.addNewRecord})))}}])&&R(r.prototype,a),S&&R(r,S),t}();I.propTypes={imageResources:a.default.shape({aws_key:a.default.string.isRequired,s3_url:a.default.string.isRequired}).isRequired,initRecords:a.default.arrayOf(a.default.oneOfType([a.default.number,a.default.string])),initTitle:a.default.string,mode:a.default.string,propogateStatus:a.default.func},I.defaultProps={initRecords:[],initTitle:"",mode:"default",propogateStatus:function(){}};var x=I;t.default=x},function(e,t,r){e.exports={asphalt:"#D8D8D8",cell:"cells__cell__2wreY",cell0:"cells__cell0__yt9gZ cells__cell__2wreY"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=l(r(2371)),i=l(r(2373));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,d(t).call(this,e))}var r,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n.Component),r=t,(a=[{key:"render",value:function(){var e=this.props,t=e.header,r=e.pathHelpers,a=e.renderForPreview,l=e.sections,u=e.showHeader;return n.default.createElement("div",null,u&&n.default.createElement(o.default,t),n.default.createElement(i.default,{pathHelpers:r,renderForPreview:a,sections:l}))}}])&&s(r.prototype,a),l&&s(r,l),t}();p.propTypes={header:a.default.shape({authProps:a.default.object.isRequired,imgs:a.default.object.isRequired}),pathHelpers:a.default.shape({rootPath:a.default.string.isRequired,videosPath:a.default.string.isRequired}).isRequired,renderForPreview:a.default.bool,sections:a.default.arrayOf(a.default.shape({key:a.default.string,label:a.default.string,meta:a.default.shape({}),title:a.default.string,value:a.default.oneOfType([a.default.bool,a.default.number,a.default.string])})).isRequired,showHeader:a.default.bool},p.defaultProps={renderForPreview:!1,showHeader:!0};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=p(r(1)),o=p(r(993)),i=p(r(994)),l=p(r(966)),u=p(r(2378)),s=p(r(995)),c=r(68),d=p(r(2)),f=p(r(2379));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){var t=e.entity;return n.default.createElement("div",{className:"".concat(d.default.container," ").concat(f.default.container)},n.default.createElement("div",{className:d.default.wrapper960},t&&n.default.createElement("div",null,n.default.createElement(i.default,{video:t}),n.default.createElement(o.default,{inDialog:!0,video:t}))))},b=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=y(t).call(this,e))||"object"!==m(a)&&"function"!=typeof a?g(n):a).buildPath=r.buildPath.bind(g(r)),r.handleDismiss=r.handleDismiss.bind(g(r)),r.handleOpen=r.handleOpen.bind(g(r)),r.history=(0,c.createSimpleHistory)(r.props.pathHelpers.rootPath),r._dialog,r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.Component),r=t,(a=[{key:"_summonDialog",value:function(e){this._dialog&&this._dialog._summonDialog(e)}},{key:"buildPath",value:function(e){return"".concat(this.props.pathHelpers.videosPath,"/").concat(e.id)}},{key:"handleDismiss",value:function(e){this.props.onDismiss()}},{key:"handleOpen",value:function(e,t){this.props.seoHandler.reportView({config:s.default,data:t,path:"/*"}),(0,u.default)({type:"Video",id:t.id,a:"modal",c:"videos"})}},{key:"render",value:function(){var e=this;return n.default.createElement(l.default,{ref:function(t){return e._dialog=t},BodyComponent:v,buildPath:this.buildPath,fullScreen:!0,history:this.history,onDismiss:this.handleDismiss,onOpen:this.handleOpen,theme:"dark",wrapperClassName:f.default.dialogWrapper})}}])&&h(r.prototype,a),o&&h(r,o),t}();b.propTypes={onDismiss:a.default.func,pathHelpers:a.default.shape({rootPath:a.default.string.isRequired,videosPath:a.default.string.isRequired}).isRequired,seoHandler:a.default.shape({reportView:a.default.func.isRequired}).isRequired},b.defaultProps={onDismiss:function(){}};var O=b;t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(222)),i=s(r(2)),l=s(r(3)),u=s(r(2377));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.inDialog,r=e.video;return n.default.createElement("div",null,n.default.createElement("header",{className:i.default.marginTop30},n.default.createElement("h1",{className:"".concat(l.default.h2," ").concat(t?l.default.white:"")},r.title)),n.default.createElement("div",{className:"".concat(l.default.bodyM," ").concat(t?l.default.white:"")},n.default.createElement("section",{className:i.default.marginTop10},r.category),n.default.createElement("section",{className:"".concat(i.default.marginTop15," ").concat(t?u.default.hasLinksWhite:u.default.hasLinks),dangerouslySetInnerHTML:{__html:o.default.render(r.description)}})))};c.propTypes={inDialog:a.default.bool,video:a.default.shape({category:a.default.string.isRequired,description:a.default.string.isRequired,id:a.default.number.isRequired,title:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired},c.defaultProps={inDialog:!1};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(834)),i=r(448);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.video,r=(0,i.getEmbedUrl)(t.url,!0);return n.default.createElement(o.default,{src:r})};u.propTypes={video:a.default.shape({url:a.default.string.isRequired}).isRequired};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(44),a={"/":function(e){var t=(0,n.mapifyStringQuery)(e.search);return{title:"Explore videos - Page ".concat(t.page||1," - Hackster.io"),pageType:"videos#index"}},"/*":function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{title:"Watch video - ".concat(e.title," - Hackster.io"),pageType:"videos#modal",entity_id:e.id}}};t.default=function(e){return a[e]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(1)),o=i(r(2391));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=function(e){var t=e.className,r=void 0===t?o.default.link:t,a=e.item,i=e.trackLinkClick;return n.default.createElement("a",l({className:r,href:a.url,onClick:function(e){return i({delayRedirect:!a.noDelay,e:e,type:"link-list"})},title:a.name},a.props||{}),a.name)},s=function(e){var t=e.className,r=e.items,a=e.trackLinkClick,i=e.viewAllLink;return n.default.createElement("div",{className:t},n.default.createElement("div",null,r.map(function(e,t){return n.default.createElement(u,{key:t,item:e,trackLinkClick:a})}),i&&n.default.createElement(u,{className:o.default.viewAllLink,item:i,trackLinkClick:a})))};s.propTypes={className:a.default.string,items:a.default.arrayOf(a.default.shape({name:a.default.string,url:a.default.string})).isRequired,trackLinkClick:a.default.func,viewAllLink:a.default.shape({name:a.default.string,url:a.default.string})},s.defaultProps={className:"",trackLinkClick:function(){},viewAllLink:null};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(70)),i=f(r(971)),l=r(16),u=r(61),s=f(r(50)),c=f(r(2)),d=f(r(3));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var m=function(e){var t=e.article,r=e.location,a=e.onUserProfile,f={item:t,linkType:u.NEWS_ARTICLE_CARD,location:r};return n.default.createElement(i.default,{imageAspectRatio:"16:9",item:t,linkProps:f,renderBody:function(){return n.default.createElement("div",{className:"".concat(d.default.breakWord," ").concat(c.default.flexColumn)},n.default.createElement(o.default,p({className:"".concat(d.default.bodyM," ").concat(d.default.bold," ").concat(d.default.linkCharcoal)},f),t.title),a&&n.default.createElement("div",{className:s.default.spacer}),n.default.createElement("p",{className:d.default.bodyS},n.default.createElement("a",{href:t.user.url,className:d.default.link},t.user.name),n.default.createElement("span",{className:"".concat(c.default.marginLeft5," ").concat(c.default.marginRight5)},"•"),n.default.createElement("span",{title:t.published_at},(0,l.timeFromNow)(t.published_at))))},responsive:!a})};m.propTypes={article:a.default.shape({image:a.default.shape({url:a.default.string.isRequired}),published_at:a.default.string.isRequired,title:a.default.string.isRequired,user:a.default.shape({name:a.default.string.isRequired,url:a.default.string.isRequired}),url:a.default.string.isRequired}).isRequired,location:a.default.string,onUserProfile:a.default.bool},m.defaultProps={itemIndex:null,location:null,onUserProfile:!1,overrideTracking:null};var h=m;t.default=h},function(e,t,r){e.exports={small:"(max-width: 480px)",med:"(max-width: 768px)",adContainer:"news_page_hero__adContainer__2q7sa",mobileImage:"news_page_hero__mobileImage__xkN4O",placeholder:"news_page_hero__placeholder__v3WTU",desktopImage:"news_page_hero__desktopImage__15iIF"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=h(r(1)),o=r(69),i=h(r(9)),l=h(r(2414)),u=h(r(2415)),s=h(r(473)),c=h(r(64)),d=h(r(109)),f=h(r(2)),p=h(r(3)),m=h(r(394));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=(0,o.SortableElement)(function(e){var t=e.cardRenderFn,r=e.itemIndex;return t(e.record,r)}),w=(0,o.SortableContainer)(function(e){var t=e.cardRenderFn,r=e.listClass,a=e.records;return n.default.createElement("div",{className:r},a.map(function(e,r){return n.default.createElement(O,{key:e?e.id:"item-".concat(r),cardRenderFn:t,disabled:null===e,index:r,itemIndex:r,record:e})}))}),E=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=_(t).call(this,e))||"object"!==y(a)&&"function"!=typeof a?v(n):a).getCardRenderFn=r.getCardRenderFn.bind(v(r)),r.getHelperDimensions=r.getHelperDimensions.bind(v(r)),r.onSortEnd=r.onSortEnd.bind(v(r)),r.onSortStart=r.onSortStart.bind(v(r)),r._cachedCardNode,r._cachedContainerNode,r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n.Component),r=t,(a=[{key:"getCardRenderFn",value:function(e,t){if(!e)return this._getEmptyCardView(t);switch(this.props.type){case"featured":return this._getFeaturedCardView(e,t);case"sponsored":return this._getSponsoredCardView(e,t);default:return function(){return null}}}},{key:"getHelperDimensions",value:function(e){var t=e.node.firstChild.getBoundingClientRect(),r=t.height+30,n=t.width+30;return Object.assign({},t,{height:r,width:n})}},{key:"onSortEnd",value:function(e){var t=e.oldIndex,r=e.newIndex;this._resetAndCleanCachedNodes(),t!==r&&this.props.reorderArticles(this.props.type,(0,s.default)(this.props.records,t,r))}},{key:"onSortStart",value:function(e){var t=e.node;this._cacheCurrentNodeAndAppendGhostNode(t)}},{key:"_cacheCurrentNodeAndAppendGhostNode",value:function(e){this._cachedContainerNode=e,this._cachedCardNode=e.firstChild;var t=this._cachedCardNode.getBoundingClientRect();e.removeChild(e.firstChild),e.appendChild(this._createGhostNode(t))}},{key:"_createGhostNode",value:function(e){var t=e.height,r=document.createElement("div");return r.style="height:".concat(t,"px;width:100%;background-color:#f7f7f7;"),r}},{key:"_getEmptyCardPropsForType",value:function(e){switch(this.props.type){case"featured":return this._getEmptyCardPropsFeatured(e);case"sponsored":return this._getEmptyCardPropsSponsored();default:return{classList:{card:"",container:""},text:""}}}},{key:"_getEmptyCardPropsFeatured",value:function(e){return{classList:{card:0===e?m.default.featuredEmptyCardHero:m.default.featuredEmptyCard,container:0===e?m.default.featuredEmptyCardContainerHero:m.default.featuredEmptyCardContainer},text:"Choose an article"}}},{key:"_getEmptyCardPropsSponsored",value:function(){return{classList:{card:m.default.sponsoredEmptyCard,container:"".concat(f.default.flex," ").concat(c.default.cell," ").concat(c.default.cell_1_2," ").concat(d.default.sponsoredCardContainer," ").concat(m.default.sponsoredEmptyCardContainer)},text:"Choose a sponsored article"}}},{key:"_getListClass",value:function(){return"sponsored"===this.props.type?"".concat(c.default.grid," ").concat(c.default.guttersH15," ").concat(c.default.guttersV30," ").concat(c.default.guttersH60_sm):""}},{key:"_resetAndCleanCachedNodes",value:function(){this._cachedContainerNode&&this._cachedCardNode&&(this._cachedContainerNode.removeChild(this._cachedContainerNode.firstChild),this._cachedContainerNode.appendChild(this._cachedCardNode),this._cachedCardNode=void 0,this._cachedContainerNode=void 0)}},{key:"_getDeleteButtonView",value:function(e){var t=this;return n.default.createElement("div",{className:m.default.deleteBtn,onClick:function(){return t.props.deleteArticle(t.props.type,e)}},n.default.createElement(i.default,{name:"delete",size:"20"}))}},{key:"_getEmptyCardView",value:function(e){var t=this,r=this._getEmptyCardPropsForType(e),a=r.classList,o=r.text;return n.default.createElement("div",{className:a.container},n.default.createElement("div",{className:a.card,onClick:function(){return t.props.summonArticleSelector(t.props.type,e)}},n.default.createElement("div",{className:m.default.iconWrapper},n.default.createElement(i.default,{name:"plus",size:"fill"})),n.default.createElement("p",{className:"".concat(p.default.bodyM," ").concat(p.default.bold)},o)))}},{key:"_getFeaturedCardView",value:function(e,t){var r=this;return n.default.createElement("div",{className:m.default.featuredCardContainer},n.default.createElement(l.default,{article:e,isHero:0===t,deleteBtnRenderFn:function(){return r._getDeleteButtonView(e)}}))}},{key:"_getSponsoredCardView",value:function(e,t){var r=this;return n.default.createElement("div",{className:"".concat(f.default.flex," ").concat(c.default.cell," ").concat(c.default.cell_1_2," ").concat(m.default.sponsoredCardContainer," ").concat(d.default.sponsoredCardContainer)},n.default.createElement(u.default,{article:e,deleteBtnRenderFn:function(){return r._getDeleteButtonView(e)}}))}},{key:"render",value:function(){return n.default.createElement(w,{axis:this.props.sortAxis,getHelperDimensions:this.getHelperDimensions,helperClass:m.default.currentDraggingItem,hideSortableGhost:!1,listClass:this._getListClass(),onSortEnd:this.onSortEnd,onSortStart:this.onSortStart,pressDelay:200,records:this.props.records,cardRenderFn:this.getCardRenderFn})}}])&&g(r.prototype,a),o&&g(r,o),t}();E.propTypes={deleteArticle:a.default.func.isRequired,records:a.default.arrayOf(a.default.object).isRequired,reorderArticles:a.default.func.isRequired,sortAxis:a.default.string,summonArticleSelector:a.default.func.isRequired,type:a.default.string.isRequired},E.defaultProps={sortAxis:"y"};var P=E;t.default=P},function(e,t,r){e.exports={asphalt:"#D8D8D8",hackster:"#2E9FE6",graphite:"#4A4A4A",small:"(max-width: 480px)",check:"selector_card__check__3s6SU",circle:"selector_card__circle__2tf4f",chosen:"selector_card__chosen__3fTyQ",circleWrapper:"selector_card__circleWrapper__2IDWr",img:"selector_card__img__3Qk_l",imgWrapper:"selector_card__imgWrapper__2rRXP",mask:"selector_card__mask__28oKH",maskChosen:"selector_card__maskChosen__2loxp",text:"selector_card__text__1IjE-",platform:"selector_card__platform__DzUN3",platformWrapper:"selector_card__platformWrapper__1POcz",platformNoBg:"selector_card__platformNoBg__2JW5l selector_card__platform__DzUN3",platformNoBgWrapper:"selector_card__platformNoBgWrapper__ZXou4 selector_card__platformWrapper__1POcz",svg:"selector_card__svg__1JmDu",svgWrapper:"selector_card__svgWrapper__1PuHc",toolboxNoBg:"selector_card__toolboxNoBg__2PiAW",toolboxNoBgWrapper:"selector_card__toolboxNoBgWrapper__gUWLG"}},function(e,t,r){e.exports={advanced:"onboard_wizard__advanced__vgVk5",asphalt:"#D8D8D8",easy:"#007A33",hardcore:"onboard_wizard__hardcore__qLFIZ",intermediate:"onboard_wizard__intermediate__3dwbO",small:"(max-width: 480px)",beginner:"onboard_wizard__beginner__2A-lu",stickyFooter:"onboard_wizard__stickyFooter__3H7gX"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=i(r(2433));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=s(t).call(this,e))||"object"!==l(a)&&"function"!=typeof a?c(n):a).state={focused:-1},r.dismiss=r.dismiss.bind(c(r)),r.handleKeyDown=r.handleKeyDown.bind(c(r)),r.isDropdownItemFocused=r.isDropdownItemFocused.bind(c(r)),r._isMounted,r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentDidUpdate",value:function(e){e.currentQuery!==this.props.currentQuery&&this.setState({focused:-1})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"dismiss",value:function(){this._isMounted&&this.props.dismiss()}},{key:"handleKeyDown",value:function(e){this._isMounted&&(40===e.keyCode&&this.state.focused<this.props.options.length-1?this.setState({focused:this.state.focused+1}):38===e.keyCode&&this.state.focused>-1?this.setState({focused:this.state.focused-1}):13===e.keyCode&&this.state.focused>-1&&this.props.onSelect(this.props.options[this.state.focused]))}},{key:"isDropdownItemFocused",value:function(){return this.state.focused>-1}},{key:"render",value:function(){var e=this;return a.default.createElement("ul",{className:o.default.list,onMouseLeave:function(){return e.setState({focused:-1})}},this.props.options.map(function(t,r){return a.default.createElement("li",{key:r,className:"".concat(o.default.listItem," ").concat(e.state.focused===r?o.default.focused:""),onClick:function(){return e.props.onSelect(t)},onMouseOver:function(t){return e.setState({focused:r})}},e.props.templateFn&&"function"==typeof e.props.templateFn?e.props.templateFn(t):t)}))}}])&&u(r.prototype,n),i&&u(r,i),t}();f.propTypes={currentQuery:n.default.string.isRequired,dismiss:n.default.func.isRequired,onSelect:n.default.func.isRequired,options:n.default.array.isRequired,templateFn:n.default.func},f.defaultProps={templateFn:null};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.keys(e).reduce(function(t,r,u,s){if(a.hasOwnProperty(r))t[a[r]]=e[r];else if(i.hasOwnProperty(r))t[i[r]]=e[r];else if(o.hasOwnProperty(r)){var c=t.params||{};c[o[r]]=e[r],t.params=c}else if(n.FILTER_WHITELIST.hasOwnProperty(r)){var d=t.filters||{};d[r]=e[r],t.filters=d}else u===s.length-1&&e.hasOwnProperty("settings")&&(t=Object.assign({},t,function(e){e.index||(e.index="projects");return Object.keys(e).reduce(function(t,r){return i.hasOwnProperty(r)&&e[r].length>0?l.hasOwnProperty(t.index)&&void 0===l[t.index][e[r]]&&(t.sort=e[r]):"filters"===r&&Object.keys(e.filters).length>0&&(t.filters=e.filters),t},{index:e.index})}(e.settings)));return t},{})};var n=r(492),a={i:"index",index:"index",q:"query",query:"query"},o={p:"page",page:"page"},i={sort:"sort",sort_by:"sort"},l={channels:{relevance:!0,most_members:!0},events:{relevance:!0,date:!0},news_articles:{relevance:!0},projects:{relevance:!0,most_popular:!0}}},function(e,t,r){e.exports={asphalt:"#D8D8D8",pebble:"#767676",hackster:"#2E9FE6",med:"(max-width: 768px)",container:"search_input__container__1MtwE",containerSimple:"search_input__containerSimple__1YLpn",dismiss:"search_input__dismiss__2xEM6",dismissWithinBorderWrapper:"search_input__dismissWithinBorderWrapper__2BAZU",dismissWithinBorder:"search_input__dismissWithinBorder__2XS-L",hideDismiss:"search_input__hideDismiss__3uvWT",searchInputBase:"search_input__searchInputBase__1731f",input:"search_input__input__3CBks search_input__searchInputBase__1731f",inputFocused:"search_input__inputFocused__2vzMD",inputContainer:"search_input__inputContainer__LrgwE",listOpen:"search_input__listOpen__3vmZG",searchIcon:"search_input__searchIcon__1JbTz",searchIconWrapper:"search_input__searchIconWrapper__1oj2O",onSearchPath:"search_input__onSearchPath__2uS9s",viewPortHeightMax:"search_input__viewPortHeightMax__3oZkR"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(2442)),i=d(r(2445)),l=d(r(10)),u=d(r(284)),s=d(r(2)),c=d(r(283));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.removeSection,r=e.sections,a=e.toggleView,d=e.updateSection,f=e.updateSectionsOrder;return n.default.createElement("section",{className:c.default.root},n.default.createElement("header",{className:c.default.paddedContainer},n.default.createElement("h4",null,"Project sections"),n.default.createElement("p",null,"We recommend having 8-10 project sections"),n.default.createElement("button",{className:"".concat(l.default.lg," ").concat(l.default.secondary),disabled:null===r,onClick:function(){return a("addSection")},type:"button"},"Add project section"),n.default.createElement("button",{className:"".concat(l.default.lg," ").concat(s.default.marginLeft15),onClick:function(){return a("preview")},type:"button"},"Preview")),n.default.createElement("div",{className:c.default.tableContainer},n.default.createElement("div",{className:c.default.tableHeader},n.default.createElement("div",{className:c.default.ghostDragBox}),n.default.createElement("div",{className:"".concat(c.default.headerCell," ").concat(u.default.cell30)},"Name"),n.default.createElement("div",{className:"".concat(c.default.headerCell," ").concat(u.default.cell20)},"Type"),n.default.createElement("div",{className:"".concat(c.default.headerCell," ").concat(u.default.cell20)},"Content tag"),n.default.createElement("div",{className:"".concat(c.default.headerCell," ").concat(u.default.cell10)},"Projects count"),n.default.createElement("div",{className:"".concat(c.default.headerCell," ").concat(u.default.cell10)},"Actions")),r?n.default.createElement(o.default,{items:r,removeItem:t,updateItem:d,updateItemsOrder:f}):n.default.createElement(i.default,null)))};f.propTypes={removeSection:a.default.func.isRequired,sections:a.default.arrayOf(a.default.object),toggleView:a.default.func.isRequired,updateSection:a.default.func.isRequired,updateSectionsOrder:a.default.func.isRequired},f.defaultProps={};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(1)),a=i(r(0)),o=r(16);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.dateString,r=e.location,n=(0,o.timestampToPrettyDate)(t,o.VERBOSE_DATE_FORMAT,!1,null);return a.default.createElement("div",null,n&&a.default.createElement("div",null,"Date: ".concat(n)),r&&a.default.createElement("div",null,"Location: ".concat(r)))};l.propTypes={dateString:n.default.string,location:n.default.string},l.defaultProps={dateString:null,location:null};var u=l;t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),a=l(r(0)),o=l(r(873)),i=l(r(2457));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.dateString,r=e.orientation;return a.default.createElement("div",{className:"vertical"===r?i.default.eventDateVertical:i.default.eventDateHorizontal},a.default.createElement(o.default,{classList:{day:i.default.day},dateString:t}))};u.propTypes={dateString:n.default.string,orientation:n.default.string},u.defaultProps={orientation:"vertical",dateString:""};var s=u;t.default=s},function(e,t,r){e.exports={asphalt:"#D8D8D8",card:"vertical__card__3Uj9s",thumb:"vertical__thumb__2T2uh vertical__card__3Uj9s",subTitle:"vertical__subTitle__1MF2M",thumbImageContainer:"vertical__thumbImageContainer__20C4l",thumbContent:"vertical__thumbContent__96OcV",eventCard:"vertical__eventCard__U8Msh",eventDate:"vertical__eventDate__3yP4R"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(1)),a=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.className,r=e.children,n=e.onClick,o=e.href;return a.default.createElement("a",{className:t,onClick:function(e){return function(e,t){e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1===e.button||(e.preventDefault(),t())}(e,n)},href:o},r)};i.propTypes={className:n.default.string,href:n.default.string,onClick:n.default.func},i.defaultProps={className:"",href:"javascript:void(0)",onClick:function(){}};var l=i;t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"events",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"parts",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"channels",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"projects",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"news_articles",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"users",{enumerable:!0,get:function(){return u.default}});var n=s(r(2468)),a=s(r(2469)),o=s(r(2470)),i=s(r(2471)),l=s(r(2472)),u=s(r(2473));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(r(0)),a=h(r(1)),o=h(r(15)),i=y(r(870)),l=h(r(66)),u=h(r(7)),s=h(r(2482)),c=r(872),d=h(r(21)),f=h(r(2)),p=h(r(3)),m=h(r(5));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=v(t).call(this,e))||"object"!==g(a)&&"function"!=typeof a?b(n):a).state={isBusy:!1},r.handleClick=r.handleClick.bind(b(r)),r}var r,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,n.PureComponent),r=t,(a=[{key:"handleClick",value:function(){var e=this;this.setState({isBusy:!0}),(0,s.default)().then(function(t){var r=Object.assign({},(0,c.processAlgoliaPlacesRecord)(t),{distance:e.props.filters.distance||i.DEFAULT_DISTANCE_OPT.value});e.props.onChange({location:r}),e.setState({isBusy:!1})}).catch(function(t){e.setState({isBusy:!1}),(0,u.default)(t)})}},{key:"_getButtonOrSpinner",value:function(){return this.state.isBusy?n.default.createElement(l.default,{size:16}):n.default.createElement(o.default,{colorStyle:"blank",disabled:this.props.disabled,onClick:this.handleClick},n.default.createElement("span",{className:"".concat(p.default.linkBlue," ").concat(p.default.bodyS," ").concat(this.props.disabled?p.default.linkDisabled:"")},"Near me"))}},{key:"render",value:function(){var e=this;return n.default.createElement("section",{className:d.default.inputWrapper},n.default.createElement("header",{className:"".concat(f.default.flexJustifySpaceBetween," ").concat(f.default.flexCenterItems," ").concat(d.default.label," ").concat(this.props.disabled?m.default.disabled:"")},n.default.createElement("label",{className:f.default.margin0},"Location"),this._getButtonOrSpinner()),n.default.createElement(i.default,{disabled:this.props.disabled||this.state.isBusy,historyStateEnabled:!0,onChange:function(t){return e.props.onChange({location:t})},value:Object.assign({},this.props.filters.location,this.props.filters.distance)}))}}])&&_(r.prototype,a),h&&_(r,h),t}();w.propTypes={disabled:a.default.bool,filters:a.default.shape({date:a.default.string,location:a.default.oneOfType([a.default.string,a.default.object]),distance:a.default.object}),label:a.default.string,onChange:a.default.func},w.defaultProps={disabled:!1,filters:{},label:"Location",onChange:function(){}};var E=w;t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=g(r(76)),i=g(r(285)),l=g(r(30)),u=g(r(379)),s=g(r(2528)),c=r(20),d=g(r(10)),f=g(r(2)),p=g(r(3)),m=g(r(147)),h=g(r(146)),y=g(r(1013));function g(e){return e&&e.__esModule?e:{default:e}}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=b(t).call(this,e))||"object"!==_(a)&&"function"!=typeof a?O(n):a).fetchProjects=r.fetchProjects.bind(O(r)),r.handleExpandingCard=r.handleExpandingCard.bind(O(r)),r.state={expandedCard:null},r}var r,n,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,a.Component),r=t,(n=[{key:"fetchProjects",value:function(e){return this.props.fetchProjectsForResource("tool_projects",["tools","records",["id",e],"projects"],{author_id:this.props.profile.id,part_id:e},!1)}},{key:"handleExpandingCard",value:function(e,t,r){var n=this;if(this.props.blockHoverForResource(r),r){var a=e.projects.records.reduce(function(e,t){return n.props.allProjects[t.hid]?e:e.concat(t.hid)},[]);this.setState({expandedCard:t}),a.length&&this.props.fetchProjects(a)}}},{key:"render",value:function(){var e=this,t=this.props.tools.metadata,r=this.props.inDialog?this.props.tools.records:this.props.tools.records.slice(0,5);return a.default.createElement("section",{className:y.default.tools},!this.props.inDialog&&a.default.createElement("header",{className:m.default.sectionHeader},a.default.createElement("span",{className:"".concat(p.default.bodyM," ").concat(p.default.bold)},"Tools"),a.default.createElement("span",{className:"".concat(p.default.bodyM," ").concat(m.default.count)},"".concat((0,c.formatNumberWithCommas)(t.total_records)))),0===t.total_records?a.default.createElement(o.default,{isProfileOwner:this.props.isProfileOwner,templateArgs:{name:this.props.profile.name},type:"no-tools"}):a.default.createElement("div",{className:h.default.list},r.map(function(t){return a.default.createElement(i.default,{key:t.id,dropdown:a.default.createElement(u.default,{fetchMore:function(){return e.fetchProjects(t.id)},recordsCount:t.projects.records.length,totalRecordsCount:t.projects.metadata.total_records},t.projects.records.map(function(t){return a.default.createElement(s.default,{key:t.hid||t.id,config:{controlledRespects:!0},imageProps:{captureScroll:!0,setStyle:!0},project:e.props.allProjects[t.hid]||(r=t.id,n=e.props.allProjects,r&&n[r.toString()]||null),toggleRespect:e.props.toggleRespect});var r,n})),expandedCard:e.state.expandedCard,expanding:e.handleExpandingCard.bind(e,t),info:"".concat(t.projects.metadata.total_records," ").concat((0,c.pluralize)("project",t.projects.metadata.total_records)),isExpandable:t.projects.records.length>0,link:t.url,title:t.name,uuid:"".concat(t.id)},t.projects.records.length>0&&a.default.createElement("div",{className:y.default.toolsGallery},t.projects.records.slice(0,5).map(function(t,r){return a.default.createElement(l.default,{key:r,className:y.default.toolsImage,src:t.cover_image_url,onMouseOver:function(r){return e.props.triggerPopover(["allProjects",t.hid],t.hid,"project",r.target,"bottom",[],{targetOffset:15},e.props.inDialog)},onMouseLeave:function(){return e.props.killPopover(t.hid,"project",50)},ratio:"4:3",width:48})})))})),!this.props.inDialog&&t.total_records>5&&a.default.createElement("button",{className:"".concat(d.default.sm," ").concat(d.default.tertiary," ").concat(d.default.pill," ").concat(f.default.flexAlignSelfEnd," ").concat(f.default.marginTop10),onClick:function(){return e.props.openDialog("tools")}},"View all"))}}])&&v(r.prototype,n),g&&v(r,g),t}();E.propTypes={allProjects:n.default.object.isRequired,blockHoverForResource:n.default.func.isRequired,fetchProjects:n.default.func.isRequired,fetchProjectsForResource:n.default.func.isRequired,inDialog:n.default.bool,isProfileOwner:n.default.bool,killPopover:n.default.func.isRequired,openDialog:n.default.func,profile:n.default.shape({id:n.default.number,name:n.default.string}).isRequired,toggleRespect:n.default.func.isRequired,tools:n.default.shape({metadata:n.default.shape({currentPage:n.default.number,per_page:n.default.number,total_pages:n.default.number,total_records:n.default.number}),records:n.default.arrayOf(n.default.shape({id:n.default.number,name:n.default.string,projects:n.default.shape({records:n.default.arrayOf(n.default.shape({cover_image_url:n.default.string,hid:n.default.string})),metadata:n.default.object}),stats:n.default.shape({projects:n.default.number})}))}).isRequired,triggerPopover:n.default.func.isRequired},E.defaultProps={inDialog:!1,isProfileOwner:!1,openDialog:function(){}};var P=E;t.default=P},function(e,t,r){e.exports={med:"(max-width: 768px)",small:"(max-width: 480px)",projectCard:"tools__projectCard__nYn1i",scrollerItem:"tools__scrollerItem__2uESq tools__projectCard__nYn1i",tools:"tools__tools__2Osol",toolsGallery:"tools__toolsGallery__3Bpbv",toolsImage:"tools__toolsImage__1RQjm"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAllProjects=function(e,t){var r=e.get("allProjects")||{},a=(0,n.listToMapByProperty)(t,"hid");e.set("allProjects",Object.assign({},a,r))};var n=r(44)},function(e,t,r){e.exports=r(1016)},function(e,t,r){r(1017),r(1228),r(1229),r(2),r(3),r(10),r(64),r(21),r(1230),r(572),r(5),r(1231),r(1232),r(1233),r(573),r(1424),r(573),r(1426),r(2133)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){},function(e,t,r){e.exports={asphalt:"#D8D8D8",hackster:"#2E9FE6",container:"hckui__nav-tabbed__container",tab:"hckui__nav-tabbed__tab",active:"hckui__nav-tabbed__active"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var n={"./af":574,"./af.js":574,"./ar":575,"./ar-dz":576,"./ar-dz.js":576,"./ar-kw":577,"./ar-kw.js":577,"./ar-ly":578,"./ar-ly.js":578,"./ar-ma":579,"./ar-ma.js":579,"./ar-sa":580,"./ar-sa.js":580,"./ar-tn":581,"./ar-tn.js":581,"./ar.js":575,"./az":582,"./az.js":582,"./be":583,"./be.js":583,"./bg":584,"./bg.js":584,"./bm":585,"./bm.js":585,"./bn":586,"./bn.js":586,"./bo":587,"./bo.js":587,"./br":588,"./br.js":588,"./bs":589,"./bs.js":589,"./ca":590,"./ca.js":590,"./cs":591,"./cs.js":591,"./cv":592,"./cv.js":592,"./cy":593,"./cy.js":593,"./da":594,"./da.js":594,"./de":595,"./de-at":596,"./de-at.js":596,"./de-ch":597,"./de-ch.js":597,"./de.js":595,"./dv":598,"./dv.js":598,"./el":599,"./el.js":599,"./en-SG":600,"./en-SG.js":600,"./en-au":601,"./en-au.js":601,"./en-ca":602,"./en-ca.js":602,"./en-gb":603,"./en-gb.js":603,"./en-ie":604,"./en-ie.js":604,"./en-il":605,"./en-il.js":605,"./en-nz":606,"./en-nz.js":606,"./eo":607,"./eo.js":607,"./es":608,"./es-do":609,"./es-do.js":609,"./es-us":610,"./es-us.js":610,"./es.js":608,"./et":611,"./et.js":611,"./eu":612,"./eu.js":612,"./fa":613,"./fa.js":613,"./fi":614,"./fi.js":614,"./fo":615,"./fo.js":615,"./fr":616,"./fr-ca":617,"./fr-ca.js":617,"./fr-ch":618,"./fr-ch.js":618,"./fr.js":616,"./fy":619,"./fy.js":619,"./ga":620,"./ga.js":620,"./gd":621,"./gd.js":621,"./gl":622,"./gl.js":622,"./gom-latn":623,"./gom-latn.js":623,"./gu":624,"./gu.js":624,"./he":625,"./he.js":625,"./hi":626,"./hi.js":626,"./hr":627,"./hr.js":627,"./hu":628,"./hu.js":628,"./hy-am":629,"./hy-am.js":629,"./id":630,"./id.js":630,"./is":631,"./is.js":631,"./it":632,"./it-ch":633,"./it-ch.js":633,"./it.js":632,"./ja":634,"./ja.js":634,"./jv":635,"./jv.js":635,"./ka":636,"./ka.js":636,"./kk":637,"./kk.js":637,"./km":638,"./km.js":638,"./kn":639,"./kn.js":639,"./ko":640,"./ko.js":640,"./ku":641,"./ku.js":641,"./ky":642,"./ky.js":642,"./lb":643,"./lb.js":643,"./lo":644,"./lo.js":644,"./lt":645,"./lt.js":645,"./lv":646,"./lv.js":646,"./me":647,"./me.js":647,"./mi":648,"./mi.js":648,"./mk":649,"./mk.js":649,"./ml":650,"./ml.js":650,"./mn":651,"./mn.js":651,"./mr":652,"./mr.js":652,"./ms":653,"./ms-my":654,"./ms-my.js":654,"./ms.js":653,"./mt":655,"./mt.js":655,"./my":656,"./my.js":656,"./nb":657,"./nb.js":657,"./ne":658,"./ne.js":658,"./nl":659,"./nl-be":660,"./nl-be.js":660,"./nl.js":659,"./nn":661,"./nn.js":661,"./pa-in":662,"./pa-in.js":662,"./pl":663,"./pl.js":663,"./pt":664,"./pt-br":665,"./pt-br.js":665,"./pt.js":664,"./ro":666,"./ro.js":666,"./ru":667,"./ru.js":667,"./sd":668,"./sd.js":668,"./se":669,"./se.js":669,"./si":670,"./si.js":670,"./sk":671,"./sk.js":671,"./sl":672,"./sl.js":672,"./sq":673,"./sq.js":673,"./sr":674,"./sr-cyrl":675,"./sr-cyrl.js":675,"./sr.js":674,"./ss":676,"./ss.js":676,"./sv":677,"./sv.js":677,"./sw":678,"./sw.js":678,"./ta":679,"./ta.js":679,"./te":680,"./te.js":680,"./tet":681,"./tet.js":681,"./tg":682,"./tg.js":682,"./th":683,"./th.js":683,"./tl-ph":684,"./tl-ph.js":684,"./tlh":685,"./tlh.js":685,"./tr":686,"./tr.js":686,"./tzl":687,"./tzl.js":687,"./tzm":688,"./tzm-latn":689,"./tzm-latn.js":689,"./tzm.js":688,"./ug-cn":690,"./ug-cn.js":690,"./uk":691,"./uk.js":691,"./ur":692,"./ur.js":692,"./uz":693,"./uz-latn":694,"./uz-latn.js":694,"./uz.js":693,"./vi":695,"./vi.js":695,"./x-pseudo":696,"./x-pseudo.js":696,"./yo":697,"./yo.js":697,"./zh-cn":698,"./zh-cn.js":698,"./zh-hk":699,"./zh-hk.js":699,"./zh-tw":700,"./zh-tw.js":700};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=1425},function(e,t,r){(function(t){e.exports=t.Hster=r(1427)}).call(this,r(34))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Services",{enumerable:!0,get:function(){return n.Services}}),Object.defineProperty(t,"Utils",{enumerable:!0,get:function(){return a.Utils}});var n=r(1428),a=r(1440)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Services=void 0;var n=o(r(48)),a=o(r(40));function o(e){return e&&e.__esModule?e:{default:e}}var i={currentUser:n.default,OAuth:a.default};t.Services=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hoverCardFragment=t.profileUserFragment=void 0;t.profileUserFragment="\n  fragment profileUserInfo on UserType {\n    avatar_url\n    bio\n    id\n    name\n    stats {\n      followers\n      live_projects\n    }\n    user_name\n  }\n";t.hoverCardFragment="\n  fragment hoverCardInfo on UserType {\n    avatar_url\n    bio\n    id\n    name\n    stats {\n      followers\n      following\n      live_projects\n    }\n    user_name\n  }\n"},,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(1436)),a=u(r(35)),o=u(r(428)),i=r(237),l=r(65);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d="".concat("hck.tkn",".client"),f="".concat("hck.tkn",".user"),p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client_token=null,this.user_token=null,this.initialized=!1,this.isFetching=!1,this.batch=[]}var t,r,u;return t=e,(r=[{key:"_initialize",value:function(){this.client_token=(0,i.getItem)(d)||null,this.user_token=(0,i.getItem)(f)||null,this.initialized=!0}},{key:"_fetchTokensFromStorageOrServer",value:function(){var e=this;return new Promise(function(t,r){return e.batch.every(function(e){return null!==e.tokens})?t(e.batch[0].tokens):e._fetchNewTokens().then(function(t){return e._seedNewTokens(t.body)}).then(function(e){return t(e)}).catch(function(e){return r(e)})})}},{key:"_fetchNewTokens",value:function(){return a.default.get("".concat((0,o.default)(),"/users/api_token")).withCredentials()}},{key:"_seedNewTokens",value:function(e){var t=this;return new Promise(function(r){t.deleteTokens(),e.user_token&&(0,i.setItem)(f,e.user_token),(0,i.setItem)(d,e.client_token),r(e)})}},{key:"_resolveFetchTokens",value:function(e,t){this.batch=this.batch.filter(function(r){return r[e](t),!1}),this.isFetching=!1}},{key:"_getTokenFromStorage",value:function(e){if(e)return{token:(0,i.getItem)(f),type:"user"};var t=(0,i.getItem)(f);return t&&t.length>0?{token:t,type:"user"}:{token:(0,i.getItem)(d),type:"client"}}},{key:"_isTokenValid",value:function(e){if(!e||!e.length)return!1;var t=(0,n.default)(e);return!(t.hasOwnProperty("user")&&t.user.hasOwnProperty("id")&&!this._doesJwtIdMatchBodyId(t.user.id))&&!!t.hasOwnProperty("exp")&&new Date(new Date(t.exp).valueOf()-1e4)>new Date}},{key:"_doesJwtIdMatchBodyId",value:function(e){var t=document.body.getAttribute("data-user-signed-in");return!(null==t||"string"==typeof t&&!t.length)&&parseInt(e)===parseInt(t)}},{key:"deleteTokens",value:function(){(0,i.deleteItem)(f),(0,i.deleteItem)(d)}},{key:"fetchTokens",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(n,a){var o=t._getTokenFromStorage(e),i=t._isTokenValid(o.token)&&!1===r?s({},"".concat(o.type,"_token"),o.token):null;if(t.batch.push({resolve:n,reject:a,tokens:i}),!t.isFetching)return t.isFetching=!0,(0,l.setTimeoutPromise)(50).then(function(){return t._fetchTokensFromStorageOrServer()}).then(function(e){return t._resolveFetchTokens("resolve",e)}).catch(function(e){return t._resolveFetchTokens("reject",e)})})}},{key:"getTokenType",value:function(e){return e?"user":"client"}}])&&c(t.prototype,r),u&&c(t,u),e}();t.default=p},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var n=l(r(428)),a=l(r(704)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(705)),i=l(r(28));function l(e){return e&&e.__esModule?e:{default:e}}var u={getCSRFToken:a.default,getPathPrefix:n.default,renderComponents:o.default,smoothScroll:i.default,unmountComponents:o.unmountComponents};t.Utils=u},,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(1)),a=p(r(0)),o=p(r(131)),i=p(r(9)),l=p(r(303)),u=r(105),s=r(11),c=p(r(2)),d=p(r(708)),f=p(r(3));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var h=function(e){var t=e.address,r=e.selected,n=(t.extra_fields?Object.keys(t.extra_fields):[]).map(function(e){return"".concat(e.toUpperCase(),": ").concat(t.extra_fields[e])}),p=(0,l.default)(t),h=(0,u.getCountry)(t),y=[t.full_name,t.company].concat(m(p),[h.name,"Phone: ".concat(t.phone)],m(n)).filter(function(e){return e&&e.length>0});return a.default.createElement("div",{className:d.default.addressContainer},a.default.createElement("div",{className:d.default.address},r?a.default.createElement("div",{className:"".concat(f.default.success," ").concat(f.default.bold)},a.default.createElement(i.default,{name:"checkmark"})," Selected"):function(e){return(0,s.isBlank)(e.shipTo)?null:a.default.createElement("div",{className:c.default.marginBottom10},a.default.createElement(o.default,{colorStyle:"tertiary",disabled:e.redirecting,onClick:function(){return e.ship(t.id)}},"Ship to this address"))}(e),e.selectable?a.default.createElement("div",{className:c.default.marginBottom10},a.default.createElement(o.default,{colorStyle:"tertiary",disabled:e.redirecting,onClick:function(){return e.selectAddress(t)}},"Use this address")):null,y.map(function(e,t){return a.default.createElement("span",{key:t},e,a.default.createElement("br",null))}),t.default?a.default.createElement("small",null,a.default.createElement("strong",null,"Default")):a.default.createElement(o.default,{colorStyle:"cancel",size:"sm",onClick:function(r){return e.default(t.id)}},"Make default"),a.default.createElement(o.default,{colorStyle:"cancel",size:"sm",onClick:function(r){return e.remove(t.id)}},"Remove"),a.default.createElement(o.default,{colorStyle:"cancel",size:"sm",onClick:function(r){return e.edit(t)}},"Edit")))};h.propTypes={address:n.default.object.isRequired,default:n.default.func.isRequired,edit:n.default.func.isRequired,redirecting:n.default.bool.isRequired,remove:n.default.func.isRequired,selectAddress:n.default.func,selectable:n.default.bool,selected:n.default.bool,ship:n.default.func.isRequired,shipTo:n.default.object},h.defaultProps={selectAddress:function(){},selectable:!1,selected:!1,shipTo:{}};var y=h;t.default=y},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=null!==e.extra_fields&&void 0!==e.extra_fields?Object.keys(e.extra_fields):[],i=r.length?r.map(function(t){return{name:t,value:e.extra_fields[t],isRequired:!0,uuid:(0,a.default)()}}):[],l=(0,o.getCountry)(e),u=l.name||"",s=l.countryCallingCodes&&l.countryCallingCodes.length?l.countryCallingCodes[0]:"",c="USA"!==l.alpha3&&"".concat(e.zip," ").concat(e.city)===e.address_line2,d=(0,n.default)(e.state,u).filter(function(e){return"default"!==e.name}),f=["address_line2","state"];return d.reduce(function(r,n){if(e[n.name]||f.indexOf(n.name)>-1){if(n.value=e[n.name]||"",n.uuid=(0,a.default)(),r.push(n),"address_line2"===n.name&&c&&(n.value=""),"country"===n.name&&(n.value=u),"state"===n.name&&e.state&&t[u]){var o=2===e.state.length?"short":"name",d=t[u].find(function(t){return t[o]===e.state});n.value=d?d.name:"",n.options=t[u],n.type="select"}else"state"===n.name&&(n.isRequired=!1,n.type="text",n.value="");if("zip"===n.name&&i.length&&(r=r.concat(i)),"phone"===n.name&&s.length&&(n.countryCode=s,l&&l.countryCallingCodes)){var p=e[n.name];n.value=l.countryCallingCodes.reduce(function(e,t){var r=new RegExp("\\"+t);return r.test(p)?p.replace(r,""):e},"")}}return r},[])};var n=i(r(710)),a=i(r(96)),o=r(105);function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.reduce(function(e,t){return t.name?(t.value=t.value||"",t.uuid=(0,a.default)(),e.push(t),e):e},[])};var n,a=(n=r(96))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=e.find(function(e){return"country"===e.get("name")}),s=(0,a.getCountry)(n.get("value")),c=e.reduce(function(e,r){var n=r.get("name"),a=r.get("value");if("first_name"===n&&e.fullName.unshift(a),"last_name"===n&&e.fullName.push(a),"company"===n&&(e.company=a),"address_line1"===n&&(e.address_line1=a),"address_line2"===n&&a.length&&(e.address_line2=a),"city"===n&&(e.city=a),"state"===n){var o=t[s.name]?t[s.name].find(function(e){return e.name===a}):a,i="string"==typeof o?o:o.short;e.state=i}return"zip"===n&&(e.zip=a),"country_iso2"!==n&&"country"!==n||(e.country_iso2=a),"phone"===n&&(e.phone="".concat(r.get("countryCode")," ").concat(a)),r.get("extra_field")&&(e.extra_field="".concat(n.toUpperCase(),": ").concat(a)),e},{fullName:[],company:"",address_line1:"",address_line2:"",city:"",state:"",zip:"",country_iso2:"",phone:"",extra_field:""}),d=(0,o.default)(c);return{address:[c.fullName.join(" "),c.company].concat((f=d,u(f)||l(f)||i()),[s.alpha2?s.alpha2:c.country_iso2,c.phone,c.extra_field]),fields:c};var f};var n,a=r(105),o=(n=r(303))&&n.__esModule?n:{default:n};function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.country_code&&e.country_code.length?n.lookup.countries({alpha2:e.country_code.toUpperCase()})[0]:n.lookup.countries({name:e.country})?n.lookup.countries({name:e.country})[0]:{name:""};return{address_line1:e.locale_names[0],city:e.city[0],country:t,state:e.administrative&&e.administrative.length?e.administrative[0]:"",zip:e.postcode&&e.postcode.length?e.postcode[0]:""}};var n=r(240)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildAddressQuery=function(e,t){var r="USA"===(t=Array.isArray(t)?t[0]:t).alpha3,n=r?{address_line1:"street",address_line2:"street2",city:"city",state:"state",zip:"zipcode"}:{address_line1:"address1",address_line2:"address2",city:"locality",state:"administrative_area",zip:"postal_code"},a=e.reduce(function(e,t,r,a){var o=t.get("name"),i=t.get("value");return n[o]&&i.length&&(e+=n[o]+"="+i.split(" ").join("+"),r!==a.length-1&&(e+="&")),e},"");return a="&"===a.slice(-1)?a.slice(0,a.length-1).replace("#","%23"):a.replace("#","%23"),r?"&".concat(a):"&".concat(a,"&country=").concat(t.alpha3)},t.buildVerificationAddress=function(e,t,r,n,s,c,d){var f=e.components,p="US"===n,m=p?e.delivery_line_1:e.address1,h=p?e.delivery_line_2||"":"".concat(f.premise||""," ").concat(f.thoroughfare||""),y=(0,a.getCountry)(n),g=!p&&d[y.name]?f.administrative_area:"",_={address_line1:m,address_line2:m.trim()!==h.trim()?h:"",city:p?f.city_name:f.locality,state:p?f.state_abbreviation:g,zip:p?f.zipcode:f.postal_code,country_iso2:n},v=(0,o.default)(_);return{address:[t,r].concat((b=v,u(b)||l(b)||i()),[n,s,c||""]),verified:p||e.analysis&&"Verified"===e.analysis.verification_status};var b},t.addressesDiffer=function(e,t,r,n){var o=e.components,i=r?{address_line1:"delivery_line_1",address_line2:"delivery_line_2"}:{address_line1:"address1",address_line2:"address2"},l=r?{city:"city_name",zip:"zipcode",state:"state_abbreviation",country:"country_iso_3"}:{city:"locality",zip:"postal_code",state:"administrative_area",country:"country_iso_3"};return["address_line1","city","state","country","zip"].reduce(function(u,s){if(u)return u;if(i[s]){var c=e[i[s]],d=t[s];c&&d?c.toLowerCase()!==d.toLowerCase()&&(u=!0):u=!0}else if(l[s]){var f=o[l[s]],p=t[s];if("state"===s&&f&&r){var m=n["United States"],h=2===f.length?"short":"name",y=2===p.length?"short":"name",g=m.find(function(e){return e[h]===f})||{name:"a"},_=m.find(function(e){return e[y]===p})||{name:"b"};u=g.name.toLowerCase()!==_.name.toLowerCase()}else if("state"===s&&f&&p&&!r)u=f.toLowerCase()!==p.toLowerCase();else if("country"===s){var v=r?(0,a.getCountry)("US"):(0,a.getCountry)(f),b=(0,a.getCountry)(p);u=v.name!==b.name}else f&&p&&(u=f!==p)}return u},!1)},t.getBestSmartyMatch=function(e){if(!e)return null;if(1===e.length)return e[0];var t=e.find(function(e){return e.analysis&&"Verified"===e.analysis.verification_status});if(t)return t;var r=e.find(function(e){return e.components&&e.components.postal_code});return r||null};var n,a=r(105),o=(n=r(303))&&n.__esModule?n:{default:n};function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=r(49),i=r(41),l=c(r(1508)),u=c(r(1510)),s=c(r(242));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).validate=r.validate.bind(m(r)),r}var r,n,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidUpdate",value:function(e){if(e.field.get("name")===this.props.field.get("name")&&e.field.get("value")!==this.props.field.get("value")){var t=this.validate();this.props.updateField(t.uuid,"errors",t.errors,this.props.field.get("name"))}}},{key:"_humanizeTitle",value:function(e){var t={Australia:"State",Canada:"Province",China:"Province",Malaysia:"Province",Mexico:"State","United States":"State"};if("state"===e&&t[this.props.field.get("country")])return t[this.props.field.get("country")];var r=e.split("_").join(" ");return r.slice(0,1).toUpperCase()+r.slice(1)}},{key:"validate",value:function(){var e=this.props.field,t=e.get("name"),r=this.props.field.get("value")||"",n=this.props.field.get("errors")||{};return"email"===t&&(n=this._handleEmail(r,n)),"phone"===t&&(n=this._handlePhone(r,n)),e.has("limit")&&(n=this._handleLimit(r,n)),e.get("isRequired")&&(n=this._handleRequired(r,n)),n=this._sanitize(r,n),{uuid:e.get("uuid"),errors:n}}},{key:"_handleEmail",value:function(e,t){return e.length>0&&!(0,o.isEmail)(e.trim())?t.email=" Sorry, that's not a valid email!":t.hasOwnProperty("email")&&delete t.email,t}},{key:"_handlePhone",value:function(e,t){return/^(?=.*\d)[\d ]+$/.test(e)?t.hasOwnProperty("phone")&&delete t.phone:t.phone=" Numbers only please!",t}},{key:"_handleLimit",value:function(e,t){var r=this.props.field.get("limit"),n=r.get("min")||0,a=r.get("max");return e.length<n?t.min=" Requires more than ".concat(n," characters."):t.hasOwnProperty("min")&&delete t.min,a&&e.length>a?t.max=" Requires less than ".concat(a," characters."):t.hasOwnProperty("max")&&delete t.max,t}},{key:"_handleRequired",value:function(e,t){return e.length?t.hasOwnProperty("required")&&delete t.required:t.required=" This field is required!",t}},{key:"_sanitize",value:function(e,t){return/[<>]/.test(e)?t.sanitize=" Contains illegal characters!":t.hasOwnProperty("sanitize")&&delete t.sanitize,t}},{key:"_buildErrorMsg",value:function(e){return Object.keys(e).reduce(function(t,r){return t+=e[r]},"")}},{key:"render",value:function(){var e=this,t=this.props,r=t.country,n=t.countryCodes,o=t.field,c=o.has("label")?o.get("label"):this._humanizeTitle(o.get("name")),d=o.has("errors")&&Object.keys(o.get("errors")).length?this._buildErrorMsg(o.get("errors")):"";return a.default.createElement("div",{className:"".concat(s.default.addressField," form-group ").concat(d.length?"has-error":"")},a.default.createElement("div",{className:s.default.labelContainer},a.default.createElement("label",{htmlFor:o.get("uuid")},o.get("isRequired")?a.default.createElement("abbr",{style:{marginRight:5},title:"required"},"*"):null,"checkbox"!==o.get("type")?c:"")),a.default.createElement("div",{className:s.default.inputContainer},"checkbox"===o.get("type")&&o.has("inputValue")?a.default.createElement("label",{htmlFor:o.get("uuid")},a.default.createElement(l.default,{id:o.get("uuid"),country:r,onChange:function(t){return e.props.updateField(o.get("uuid"),"value",t.target.value,o.get("name"))},name:o.get("name"),type:o.get("type"),value:o.get("value")}),a.default.createElement("span",{style:{marginLeft:10}},o.get("inputValue"))):"phone"===o.get("name")?a.default.createElement(u.default,{id:o.get("uuid"),countryCode:o.get("countryCode"),countryCodes:n,name:o.get("name"),onChange:function(t){return e.props.updateField(o.get("uuid"),"value",t.target.value,o.get("name"))},setCountryCode:function(t){return e.props.updateField(o.get("uuid"),"countryCode",t,o.get("name"))},value:o.get("value")}):a.default.createElement(l.default,{id:o.get("uuid"),country:r,fetchAddresses:this.props.fetchAddresses,name:o.get("name"),onChange:function(t){return e.props.updateField(o.get("uuid"),"value",t.target.value,o.get("name"))},options:o.has("options")?o.get("options").toJS():[],resetOptions:function(){return e.props.updateField(o.get("uuid","options",(0,i.List)(),o.get("name")))},setSelection:this.props.setSelection,type:o.get("type"),value:o.get("value")}),d.length?a.default.createElement("span",{className:s.default.reactFormFieldError},d):null,o.has("help")&&!d.length?a.default.createElement("span",{className:"help-block"},o.get("help")):null))}}])&&f(r.prototype,n),c&&f(r,c),t}();y.propTypes={country:n.default.string.isRequired,fetchAddresses:n.default.func.isRequired,field:n.default.object.isRequired,setSelection:n.default.func.isRequired,updateField:n.default.func.isRequired};var g=y;t.default=g},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=l(r(1509)),i=l(r(242));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=c(t).call(this,e))||"object"!==u(a)&&"function"!=typeof a?d(n):a).handleInputKeyDown=r.handleInputKeyDown.bind(d(r)),r.handleOptionSelect=r.handleOptionSelect.bind(d(r)),r.delayedBlur=r.delayedBlur.bind(d(r)),r.state={searchable:!1},r}var r,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a.Component),r=t,(n=[{key:"componentWillUnmount",value:function(){window&&this._delayedBlur&&clearTimeout(this._delayedBlur)}},{key:"handleInputKeyDown",value:function(e){if("searchable"===this.props.type){var t=e.target.value;t.length>=3&&!this.state.searchable?this.setState({searchable:!0}):t.length<=3&&this.state.searchable&&(this.props.resetOptions(),this.setState({searchable:!1})),9!==e.keyCode&&27!==e.keyCode||!this.state.searchable||(e.preventDefault(),this.setState({searchable:!1})),(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=65&&e.keyCode<=90||t.length>=3&&8===e.keyCode||t.length>=3&&32===e.keyCode)&&t.length>=3&&this.state.searchable&&this.props.fetchAddresses(t,this.props.id,this.props.name),this.state.searchable&&40===e.keyCode&&(e.preventDefault(),this.menu._focusNext()),this.state.searchable&&38===e.keyCode&&(e.preventDefault(),this.menu._focusPrev()),this.state.searchable&&13===e.keyCode&&this.menu&&(e.preventDefault(),this.handleOptionSelect(this.menu._getOption()))}}},{key:"handleOptionSelect",value:function(e){this.props.setSelection(e),this.setState({searchable:!1})}},{key:"delayedBlur",value:function(){var e=this;"searchable"===this.props.type&&this.state.searchable&&(this._delayedBlur=setTimeout(function(){e.setState({searchable:!1})},100))}},{key:"render",value:function(){return"searchable"===this.props.type?this._composeSearchableSelect():"select"===this.props.type?this._composeSelect():this._composeInput()}},{key:"_composeInput",value:function(){var e=this,t=this.props,r=t.id,n=t.name,o=t.onChange,i=t.type,l=t.value;return a.default.createElement("input",{id:r,className:"text"===i||"searchable"===i?"form-control":"",name:n,onChange:o,onKeyDown:this.handleInputKeyDown,ref:function(t){return e.input=t},type:i,value:l})}},{key:"_composeSelect",value:function(){var e=this,t=this.props,r=t.id,n=t.name,o=t.onChange,i=t.options,l=t.value;return a.default.createElement("select",{className:"form-control",id:r,name:n,onChange:o,ref:function(t){return e.input=t},value:l},a.default.createElement("option",{value:""}),i.map(function(e,t){return a.default.createElement("option",{key:t,value:"string"==typeof e?e:e.name},"string"==typeof e?e:e.name)}))}},{key:"_composeSearchableSelect",value:function(){var e=this,t=this.props,r=t.id,n=t.name,l=t.onChange,u=t.options,s=t.type,c=t.value;return a.default.createElement("div",null,a.default.createElement("input",{className:u.length&&this.state.searchable?"form-control ".concat(i.default.inputMenuOpen):"form-control",id:r,name:n,onBlur:this.delayedBlur,onChange:l,onKeyDown:this.handleInputKeyDown,ref:function(t){return e.input=t},type:s,value:c}),u.length&&this.state.searchable?a.default.createElement(o.default,{ref:function(t){return e.menu=t},onClick:this.handleOptionSelect,options:u,input:this.input}):null)}},{key:"_composeOption",value:function(e){return a.default.createElement("span",null,e.value)}}])&&s(r.prototype,n),l&&s(r,l),t}();p.propTypes={country:n.default.string.isRequired,fetchAddresses:n.default.func,id:n.default.string.isRequired,onChange:n.default.func.isRequired,options:n.default.array,resetOptions:n.default.func,setSelection:n.default.func,type:n.default.string,value:n.default.oneOfType([n.default.string.isRequired,n.default.bool.isRequired])},p.defaultProps={fetchAddresses:function(){},options:[],resetOptions:function(){},setSelection:function(){},type:"text",value:""};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=i(r(242));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=s(t).call(this,e))||"object"!==l(a)&&"function"!=typeof a?c(n):a).focusNext=r._focusNext.bind(c(r)),r.focusPrev=r._focusPrev.bind(c(r)),r.getOption=r._getOption.bind(c(r)),r.state={focused:0,hovered:!1},r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.Component),r=t,(n=[{key:"_focusNext",value:function(){var e=this.state.focused;this.setState({focused:e===this.props.options.length-1?e:e+1})}},{key:"_focusPrev",value:function(){var e=this.state.focused;this.setState({focused:0===e?e:e-1})}},{key:"_getOption",value:function(){return this.props.options[this.state.focused]}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{className:o.default.reactFormMenu,style:{width:this.props.input.offsetWidth}},this.props.options.map(function(t,r){return a.default.createElement("span",{key:r,className:o.default.reactFormOption,style:{backgroundColor:e.state.focused===r||e.state.hovered===r?"lightgrey":"white"},onClick:function(){return e.props.onClick(t)},onMouseOver:function(){return e.setState({hovered:r})},onMouseLeave:function(){return e.setState({hovered:!1})}},t.children?a.default.Children.toArray(t.children):t.text)}))}}])&&u(r.prototype,n),i&&u(r,i),t}();f.propTypes={input:n.default.object.isRequired,onClick:n.default.func.isRequired,options:n.default.array.isRequired};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(1)),a=i(r(0)),o=i(r(242));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.countryCode,r=e.countryCodes,n=e.id,i=e.name,l=e.onChange,u=e.setCountryCode,s=e.value;return a.default.createElement("span",{className:o.default.addressFormPhoneWrapper},r.length>1?a.default.createElement("select",{className:o.default.callingCode,onChange:function(e){return u(e.target.value)},type:"select"},r.map(function(e,t){return a.default.createElement("option",{key:t,value:e},e)})):a.default.createElement("span",{className:o.default.callingCode},t),a.default.createElement("input",{id:n,className:"form-control ".concat(o.default.phoneInput),name:i,onChange:l,type:"text",value:s}))};l.propTypes={countryCode:n.default.string.isRequired,countryCodes:n.default.array.isRequired,id:n.default.string.isRequired,onChange:n.default.func.isRequired,setCountryCode:n.default.func.isRequired,value:n.default.string.isRequired},l.defaultProps={countryCode:""};var u=l;t.default=u},,,,,,,,function(e,t,r){e.exports={fixed:"dismiss_button__fixed__Ph4uA",absolute:"dismiss_button__absolute__3E-bN dismiss_button__fixed__Ph4uA"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(1520))&&n.__esModule?n:{default:n};var o={light:a.default,dark:Object.assign({},a.default,{dialog:a.default.dialogDark,dismiss:a.default.dismissDark,wrapper:a.default.wrapperDark})};t.default=o},function(e,t,r){e.exports={small:"(max-width: 480px)",graphite:"#4A4A4A",actions:"styles__actions__2F319",dialog:"styles__dialog__35uKH",dismiss:"styles__dismiss__29p3f",fullScreen:"styles__fullScreen__1XOXA",title:"styles__title__14xFx",wrapper:"styles__wrapper__375TY",dialogDark:"styles__dialogDark__AusxX styles__dialog__35uKH",wrapperDark:"styles__wrapperDark__3CT-F styles__wrapper__375TY",dismissDark:"styles__dismissDark__lPKjc"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(1))&&n.__esModule?n:{default:n},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),i=r(58);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=s(t).call(this,e))||"object"!==l(a)&&"function"!=typeof a?c(n):a).handleDismiss=r.handleDismiss.bind(c(r)),r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.Component),r=t,(n=[{key:"componentDidMount",value:function(){var e=this;window&&(this.timeout=setTimeout(function(){e.handleDismiss()},5e3))}},{key:"componentWillUnmount",value:function(){window&&clearTimeout(this.timeout)}},{key:"handleDismiss",value:function(){this.props.dismiss()}},{key:"render",value:function(){var e=this.props.state,t=e.msg,r=e.type;return o.default.createElement(i.CSSTransition,{classNames:"error-message",appear:!0,timeout:{enter:500,exit:300}},o.default.createElement("div",{key:t,className:"react-editor-error-message"},o.default.createElement("div",{className:"success"===r?"alert-success":"alert-danger"},o.default.createElement("div",{className:"error-message-body"},o.default.createElement("span",null,t),o.default.createElement("button",{className:"error-message-close-button",onClick:this.handleDismiss},"×")))))}}])&&u(r.prototype,n),a&&u(r,a),t}();t.default=f,f.propTypes={dismiss:a.default.func.isRequired,state:a.default.object.isRequired}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(174)),i=d(r(437)),l=d(r(42)),u=r(439),s=r(12),c=d(r(1580));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=["currentPanel","simplified"],v={login:"login",signin:"login",signup:"signup"},b=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?y(n):a).state={currentPanel:v[e.initialPanel],eventDetails:{},open:!1,simplified:!1,uuid:null},r.closeDialog=r.closeDialog.bind(y(r)),r.handleSubmit=r.handleSubmit.bind(y(r)),r.openDialog=r.openDialog.bind(y(r)),r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){window.addEventListener(this.props.openEvent,this.openDialog)}},{key:"componentWillUnmount",value:function(){window.removeEventListener(this.props.openEvent,this.openDialog)}},{key:"closeDialog",value:function(){this.setState({eventDetails:{},open:!1})}},{key:"handleSubmit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"function"==typeof this.state.eventDetails.callback&&this.state.eventDetails.callback(e.user?e.user.id:e.id)}},{key:"openDialog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.props.whitelabelLogin)(0,s.windowLocationRedirect)(this.props.whitelabelLogin);else{var t=e.detail&&e.detail.state?Object.keys(e.detail.state).reduce(function(t,r){return _.includes(r)?Object.assign({},t,p({},r,e.detail.state[r])):t},{}):{},r=v[t.currentPanel]||this.state.currentPanel;this.setState(Object.assign({},t,{currentPanel:r,eventDetails:e.detail?e.detail:{},open:!0,uuid:(0,o.default)()}))}}},{key:"render",value:function(){var e=this.state,t=e.currentPanel,r=e.eventDetails,a=e.open,o=e.simplified,u=e.uuid,s=r.source||this.props.source;return n.default.createElement(l.default,{dismiss:this.closeDialog,open:a,wrapperClassName:c.default.wrapper},a&&n.default.createElement(i.default,{key:u,analytics:this.props.analytics,confirmationPath:this.props.confirmationPath,ctaImgUrls:this.props.ctaImgUrls,ctaVersion:this.props.ctaVersion,currentPanel:t,forgotPasswordUrl:this.props.forgotPasswordUrl,formActions:this.props.formActions,location:"signin_dialog",omniauthUrls:this.props.omniauthUrls,onSubmit:this.handleSubmit,pathHelpers:this.props.pathHelpers,recaptchaSiteKey:this.props.recaptchaSiteKey,redirectPaths:this.props.redirectPaths,setCurrentPanel:this.setCurrentPanel,simplified:o,source:s,whitelabelName:this.props.whitelabelName}))}}])&&m(r.prototype,a),u&&m(r,u),t}();b.propTypes={analytics:a.default.shape({page_type:a.default.string.isRequired,path:a.default.string.isRequired,site:a.default.string.isRequired}).isRequired,confirmationPath:a.default.string.isRequired,ctaImgUrls:a.default.shape({"1x":a.default.string.isRequired,"2x":a.default.string.isRequired}).isRequired,ctaVersion:a.default.string,forgotPasswordUrl:a.default.string.isRequired,formActions:a.default.shape({login:a.default.string,signup:a.default.string}).isRequired,id:a.default.string,initialPanel:a.default.string,omniauthUrls:a.default.shape({facebook:a.default.string,github:a.default.string,google_oauth2:a.default.string,twitter:a.default.string,windowslive:a.default.string}).isRequired,openEvent:a.default.string.isRequired,pathHelpers:a.default.shape({rootPath:a.default.string.isRequired}).isRequired,recaptchaSiteKey:a.default.string.isRequired,redirectPaths:a.default.shape({login:a.default.string.isRequired,signup:a.default.string.isRequired}).isRequired,showCTAConfig:a.default.shape({login:a.default.bool,signup:a.default.bool}),source:a.default.string,whitelabelLogin:a.default.string,whitelabelName:a.default.string},b.defaultProps={ctaVersion:u.DEFAULT,initialPanel:"login",source:"",showCTAConfig:{login:!1,signup:!0},whitelabelLogin:null,whitelabelName:null};var O=b;t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0));function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){var t=function(t){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=i(this,l(r).call(this,e))).state={style:{}},t._wrapper,t}var a,s,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,n.Component),a=r,(s=[{key:"componentDidMount",value:function(){this._wrapper&&this.setState({style:{width:Math.ceil(this._wrapper.getBoundingClientRect().width)}})}},{key:"render",value:function(){var t=this,r=this.props.hasOwnProperty(r)?Object.assign({},this.props.style,this.state.style):this.state.style,a=Object.assign({},this.props,{style:r});return n.default.createElement("span",{ref:function(e){return t._wrapper=e}},n.default.createElement(e,a))}}])&&o(a.prototype,s),c&&o(a,c),r}();return t.propTypes=e.propTypes,t.defaultProps=e.defaultProps,t};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(2)),i=l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.currentPanel,r=e.whitelabelName;return"login"===t?"Welcome back":r?"Welcome to ".concat(r,", powered by Hackster"):"Welcome to Hackster"},s=function(e){var t=e.currentPanel,r=e.showEmailMsg,n=e.simplified;return r&&"login"===t?"Looks like that email is registered. Please log in below if you’re already a member.":n&&"signup"===t?"Please join to continue":null},c=function(e){var t=function(e){var t=s(e);return t?n.default.createElement("span",{className:i.default.bodyM},t):e.blankHeader||e.showCTA?null:n.default.createElement("h2",{className:i.default.h2},u(e))}(e);return t?n.default.createElement("div",{className:"".concat(o.default.marginBottom30," ").concat(i.default.textCenter)},t):null};c.propTypes={blankHeader:a.default.bool.isRequired,currentPanel:a.default.oneOf(["login","signup"]).isRequired,showCTA:a.default.bool.isRequired,showEmailMsg:a.default.bool.isRequired,simplified:a.default.bool.isRequired,whitelabelName:a.default.string},c.defaultProps={whitelabelName:null};var d=c;t.default=d},function(e,t,r){e.exports={asphalt:"#D8D8D8",charcoal:"#111",error:"custom_checkbox__error__2R9YE",white:"#FFF",checkbox:"custom_checkbox__checkbox__1dlSh",checkboxTop:"custom_checkbox__checkboxTop__2j8yq",checkboxWrapper:"custom_checkbox__checkboxWrapper__2D717",disabled:"custom_checkbox__disabled__3kJBr",input:"custom_checkbox__input__3xElo",maxWidth:"custom_checkbox__maxWidth__1UlSh"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(732)),i=r(439),l=r(734),u=d(r(2)),s=d(r(3)),c=d(r(1536));function d(e){return e&&e.__esModule?e:{default:e}}var f={DEFAULT:{body:"Create your account to explore thousands of projects, build your skills, and discover new products and technologies.",title:"Join the world’s best hardware engineers."},PROJECT_LOCK_SCREEN:{body:"You've reached the end of your Hackster preview. Sign up to continue reading this project and join the world's largest hardware engineering community.",title:"Join Hackster to view unlimited everything."}},p=function(e){return m(e)?c.default.ctaLockedProject:c.default.cta};function m(e){return e===i.PROJECT_LOCK_SCREEN}var h=function(){return n.default.createElement("div",{className:u.default.marginBottom15},n.default.createElement(o.default,(0,l.getViewedProjects)()))},y=function(e){return r=(t=e).ctaVersion,a=t.imgUrls,o=t.whitelabelName,n.default.createElement("div",{className:p(r)},m(r)&&h(),n.default.createElement("h1",{className:c.default.ctaHeader},f[r].title),o&&n.default.createElement("h2",{className:c.default.ctaSubHeader},"".concat(o," is powered by Hackster")),n.default.createElement("p",{className:s.default.bodyL},f[r].body),n.default.createElement("img",{className:c.default.ctaImg,src:a["1x"],srcSet:"".concat(a["1x"]," 1x, ").concat(a["2x"]," 2x")}));var t,r,a,o};y.propTypes={ctaVersion:a.default.string,imgUrls:a.default.shape({"1x":a.default.string.isRequired,"2x":a.default.string.isRequired}).isRequired,whitelabelName:a.default.string},y.defaultProps={ctaVersion:i.DEFAULT,whitelabelName:null};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(30)),i=u(r(5)),l=u(r(1535));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.isViewed,r=e.position,a=e.src;return n.default.createElement("div",{className:"".concat(i.default.circle," ").concat(i.default.border," ").concat(l.default.thumb)},t&&!!a&&n.default.createElement(o.default,{fit:"crop",queryParams:{crop:"edges"},ratio:"1:1",src:a,width:30}),n.default.createElement("div",{className:t?l.default.numberViewed:l.default.number},r.toString()))};s.propTypes={isViewed:a.default.bool.isRequired,position:a.default.number.isRequired,src:a.default.string},s.defaultProps={src:""};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(null!==a)return a;if(!(0,n.canUseDOM)())return!0;var e=document.createElement("video");return a=!!e.canPlayType};var n=r(243),a=null},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"INTERSECTION_DATA_ATTR",{enumerable:!0,get:function(){return n.INTERSECTION_DATA_ATTR}}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1530)),a=r(238);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._observers={}}var t,r,i;return t=e,(r=[{key:"_getObserver",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,a.tryJSONStringify)(t);return this._observers[r]?this._observers[r]:(this._observers[r]=new n.default(t,function(){return e._removeObserver(r)}),this._observers[r])}},{key:"_removeObserver",value:function(e){delete this._observers[e]}},{key:"observe",value:function(e){var t=e.id,r=e.target,n=e.callback,a=e.options;return this._getObserver(a).observe(r,t,n)}}])&&o(t.prototype,r),i&&o(t,i),e}());t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.INTERSECTION_DATA_ATTR=void 0;var n=r(438);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.INTERSECTION_DATA_ATTR="data-intersect-callback-id";var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._observerCallback=this._observerCallback.bind(this),this.onDestroy=r,this.observer=function(e,t){return new n.IntersectionObserver(e,t)}(this._observerCallback,t),this.targetCallbacks={}}var t,r,o;return t=e,(r=[{key:"_destroy",value:function(){this.observer.disconnect(),this.onDestroy()}},{key:"_observerCallback",value:function(e,t){var r=this;e.forEach(function(e){return r._processEntry(e)})}},{key:"_processEntry",value:function(e){var t=e.target.getAttribute("data-intersect-callback-id"),r=this.targetCallbacks[t];"function"==typeof r&&r(e)}},{key:"observe",value:function(e,t,r){var n=this;return this.targetCallbacks[t]=r,this.observer.observe(e),function(){return n.unobserve(e,t)}}},{key:"unobserve",value:function(e,t){delete this.targetCallbacks[t],this.observer.unobserve(e),0===Object.keys(this.targetCallbacks).length&&this._destroy()}}])&&a(t.prototype,r),o&&a(t,o),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(1532))&&n.__esModule?n:{default:n};var o=r(12).isWindowDefined?((0,a.default)(window,document),window.IntersectionObserver):null;t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)return void("isIntersecting"in e.IntersectionObserverEntry.prototype||Object.defineProperty(e.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}));var r=[];function n(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,r=t.width*t.height,n=this.intersectionRect,a=n.width*n.height;this.intersectionRatio=r?Number((a/r).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var r,n,a,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(r=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,a=null,function(){a||(a=setTimeout(function(){r(),a=null},n))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function o(e,t,r,n){"function"==typeof e.addEventListener?e.addEventListener(t,r,n||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,r)}function i(e,t,r,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,r,n||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,r)}function l(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(e,t){for(var r=t;r;){if(r==e)return!0;r=s(r)}return!1}function s(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,r){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==r[t-1]})},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(e,"resize",this._checkForIntersections,!0),o(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},a.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,i(e,"resize",this._checkForIntersections,!0),i(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},a.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),r=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(a){var o=a.element,i=l(o),u=this._rootContainsTarget(o),s=a.entry,c=t&&u&&this._computeTargetAndRootIntersection(o,r),d=a.entry=new n({time:e.performance&&performance.now&&performance.now(),target:o,boundingClientRect:i,rootBounds:r,intersectionRect:c});s?t&&u?this._hasCrossedThreshold(s,d)&&this._queuedEntries.push(d):s&&s.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},a.prototype._computeTargetAndRootIntersection=function(r,n){if("none"!=e.getComputedStyle(r).display){for(var a,o,i,u,c,d,f,p,m=l(r),h=s(r),y=!1;!y;){var g=null,_=1==h.nodeType?e.getComputedStyle(h):{};if("none"==_.display)return;if(h==this.root||h==t?(y=!0,g=n):h!=t.body&&h!=t.documentElement&&"visible"!=_.overflow&&(g=l(h)),g&&(a=g,o=m,i=void 0,u=void 0,c=void 0,d=void 0,f=void 0,p=void 0,i=Math.max(a.top,o.top),u=Math.min(a.bottom,o.bottom),c=Math.max(a.left,o.left),d=Math.min(a.right,o.right),p=u-i,!(m=(f=d-c)>=0&&p>=0&&{top:i,bottom:u,left:c,right:d,width:f,height:p})))break;h=s(h)}return m}},a.prototype._getRootRect=function(){var e;if(this.root)e=l(this.root);else{var r=t.documentElement,n=t.body;e={top:0,left:0,right:r.clientWidth||n.clientWidth,width:r.clientWidth||n.clientWidth,bottom:r.clientHeight||n.clientHeight,height:r.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(e)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,r){return"px"==t.unit?t.value:t.value*(r%2?e.width:e.height)/100}),r={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return r.width=r.right-r.left,r.height=r.bottom-r.top,r},a.prototype._hasCrossedThreshold=function(e,t){var r=e&&e.isIntersecting?e.intersectionRatio||0:-1,n=t.isIntersecting?t.intersectionRatio||0:-1;if(r!==n)for(var a=0;a<this.thresholds.length;a++){var o=this.thresholds[a];if(o==r||o==n||o<r!=o<n)return!0}},a.prototype._rootIsInDom=function(){return!this.root||u(t,this.root)},a.prototype._rootContainsTarget=function(e){return u(this.root||t,e)},a.prototype._registerInstance=function(){r.indexOf(this)<0&&r.push(this)},a.prototype._unregisterInstance=function(){var e=r.indexOf(this);-1!=e&&r.splice(e,1)},e.IntersectionObserver=a,e.IntersectionObserverEntry=n}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(733);var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Date.now(),a=null;return(0,n.requestAnimationFrame)(function o(){Date.now()-r>=t?e.call():a=(0,n.requestAnimationFrame)(o)}),function(){return(0,n.cancelAnimationFrame)(a)}};t.default=a},function(e,t,r){e.exports={asphalt:"#D8D8D8",number:"project_thumbs__number__3NXAO",thumb:"project_thumbs__thumb__ZnF1o",numberViewed:"project_thumbs__numberViewed__3U3TK project_thumbs__number__3NXAO"}},function(e,t,r){e.exports={med:"(max-width: 768px)",small:"(max-width: 480px)",cta:"cta__cta__2c4bT",ctaLockedProject:"cta__ctaLockedProject__2fIA6",ctaImg:"cta__ctaImg__1ptwu",ctaHeader:"cta__ctaHeader__1dyJe typography__h1__3v00E",ctaSubHeader:"cta__ctaSubHeader__3bhh1 typography__h2__32uX1",promo:"cta__promo__U_yBN cta__cta__2c4bT",promoImg:"cta__promoImg__3Zntm"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=r(175),i=u(r(2)),l=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){return"/".concat((0,o.cleanPreAndPostSlashes)("".concat(e,"/").concat(t)))},c=function(e){var t=e.rootPath;return n.default.createElement("div",{className:"".concat(l.default.bodyS," ").concat(l.default.pebble," ").concat(i.default.marginBottom10)},"By signing up, you agree to our ",n.default.createElement("a",{href:s(t,"terms"),target:"_blank"},"Terms"),", ",n.default.createElement("a",{href:s(t,"privacy"),target:"_blank"},"Privacy Policy"),", and ",n.default.createElement("a",{href:s(t,"cookies"),target:"_blank"},"Cookie Policy"),".")};c.propTypes={rootPath:a.default.string.isRequired};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(9)),i=c(r(1539)),l=c(r(1542)),u=c(r(2)),s=c(r(1544));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=["arduino","github","twitter","windowslive"],g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).state={showSecondary:!1},r.toggleSecondary=r.toggleSecondary.bind(m(r)),r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"_getVerb",value:function(){return"login"===this.props.currentPanel?"Log in":"Sign up"}},{key:"toggleSecondary",value:function(e){e.preventDefault(),this.setState({showSecondary:!this.state.showSecondary})}},{key:"_renderPrimary",value:function(e){return n.default.createElement("div",null,n.default.createElement(i.default,{service:"google",href:e.google_oauth2,action:this._getVerb()}),n.default.createElement(i.default,{service:"facebook",href:e.facebook,action:this._getVerb()}),n.default.createElement("a",{className:s.default.centerLink,href:"javascript:void(0)",onClick:this.toggleSecondary},n.default.createElement("span",{className:u.default.marginRight10},"More options"),n.default.createElement(o.default,{name:"arrow-right",size:"12"})))}},{key:"_renderSecondary",value:function(e){return n.default.createElement("div",null,n.default.createElement("div",{className:s.default.secondaryBtns},y.map(function(t){return n.default.createElement(l.default,{key:t,service:t,className:s.default.secondaryBtn,href:e[t]})})),n.default.createElement("a",{className:s.default.centerLink,href:"javascript:void(0)",onClick:this.toggleSecondary},n.default.createElement(o.default,{name:"arrow-left",size:"12"}),n.default.createElement("span",{className:u.default.marginLeft10},"Back to Google and Facebook")))}},{key:"render",value:function(){var e=this.props.omniauthUrls;return this.state.showSecondary?this._renderSecondary(e):this._renderPrimary(e)}}])&&f(r.prototype,a),c&&f(r,c),t}();g.propTypes={currentPanel:a.default.string,omniauthUrls:a.default.shape({facebook:a.default.string.isRequired,github:a.default.string.isRequired,google_oauth2:a.default.string.isRequired,twitter:a.default.string.isRequired,windowslive:a.default.string.isRequired}).isRequired},g.defaultProps={currentPanel:"signup"};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(245)),i=r(20),l=s(r(10)),u=s(r(1541));function s(e){return e&&e.__esModule?e:{default:e}}var c={facebook:n.default.createElement("i",{className:"fa fa-facebook"}),google:n.default.createElement(o.default,{name:"google"})},d=function(e){var t=e.action,r=e.href,a=e.service,o=e.onClick;return n.default.createElement("a",{className:"".concat(l.default.lg," ").concat(u.default["".concat(a,"Btn")]),href:r,onClick:o},n.default.createElement("div",{className:u.default["".concat(a,"Icon")]},c[a]),n.default.createElement("div",null,"".concat(t," with ").concat((0,i.firstCharUpperCase)(a))))};d.propTypes={action:a.default.string,href:a.default.string,onClick:a.default.func,service:a.default.oneOf(["facebook","google"])},d.defaultProps={action:"Connect",href:"javascript:void(0)",onClick:function(){},service:"facebook"};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n};var o={arduino:{shape:a.default.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor"},a.default.createElement("path",{strokeWidth:"60",d:"M176 30C95.62 30 30.46 92.68 30.46 170S95.62 310 176 310C366 320 346 30 546 30c80.38 0 145.54 62.68 145.54 140S626.38 310 546 310C356 320 376 30 176 30"}),a.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",strokeWidth:"20",d:"M530.07 204.67v-32.78h-32.54V158.2h32.54v-32.54h13.86v32.54h32.54v13.69h-32.54v32.78z"}),a.default.createElement("path",{fill:"currentColor",fillRule:"nonzero",strokeWidth:"28.23",d:"M139.1 170.73V159.6h83.31v11.14z"})),svgProps:{viewBox:"0 0 722 341"}},"existing-project":{shape:a.default.createElement("g",{fillRule:"nonzero"},a.default.createElement("path",{d:"M7 4a1 1 0 0 0-1 1v35a1 1 0 0 0 1 1h31a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H7zm0-2h31a3 3 0 0 1 3 3v35a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3z"}),a.default.createElement("path",{d:"M13 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 2a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm5-4V9h16v2zm0 4v-2h8v2zm-8 21v-2h19v2zm0-5v-2h25v2zm2-10v3h21v-3H12zm-2-2h25v7H10v-7z"})),svgProps:{viewBox:"0 0 45 45"}},google:{shape:a.default.createElement("g",null,a.default.createElement("defs",null,a.default.createElement("path",{id:"a",d:"M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z"})),a.default.createElement("clipPath",{id:"b"},a.default.createElement("use",{xlinkHref:"#a",overflow:"visible"})),a.default.createElement("path",{clipPath:"url(#b)",fill:"#FBBC05",d:"M0 37V11l17 13z"}),a.default.createElement("path",{clipPath:"url(#b)",fill:"#EA4335",d:"M0 11l17 13 7-6.1L48 14V0H0z"}),a.default.createElement("path",{clipPath:"url(#b)",fill:"#34A853",d:"M0 37l30-23 7.9 1L48 0v48H0z"}),a.default.createElement("path",{clipPath:"url(#b)",fill:"#4285F4",d:"M48 48L17 24l-4-3 35-10z"})),svgProps:{viewBox:"0 0 48 48"}},"new-project":{shape:a.default.createElement("g",{fillRule:"nonzero"},a.default.createElement("path",{d:"M36 22.194h2v15.382A3.424 3.424 0 0 1 34.576 41H8.424A3.424 3.424 0 0 1 5 37.576V11.424A3.424 3.424 0 0 1 8.424 8h15.843v2H8.424C7.637 10 7 10.637 7 11.424v26.152C7 38.363 7.637 39 8.424 39h26.152c.787 0 1.424-.637 1.424-1.424V22.194z"}),a.default.createElement("path",{d:"M20.765 22.248v3.536h3.536L41.239 8.845 37.703 5.31 20.765 22.248zM44.067 8.845L25.13 27.784h-6.364V21.42L37.703 2.48l6.364 6.364z"}),a.default.createElement("path",{d:"M33.793 8.207l1.414-1.414 4.528 4.528-1.414 1.414z"})),svgProps:{viewBox:"0 0 45 45"}},star:{shape:a.default.createElement("path",{d:"M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z"}),svgProps:{viewBox:"0 0 24 24"}},bold_editor_tool:{shape:a.default.createElement("path",{d:"M22.12 15.145C23.293 13.753 24 11.957 24 10a8.01 8.01 0 0 0-8-8H6v28h12a8.01 8.01 0 0 0 8-8c0-2.905-1.556-5.453-3.88-6.855zM12 6h3.172c1.75 0 3.172 1.794 3.172 4s-1.423 4-3.172 4H12V6zm4.97 20H12v-8h4.97c1.827 0 3.313 1.794 3.313 4s-1.486 4-3.313 4z"}),svgProps:{viewBox:"0 0 40 40"}},code_editor_tool:{shape:a.default.createElement("path",{d:"M18 23l3 3 10-10L21 6l-3 3 7 7zM14 9l-3-3L1 16l10 10 3-3-7-7z"}),svgProps:{viewBox:"0 0 35 35"}},italic_editor_tool:{shape:a.default.createElement("path",{d:"M28 2v2h-4L14 28h4v2H4v-2h4L18 4h-4V2z"}),svgProps:{viewBox:"0 0 40 40"}},bullet_list_editor_tool:{shape:a.default.createElement("path",{d:"M12 2h20v4H12V2zm0 12h20v4H12v-4zm0 12h20v4H12v-4zM0 4a4 4 0 1 1 8 0 4 4 0 1 1-8 0zm0 12a4 4 0 1 1 8 0 4 4 0 1 1-8 0zm0 12a4 4 0 1 1 8 0 4 4 0 1 1-8 0z"}),svgProps:{viewBox:"0 0 40 40"}},markdown_logo:{shape:a.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"208",height:"128"},a.default.createElement("mask",{id:"a"},a.default.createElement("rect",{width:"100%",height:"100%",fill:"#fff"}),a.default.createElement("path",{d:"M30 98V30h20l20 25 20-25h20v68H90V59L70 84 50 59v39zm125 0l-30-33h20V30h20v35h20z"})),a.default.createElement("rect",{width:"100%",height:"100%",mask:"url(#a)",ry:"15"})),svgProps:{viewBox:"0 0 208 128"}},quote_editor_tool:{shape:a.default.createElement("path",{d:"M7.03 14a7 7 0 1 1 0 14 7 7 0 0 1-7-7L0 20C0 12.268 6.268 6 14 6v4c-2.67 0-5.182 1.04-7.07 2.93a10.24 10.24 0 0 0-.995 1.157A7.08 7.08 0 0 1 7.031 14zm18 0a7 7 0 1 1 0 14 7 7 0 0 1-7-7L18 20c0-7.732 6.268-14 14-14v4c-2.67 0-5.182 1.04-7.07 2.93a10.24 10.24 0 0 0-.995 1.157A7.09 7.09 0 0 1 25.031 14z"}),svgProps:{viewBox:"0 0 35 35"}}};t.default=o},function(e,t,r){e.exports={facebook:"#3B5998",google:"#4285F4",facebookHover:"#294172",googleHover:"#336FD3",btn:"cta_button__btn__2UVD7",facebookBtn:"cta_button__facebookBtn__1bOMe cta_button__btn__2UVD7",googleBtn:"cta_button__googleBtn__1pPot cta_button__btn__2UVD7",icon:"cta_button__icon__2IW-b",facebookIcon:"cta_button__facebookIcon__2ExJd cta_button__icon__2IW-b",googleIcon:"cta_button__googleIcon__IPIw1 cta_button__icon__2IW-b"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(245)),i=u(r(10)),l=u(r(1543));function u(e){return e&&e.__esModule?e:{default:e}}var s={arduino:{btnClass:l.default.arduino,iconClass:"arduino",iconType:"custom"},github:{btnClass:l.default.github,iconClass:"fa-github",iconType:"fa"},twitter:{btnClass:l.default.btn,iconClass:"fa-twitter",iconType:"fa"},windowslive:{btnClass:l.default.btn,iconClass:"fa-windows",iconType:"fa"}},c=function(e){var t=e.className,r=e.href,a=e.service,l=e.onClick,u=s[a],c=u.btnClass,d=u.iconClass,f=u.iconType;return n.default.createElement("a",{className:"".concat(i.default.md," ").concat(c," ").concat(t),href:r,onClick:l},"fa"===f?n.default.createElement("i",{className:"fa ".concat(d)}):n.default.createElement(o.default,{name:d}))};c.propTypes={href:a.default.string,onClick:a.default.func,service:a.default.oneOf(["arduino","github","twitter","windowslive"]).isRequired},c.defaultProps={href:"javascript:void(0)",onClick:function(){}};var d=c;t.default=d},function(e,t,r){e.exports={arduino:"icon_button__arduino__1dlxH icon_button__btn__1i1s1",arduinoHover:"#008085",github:"icon_button__github__2nC5J icon_button__btn__1i1s1",githubHover:"#000",btn:"icon_button__btn__1i1s1"}},function(e,t,r){e.exports={centerLink:"social__centerLink__3APCq typography__link__1oFtU",secondaryBtns:"social__secondaryBtns__2ecOT",secondaryBtn:"social__secondaryBtn__36rSb"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(15)),i=s(r(21)),l=s(r(2)),u=s(r(3));function s(e){return e&&e.__esModule?e:{default:e}}var c={login:{body:"Don’t have an account yet? ",link:"Join here.",goTo:"signup",wrapperClass:"".concat(l.default.marginTop30," ").concat(u.default.textCenter)},signup:{body:"Already have an account? ",link:"Log in.",goTo:"login",wrapperClass:"".concat(l.default.marginTop30," ").concat(u.default.textCenter)},email:{body:null,link:"Create an account here.",goTo:"signup",wrapperClass:i.default.help}},d=function(e){var t=e.currentConfig,r=e.disabled,a=e.onClick,i=c[t],l=i.body,s=i.link,d=i.goTo,f=i.wrapperClass;return n.default.createElement("div",{className:f},l,n.default.createElement(o.default,{colorStyle:"blank",disabled:r,onClick:function(){return a(d)}},n.default.createElement("span",{className:"".concat(u.default.bodyM," ").concat(u.default.linkBlue," ").concat(r?u.default.linkDisabled:"")},s)))};d.propTypes={currentConfig:a.default.oneOf(["email","login","signup"]).isRequired,onClick:a.default.func},d.defaultProps={onClick:function(){}};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(736)),a=o(r(1547));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t,r){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=u(this,c(t).call(this,e))).eventName=e.eventName,r.customProps=(0,a.default)(e.customProps,r.eventName),r}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n["default"]),r=t,(o=[{key:"createRecord",value:function(){return Object.assign({},s(c(t.prototype),"createRecord",this).call(this),{custom:this.customProps,event_name:this.eventName})}}])&&l(r.prototype,o),i&&l(r,i),t}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,a.isObjectWithLength)(e)?function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce(function(n,i){var l=r[i],u=t[i],s=(0,a.isObjectWithLength)(u)?e(u,l):function(e,t,r){var n=o[t];return n?n(e):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.endsWith("_id")&&"event_id"!==t?"number":"string";return o[r](e)}(e,r)}(u,l,i);return(0,a.isBlank)(s)?n:Object.assign({},n,function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}({},i,s))},{})}(e,(0,n.getPropTemplate)(t)):null};var n=r(737),a=r(11);var o={array:function(e){return Array.isArray(e)&&e.length>0?e:null},boolean:function(e){if("boolean"==typeof e)return e;if("string"==typeof e){var t=e.toLowerCase();return"true"===t||"false"!==t&&null}return null},number:function(e){if(Array.isArray(e))return null;var t=parseFloat(e);return isNaN(t)?null:t},string:function(e){return"string"==typeof e?e:"boolean"==typeof e||"number"==typeof e?e.toString():null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(736))&&n.__esModule?n:{default:n};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,r){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=l(this,s(t).call(this,e))).entity_id=e.entity_id||null,r.referrer=e.referrer||document.referrer||"",r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a["default"]),r=t,(n=[{key:"createRecord",value:function(){var e=u(s(t.prototype),"createRecord",this).call(this);return Object.assign({},e,{entity_id:this.entity_id,referrer:{url:this.referrer},keen:Object.assign({},e.keen,{addons:e.keen.addons.concat({name:"keen:referrer_parser",input:{page_url:"page_url",referrer_url:"referrer.url"},output:"referrer.info"})})})}}])&&i(r.prototype,n),o&&i(r,o),t}();t.default=d},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.distinctId,n=void 0===r?null:r,a=t.sessionId,o=void 0===a?null:a,i=t.pageType,l=void 0===i?null:i,u=t.userId,s=void 0===u?null:u,c=t.utmParams,d=void 0===c?{}:c,f=t.whitelabel,p=void 0===f?null:f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.distinctId=n,this.pageType=l,this.sessionId=o,this.userId=s,this.utm_campaign=d.utm_campaign,this.utm_content=d.utm_content,this.utm_medium=d.utm_medium,this.utm_source=d.utm_source,this.utm_term=d.utm_term,this.whitelabel=p}var t,r,a;return t=e,(r=[{key:"createRecord",value:function(){return{distinct_id:this.distinctId,ip:"${keen.ip}",landing_page_type:this.pageType,landing_page_url:document.location.toString(),referrer:{url:document.referrer||""},screen:{height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},session_id:this.sessionId,user_agent:"${keen.user_agent}",user_id:this.userId,utm_campaign:this.utm_campaign,utm_content:this.utm_content,utm_medium:this.utm_medium,utm_source:this.utm_source,utm_term:this.utm_term,whitelabel:this.whitelabel,keen:{addons:[{name:"keen:ip_to_geo",input:{ip:"ip"},output:"geo_info"},{name:"keen:referrer_parser",input:{referrer_url:"referrer.url"},output:"referrer.info"},{name:"keen:ua_parser",input:{ua_string:"user_agent"},output:"parsed_user_agent"},{name:"keen:url_parser",input:{url:"landing_page_url"},output:"parsed_landing_page_url"}]}}}}])&&n(t.prototype,r),a&&n(t,a),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(174)),a=i(r(1551)),o=r(237);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u="hck.kn",s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.LS_KEY=t||u}var t,r,i;return t=e,(r=[{key:"getSessionData",value:function(){var e=this._fetchFromCache();if(e){var t=this._isSessionExpired(e.t),r=t?this._createSession(e.dId,(0,a.default)(e.sId)):this._createSession(e.dId,e.sId);return this._setInCache(r),{createNewSession:t,data:this._translator(r)}}var n=this._createSession();return this._setInCache(n),{createNewSession:!0,data:this._translator(n)}}},{key:"_createSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e||(0,n.default)(),a=t||(0,n.default)(),o=this._getDatePlusHours(1);return{dId:r,sId:a,t:o}}},{key:"_getDatePlusHours",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Date(Date.now()+3600*e*1e3).valueOf()}},{key:"_fetchFromCache",value:function(){return(0,o.getItem)(this.LS_KEY)}},{key:"_isSessionExpired",value:function(e){return Date.now()>parseFloat(e)}},{key:"_setInCache",value:function(e){return(0,o.setItem)(this.LS_KEY,e)}},{key:"_translator",value:function(e){return{distinctId:e.dId,sessionId:e.sId}}}])&&l(t.prototype,r),i&&l(t,i),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function e(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t===r?(l=t,u=o,window.Bugsnag&&window.Bugsnag.notify?Bugsnag.notify("Duplicate uuid","duplicate uuid generated",{attempt:u,uuid:l},"warning"):(0,n.default)(new Error("duplicate uuid: ".concat(l,", attempt #").concat(u))),o<i?e(t,(0,a.default)(),o+1):function(e){return"".concat(e,"x")}(t)):r;var l,u}(e,(0,a.default)())};var n=o(r(7)),a=o(r(174));function o(e){return e&&e.__esModule?e:{default:e}}var i=3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUTMParams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,a.mapifyStringQuery)(e),s=l.reduce(function(e,t){return Object.assign({},e,o({},t,r[t]||""))},{});if(function(e){return l.reduce(function(t,r){return t||!!e[r]},!1)}(s))return c=s,(0,n.setItem)(i,c),s;if(t)return(0,n.deleteItem)(i),u;var c;return(0,n.getItem)(i)||u};var n=r(237),a=r(44);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i="hck.kn.utm",l=["utm_campaign","utm_content","utm_medium","utm_source","utm_term"],u=l.reduce(function(e,t){return Object.assign({},e,o({},t,""))},{})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postSingleEvent=function(e,t){return new Promise(function(r,n){return d(e,t).then(function(r){var n=r.err,a=r.res;return n?c(s(e,t,n)):Promise.resolve(a)}).then(function(e){return r(e)}).catch(function(e){return n(e)})})};var n=l(r(35)),a=l(r(739)),o=l(r(40)),i=r(8);function l(e){return e&&e.__esModule?e:{default:e}}var u=new a.default,s=function(e,t,r){var n=["distinct_id","ip","keen","referrer","user_id","whitelabel"],a=Object.keys(e).reduce(function(t,r){return n.includes(r)||(t[r]=e[r]),t},{}),o=void 0!==r.status,l={status:o?r.status:0,reason:o?(0,i.getInObj)(["response","body","message"],r):"net::ERR_BLOCKED_BY_CLIENT"};return{browser_info:Object.assign({},u.getResult(),{referrer:e.referrer,error:l}),other_props:a,distinct_id:e.distinct_id,table:t,user_id:e.user_id,whitelabel:e.whitelabel}},c=function(e){return o.default.apiRequest(n.default.post("".concat(o.default.getApiPath(),"/private/debug")).send(e),!0)},d=function(e,t){return new Promise(function(r,a){return n.default.post("https://".concat(window.jsk.oht,"/v1/events/").concat(t)).query({key:window.jsk.oak}).set("Content-Type","application/json").send(e).end(function(e,t){return r({err:e,res:t})})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=["communities#react","community#show","platforms#react","platforms#show","projects#index","topic_channels#react","users#preferences","users#dashboard","users#show","topic_channels#show","videos#index"];t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authRequest=function(e,t){return i().then(function(r){return new Promise(function(a,o){n.default.post(e).set("X-CSRF-Token",r).set("Accept","application/json").withCredentials().send(t).end(function(e,t){e?o(e):a(t.body)})})})},t.getCSRFTokenFromApi=i;var n=o(r(35)),a=o(r(428));function o(e){return e&&e.__esModule?e:{default:e}}function i(){return new Promise(function(e,t){n.default.get("".concat((0,a.default)(),"/csrf")).set("Accept","text/plain").end(function(r,n){r?t(r):e(n.text)})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"\n  mutation updateAttachmentMutation($id: Int!, $get_image_version: String, $type: AttachmentTypeEnum!, $metadata: AttachmentMetadataInput!) {\n    updateAttachment(id: $id, get_image_version: $get_image_version, type: $type, metadata: $metadata) {\n      id,\n      file_url,\n      imgix_url,\n      metadata {\n        height,\n        width\n      },\n    }\n  }\n "}},,,,,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,function(e,t,r){e.exports={med:"(max-width: 768px)",formPanel:"auth_panel__formPanel__BFq20",panelWithCTA:"auth_panel__panelWithCTA__wkBFI"}},function(e,t,r){e.exports={small:"(max-width: 480px)",med:"(max-width: 768px)",wrapper:"auth_dialog__wrapper__I9PBk"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=v(r(1)),o=v(r(449)),i=v(r(1582)),l=v(r(15)),u=v(r(436)),s=v(r(248)),c=v(r(7)),d=r(249),f=r(250),p=r(18),m=r(202),h=v(r(326)),y=v(r(2)),g=v(r(3)),_=v(r(5));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){return e.nativeEvent.stopImmediatePropagation()},S=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=w(t).call(this,e))||"object"!==b(a)&&"function"!=typeof a?E(n):a).state={initialized:!1,lists:[],showForm:!1},r.handleCheckboxChange=r.handleCheckboxChange.bind(E(r)),r.handleNewList=r.handleNewList.bind(E(r)),r.summonForm=r.summonForm.bind(E(r)),r}var r,a,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._init()}},{key:"_init",value:function(){var e=this;return s.default.initialize().then(function(){return e.setState({initialized:!0,lists:s.default.getLists()})}).catch(function(e){return(0,c.default)(e)})}},{key:"handleCheckboxChange",value:function(e){var t=this,r=e.addOrRemoveBool,n=e.list;return(0,d.addOrRemoveBookmark)({addOrRemoveBool:r,list:n,projectId:this.props.projectId},this.props.analytics).then(function(e){t.setState({lists:e}),(0,p.summonGlobalMessenger)({msg:(0,d.buildBookmarkMessage)(r,n.name)})}).catch(function(e){return t._handleError(e),Promise.reject(e)})}},{key:"handleNewList",value:function(e){(0,p.summonGlobalMessenger)({msg:(0,d.buildBookmarkMessage)(!0,e.name,!0)}),this.setState({lists:s.default.addList(e,this.props.projectId),showForm:!1})}},{key:"summonForm",value:function(){this.setState({showForm:!0})}},{key:"_handleError",value:function(e){(0,c.default)(e),(0,p.summonGlobalMessenger)({msg:m.GENERIC_ERROR,type:"error"})}},{key:"_handleMyBookmarksLinkClick",value:function(e){var t=(0,d.getDashboardBookmarksURL)();(0,f.fireClickedLinkAnalyticsWithRedirect)({href:t,entity_id:this.props.projectId,location:"My bookmarks",value:this.props.analytics.widget_src},t,e)}},{key:"render",value:function(){var e=this;return this.state.initialized?n.default.createElement("div",{className:"".concat(h.default.dropdown," ").concat(_.default.bgWhite," ").concat(_.default.boxShadow2),onClick:k},n.default.createElement("div",{className:h.default.widgetHeader},n.default.createElement("a",{className:"".concat(g.default.linkPebble," ").concat(g.default.h5),href:(0,d.getDashboardBookmarksURL)(),onClick:function(t){return e._handleMyBookmarksLinkClick(t)}},"My bookmarks"),n.default.createElement(u.default,{autoFocus:!0,onClick:this.props.dismiss,style:{right:"5px",top:"5px"}})),n.default.createElement("div",{className:"".concat(y.default.padding15," ").concat(_.default.borderTop)},n.default.createElement(i.default,{currentListId:this.props.currentListId,handleCheckboxChange:this.handleCheckboxChange,lists:this.state.lists,projectId:this.props.projectId}),!this.state.showForm&&n.default.createElement(l.default,{className:"".concat(y.default.fullWidth," ").concat(y.default.marginTop15),colorStyle:"secondary",disabled:this.state.isBusy,onClick:this.summonForm,size:"sm"},"Create new list")),this.state.showForm&&n.default.createElement("div",{className:"".concat(y.default.padding15," ").concat(_.default.borderTop)},n.default.createElement("h5",{className:"".concat(g.default.h5," ").concat(y.default.marginBottom10)},"Create new list"),n.default.createElement(o.default,{analytics:this.props.analytics,componentSize:"sm",onSubmit:this.handleNewList,initValues:{project_id:this.props.projectId}}))):null}}])&&O(r.prototype,a),v&&O(r,v),t}();S.propTypes={analytics:a.default.shape({widget_src:a.default.string.isRequired}).isRequired,currentListId:a.default.number,dismiss:a.default.func,onChange:a.default.func,projectId:a.default.number.isRequired},S.defaultProps={currentListId:null,dismiss:function(){},onChange:function(){}};var C=S;t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(751)),i=u(r(3)),l=u(r(326));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.handleCheckboxChange,r=e.currentListId,a=e.lists,u=e.projectId;return n.default.createElement("ul",{className:l.default.listToggles},a.map(function(e){return n.default.createElement("li",{key:e.id,className:l.default.listToggle},n.default.createElement(o.default,{classList:{label:"".concat(i.default.bold," ").concat(e.id===r?i.default.asphalt:"")},checkboxPosition:"left",disabled:e.id===r,initChecked:e.project_ids.includes(u),label:e.name,request:t,requestArgs:function(t){return{addOrRemoveBool:t,list:e}}}))}))};s.propTypes={currentListId:a.default.number,handleCheckboxChange:a.default.func.isRequired,lists:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,private:a.default.bool.isRequired,project_ids:a.default.arrayOf(a.default.number).isRequired})),projectId:a.default.number.isRequired},s.defaultProps={currentListId:null,lists:[]};var c=s;t.default=c},function(e,t,r){e.exports={standardBorder:"1px solid #D8D8D8",dropdown:"dropdown__dropdown__1gZel",bottom:"dropdown__bottom__2_cPs",left:"dropdown__left__291uZ",right:"dropdown__right__15tuS",top:"dropdown__top__1B9FD"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(154)),i=c(r(252)),l=c(r(1587)),u=r(12),s=r(244);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).state={position:r._getPosition()},r.handleChange=r.handleChange.bind(m(r)),r.handleResize=(0,o.default)(r.handleChange,200),r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleChange,!0),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleChange,!0),window.removeEventListener("resize",this.handleResize)}},{key:"handleChange",value:function(e){var t=this._getPosition();(0,i.default)(t,this.state.position)||this.setState({position:t})}},{key:"_getPosition",value:function(){var e=this.props.getTarget();if(!(0,s.isDomElement)(e))return null;var t=e.getBoundingClientRect(),r=t.top+t.height/2+(0,u.windowPageYOffset)(),n=t.left+(0,u.windowPageXOffset)()-this.props.width;return{left:n>0?n:t.right+(0,u.windowPageXOffset)(),top:r}}},{key:"_getStyle",value:function(){return this.state.position?Object.assign({position:"absolute",width:this.props.width},this.state.position):{position:"absolute",visibility:"hidden"}}},{key:"render",value:function(){return n.default.createElement(l.default,null,n.default.createElement("div",{style:this._getStyle()},this.props.children))}}])&&f(r.prototype,a),c&&f(r,c),t}();y.propTypes={getTarget:a.default.func.isRequired,width:a.default.number.isRequired},y.defaultProps={};var g=y;t.default=g},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=r(0),o=(n=r(54))&&n.__esModule?n:{default:n};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=(0,r(243).canUseDOM)(),f=d?document.getElementById("reactGlobalPortal"):null,p=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=u(this,s(t).call(this,e)))._el=d?document.createElement("div"):null,r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){f&&this._el&&f.appendChild(this._el)}},{key:"componentWillUnmount",value:function(){f&&this._el&&f.removeChild(this._el)}},{key:"render",value:function(){return this._el?o.default.createPortal(this.props.children,this._el):null}}])&&l(r.prototype,n),i&&l(r,i),t}();t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=I(r(1)),o=I(r(1589)),i=I(r(449)),l=I(r(15)),u=I(r(57)),s=I(r(204)),c=I(r(72)),d=I(r(133)),f=I(r(9)),p=I(r(120)),m=I(r(134)),h=I(r(255)),y=I(r(97)),g=I(r(248)),_=I(r(68)),v=I(r(7)),b=I(r(1607)),O=r(249),w=r(8),E=r(71),P=r(14),k=r(18),S=I(r(22)),C=r(60),j=r(202),R=I(r(52)),T=I(r(332)),N=I(r(2)),M=I(r(3)),A=I(r(5));function I(e){return e&&e.__esModule?e:{default:e}}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F={widget_src:"list_page"},U=function(e){var t=e.imageURLs;return n.default.createElement("div",{className:"".concat(M.default.textCenter," ").concat(N.default.marginTop15)},n.default.createElement("img",{src:t.emptyList.x1,srcSet:"".concat(t.emptyList.x1," 1x, ").concat(t.emptyList.x2," 2x")}),n.default.createElement("div",{className:"".concat(M.default.bodyM," ").concat(N.default.marginTop30)},"This bookmark list has no projects yet!"))},V=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=q(t).call(this,e))||"object"!==x(a)&&"function"!=typeof a?L(n):a).state={currentHistoryData:null,initialized:!1,list:e.list,prompt:{hasError:!1,isBusy:!1,open:!1},showEditForm:!1},r.history=(0,_.default)(e.pathHelpers.basePath),r.qlService=new h.default({history:r.history}),r.seoHandler=new y.default({config:b.default}),r.deleteList=r.deleteList.bind(L(r)),r.dismissEditForm=r.dismissEditForm.bind(L(r)),r.dismissPrompt=r.dismissPrompt.bind(L(r)),r.getPaginatorHook=r.getPaginatorHook.bind(L(r)),r.handleBookmarkChange=r.handleBookmarkChange.bind(L(r)),r.handleDeleteClick=r.handleDeleteClick.bind(L(r)),r.handleLocationChange=r.handleLocationChange.bind(L(r)),r.handleQuery=r.handleQuery.bind(L(r)),r.handleRemoveClick=r.handleRemoveClick.bind(L(r)),r.handleUpdate=r.handleUpdate.bind(L(r)),r.removeBookmark=r.removeBookmark.bind(L(r)),r.renderBookmarkButton=r.renderBookmarkButton.bind(L(r)),r.summonEditForm=r.summonEditForm.bind(L(r)),r.requestPage,r._currentPage,r}var r,a,I;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.unlisten=this.history.listen(this.handleLocationChange),this.updateSub=g.default.getChannel().subscribe("bookmark.changed",this.handleBookmarkChange),this._updateSEOData()}},{key:"componentWillUnmount",value:function(){"function"==typeof this.unlisten&&this.unlisten(),this.updateSub&&"function"==typeof this.updateSub.unsubscribe&&this.updateSub.unsubscribe()}},{key:"deleteList",value:function(e){var t=this;return this._promptBusy(),(0,P.graphMutate)({t:"delete_bookmark_list"},{id:this.state.list.id}).then(function(t){var r=t.list;S.default.reportEventWithDelayedRedirectWithObj((0,C.getDeleteBookmarkListArgs)(Object.assign({id:r.id},F)),(0,O.getDashboardBookmarksURL)(),e)}).catch(function(e){t._promptError(),(0,v.default)("BookmarkListPage deleteList",e)})}},{key:"dismissEditForm",value:function(){this.setState({showEditForm:!1})}},{key:"dismissPrompt",value:function(){this.setState({prompt:{hasError:!1,isBusy:!1,open:!1}})}},{key:"getPaginatorHook",value:function(e){this.requestPage=e}},{key:"handleBookmarkChange",value:function(e){var t=e.addOrRemoveBool,r=e.listId;e.projectId,t||r!==this.state.list.id||(this.setState({list:Object.assign({},this.state.list,{projects_count:this.state.list.projects_count-1})}),"function"==typeof this.requestPage&&this._currentPage&&this.requestPage(this._currentPage))}},{key:"handleDeleteClick",value:function(){this.setState({prompt:{action:"Delete",body:"Once you delete this item, it cannot be undone.",hasError:!1,isBusy:!1,okay:this.deleteList,open:!0,title:"Are you sure you want to delete this bookmark list?"}})}},{key:"handleLocationChange",value:function(e,t){var r=Object.assign({},e,{action:t});this.setState({currentHistoryData:r}),this._updateSEOData()}},{key:"handleQuery",value:function(e){var t=(0,w.getInObj)(["metadata","current_page"],e);t!==this._currentPage&&(this._currentPage=t)}},{key:"handleRemoveClick",value:function(e){var t=this;this.setState({prompt:{open:!0,hasError:!1,isBusy:!1,title:"Are you sure you want to remove this project?",action:"Remove",body:null,okay:function(){return t.removeBookmark(e)}}})}},{key:"handleUpdate",value:function(e){var t=Object.assign({},this.state.list,e);g.default.updateList(t),this.setState({list:t,showEditForm:!1})}},{key:"removeBookmark",value:function(e){var t=this;return this._promptBusy(),(0,O.addOrRemoveBookmark)({addOrRemoveBool:!1,list:this.state.list,projectId:e},F).then(function(e){t.dismissPrompt(),(0,k.summonGlobalMessenger)({msg:(0,O.buildBookmarkMessage)(!1,t.state.list.name)})}).catch(function(e){t._promptError(),(0,v.default)("BookmarkListPage removeBookmark",e)})}},{key:"renderBookmarkButton",value:function(e){var t=this;return n.default.createElement(o.default,{analytics:F,handleRemove:this.handleRemoveClick,list:this.state.list,onSummonMenu:function(e){return t._handleOpenMenuAnalytics(e)},projectId:e.id})}},{key:"summonEditForm",value:function(){this.setState({showEditForm:!0})}},{key:"_handleOpenMenuAnalytics",value:function(e){var t=e.project_id;S.default.reportEventWithObj((0,C.getOpenedBookmarkMenuArgs)(Object.assign({project_id:t},F)))}},{key:"_promptBusy",value:function(){this.setState({prompt:Object.assign({},this.state.prompt,{hasError:!1,isBusy:!0})})}},{key:"_promptError",value:function(){this.setState({prompt:Object.assign({},this.state.prompt,{hasError:!0,isBusy:!1})})}},{key:"_updateSEOData",value:function(){this.seoHandler.reportView({path:"/",data:this.state.list})}},{key:"_getEditForm",value:function(e){return n.default.createElement("div",{className:R.default.container},n.default.createElement(i.default,{analytics:F,clearOnSubmit:!1,initValues:{id:e.id,name:e.name,private:e.private},mode:"update",onCancelClick:this.dismissEditForm,onDeleteClick:this.handleDeleteClick,onSubmit:this.handleUpdate}))}},{key:"_getHeader",value:function(e){return n.default.createElement("div",{className:T.default.headerInner},n.default.createElement("div",{className:N.default.flex10Auto},n.default.createElement("h2",{className:M.default.h2},e.name,e.private&&n.default.createElement(f.default,{className:"".concat(N.default.marginLeft5," ").concat(N.default.marginTop5),name:"locked",size:16})),n.default.createElement("div",{className:M.default.bodyM},(0,O.getProjectsCount)(e.projects_count))),n.default.createElement(l.default,{className:M.default.whitespaceNowrap,colorStyle:"tertiary",onClick:this.summonEditForm,size:"sm"},"Edit"))}},{key:"render",value:function(){var e=this.state,t=e.list,r=e.showEditForm;return n.default.createElement(n.Fragment,null,n.default.createElement("div",{className:N.default.container},n.default.createElement("div",{className:N.default.wrapper1170},n.default.createElement(u.default,{color:"Pebble",href:(0,O.getDashboardBookmarksURL)(),size:"S",text:"Back to my bookmarks"}),r?this._getEditForm(t):this._getHeader(t))),n.default.createElement("div",{className:"".concat(N.default.container," ").concat(A.default.borderTop)},n.default.createElement("div",{className:N.default.wrapper1170},n.default.createElement(d.default,{currentHistoryData:this.state.currentHistoryData,getPaginatorHook:this.getPaginatorHook,graphQLArguments:{list_id:this.props.list.id},graphQLService:this.qlService,listComponent:c.default,listProps:{ItemComponent:m.default,itemKey:"project",itemProps:{cardBorder:!0,customIcon:this.renderBookmarkButton},placeholder:n.default.createElement(U,{imageURLs:this.props.imageURLs})},loaderComponent:s.default,propagateQuery:this.handleQuery}))),n.default.createElement(p.default,{action:this.state.prompt.action,actionColor:"danger",body:this.state.prompt.body,dismiss:this.dismissPrompt,isBusy:this.state.prompt.isBusy,message:this.state.prompt.hasError?(0,E.getErrorHelperView)(j.GENERIC_ERROR):null,okay:this.state.prompt.okay,open:this.state.prompt.open,title:this.state.prompt.title}))}}])&&D(r.prototype,a),I&&D(r,I),t}();V.propTypes={imageURLs:a.default.shape({emptyList:a.default.shape({x1:a.default.string.isRequired,x2:a.default.string.isRequired}).isRequired}).isRequired,list:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,private:a.default.bool.isRequired,projects_count:a.default.number}).isRequired,pathHelpers:a.default.shape({basePath:a.default.string.isRequired,fullPath:a.default.string.isRequired,rootPath:a.default.string.isRequired}).isRequired};var W=V;t.default=W},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=m(r(1)),o=m(r(251)),i=m(r(9)),l=m(r(48)),u=m(r(7)),s=r(249),c=m(r(10)),d=m(r(2)),f=m(r(5)),p=m(r(118));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=g(t).call(this,e))||"object"!==h(a)&&"function"!=typeof a?_(n):a).state={initialized:!1,dropdownType:null},r.handleDismiss=r.handleDismiss.bind(_(r)),r.summonMenu=r.summonMenu.bind(_(r)),r.handleRemove=r.handleRemove.bind(_(r)),r.summonWidget=r.summonWidget.bind(_(r)),r._button,r._wrapper,r}var r,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){var e=this;return l.default.getAsync("id").then(function(t){return e.setState({initialized:!0})}).catch(function(e){return(0,u.default)(e)})}},{key:"handleDismiss",value:function(){this.setState({dropdownType:null})}},{key:"handleRemove",value:function(){this.props.handleRemove(this.props.projectId)}},{key:"summonMenu",value:function(){this.props.onSummonMenu({project_id:this.props.projectId}),this.setState({dropdownType:"menu"})}},{key:"summonWidget",value:function(){var e=(0,s.showDropdownOrSummonDialog)({currentListId:this.props.list.id,projectId:this.props.projectId});this.setState({dropdownType:e?"widget":null})}},{key:"_getDropdown",value:function(){switch(this.state.dropdownType){case"menu":return this._getMenuDropdown();case"widget":return this._getWidgetDropdown();default:return null}}},{key:"_getMenuDropdown",value:function(){return n.default.createElement(o.default,{className:"".concat(d.default.paddingTop10," ").concat(d.default.paddingBottom10),dismiss:this.handleDismiss,key:"menu",alignRight:!(0,s.outOfBoundsLeft)(this._wrapper.getBoundingClientRect(),136),style:{width:136}},n.default.createElement("ul",{className:f.default.ulReset},n.default.createElement("li",{className:p.default.option,onClick:this.summonWidget},"Add to list"),n.default.createElement("li",{className:p.default.option,onClick:this.handleRemove},"Remove")))}},{key:"_getWidgetDropdown",value:function(){var e=this,t={analytics:this.props.analytics,currentListId:this.props.list.id,dismiss:this.handleDismiss,projectId:this.props.projectId,getTarget:function(){return e._wrapper}};return this.props.usePortal?(0,s.getPortalWidgetDropdown)(t):(0,s.getWidgetDropdown)(t)}},{key:"render",value:function(){var e=this,t=this.state.initialized;return n.default.createElement("div",{ref:function(t){return e._wrapper=t},onKeyDown:this.handleKeyDown,className:f.default.posRelative},n.default.createElement("button",{className:c.default.blank,disabled:!t,onClick:this.summonMenu},n.default.createElement(i.default,{name:"view-more",size:16})),this._getDropdown())}}])&&y(r.prototype,a),m&&y(r,m),t}();b.propTypes={analytics:a.default.shape({widget_src:a.default.string.isRequired}).isRequired,handleRemove:a.default.func.isRequired,list:a.default.shape({projects_count:a.default.number,id:a.default.number.isRequired,name:a.default.string.isRequired,private:a.default.bool.isRequired}).isRequired,onSummonMenu:a.default.func,projectId:a.default.number.isRequired,usePortal:a.default.bool},b.defaultProps={onSummonMenu:function(){},usePortal:!1};var O=b;t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(753)),i=l(r(754));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.cardBorder,r=e.classList;return n.default.createElement("div",{className:"".concat(t?i.default.cardBorder:""," ").concat(r.wrapper||i.default.wrapper)},n.default.createElement("div",{className:i.default.imageContainer},n.default.createElement("div",{className:"".concat(i.default.itemImage," ").concat(o.default.itemImage)})),n.default.createElement("div",{className:o.default.smallBody},n.default.createElement("div",{className:o.default.smallTitle}),n.default.createElement("div",{className:o.default.smallTitle})))};u.propTypes={cardBorder:a.default.bool,classList:a.default.shape({card:a.default.string,wrapper:a.default.string})},u.defaultProps={cardBorder:!1,classList:{}};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(119)),i=c(r(440)),l=r(45),u=c(r(755)),s=c(r(10));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=new i.default,_=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=m(this,h(t).call(this,e))).state={open:!1,enactedFilters:r._initFilterCount(e.filters)},r}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"_initFilterCount",value:function(e){return e.reduce(function(e,t){return"sort"!==t.key&&(e=t.options.find(function(e){return!0===e.active&&!e.default})?Object.assign({},e,f({},t.key,!0)):e),e},{})}},{key:"_handleSelection",value:function(e,t){var r=e.hasOwnProperty("key")?"".concat(e.key,"=").concat(t.value):"";this._handleFilterCounter(e,t),this.props.onSelection({queryString:r,option:t}),g.recordEvent({eventName:"Clicked filter value"},{filter_name:e.key,filter_value:t.value})}},{key:"_handleFilterCounter",value:function(e,t){e.key&&"sort"!==e.key&&(this.state.enactedFilters.hasOwnProperty(e.key)&&t.hasOwnProperty("default")?this.setState({enactedFilters:(0,l.removeFromObject)(this.state.enactedFilters,e.key)}):this.state.enactedFilters.hasOwnProperty(e.key)||t.hasOwnProperty("default")||this.setState({enactedFilters:Object.assign({},this.state.enactedFilters,f({},e.key,!0))}))}},{key:"_renderMobileFiltersToggle",value:function(){var e=this,t=Object.keys(this.state.enactedFilters).length;return n.default.createElement("div",{className:u.default.filtersToggle},n.default.createElement("button",{className:"".concat(s.default.blank," ").concat(u.default.filtersButton),onClick:function(){return e.setState({open:!e.state.open})},type:"button"},"Filters",t>0&&n.default.createElement("span",{className:u.default.filtersToggleCount},n.default.createElement("span",{className:1===t?u.default.marginLeftOnOne:""},t))))}},{key:"render",value:function(){var e=this,t=this.props.filters;return n.default.createElement("div",{className:u.default.wrapper},this._renderMobileFiltersToggle(),n.default.createElement("div",{className:"".concat(u.default.filterGroup," ").concat(this.state.open?"":u.default.filterGroupClosed)},t.map(function(t,r){return n.default.createElement("span",{key:r,className:u.default.filter},n.default.createElement(o.default,{onSelection:function(r){return e._handleSelection(t,r)},options:t.options}))})))}}])&&p(r.prototype,a),i&&p(r,i),t}();_.propTypes={filters:a.default.arrayOf(a.default.shape({})).isRequired,onSelection:a.default.func},_.defaultProps={onSelection:function(){}};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(9)),i=d(r(88)),l=d(r(309)),u=d(r(10)),s=d(r(2)),c=d(r(118));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.open,r=void 0!==t&&t,a=e.options,i=e.selectedValueIndex;return n.default.createElement("div",{className:"".concat(c.default.label," ").concat(s.default.flexCenterItems)},a[i]?a[i].label:null,n.default.createElement(o.default,{className:r?c.default.iconOpen:c.default.icon,name:"arrow-down"}))},p=function(e){return!e.hidden},m=function(e){return(0,l.default)()?(r=(t=e).options,a=t.selectedValueIndex,s=t.selectOptionByIndex,n.default.createElement("div",{className:c.default.selectWrapper},n.default.createElement("select",{className:c.default.select,value:a.toString(),onChange:s},r.map(function(e,t){return n.default.createElement("option",{key:t,disabled:e.disabled,hidden:e.hidden,value:t},e.labelText||e.label)})),n.default.createElement(o.default,{className:c.default.selectIcon,name:"arrow-down"}))):function(e){var t=e.options,r=e.selectedValueIndex,a=e.selectOptionByIndex;return n.default.createElement(i.default,{classList:{button:u.default.blank,dropdown:c.default.dropdown},closeOnSelect:!0,label:f({options:t,selectedValueIndex:r}),labelOpen:f({open:!0,options:t,selectedValueIndex:r})},n.default.createElement("ul",null,t.map(function(e,t){return p(e)&&n.default.createElement("li",{key:t,className:r===t?c.default.optionSelected:c.default.option,onClick:function(e){return a({target:{value:t}})}},e.label)})))}(e);var t,r,a,s};m.propTypes={options:a.default.arrayOf(a.default.shape({active:a.default.bool,label:a.default.oneOfType([a.default.string,a.default.number,a.default.element]).isRequired,labelText:a.default.string,value:a.default.oneOfType([a.default.string,a.default.number,a.default.object]),default:a.default.bool})).isRequired,selectOptionByIndex:a.default.func.isRequired,selectedValueIndex:a.default.number.isRequired};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(1)),o=i(r(451));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.options,r=e.selectedValueIndex,a=e.selectOptionByIndex,i=e.underline;return n.default.createElement(o.default,{activeIndex:r,centered:!1,onClick:function(e){return a({target:{value:e}})},tabs:t,underline:i})};l.propTypes={options:a.default.arrayOf(a.default.shape({active:a.default.bool,label:a.default.oneOfType([a.default.string,a.default.number,a.default.element]).isRequired,value:a.default.oneOfType([a.default.string,a.default.number,a.default.object]),default:a.default.bool})).isRequired,selectOptionByIndex:a.default.func.isRequired,selectedValueIndex:a.default.number.isRequired,underline:a.default.bool},l.defaultProps={underline:!1};var u=l;t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t<=1)return[];if(t<=8)return Array.from(Array(t)).map(function(e,t){return t+1});var r=Array.from(Array(t)).map(function(e,t){return t+1});return function(e,t,r){var n=["buffer"];if(e.length>2){var a=e[e.length-1],o=t.slice(t.length-2).filter(function(e){return e!==a}),i=e[e.length-1]+1===o[0]?[]:n,l=i.length&&a+1===o[0]-1?[a+1]:i;return e.concat(l).concat(o)}var u=e.concat(n).concat(function(e,t){return Array.from(Array(5)).reduce(function(r,n,a){return 0===a?r:(e+a<=t&&r[r.length-1]<e+2?r.push(e+a):r.unshift(r[0]-1),r)},[e])}(r,t.length)),s=u[u.length-1];if(s===t.length)return u;var c=t.slice(t.length-2).filter(function(e){return e!==s}),d=s+1===c[0],f=d||s+1!==c[0]-1?n:[s+1],p=c.length>1&&!d?f.concat(c):c;return u.concat(p)}(e>6?[1,2]:function(e,t){return e>3?t.slice(0,e+2):t.slice(0,5)}(e,r),r,e)}},function(e,t,r){e.exports={asphalt:"#D8D8D8",hackster:"#2E9FE6",graphite:"#4A4A4A",root:"paginator__root__HCSZ8",item:"paginator__item__2ZF9a",arrow:"paginator__arrow__28wEY paginator__item__2ZF9a",number:"paginator__number__3PXX3 paginator__item__2ZF9a",currentPage:"paginator__currentPage__yOKGH",disabled:"paginator__disabled__vZDQ1 paginator__currentPage__yOKGH",buffer:"paginator__buffer__3HThD"}},function(e,t,r){e.exports={wrapper:"prompt__wrapper__125Bd"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStoreKey=function(e){var t=(0,c.getInObj)([e,"storeKey"],_)||e;return"".concat(t,"_ids")},t.default=function(e){return _[e]||{}};var n=m(r(0)),a=m(r(9)),o=m(r(1598)),i=r(757),l=r(1599),u=r(758),s=r(1600),c=r(8),d=m(r(10)),f=m(r(2)),p=m(r(3));function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){return{className:[d.default[e],"".concat(d.default[e]," ").concat(d.default.secondary)],create:i.createChannelMember,delete:i.deleteChannelMember,dialog:o.default,dialogKey:"channel",label:["Join Community",n.default.createElement("span",null,n.default.createElement(a.default,{className:"".concat(p.default.iconBaselineFix," ").concat(f.default.marginRight5),name:"checkmark"}),n.default.createElement("span",null,"You're a member"))],storeKey:"channel"}},y={className:"",create:s.createRespect,delete:s.deleteRespect,label:[]},g=function(e){return{className:[d.default[e],"".concat(d.default[e]," ").concat(d.default.secondary)],create:l.createFollowRelation,delete:l.deleteFollowRelation,label:["Follow",n.default.createElement("span",null,n.default.createElement(a.default,{className:"".concat(p.default.iconBaselineFix," ").concat(f.default.marginRight5),name:"checkmark"}),n.default.createElement("span",null,"Following"))],storeKey:"followed_user"}},_={channel_sm:h("sm"),channel_md:h("md"),followed_user_xs:g("xs"),followed_user_sm:g("sm"),followed_user_md:g("md"),part:{className:["".concat(d.default.md," ").concat(d.default.secondary),"".concat(d.default.md," ").concat(d.default.secondary)],create:u.createPartUser,delete:u.deletePartUser,label:["Add to toolbox",n.default.createElement("span",null,n.default.createElement(a.default,{className:"".concat(p.default.iconBaselineFix," ").concat(f.default.marginRight5),name:"checkmark"}),n.default.createElement("span",null,"In toolbox"))]},respected_comment:y,respected_feed_post:y,respected_news_article:y,respected_project:y}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.facebook_link,r=e.twitter_link,n=e.name;return'\n    <div style="text-align:center;">\n      <h2 style="color:#555;font-size:2em;">You\'re now part of the '.concat(n,' community</h2>\n      <p style="margin-bottom:20px;">Share the word:</p>\n      <ul style="margin-bottom:0;" class="list-inline">\n        <li>\n          <a class="zocial facebook social-share-link" data-url="').concat(t,'">Facebook</a>\n        </li>\n        <li>\n          <a class="zocial twitter social-share-link" data-url="').concat(r,'">Twitter</a>\n        </li>\n      </ul>\n    </div>\n  ')}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFollowRelation=function(e){return"\n    mutation createFollowRelation {\n      createFollowRelation(followable_id: ".concat(e,") {\n        id\n      }\n    }\n  ")},t.deleteFollowRelation=function(e){return"\n    mutation deleteFollowRelation {\n      deleteFollowRelation(followable_id: ".concat(e,") {\n        id\n      }\n    }\n  ")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRespect=function(e,t){var r=t.respectable_type;return"\n    mutation createRespect {\n      respect: createRespect(respectable_id: ".concat(e,", respectable_type: ").concat(r,") {\n        id\n      }\n    }\n  ")},t.deleteRespect=function(e,t){var r=t.respectable_type;return"\n    mutation deleteRespect {\n      respect: deleteRespect(respectable_id: ".concat(e,", respectable_type: ").concat(r,") {\n        id\n      }\n    }\n  ")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(1602)),a=s(r(1603)),o=s(r(329)),i=s(r(10)),l=s(r(2)),u=s(r(3));function s(e){return e&&e.__esModule?e:{default:e}}var c="".concat(i.default.icon," ").concat(i.default.outlineBlue),d="".concat(c," ").concat(i.default.md),f="".concat(c," ").concat(i.default.md," ").concat(o.default.stickyButton),p="".concat(c," ").concat(i.default.sm," ").concat(l.default.padding10),m="".concat(i.default.blank," ").concat(u.default.hackster," ").concat(u.default.bodyS),h="".concat(c," ").concat(i.default.sm," ").concat(l.default.marginRight10),y={respectButton:c,respectedButton:c,wrapper:n.default.wrapper},g={articleBottom:{respectButton:d,respectedButton:d},articleSide:{respectButton:f,respectedButton:f},postCard:{respectButton:p,respectedButton:p},postCardComment:{respectButton:m,respectedButton:m},project_card:{respectButton:h,respectedButton:h},project_page:{respectButton:"".concat(c," ").concat(i.default.md," ").concat(a.default.respectButton),respectedButton:"".concat(c," ").concat(i.default.md," ").concat(a.default.respectedButton)}},_=Object.keys(g).reduce(function(e,t){return Object.assign({},e,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,Object.assign({},y,g[t])))},{default:y});t.default=_},function(e,t,r){e.exports={wrapper:"default__wrapper__3WVSl"}},function(e,t,r){e.exports={standardBorderRadius:"4px",hackster:"#2E9FE6",respectButton:"project_page__respectButton__3ZMgL",respectedButton:"project_page__respectedButton__2G72t",pulse:"project_page__pulse__1Ttrw"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(1)),a=f(r(0)),o=f(r(88)),i=f(r(9)),l=r(181),u=f(r(10)),s=f(r(2)),c=f(r(3)),d=f(r(205));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){return a.default.createElement("span",null,e||"Multiple Authors",a.default.createElement(i.default,{className:"".concat(c.default.iconBaselineFix," ").concat(s.default.marginLeft5),name:"arrow-down",size:12}))},m=function(e){var t=e.teamName,r=e.users;return a.default.createElement(o.default,{alignTop:!0,classList:{button:"".concat(c.default.bodyS," ").concat(c.default.link," ").concat(d.default.authorButton," ").concat(u.default.blank),dropdown:d.default.authorsContainer,wrapper:d.default.dropdown},elevation:0,label:p(t)},a.default.createElement("ul",{className:d.default.authorsList},function(e){return e.map(function(e,t){return a.default.createElement("li",{key:t},a.default.createElement("a",{href:(0,l.whitelabelUrlHelper)().appendToRootPath(e.url),className:"".concat(c.default.bodyS," ").concat(c.default.link," ").concat(d.default.author)},e.name))})}(r)))};m.propTypes={teamName:n.default.string,users:n.default.arrayOf(n.default.shape({name:n.default.string,url:n.default.string}))},m.defaultProps={teamName:null,users:[]};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,r){t(s(e))})};var n={protip:"PROTIP",showcase:"SHOWCASE",tutorial:"TUTORIAL",wip:"WIP"},a={advanced:"ADVANCED",beginner:"EASY",hardcore:"EXPERT",intermediate:"INTERMEDIATE"},o={base_channel_id:function(e){return parseInt(e)},category_id:function(e){return parseInt(e)},contest_id:function(e){return parseInt(e)},part_id:function(e){return parseInt(e)},page:function(e){return parseInt(e,10)},per_page:function(e){return parseInt(e,10)},tag_id:function(e){return parseInt(e)},topic_id:function(e){return parseInt(e)}},i={popular:"POPULARITY",published:"DATE_DESC",respected:"RESPECTS",trending:"TRENDING",updated:"UPDATE_DATE"},l=["category_id"],u=["featured","me"],s=function(e){var t=c(e,o);return Object.assign({},t,p(e),m(e,"content_type",n),m(e,"sort",i),m(e,"difficulty",a))},c=function(e,t){var r=Object.keys(e);if(!r.length)return{};var n=e.hasOwnProperty("base_channel_id");return r.reduce(function(r,a){return u.includes(e[a])?r=f(e[a],r):n&&l.includes(a)?r=d(a,e[a],t[a],r):t[a]&&(r[a]=t[a](e[a])),r},{})},d=function(e,t,r,n){switch(e){case"category_id":return n.channel_category_id=r(t),n;default:return n}},f=function(e,t){switch(e){case"featured":return t.featured=!0,t;case"me":return t.user_toolbox=!0,t;default:return t}},p=function(e){return e.hasOwnProperty("by")?"featured"===e.by?{featured:!0}:"toolbox"===e.by?{user_toolbox:!0}:void 0:{}},m=function(e,t,r){return!e.hasOwnProperty(t)||e[t]&&!r.hasOwnProperty(e[t])?{}:(n={},a=t,o=r[e[t]],a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o,n);var n,a,o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createVirtualPageview=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window&&window.gglTagMngrDataLayer&&window.gglTagMngrDataLayer.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.path,r=e.pageType,a=e.title,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["path","pageType","title"]);return Object.assign({event:"gtm.virtualPageview",pageType:r||(0,n.getDocumentFunction)("querySelector")("meta[name=pageType]").content,virtualPage:t||n.windowLocationPathname.get(),virtualTitle:a||(0,n.getDocumentProperty)("title")},o)}(e))};var n=r(12)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={"/":function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{entity_id:e.id,meta_desc:"Hardware projects in ".concat(e.name,"."),pageType:"bookmarks#show",title:"".concat(e.name," - Hackster.io")}}};t.default=function(e){return n[e]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=c(r(54)),i=c(r(706)),l=c(r(28)),u=r(105),s=c(r(303));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?h(n):a).selectAddress=r.selectAddress.bind(h(r)),r.updateAddresses=r.updateAddresses.bind(h(r)),r.state={addresses:e.addresses||[],selectedAddress:null!==e.knownAddress&&Object.keys(e.knownAddress).length?e.knownAddress:null},r}var r,n,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,a.Component),r=t,(n=[{key:"selectAddress",value:function(e){this.setState({selectedAddress:e}),(0,l.default)(o.default.findDOMNode(this),300)}},{key:"updateAddresses",value:function(e,t){this.setState({addresses:e,selectedAddress:void 0!==t?t:this.state.selectedAddress}),void 0!==t&&(0,l.default)(o.default.findDOMNode(this),300)}},{key:"render",value:function(){return this.state.selectedAddress?this._buildSelected():a.default.createElement("div",null,a.default.createElement("div",{className:"form-group ".concat(this.props.errors&&this.props.errors.length?"has-error":null)},a.default.createElement("label",{className:"control-label"},a.default.createElement("span",null,"Please let us know where to ship your device if your application is selected:"),a.default.createElement("i",{className:"fa fa-question-circle istooltip",title:"We ask for addresses ahead of selecting winners in order to streamline our shipping process. If you are selected, you will have to build a project with the device we send you, and we want to ensure you have enough time."})),this.props.errors?this.props.errors.map(function(e,t){return a.default.createElement("span",{key:t,className:"help-block"},e)}):null),a.default.createElement(i.default,{addresses:this.state.addresses,selectable:!0,selectAddress:this.selectAddress,updateAddresses:this.updateAddresses}))}},{key:"_buildSelected",value:function(){var e=this,t=this.state.selectedAddress,r=(t.extra_fields?Object.keys(t.extra_fields):[]).map(function(e){return"".concat(e.toUpperCase(),": ").concat(t.extra_fields[e])}),n=(0,s.default)(t),o=(0,u.getCountry)(t),i=[t.full_name].concat(f(n),[o.name,"Phone: ".concat(t.phone)],f(r)).filter(function(e){return e&&e.length>0});return a.default.createElement("div",{className:"address-container"},a.default.createElement("strong",{className:"mg-10"},"Shipping To:"),a.default.createElement("div",{className:"address"},i.map(function(e,t){return a.default.createElement("span",{key:t},e,a.default.createElement("br",null))}),a.default.createElement("a",{className:"btn btn-xs btn-link",href:"javascipt:void(0);",onClick:function(){return e.setState({selectedAddress:null})}},"Choose a different address")),a.default.createElement("input",{type:"hidden",name:"challenge_idea[address_id]",value:t.id}))}}])&&p(r.prototype,n),c&&p(r,c),t}();g.propTypes={addresses:n.default.array,errors:n.default.array,knownAddress:n.default.object},g.defaultProps={addresses:[],errors:[],knownAddress:{}};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=m(r(1)),o=m(r(453)),i=m(r(252)),l=m(r(1743)),u=m(r(1744)),s=m(r(1766)),c=r(210),d=r(1767),f=r(18),p=m(r(7));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w={description:{label:"The Challenge",hint:"Write your contest’s problem statement and call-to-action. "},resources:{label:"Resources",hint:"Include technical resources, information about any workshops/webinars and sample applications here."},eligibility:{label:"Eligibility",hint:null},requirements:{label:"Requirements",hint:null},judging_criteria:{label:"Judging Criteria",hint:null},how_to_enter:{label:"How to Enter",hint:null},rules:{label:"Rules",hint:"If you are a hosting a community contest please replace the contests@hackster.io email address at the bottom of these rules with your company's contact email for contest support."},judges:{label:"Judges (optional)",hint:"Write the names and/or bios of the contest judges. This section will go under the prizes."},about_us:{label:"About Us (optional)",hint:"Your company description and/or any sponsors and logos."}},E=["description","judges","resources","about_us"],P=["eligibility","requirements","judging_criteria","how_to_enter","rules"],k=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=v(t).call(this,e))||"object"!==h(a)&&"function"!=typeof a?b(n):a).state={initialized:!1,updatedEditors:[]},r.editorWasUpdated=r.editorWasUpdated.bind(b(r)),r.handlePeClickedEvent=r.handlePeClickedEvent.bind(b(r)),r.handleSubmit=r.handleSubmit.bind(b(r)),r.handleUnloadEvent=r.handleUnloadEvent.bind(b(r)),r.configs={},r.editorSaveStates={},r.fields=r._getFieldsForType(e.type),r._ignoreEditorUpdateStatus=!1,r}var r,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){window.addEventListener("clicked:nav",this.handlePeClickedEvent),window.addEventListener("submit:challengeForm",this.handleSubmit),window.addEventListener("beforeunload",this.handleUnloadEvent),this._init()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("clicked:nav",this.handlePeClickedEvent),window.removeEventListener("submit:challengeForm",this.handleSubmit),window.removeEventListener("beforeunload",this.handleUnloadEvent)}},{key:"_init",value:function(){var e=this;return(0,d.getEditorFields)(this.props.challenge.id,this.fields.join(",")).then(function(t){e._initConfigs(t),e._initEditorSaveStates(t),e.setState({initialized:!0})}).catch(function(e){return(0,p.default)("ChallengeFormEditorGroup _init",e)})}},{key:"_initConfigs",value:function(e){var t=this,r=this.props.S3BucketURL||window.jsk.s3u,n=this.props.AWSAccessKeyId||window.jsk.awsk;this.configs=this.fields.reduce(function(a,o){var i=(0,u.default)(e[o]);return t._initEditorSaveStates(o,i),a[o]=(0,s.default)(i,o,t.props.type,r,n,t._isOnCorrectTab.bind(t),t.editorWasUpdated),a},{})}},{key:"_initEditorSaveStates",value:function(e,t){this.editorSaveStates[e]=t}},{key:"_getFieldsForType",value:function(e){switch(e){case"overview":return E;case"rules":return P;default:return[]}}},{key:"editorWasUpdated",value:function(e){this.state.updatedEditors.includes(e)||this.setState({updatedEditors:this.state.updatedEditors.concat(e)})}},{key:"handlePeClickedEvent",value:function(e){this._isOnCorrectTab()&&e.detail.hash==="#".concat(this.props.type)&&this._hasUnsavedChanges()&&(e.detail.event.preventDefault(),confirm("There are unsaved changes\nAre you sure you want to move away?")&&(this._resetEditorStates(),this.setState({updatedEditors:[]},function(){e.detail.event.target.click()})))}},{key:"handleSubmit",value:function(){var e=this;if(this._isOnCorrectTab()){var t=this.fields.map(function(t){return(0,c.convertToJSONModel)(e[t].getEditorContent()).then(function(e){return Promise.resolve((a=e,(n=t)in(r={})?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r));var r,n,a}).catch(function(e){return Promise.reject(e)})});return this._toggleFormElements(!0),Promise.all(t).then(function(t){return Promise.all([t,(0,d.postEditorFields)(e.props.challenge.id,e._createPostData(t))])}).then(function(t){var r=g(t,1)[0];return e._setEditorSavedStates(r)}).then(function(){return e._onSubmitSuccess()}).catch(function(t){e._onSubmitError(t),(0,p.default)("Submission Error: ",t)})}}},{key:"handleUnloadEvent",value:function(e){if(this._isOnCorrectTab()&&this._hasUnsavedChanges()){var t="There are unsaved changes.";return(e||window.event).returnValue=t,t}}},{key:"_createPostData",value:function(e){return e.reduce(function(e,t){var r=Object.keys(t)[0];return e["challenge[".concat(r,"_json]")]=JSON.stringify(t[r]),e},{panel:this.props.type})}},{key:"_hasUnsavedChanges",value:function(){if(!this.state.updatedEditors.length)return!1;for(var e=!1,t=0;t<=this.state.updatedEditors.length-1&&!e;t++){var r=this.state.updatedEditors[t];this.editorSaveStates.hasOwnProperty(r)&&!(0,i.default)(this.editorSaveStates[r],this[r].getEditorContent())&&(e=!0)}return e}},{key:"_isOnCorrectTab",value:function(){return(window.location.hash||"").includes(this.props.type)}},{key:"_onSubmitError",value:function(){this._triggerMessenger({msg:"Sorry, there was an error saving your form!",type:"error"}),this._toggleFormElements(!1)}},{key:"_onSubmitSuccess",value:function(e){this._triggerMessenger(),this._toggleFormElements(!1)}},{key:"_resetEditorStates",value:function(){var e=this;this.state.updatedEditors.forEach(function(t,r){0===r&&e[t].props.config.isEditorBusy(!1),e.editorSaveStates.hasOwnProperty(t)&&e[t].__resetEditorState(e.editorSaveStates[t])})}},{key:"_setEditorSavedStates",value:function(e){var t=this;return new Promise(function(r){e.forEach(function(e){var r=Object.keys(e)[0];t.editorSaveStates[r]=e[r]}),t.setState({updatedEditors:[]}),r()})}},{key:"_toggleFormElements",value:function(e){this._toggleProcessingOverlay(e),this._toggleSubmitButton(e)}},{key:"_toggleSubmitButton",value:function(e){var t=document.querySelector(window.location.hash),r=t?t.querySelector(".pe-submit"):null;r&&(r.innerHTML=e?'<i class="fa fa-circle-o-notch" />':"Save changes")}},{key:"_toggleProcessingOverlay",value:function(e){var t=document.querySelector(".pe-container");t&&(e&&!t.classList.contains("processing")?t.classList.add("processing"):!e&&t.classList.contains("processing")&&t.classList.remove("processing"))}},{key:"_triggerMessenger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,f.summonGlobalMessenger)(e)}},{key:"render",value:function(){var e=this;return this.state.initialized?n.default.createElement("div",null,this.fields.map(function(t,r){return n.default.createElement(l.default,y({key:r},w[t]),n.default.createElement(o.default,{ref:function(r){return e[t]=r},config:e.configs[t]}))})):null}}])&&_(r.prototype,a),m&&_(r,m),t}();k.propTypes={AWSAccessKeyId:a.default.string,S3BucketURL:a.default.string,challenge:a.default.shape({id:a.default.number.isRequired}).isRequired,type:a.default.oneOf(["overview","rules"]).isRequired};var S=k;t.default=S},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(1)),a=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.children,r=e.hint,n=e.label;return a.default.createElement("div",{className:"form-group"},a.default.createElement("div",{className:"col-sm-4"},a.default.createElement("label",{className:"text optional control-label",htmlFor:""},n),r&&a.default.createElement("div",{className:"help-block text-right"},r)),a.default.createElement("div",{className:"col-sm-8"},t))};i.propTypes={hint:n.default.string,label:n.default.string.isRequired};var l=i;t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.json&&e.json.length?(0,n.prepareModelForDraftsterInstance)(e.json):e.html&&e.html.length?e.html:""};var n=r(210)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(r,i){var u=new a.default(function(e,t){e&&i("DomHandler Error: ".concat(e)),r(function(e){return e.reduce(function(e,t,r){var n=e[e.length-1];if(n&&"ul"===n.tag&&"ul"===t.tag){var a=n.children.concat(t.children);e[e.length-1].children=a}else"p"!==t.tag||t.children.length||t.content?e.push(t):e.push(Object.assign({},t,{content:"",children:[{tag:"br",attribs:{},content:null,children:[]}]}));return e},[])}(function(e){return function e(t,r){return t.length?t.map(function(t){return t.name=function(e,t){var r={b:"strong",bold:"strong",italic:"em",i:"em",ol:"ul",h1:"h3",h2:"h3",h4:"h3"},n=r.hasOwnProperty(e)?r[e]:e;return s.hasOwnProperty(n)?n:t>0?"span":"p"}(t.name,r),"text"!==t.type||t.children?t.children&&1===t.children.length&&"text"===t.children[0].type?{tag:t.name,content:o.default.escape(t.children[0].data),attribs:t.attribs,children:[]}:{tag:t.name,content:null,attribs:t.attribs,children:e(t.children||[],r+1)}:{tag:"span",content:o.default.escape(t.data),attribs:{},children:[]}}).filter(function(e){return null!==e}):[]}(e,0)}(t).reduce(function(e,t,r){if(e.length>0&&"pre"===e[e.length-1].tag&&"pre"===t.tag){var n,a=d(t,!1);(n=e[e.length-1].children[0].children).push.apply(n,l(a))}else if("pre"===t.tag){var o={tag:"code",attribs:{},content:"",children:d(t,!0)};e.push({tag:"pre",attribs:{},content:"",children:[o]})}else e.push(t);return e},[])))},Object.assign({},t,{normalizeWhitespace:!1})),c=new n.default.Parser(u,{decodeEntities:!0});c.write(e),c.done()})},t.ElementWhiteList=t.BlockElements=void 0;var n=i(r(260)),a=i(r(346)),o=i(r(347));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u={p:!0,ul:!0,h3:!0,blockquote:!0,pre:!0};t.BlockElements=u;var s={p:!0,a:!0,pre:!0,blockquote:!0,ul:!0,h3:!0,code:!0,strong:!0,span:!0,br:!0,em:!0,li:!0};function c(e){return{tag:"span",attribs:{},content:e=e||"",children:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?[]:[{tag:"br",attribs:{},content:null,children:[]}];return e.children.length?(e.content&&t.push(c(e.content)),t.push.apply(t,l(function(e){var t=[];return function e(r){r.length&&r.forEach(function(r){r.children.length?e(r.children):"br"===r.tag?t.push({tag:"br",attribs:{},content:null,children:[]}):r.content&&r.content.length>0&&t.push(c(r.content))})}(e),t}(e.children)))):t.push(c(e.content)),t.filter(function(e){return null!==e})}t.ElementWhiteList=s},,,,,,,,,,,,,,,function(e,t){},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDescription=function(e,t){return new Promise(function(r,u){var g=new a.default(function(e,n){e&&u(e);var a=function(e,t){var r=[];e.forEach(function(t,n){var a,o;if(n>0&&"CE"===e[n-1].type&&"CE"===t.type)(a=r[r.length-1].json).push.apply(a,function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(o=t.json)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}());else if("Video"===t.type&&"iframe"===t.video[0].type){var i=(0,l.getVideoData)(t.video[0].embed);t.video[0]=Object.assign({},t.video[0],i),r.push(t)}else r.push(t)}),(r=r.map(function(e){return"CE"===e.type?(e.json=function e(t,r){return _.map(t,function(t){var n;return"script"===t.name||"comment"===t.name||"meta"===t.name?null:"br"===t.name&&r>1?null:(t.name={b:"strong",bold:"strong",italic:"em",i:"em",ol:"ul",h1:"h3",h2:"h3",h4:"h3"}[(n=t).name]||n.name,c[t.name]||(t.name=r>0?"span":"p"),"a"!==t.name||t.attribs.href&&i.default.isURL(t.attribs.href)?(t.attribs&&t.attribs.style&&(t.attribs.style=""),t.attribs&&t.attribs.class&&(t.attribs.class=""),"text"!==t.type||t.children?t.children&&1===t.children.length&&"text"===t.children[0].type?(t.children[0].data.match(/&nbsp;/g)&&(t.children[0].data=t.children[0].data.replace(/&nbsp;/g," ")),{tag:t.name,content:o.default.escape(t.children[0].data),attribs:t.attribs,children:[]}):{tag:t.name,content:null,attribs:t.attribs,children:e(t.children||[],r+1)}:(t.data.match(/&nbsp;/g)&&(t.data=t.data.replace(/&nbsp;/g," ")),{tag:"span",content:o.default.escape(t.data),attribs:{},children:[]})):null)}).filter(function(e){return null!==e})}(e.json,0),e.json=e.json.map(function(e){return"li"===e.tag?(e.tag="ul",e.children=[{tag:"li",content:e.content,attribs:{},children:[]}],e.content=null,(e=h(e)).content&&e.children.length||(e=null),e):"ul"===e.tag?(!e.children.length&&e.content&&e.content.length>0&&(e.children.push({tag:"li",attribs:{},children:[],content:e.content}),e.content=""),e.children=e.children.map(function(e){return e.children&&!e.children.length&&e.content&&e.content.length<=1&&("\n"===e.content||" "===e.content)?null:"li"!==e.tag?(e.tag="li",e):e}).filter(function(e){return null!==e}),e=h(e)):"div"===e.tag?(e.tag="p",e.children.length<1&&e.children.push({tag:"br",content:"",attribs:{},children:[]}),e):"h3"===e.tag?(e.children=(t=e.children,r={bold:!0,italic:!0,a:!0},t.map(function(e){return r[e.tag]&&(e.tag="span"),e})),e):"span"===e.tag?e.content&&"\n"===e.content||" "===e.content?null:(e.tag="p",e.children.length<1&&e.children.push({tag:"br",content:"",attribs:{},children:[]}),e):"br"===e.tag?null:s[e.tag.toUpperCase()]?"p"===e.tag&&e.children&&e.children.length<1?(e.content&&e.content.match(/\n/)&&(e.content=e.content.replace(/\n/g,"")),e.content&&!e.content.length&&(e=null),null!==e.content||e.children.length||(e=null),e):null!==e.children&&e.children.length||null!==e.content&&e.content.length?e:null:{tag:"p",content:"",attribs:{},children:[e]};var t,r}).filter(function(e){return null!==e}),t&&t.initialParse&&(e.json=function(e){return e.reduce(function(e,t){return"pre"===t.tag?(t.content&&t.content.length&&(e=e.concat(y(t))),t.children&&t.children.length>0&&t.children.forEach(function(t){var r=e[e.length-1];if(t.content&&t.content.length)if(r&&"pre"===r.tag){var n=function(e,t){var r=e.children[0].children[e.children[0].children.length-1];return r&&r.content.match(/[\n\r]/g)?{appended:!1,pre:e}:(e.children[0].children.push(t),{appended:!0,pre:e})}(r,t),a=n.appended,o=n.pre;a?e[e.length-1]=o:e=e.concat(y(t))}else e=e.concat(y(t));t.children&&t.children.length&&(e=e.concat(t.children.reduce(function(e,t){var r=e[e.length-1];return t.content&&t.content.includes("\n")?(t.content=t.content+" &nbsp;",r.children[0].children=r.children[0].children.concat(t),e[e.length-1]=r,e=e.concat({tag:"pre",content:null,attribs:{},children:[{tag:"code",content:null,attribs:{},children:[]}]})):(r.children[0].children=r.children[0].children.concat(t),e[e.length-1]=r),e},[{tag:"pre",content:null,attribs:{},children:[{tag:"code",content:null,attribs:{},children:[]}]}])))})):e.push(t),e},[])}(e.json)),e):e}).filter(function(e){return!("CE"===e.type&&!e.json.length)}))[r.length-1]&&"CE"!==r[r.length-1].type&&r.push({type:"CE",json:[{tag:"p",attribs:{},children:[],content:null}]});return r}(function(e){return e.map(function(e,t){var r,n;if("div"===e.name&&e.attribs.class&&-1!==e.attribs.class.indexOf("embed-frame"))return"widget"===e.attribs["data-type"]&&e.children&&-1!==e.children[0].attribs.class.indexOf("image_widget")||e.children&&e.children[0]&&e.children[0].attribs["data-hacksternova-key"]&&"ImageCarousel"===e.children[0].attribs["data-hacksternova-key"]?(a=[],function e(t){if(!t.children)return t;t.children.forEach(function(t){if("div"===t.name&&t.attribs["data-hacksternova-key"]&&"ImageCarousel"===t.attribs["data-hacksternova-key"]){var r=function(e){try{return JSON.parse(e)}catch(e){return{}}}(t.attribs["data-hacksternova-props"]||{});r.hasOwnProperty("images")&&(a=r.images)}e(t)})}(e),n=f(r=function(e){return e.map(function(e){return{id:e.id||null,url:e.image_urls.headline_url||e.image_urls.lightbox_url||"",alt:e.caption||"",figcaption:e.caption||"",show:!1}})}(a))):"video"===e.attribs["data-type"]?n=p(r=function(e){var t,r;return function e(n){if(!n.children)return n;n.attribs.class&&-1!==n.attribs.class.indexOf("embed-frame")&&"url"===n.attribs["data-type"]&&(t=n.attribs["data-url"]),n.children.forEach(function(n){void 0===t&&"source"===n.name&&(t=n.attribs.src),"div"===n.name&&n.attribs.class&&-1!==n.attribs.class.indexOf("embed-figcaption")&&(r=n.children.length?n.children[0].data:""),e(n)})}(e),[{embed:t,figcaption:r||"",service:"mp4",type:""}]}(e)):"url"===e.attribs["data-type"]?n="repo"===(r=function(e){var t,r,n,a;return function e(o){if(!o.children)return o;o.attribs.class&&-1!==o.attribs.class.indexOf("embed-frame")&&"url"===o.attribs["data-type"]&&(t=o.attribs["data-url"],n="iframe"),o.children.forEach(function(o){o.attribs&&o.attribs.class&&-1!==o.attribs.class.indexOf("embed-img")&&(n="image"),"iframe"===o.name&&o.attribs.src&&(t=o.attribs.src),o.attribs&&o.attribs["data-repo"]&&(n="repo",a=o.attribs.class),"div"===o.name&&o.attribs.class&&-1!==o.attribs.class.indexOf("embed-figcaption")&&(r=o.children.length?o.children[0].data:""),e(o)})}(e),[{embed:t,figcaption:r||"",type:n||"",widgetType:a||""}]}(e))[0].type?m(r[0]):p(r):"file"===e.attribs["data-type"]?n=(r=function(e){var t,r,n=e.attribs["data-file-id"],a=e.attribs["data-caption"]||"";return function e(n){if(!n.children)return n;n.children.forEach(function(n){"a"===n.name&&(t=n.attribs.href,r=n.children[0].data),e(n)})}(e),{caption:a,content:r,id:n,url:t}}(e)).url&&r.id?function(e){return{type:"File",data:e}}(r):null:"widget"===e.attribs["data-type"]?(e.children&&-1!==e.children[0].attribs.class.indexOf("old_code_widget")?n=m(r=d(e)):e.children&&-1!==e.children[0].attribs.class.indexOf("parts_widget")&&(n=m(r=d(e))),n):null;if("img"===e.name)return n=f(r=[{url:e.attribs.src,alt:e.attribs.alt||""}]);var a,o=function(e){var t=!1,r={div:!0,p:!0,ul:!0,blockquote:!0,pre:!0,h3:!0},n=function e(n,a){var o;if(!n.children)return n;for(var l=n.children.length;l>0;l--)"script"!==(o=n.children[l-1]).type&&"script"!==o.name||o.parent.children.splice(l-1,1),"img"===o.name&&(t="image"),"a"!==o.name||o.attribs.href&&i.default.isURL(o.attribs.href)||(o.name="em"),void 0===o.name&&(o.name="span",o.attribs=o.attribs||{}),r[o.name]&&0!==a?o.name="span":"div"===o.name&&0===a&&(o.name="p"),o.children&&o.children.length>0?(e(o,a+1),o.children.length<1&&o.parent.children.splice(l-1,1)):!o.data&&"img"!==o.name&&o.attribs["data-type"]&&"url"!==o.attribs["data-type"]&&o.parent.children.splice(l-1,1);return n}(e,0);return{mediaType:t,el:n}}(e);return o.mediaType?[n=f(r=function(e){var t=[];return function e(r){var n={};if(!r.children)return r;r.children.forEach(function(r){"img"===r.name&&(r.parent&&r.parent.parent&&r.parent.parent.parent&&r.parent.parent.parent.attribs["data-file-id"]&&(n.id=r.parent.parent.parent.attribs["data-file-id"]),n.url=r.attribs.src,n.alt=r.attribs.alt||"",n.figcaption="",n.show=!1,t.push(n)),e(r)})}(e),t}(o.el)),{type:"CE",json:[o.el]}]:{type:"CE",json:[o.el]}}).filter(function(e){return null!==e}).reduce(function(e,t){return Array.isArray(t)?e=e.concat(t):e.push(t),e},[])}(n),t);r(a)},{}),v=new n.default.Parser(g,{decodeEntities:!0});v.write(e),v.done()})},t.ElementWhiteList=void 0;var n=u(r(260)),a=u(r(346)),o=u(r(347)),i=u(r(49)),l=r(448);function u(e){return e&&e.__esModule?e:{default:e}}var s={P:!0,UL:!0,H3:!0,BLOCKQUOTE:!0,PRE:!0},c={p:!0,a:!0,pre:!0,blockquote:!0,ul:!0,h3:!0,code:!0,strong:!0,span:!0,br:!0,em:!0,li:!0};function d(e){return{id:e.attribs["data-widget-id"],type:"widget",widgetType:e.children[0].attribs.class.split(" ").pop()}}function f(e){return e.length?(e[0].show=!0,{type:"Carousel",images:e}):null}function p(e){return{type:"Video",video:e}}function m(e){return{type:"WidgetPlaceholder",data:e}}function h(e){var t=function e(t){return t.length?t.map(function(t){return t.children.length||t.content&&null===t.content.match(/^[\u21B5|\s+]{1}$/)?(t.children=e(t.children),t.children.length||t.content&&null===t.content.match(/^[\u21B5|\s+]{1}$/)||(t=null),t):null}).filter(function(e){return null!==e}):t}(e.children);return e.children=t,e}function y(e){return e.content.replace(/[\n\r]/g,"\n").split("\n").reduce(function(e,t,r,n){return t.length&&e.push(t),r!==n.length-1||e.length||e.push("\n &nbsp;"),e},[]).map(function(t){return{tag:"pre",content:"",attribs:{},children:[{tag:"code",content:null,attribs:{},children:[{tag:e.tag,content:t,attribs:e.attribs,children:[]}]}]}})}t.ElementWhiteList=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,a,o,i,l){return{className:"story-editor",editorWasUpdated:function(){l(t)},handleImageUpload:function(e,t){return(0,n.uploadImageToServer)(e,a,o).then(function(e){return t(null,e)}).catch(function(r){return t(r,e)})},hideEditor:function(){return!i()},isEditorBusy:function(e){var t="#".concat(r);[].slice.call(document.querySelectorAll("".concat(t," .react-submit-btn"))).forEach(function(t){!t.getAttribute("disabled")&&e?(t.setAttribute("disabled",!0),t.text="Image uploading..."):t.getAttribute("disabled")&&!e&&(t.removeAttribute("disabled"),t.text="Save changes")})},processImage:function(e){return(0,n.processRemoteImage)(e)},setInitialContent:function(){return e},toolbar:{carousel:!1,linkedImage:!0}}};var n=r(210)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEditorFields=function(e,t){return o.default.apiRequest((0,n.default)("".concat(o.default.getApiPath(),"/v2/contests/").concat(e)).query({fields:t}))},t.postEditorFields=function(e,t){return o.default.apiRequest(n.default.post("/contests/".concat(e)).set("Content-Type","application/x-www-form-urlencoded; charset=UTF-8").set("X-CSRF-Token",(0,a.default)()).type("form").send(Object.assign({_method:"patch"},t)))};var n=i(r(35)),a=i(r(704)),o=i(r(40));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=N(r(1)),o=N(r(252)),i=N(r(38)),l=N(r(1769)),u=N(r(106)),s=N(r(1778)),c=N(r(1779)),d=N(r(824)),f=N(r(108)),p=N(r(1781)),m=N(r(1784)),h=N(r(7)),y=N(r(28)),g=r(14),_=r(67),v=r(11),b=r(8),O=r(45),w=N(r(1785)),E=N(r(1786)),P=r(261),k=r(1787),S=r(472),C=r(1788),j=N(r(2)),R=N(r(3)),T=N(r(212));function N(e){return e&&e.__esModule?e:{default:e}}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=function(e,t){return n.default.createElement("span",{className:j.default.flexCenterItems,style:{lineHeight:1}},n.default.createElement("span",{className:j.default.marginRight5},e),n.default.createElement("span",{className:R.default.iconBaselineFix},n.default.createElement(d.default,{offsetX:5,tooltip:t})))},F=[{label:B("Default prizes",k.DEFUALT_PRIZES_RADIO_COPY),value:P.RANKED_PRIZES_MODE},{label:B("Category prizes",k.CATEGORY_PRIZES_RADIO_COPY),value:P.CATEGORY_PRIZES_MODE}],U=function(e){function t(e){var r,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this;var i=(n=!(o=D(t).call(this,e))||"object"!==M(o)&&"function"!=typeof o?q(a):o)._initCategories(e.challenge.prize_categories),l=n._initMode(i),u=(I(r={},P.CATEGORY_PRIZES_MODE,l===P.CATEGORY_PRIZES_MODE&&i.length>0?i:[]),I(r,P.RANKED_PRIZES_MODE,l===P.RANKED_PRIZES_MODE&&i.length>0?i:[(0,S.createRankedCategory)(P.RANKED_DEFAULT)]),r),s=e.challenge.prizes_intro||"",c=s.length>0;return n.state={customIntro:s,errors:{},lastUseCustomIntroSaveState:c,lastIntroSaveState:s,lastSaveState:u,mode:l,sortMode:!1,store:u,useCustomIntro:c},n.addCategory=n.addCategory.bind(q(n)),n.deleteCategory=n.deleteCategory.bind(q(n)),n.handleBeforeUnloadEvent=n.handleBeforeUnloadEvent.bind(q(n)),n.handlePeClickedEvent=n.handlePeClickedEvent.bind(q(n)),n.handleSubmit=n.handleSubmit.bind(q(n)),n.onSortModeCheckboxChange=n.onSortModeCheckboxChange.bind(q(n)),n.updateCategory=n.updateCategory.bind(q(n)),n.updateCategoryOrder=n.updateCategoryOrder.bind(q(n)),n}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._listenToSubmitBtn(),this._listenToWindowEvents()}},{key:"_initCategories",value:function(e){return e.map(function(e){return(0,S.initCategoryFromProps)(e)})}},{key:"_initMode",value:function(e){return!e||e&&!e.length?P.RANKED_PRIZES_MODE:e.length>2?P.CATEGORY_PRIZES_MODE:-1!==e.findIndex(function(e){return e.is_ranked&&(0,v.isBlank)(e.name)})?P.RANKED_PRIZES_MODE:P.CATEGORY_PRIZES_MODE}},{key:"_listenToSubmitBtn",value:function(){var e=document.querySelector(".react-prizes-submit-btn");e&&e.addEventListener("click",this.handleSubmit)}},{key:"_listenToWindowEvents",value:function(){window.addEventListener("clicked:nav",this.handlePeClickedEvent),window.addEventListener("beforeunload",this.handleBeforeUnloadEvent)}},{key:"addCategory",value:function(e){var t=this.state.store[this.state.mode].concat(this._createNewCategory(e));this.setState({store:Object.assign({},this.state.store,I({},this.state.mode,t))})}},{key:"deleteCategory",value:function(e){this.setState({store:this._deleteCategoryFromStore(e)})}},{key:"handleBeforeUnloadEvent",value:function(e){if(!this._isCurrentCategoryEqualToLastSaveState()){var t="There are unsaved changes.";return(e||window.event).returnValue=t,t}}},{key:"handlePeClickedEvent",value:function(e){"#prizes"!==e.detail.hash||this._isCurrentCategoryEqualToLastSaveState()||(e.detail.event.preventDefault(),window.confirm("There are unsaved changes\nAre you sure you want to move away?")&&this.setState({customIntro:this.state.lastIntroSaveState,store:this.state.lastSaveState,useCustomIntro:this.state.lastUseCustomIntroSaveState},function(){e.detail.event.target.click()}))}},{key:"handleSubmit",value:function(){var e=this._validate();e&&!this._isCurrentCategoryEqualToLastSaveState()?this._submitCurrentStore():e&&(0,C.triggerMessenger)({msg:"Nothing to save, you're all caught up!"})}},{key:"onSortModeCheckboxChange",value:function(e){var t=this;this.setState({sortMode:e},function(){return t._scrollToCategoryList(e)})}},{key:"updateCategory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,b.getIdOrUuid)(e),n=Object.keys(t).length>0?Object.assign({},this.state.errors,I({},r,t)):(0,O.removeFromObject)(this.state.errors,r.toString());this.setState({errors:n,store:this._updateRecordInStore(e)})}},{key:"updateCategoryOrder",value:function(e){this.setState({store:Object.assign({},this.state.store,I({},this.state.mode,e.map(function(e,t){return Object.assign({},e,{position:t})})))})}},{key:"_canDeleteCategory",value:function(e){return e.type!==P.RANKED_DEFAULT}},{key:"_createNewCategory",value:function(e){return this.state.mode===P.RANKED_PRIZES_MODE?this._createNewCategoryForDefaultMode():this._createNewCategoryForCategoryMode(e)}},{key:"_createNewCategoryForCategoryMode",value:function(e){switch(e){case P.RUNNER_UPS:return(0,S.createSinglePrizeCategory)(!0);case P.CATEGORY_CUSTOM:return(0,S.createSinglePrizeCategory)(!1);default:return(0,S.createRankedCategory)(P.CATEGORY_RANKED)}}},{key:"_createNewCategoryForDefaultMode",value:function(){return(0,S.createSinglePrizeCategory)(!0)}},{key:"_deleteCategoryFromStore",value:function(e){var t=this.state.store[this.state.mode].filter(function(t){return!(0,_.doesRecordsMatch)(t,e)});return Object.assign({},this.state.store,I({},this.state.mode,t))}},{key:"_findRecordByPositionAndName",value:function(e,t,r){return r.find(function(r,n){return(r.hasOwnProperty("position")?r.position:n)===t&&e.name===r.name})}},{key:"_getCurrentStore",value:function(){return this.state.store[this.state.mode]}},{key:"_getEnterableCategories",value:function(){var e=[P.RUNNER_UPS,P.RANKED_DEFAULT];return this._getCurrentStore().filter(function(t){return!e.includes(t.type)&&!(0,v.isBlank)(t.name)}).sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})}},{key:"_getErrorsForCategory",value:function(e){var t=(0,b.getIdOrUuid)(e);return this.state.errors&&this.state.errors.hasOwnProperty(t)?this.state.errors[t]:{}}},{key:"_getPrizeDataForIntroduction",value:function(){return this._getCurrentStore().reduce(function(e,t){return t.prizes.forEach(function(t){t.cash_value&&(e.totalCash+=parseInt(t.cash_value)),e.totalPrizes+=1}),e},{totalCash:0,totalPrizes:0})}},{key:"_getTitleForCategory",value:function(e){return(0,v.isBlank)(e.name)?this.state.mode===P.RANKED_PRIZES_MODE?(0,S.getDefaultTitleForHeader)(e.type):(0,S.getCustomTitleForHeader)(e.type):e.name}},{key:"_isCurrentCategoryEqualToLastSaveState",value:function(){return this.state.useCustomIntro===this.state.lastUseCustomIntroSaveState&&this.state.customIntro===this.state.lastIntroSaveState&&(0,o.default)(this._getCurrentStore(),this.state.lastSaveState[this.state.mode])}},{key:"_scrollToCategoryList",value:function(e){if(e){var t=document.getElementById("categoryPrizeList");t&&t.getBoundingClientRect().top<0&&(0,y.default)(t,200,null)}}},{key:"_submitCurrentStore",value:function(){var e=this,t=this.state.useCustomIntro?this.state.customIntro:null,r=this._translateChallengeForPost(t,this._getCurrentStore());return this._toggleFormElements(!0),(0,g.graphMutate)({t:"update_challenge_prizes"},Object.assign({},r)).then(function(t){var r=e._updateStorePostSave(t.challenge.prize_categories,e._getCurrentStore()),n=Object.assign({},e.state.store,I({},e.state.mode,r));e.setState({lastIntroSaveState:e.state.customIntro,lastSaveState:n,lastUseCustomIntroSaveState:e.state.useCustomIntro,store:n},function(){return e._submitResolver()})}).catch(function(t){e._submitResolver({msg:"Sorry, we couldn't save the form!",type:"error"}),(0,h.default)("ChallengePrizeEditor _submitCurrentStore",t)})}},{key:"_submitResolver",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._toggleFormElements(!1),(0,C.triggerMessenger)(e)}},{key:"_toggleMode",value:function(e){var t=e.target.value;[P.RANKED_PRIZES_MODE,P.CATEGORY_PRIZES_MODE].includes(t)&&this.setState({sortMode:!1,mode:t})}},{key:"_toggleFormElements",value:function(e){(0,C.toggleProcessingOverlay)(e,".pe-container"),(0,C.toggleSubmitButton)(e,".react-prizes-submit-btn")}},{key:"_translateChallengeForPost",value:function(e,t){var r=this,n=e&&e.length>0?e:null,a=t.map(function(e){return r._translateCategoryForRequest(e)});return{id:this.props.challenge.id,prizes_intro:n,prize_categories:a}}},{key:"_translateCategoryForRequest",value:function(e){var t=this,r=["isCollapsed","type","uuid"];return Object.keys(e).reduce(function(n,a){return r.includes(a)?n:("prizes"===a?n.prizes=e.prizes.map(function(e){return t._translatePrizeForRequest(e)}):t.state.mode===P.RANKED_PRIZES_MODE&&"name"===a&&e.type===P.RANKED_DEFAULT?n.name=null:n[a]=e[a],n)},{})}},{key:"_translatePrizeForRequest",value:function(e){var t=["uuid"];return Object.keys(e).reduce(function(r,n){return t.includes(n)?r:("image"===n?r.image_id=(0,v.isBlank)(e.image)||(0,v.isBlank)(e.image.id)?null:e.image.id:r[n]=e[n],r)},{})}},{key:"_updateRecordInStore",value:function(e){var t=this.state.store[this.state.mode].map(function(t){return(0,_.doesRecordsMatch)(t,e)?e:t});return Object.assign({},this.state.store,I({},this.state.mode,t))}},{key:"_updateStorePostSave",value:function(e,t){var r=this;return t.map(function(t,n){if(t.hasOwnProperty("id")&&!(0,v.isBlank)(t.id))return t;var a=r._findRecordByPositionAndName(t,n,e);return a?Object.assign({},t,{id:a.id,prizes:t.prizes.map(function(e){var t=r._findRecordByPositionAndName(e,e.position,a.prizes);return t?Object.assign({},e,{id:t.id}):e})}):t})}},{key:"_validate",value:function(){var e=this,t=(0,E.default)(this._getCurrentStore()),r=t.errors;return!t.hasErrors||(this.setState({errors:r},function(){return(0,w.default)(r,e._getCurrentStore())}),!1)}},{key:"_getCategories",value:function(){return this.state.sortMode?this._getCategoriesSortableView():this._getCategoryWithPrizesView()}},{key:"_getCategoryWithPrizesView",value:function(){var e=this,t=this._getCurrentStore();return t.length?t.map(function(t){return n.default.createElement(l.default,A({},t,{key:t.id||t.uuid,canDelete:e._canDeleteCategory(t),errors:e._getErrorsForCategory(t),onDelete:function(){return e.deleteCategory(t)},title:e._getTitleForCategory(t),updateCategoryValue:function(r,n,a){return e.updateCategory(Object.assign({},t,I({},r,n)),a)}}))}):this._getEmptyCategoryListView()}},{key:"_getEmptyCategoryListView",value:function(){return n.default.createElement("div",{className:T.default.category},n.default.createElement("div",{className:"".concat(T.default.categoryHeader," ").concat(T.default.noBorder)},n.default.createElement("div",{className:T.default.categoryHeaderText},n.default.createElement("h4",{className:"".concat(R.default.h4)},"Create a category using the menu below"))))}},{key:"_getCategoriesSortableView",value:function(){var e=this;return n.default.createElement(p.default,{classList:{list:T.default.sortableList,onDrag:T.default.sortableOnDrag},components:{Row:function(t){return e._getSortableCategoryRowView(t)}},items:this._getCurrentStore(),updateItemsOrder:function(t){return e.updateCategoryOrder(t)},useDragHandle:!1})}},{key:"_getIntroduction",value:function(){return this.state.useCustomIntro?this._getCustomIntroView():this._getDefaultIntroView()}},{key:"_getCustomIntroView",value:function(){var e=this;return n.default.createElement("div",{className:j.default.marginTop15},n.default.createElement(i.default,{element:"textarea",onChange:function(t){return e.setState({customIntro:t.target.value})},placeholder:"Write an introduction to the prize section of your contest.",value:this.state.customIntro}))}},{key:"_getDefaultIntroView",value:function(){return n.default.createElement("div",{className:j.default.marginTop15},n.default.createElement("p",{className:"".concat(R.default.bodyS," ").concat(j.default.marginBottom5)},"Default introduction:"),n.default.createElement("p",{className:R.default.bodyS},(0,S.getDefaultIntroduction)(this._getPrizeDataForIntroduction())))}},{key:"_getSortableCategoryRowView",value:function(e){var t=this;return n.default.createElement(m.default,A({},e,{getTitleForCategory:function(e){return t._getTitleForCategory(e)}}))}},{key:"_getSubTextForCategoriesHeader",value:function(){return this.state.mode!==P.CATEGORY_PRIZES_MODE?null:n.default.createElement("p",{className:"".concat(R.default.bodyS," ").concat(j.default.marginBottom10)},k.CATEGORIES_PRIZES_MODE_SUB_COPY)}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:T.default.root},n.default.createElement("div",{className:"".concat(T.default.prizesContainer)},n.default.createElement("div",null,n.default.createElement("div",{className:T.default.sectionHeader},n.default.createElement("h2",{className:"".concat(R.default.h2," ").concat(j.default.marginBottom10)},"Introduction"),n.default.createElement("p",{className:"".concat(R.default.bodyS," ").concat(j.default.marginBottom10)},"This is an introduction to the prize section in your contest brief.")),n.default.createElement("div",{className:j.default.marginBottom45},n.default.createElement(u.default,{label:"Create a custom introduction",isChecked:this.state.useCustomIntro,onChange:function(t){return e.setState({useCustomIntro:t})},value:this.state.useCustomIntro}),this._getIntroduction())),n.default.createElement("div",null,n.default.createElement("div",null,n.default.createElement("div",{className:T.default.sectionHeader},n.default.createElement("h2",{className:"".concat(R.default.h2," ").concat(j.default.marginBottom10)},"Group type")),n.default.createElement(f.default,{buttons:F,name:"undefined",onChange:function(t){return e._toggleMode(t)},value:this.state.mode})),n.default.createElement("div",{id:"categoryPrizeList"},n.default.createElement("div",{className:"".concat(T.default.sectionHeader," ").concat(j.default.marginBottom0)},n.default.createElement("h2",{className:"".concat(R.default.h2," ").concat(j.default.marginBottom10)},"Categories"),this._getSubTextForCategoriesHeader(),n.default.createElement("div",null,this.state.sortMode&&n.default.createElement("p",{className:"".concat(R.default.bodyS," ").concat(j.default.marginBottom10)},n.default.createElement("span",null,"Sort mode is on. Drag and drop a category to reposition. "),n.default.createElement("span",{className:R.default.linkBlue,onClick:function(){return e.setState({sortMode:!1})}},"Turn sort mode off.")))),this._getCategories()),n.default.createElement(c.default,{addCategory:this.addCategory,categories:this._getCurrentStore(),mode:this.state.mode,onSortModeCheckboxChange:this.onSortModeCheckboxChange,sortMode:this.state.sortMode}))),this.state.mode===P.CATEGORY_PRIZES_MODE&&n.default.createElement(s.default,{categories:this._getEnterableCategories(),updateCategory:this.updateCategory}))}}])&&x(r.prototype,a),d&&x(r,d),t}();U.propTypes={challenge:a.default.shape({prize_categories:a.default.arrayOf(a.default.shape({description:a.default.string,id:a.default.number.isRequired,is_enterable:a.default.bool.isRequired,is_ranked:a.default.bool,is_runner_up:a.default.bool,name:a.default.string,position:a.default.number,prizes:a.default.arrayOf(a.default.shape({cash_value:a.default.number,description:a.default.string,id:a.default.number.isRequired,image:a.default.shape({id:a.default.number.isRequired,url:a.default.string.isRequired}),link:a.default.string,name:a.default.string.isRequired,position:a.default.number,quantity:a.default.number,requires_shipping:a.default.bool}))})),id:a.default.number.isRequired,prizes_intro:a.default.string}).isRequired},U.defaultProps={challenge:null};var V=U;t.default=V},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=_(r(1)),o=_(r(38)),i=_(r(9)),l=_(r(819)),u=_(r(1777)),s=r(67),c=r(8),d=r(45),f=r(472),p=r(261),m=_(r(21)),h=_(r(2)),y=_(r(3)),g=_(r(212));function _(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,P(t).call(this,e))}var r,a,_;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this._autoFocusNameInput()}},{key:"_autoFocusNameInput",value:function(){var e=document.getElementById(this._getNameId());e&&e.focus()}},{key:"_getErrorsForAttr",value:function(e){return this.props.errors&&this.props.errors.hasOwnProperty(e)?this.props.errors[e]:null}},{key:"_getErrorForSingularPrize",value:function(e){var t=this._getErrorsForAttr("prizes"),r=(0,c.getIdOrUuid)(e);return t&&t.hasOwnProperty(r)?t[r]:null}},{key:"_getIdOrUuid",value:function(){return this.props.id||this.props.uuid}},{key:"_getNameId",value:function(){return"categoryName".concat(this._getIdOrUuid())}},{key:"_hasErrors",value:function(){return Object.keys(this.props.errors).length>0}},{key:"_updatePrizeInPrizes",value:function(e,t,r){var n=this.props.prizes.map(function(n){return(0,s.doesRecordsMatch)(r,n)?Object.assign({},r,O({},e,t)):n});this.props.updateCategoryValue("prizes",n,this._updatePrizeErrors(e,r))}},{key:"_updateCategoryValue",value:function(e,t){this.props.updateCategoryValue(e,t,this._updateCategoryErrors(e))}},{key:"_updateCategoryErrors",value:function(e){return!this.props.errors||this.props.errors&&!this.props.errors.hasOwnProperty(e)?this.props.errors:(0,d.removeFromObject)(this.props.errors,e)}},{key:"_updatePrizeErrors",value:function(e,t){if(!this.props.errors||this.props.errors&&!this.props.errors.hasOwnProperty("prizes"))return this.props.errors;var r=(0,c.getIdOrUuid)(t);if(!this.props.errors.prizes.hasOwnProperty(r))return this.props.errors;var n=(0,d.removeFromObject)(this.props.errors.prizes[r],e),a=Object.keys(n).length>0?Object.assign({},this.props.errors.prizes,O({},r,n)):(0,d.removeFromObject)(this.props.errors.prizes,r.toString());return Object.keys(a).length>0?Object.assign({},this.props.errors,{prizes:a}):(0,d.removeFromObject)(this.props.errors,"prizes")}},{key:"_getBody",value:function(){var e=this;if(!this.props.isCollapsed)return n.default.createElement("div",null,this.props.type!==p.RANKED_DEFAULT&&n.default.createElement("div",{className:h.default.marginTop30},n.default.createElement("div",{"data-category-name":this._getIdOrUuid()},n.default.createElement(o.default,{errors:this._getErrorsForAttr("name"),id:this._getNameId(),label:"Category name (is required)",onChange:function(t){return e._updateCategoryValue("name",t.target.value)},value:this.props.name})),n.default.createElement(o.default,{element:"textarea",label:"Category description (optional)",onChange:function(t){return e._updateCategoryValue("description",t.target.value)},value:this.props.description})),this._getPrizes())}},{key:"_getPrizes",value:function(){return this.props.prizes.length>1?this._getRankedPrizeList():this._getPrize()}},{key:"_getPrize",value:function(){var e=this,t=this.props.prizes[0];return n.default.createElement(l.default,b({},t,{allowQuantity:!0,errors:this._getErrorForSingularPrize(t),updateAttribute:function(r,n){return e._updatePrizeInPrizes(r,n,t)}}))}},{key:"_getRankedPrizeList",value:function(){var e=this;return n.default.createElement(u.default,{errors:this._getErrorsForAttr("prizes"),prizes:this.props.prizes,updatePrize:function(t,r,n){return e._updatePrizeInPrizes(t,r,n)}})}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:g.default.category},n.default.createElement("div",{className:"".concat(g.default.categoryHeader," ").concat(this._hasErrors()?g.default.categoryHeaderError:""),"data-category-header":this._getIdOrUuid()},n.default.createElement("div",{className:g.default.categoryHeaderText,onClick:function(){return e._updateCategoryValue("isCollapsed",!e.props.isCollapsed)}},n.default.createElement("h3",{className:"".concat(y.default.h4," ").concat(this._hasErrors()?y.default.error:"")},this.props.title,n.default.createElement("span",null," "),n.default.createElement("span",{className:y.default.bodyS},(0,f.getCategoryTypeForHeader)(this.props.type,this.props.name))),this._hasErrors()&&n.default.createElement("span",{className:"".concat(m.default.error," ").concat(h.default.marginLeft15)}," This category has errors.")),n.default.createElement("div",{className:h.default.flex},this.props.canDelete&&n.default.createElement(i.default,{className:g.default.trash,name:"delete",onClick:this.props.onDelete}),n.default.createElement(i.default,{className:"".concat(g.default.arrow," ").concat(this.props.isCollapsed?"":g.default.arrowSelected),name:"arrow-down",onClick:function(){return e._updateCategoryValue("isCollapsed",!e.props.isCollapsed)}}))),this._getBody())}}])&&w(r.prototype,a),_&&w(r,_),t}();S.propTypes={canDelete:a.default.bool.isRequired,description:a.default.string,errors:a.default.shape({name:a.default.string,prizes:a.default.shape(O({},a.default.string,a.default.shape(O({},a.default.string,a.default.string))))}),id:a.default.number,is_ranked:a.default.bool.isRequired,is_runner_up:a.default.bool.isRequired,name:a.default.string,onDelete:a.default.func.isRequired,prizes:a.default.arrayOf(a.default.shape({cash_value:a.default.oneOfType([a.default.number,a.default.string]),description:a.default.string,id:a.default.number,image:a.default.shape({id:a.default.number,url:a.default.string}),link:a.default.string,name:a.default.string,position:a.default.number,quantity:a.default.oneOfType([a.default.number,a.default.string]),requires_shipping:a.default.bool,uuid:a.default.string})).isRequired,title:a.default.string.isRequired,type:a.default.string.isRequired,updateCategoryValue:a.default.func.isRequired,uuid:a.default.string},S.defaultProps={description:null,errors:{},id:null,name:null,uuid:null};var C=S;t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=_(r(1)),o=_(r(15)),i=_(r(42)),l=_(r(821)),u=r(178),s=r(8),c=r(11),d=r(67),f=_(r(10)),p=_(r(21)),m=_(r(2)),h=_(r(3)),y=_(r(5)),g=_(r(1772));function _(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=O(t).call(this,e))||"object"!==v(a)&&"function"!=typeof a?w(n):a).state={showDialog:!1},r.dismissDialog=r.dismissDialog.bind(w(r)),r.handleInputKeyDown=r.handleInputKeyDown.bind(w(r)),r.handleUploadBtnClick=r.handleUploadBtnClick.bind(w(r)),r.handleURLSubmit=r.handleURLSubmit.bind(w(r)),r}var r,a,_;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,n.Component),r=t,(a=[{key:"dismissDialog",value:function(){this.state.showDialog&&this.setState({showDialog:!1})}},{key:"handleInputKeyDown",value:function(e){e.keyCode===u.ENTER&&(e.preventDefault(),e.stopPropagation(),this.handleURLSubmit(e))}},{key:"handleUploadBtnClick",value:function(e){this.dismissDialog(),this.props.handleUploadBtnClick(e)}},{key:"handleURLSubmit",value:function(e){this.dismissDialog(),this.props.handleURLSubmit(e)}},{key:"_hasImageURL",value:function(){return(0,d.objHasPropertyOfLength)(this.props.imageData,"url")}},{key:"_getAfterUploadView",value:function(){var e=this;return n.default.createElement("div",null,n.default.createElement(o.default,{className:m.default.marginRight15,onClick:function(){return e.setState({showDialog:!0})},size:"lg"},"Change"),n.default.createElement(o.default,{size:"lg",onClick:this.props.handleDelete},"Remove"))}},{key:"_getBeforeUploadView",value:function(){return this.props.isBusy?n.default.createElement(l.default,null):this._getUploadBtns()}},{key:"_getBtnView",value:function(){return this._hasImageURL()?this._getAfterUploadView():this._getBeforeUploadView()}},{key:"_getURLInputView",value:function(){return n.default.createElement(n.Fragment,null,n.default.createElement("div",{className:"".concat(h.default.bodyM," ").concat(g.default.or)},"or"),n.default.createElement("div",{className:"".concat(g.default.urlInputWrapper," ").concat(m.default.flex1)},n.default.createElement("input",{className:"".concat(p.default.input," ").concat(p.default.openRight," ").concat(this.props.inputClassName),onChange:this.props.handleURLChange,onKeyDown:this.handleInputKeyDown,type:"text",value:this.props.remoteURL}),n.default.createElement(o.default,{className:"".concat(m.default.flex10Auto," ").concat(f.default.flatLeft),disabled:0===this.props.remoteURL.length,onClick:this.handleURLSubmit,size:"lg"},"Grab from URL")))}},{key:"_getDisplayWidth",value:function(){var e=this.props,t=e.dimensionMins,r=e.imageData,n=(0,s.getInObj)(["dimensions","width"],r);return(0,c.isNumber)(n)&&(0,c.isNumber)(t.width)?Math.min(n,t.width):n||t.width||"100%"}},{key:"_getPreview",value:function(){var e=this.props,t=e.aspectRatio,r=e.classList,a=e.imageData,o=e.placeholderUrl,i=this._hasImageURL()?a.url:o;if(!i)return null;var l=a.name||"";return n.default.createElement("div",{key:i,className:"".concat(g.default.previewWrapper," ").concat(r.previewWrapper),style:{width:this._getDisplayWidth()}},t?this._getPreviewWithAspectRatio(i,l):this._getPreviewWithoutAspectRatio(i,l))}},{key:"_getPreviewWithAspectRatio",value:function(e,t){return n.default.createElement("div",{style:{paddingTop:"".concat(1/this.props.aspectRatio*100,"%")}},n.default.createElement("img",{className:y.default.absolutePlaceholderChild,src:e,alt:t}))}},{key:"_getPreviewWithoutAspectRatio",value:function(e,t){return n.default.createElement("img",{className:m.default.maxWidth100P,src:e,alt:t})}},{key:"_getUploadBtns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.default.createElement("div",{className:!e&&this.props.stackedView?null:g.default.responsive},n.default.createElement("div",{className:"".concat(m.default.flexCenterItems," ").concat(g.default.buttons)},n.default.createElement(o.default,{className:g.default.fileButton,onClick:this.handleUploadBtnClick,size:"lg"},"Choose file"),this.props.allowRemoteURL&&this._getURLInputView()))}},{key:"render",value:function(){return n.default.createElement("div",null,this.props.showPreview&&this._getPreview(),this._getBtnView(),n.default.createElement(i.default,{dismiss:this.dismissDialog,open:this.state.showDialog,nestedDialogLevel:this.props.nestedDialogLevel,title:n.default.createElement("h2",{className:"".concat(h.default.h2," ").concat(h.default.textCenter," ").concat(m.default.marginBottom30)},"Change image")},this.state.showDialog&&this._getUploadBtns(!0)))}}])&&b(r.prototype,a),_&&b(r,_),t}();P.propTypes={allowRemoteURL:a.default.bool,aspectRatio:a.default.number,classList:a.default.shape({button:a.default.string,cancelButton:a.default.string,previewWrapper:a.default.string}),dimensionsMins:a.default.shape({width:a.default.number}),handleURLChange:a.default.func.isRequired,handleURLSubmit:a.default.func.isRequired,handleUploadBtnClick:a.default.func.isRequired,imageData:a.default.shape({dimensions:a.default.shape({width:a.default.number}),id:a.default.number,name:a.default.string,url:a.default.string}),inputClassName:a.default.string,nestedDialogLevel:a.default.number,placeholderUrl:a.default.string,remoteURL:a.default.string,showPreview:a.default.bool,stackedView:a.default.bool},P.defaultProps={allowRemoteURL:!0,aspectRatio:null,classList:{button:"",cancelButton:"",previewWrapper:""},dimensionMins:{},imageData:{},inputClassName:"",nestedDialogLevel:0,placeholderUrl:null,remoteURL:"",showPreview:!0,stackedView:!1};var k=P;t.default=k},function(e,t,r){e.exports={asphaltHover:"#BABABA",hackster:"#2E9FE6",wrapper:"progress_bar__wrapper__2WxCQ",barBase:"progress_bar__barBase__1Vuul",bg:"progress_bar__bg__2ghIP progress_bar__barBase__1Vuul",fill:"progress_bar__fill__1Ovu7 progress_bar__barBase__1Vuul",loading:"progress_bar__loading__3e5_9"}},function(e,t,r){e.exports={"med-min":"(min-width: 769px)",asphalt:"#D8D8D8",buttons:"basic_image_uploader__buttons__1mPsM",fileButton:"basic_image_uploader__fileButton__2ZeWj",or:"basic_image_uploader__or__3SQp8",previewWrapper:"basic_image_uploader__previewWrapper__195iU",urlInputWrapper:"basic_image_uploader__urlInputWrapper__2252L",responsive:"basic_image_uploader__responsive__2X-pS"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(1774)),i=f(r(15)),l=f(r(66)),u=r(178),s=r(12),c=f(r(2)),d=f(r(3));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=300,b=120,O=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=y(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?g(n):a).crop=r.crop.bind(g(r)),r.handleCropperReady=r.handleCropperReady.bind(g(r)),r.handleError=r.handleError.bind(g(r)),r.handleKeyDown=r.handleKeyDown.bind(g(r)),r.rotate=r.rotate.bind(g(r)),r.state={loading:!0},r._cropper,r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown),this._cropper&&this._cropper.img&&(this._cropper.img.onerror=this.handleError)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"crop",value:function(e){e.preventDefault(),this.props.handleImageCrop(this._cropper.getCroppedCanvas())}},{key:"handleCropperReady",value:function(){this._fitContainer(),this.setState({loading:!1})}},{key:"handleError",value:function(e){this.props.onError(e)}},{key:"handleKeyDown",value:function(e){e.keyCode===u.LEFT?(e.stopPropagation(),this.rotate(-90,e)):e.keyCode===u.RIGHT?(e.stopPropagation(),this.rotate(90,e)):e.keyCode===u.ENTER&&(e.stopPropagation(),this.crop(e))}},{key:"rotate",value:function(e,t){t&&t.preventDefault(),this._cropper.clear(),this._cropper.rotate(e),this._fitCanvas(),this._cropper.crop()}},{key:"_fitCanvas",value:function(){var e=this._cropper.cropper,t=e.getContainerData(),r=e.getCanvasData();r.height>=t.height?(e.setCanvasData({top:0,height:e.getContainerData().height}),e.setCanvasData({left:Math.floor((e.getContainerData().width-e.getCanvasData().width)/2)})):r.width>=t.width&&(e.setCanvasData({left:0,width:e.getContainerData().width}),e.setCanvasData({top:Math.floor((e.getContainerData().height-e.getCanvasData().height)/2)}))}},{key:"_fitContainer",value:function(){var e=this._cropper.cropper;if(e){var t=(0,s.windowInnerHeight)()-v,r=(0,s.windowInnerWidth)()-b,n=e.getContainerData(),a=Math.min(r/n.width,t/n.height);a<1&&(e.container.setAttribute("style","height: ".concat(n.height*a,"px; width: ").concat(n.width*a,"px;")),e.resize(),e.clear(),this._fitCanvas(),e.crop())}}},{key:"_getActions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.default.createElement("div",{className:"".concat(c.default.marginTop45," ").concat(d.default.textCenter)},n.default.createElement(i.default,{disabled:this.state.loading,onClick:this.crop,size:"lg"},"Crop image"),!e&&this._getRotateButtons(),n.default.createElement(i.default,{colorStyle:"cancel",disabled:this.state.loading,onClick:this.props.onCancel,size:"lg"},"Cancel"))}},{key:"_getRotateButtons",value:function(){var e=this;return n.default.createElement(n.Fragment,null,n.default.createElement(i.default,{className:c.default.marginLeft15,colorStyle:"blank",disabled:this.state.loading,onClick:function(t){return e.rotate(-90,t)},size:"lg"},n.default.createElement("i",{className:"fa fa-rotate-left"})),n.default.createElement(i.default,{className:c.default.marginLeft15,colorStyle:"blank",disabled:this.state.loading,onClick:function(t){return e.rotate(90,t)},size:"lg"},n.default.createElement("i",{className:"fa fa-rotate-right"})))}},{key:"_getSpinner",value:function(){return n.default.createElement("div",{className:"".concat(d.default.textCenter)},n.default.createElement("span",{className:d.default.iconBaseLineFix},n.default.createElement(l.default,{size:"16"}))," Loading...")}},{key:"render",value:function(){var e=this,t=Object.assign({src:this.props.src,aspectRatio:this.props.aspectRatio,background:this.props.background,guides:this.props.guides,movable:this.props.movable,zoomable:this.props.zoomable,rotatable:this.props.rotatable,scalable:this.props.scalable},this.props.options);return n.default.createElement("div",null,n.default.createElement(o.default,m({ref:function(t){return e._cropper=t},autoCropArea:1,ready:this.handleCropperReady,modal:!1,viewMode:2},t)),this.state.loading&&this._getSpinner(),this._getActions(this.props.renderBasicActions))}}])&&h(r.prototype,a),f&&h(r,f),t}();O.propTypes={aspectRatio:a.default.number,background:a.default.bool,guides:a.default.bool,handleImageCrop:a.default.func.isRequired,movable:a.default.bool,onError:a.default.func,options:a.default.object,renderBasicActions:a.default.bool,rotatable:a.default.bool,scalable:a.default.bool,src:a.default.string.isRequired,title:a.default.oneOfType([a.default.string,a.default.element]),zoomable:a.default.bool},O.defaultProps={aspectRatio:4/3,background:!1,guides:!1,movable:!1,onError:function(){},options:{},renderBasicActions:!1,rotatable:!0,scalable:!1,title:"Crop to fit",zoomable:!1};var w=O;t.default=w},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAttachmentTypeEnum=void 0;var n={AlternateCoverImage:"ALTERNATE_COVER_IMAGE",Avatar:"AVATAR",CoverImage:"COVER_IMAGE",Favicon:"FAVICON",FreeHardwareImage:"FREE_HARDWARE_IMAGE",Image:"IMAGE",Logo:"LOGO",MobileCoverImage:"MOBILE_COVER_IMAGE"};t.getAttachmentTypeEnum=function(e){return n[e]||null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(819)),i=r(8);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=function(e,t){var r=(0,i.getIdOrUuid)(t);return e&&e.hasOwnProperty(r)?e[r]:{}},d=function(e){switch(e){case 0:return"1st Place";case 1:return"2nd Place";case 2:return"3rd Place";default:return null}},f=function(e){var t=e.errors,r=e.prizes,a=e.updatePrize;return n.default.createElement("div",null,r.map(function(e,r){return n.default.createElement(o.default,s({},e,{key:e.id||e.uuid,allowQuantity:!1,errors:c(t,e),label:d(r),updateAttribute:function(t,r){return a(t,r,e)}}))}))};f.propTypes={errors:a.default.shape(u({},a.default.string,a.default.shape(u({},a.default.string,a.default.string)))),prizes:a.default.arrayOf(a.default.shape({cash_value:a.default.oneOfType([a.default.number,a.default.string]),description:a.default.string,id:a.default.number,image_url:a.default.string,link:a.default.string,name:a.default.string,position:a.default.number,quantity:a.default.number,requires_shipping:a.default.bool,uuid:a.default.string})).isRequired,updatePrize:a.default.func.isRequired},f.defaultProps={errors:null};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(106)),i=r(8),l=c(r(2)),u=c(r(3)),s=c(r(212));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.categories,r=e.updateCategory;return t.length?n.default.createElement("div",{className:s.default.checklistContainer},n.default.createElement("div",{className:s.default.sectionHeader},n.default.createElement("h2",{className:"".concat(u.default.h2," ").concat(l.default.marginBottom10)},"Submission requirements (optional)"),n.default.createElement("p",{className:"".concat(u.default.bodyS," ").concat(l.default.marginBottom10)},"To require users to submit their project to a specific category, check the category below.")),n.default.createElement("div",{className:s.default.checklist},t.map(function(e){return n.default.createElement("div",{key:(0,i.getIdOrUuid)(e),className:s.default.checklistCheckboxWrapper},n.default.createElement(o.default,{label:e.name,isChecked:e.is_enterable,onChange:function(t){return r(Object.assign({},e,{is_enterable:t}))},value:e.is_enterable}))}))):null};d.propTypes={categories:a.default.arrayOf(a.default.shape({is_enterable:a.default.bool.isRequired,name:a.default.string})).isRequired,updateCategory:a.default.func.isRequired},d.defaultProps={};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(88)),i=f(r(106)),l=f(r(9)),u=r(261),s=f(r(10)),c=f(r(262)),d=f(r(212));function f(e){return e&&e.__esModule?e:{default:e}}var p=[{label:"Runner ups",value:u.RUNNER_UPS}],m=[{label:"Ranked Prize",value:u.CATEGORY_RANKED},{label:"Unranked Prize",value:u.CATEGORY_CUSTOM},{label:"Runner ups",value:u.RUNNER_UPS}],h=function(e){return-1!==e.findIndex(function(e){return e.type===u.RUNNER_UPS})?m.filter(function(e){return e.value!==u.RUNNER_UPS}):m},y=function(e){var t=e.addCategory,r=e.categories,a=e.mode,f=e.onSortModeCheckboxChange,m=e.sortMode;return n.default.createElement("div",{className:d.default.menuContainer},{categories:r}.categories.length>1&&n.default.createElement("div",null,n.default.createElement(i.default,{label:"Sort categories",isChecked:m,onChange:function(e){return f(e)},value:m})),function(e){var t=e.categories;return e.mode!==u.RANKED_PRIZES_MODE||-1===t.findIndex(function(e){return e.type===u.RUNNER_UPS})}({categories:r,mode:a})&&n.default.createElement(o.default,{alignRight:!0,classList:{wrapper:d.default.categoryDropdown,button:"".concat(s.default.md," ").concat(s.default.tertiary)},closeOnSelect:!0,label:n.default.createElement("span",null,n.default.createElement("span",null,"Create category "),n.default.createElement(l.default,{name:"arrow-down",size:"12"}))},n.default.createElement("ul",{className:c.default.list},function(e,t){return e===u.RANKED_PRIZES_MODE?p:h(t)}(a,r).map(function(e,r){return n.default.createElement("li",{key:r,className:c.default.listItem,onClick:function(){return function(e,t){null!==e&&t(e)}(e.value,t)}},e.label)}))))};y.propTypes={addCategory:a.default.func.isRequired,categories:a.default.arrayOf(a.default.shape({type:a.default.string.isRequired})),mode:a.default.string.isRequired,onSortModeCheckboxChange:a.default.func.isRequired,sortMode:a.default.bool.isRequired};var g=y;t.default=g},function(e,t,r){e.exports={asphalt:"#D8D8D8",graphite:"#4A4A4A",dark:"question_mark__dark__1piCp",light:"question_mark__light__3FO_L",tooltipInner:"question_mark__tooltipInner__3QgFR"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=r(69),i=s(r(473)),l=s(r(1782)),u=s(r(474));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){return!(!e.hasOwnProperty("shouldDisable")||"function"!=typeof e.shouldDisable)&&e.shouldDisable(e)},y=(0,o.SortableContainer)(function(e){var t=e.classList,r=e.components,a=e.items;return n.default.createElement("div",{className:"".concat(u.default.body," ").concat(t.list)},a.map(function(e,t){return n.default.createElement(l.default,{key:t,components:r,disabled:h(e),index:t,item:e,itemIndex:t})}))}),g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?p(n):a).onSortEnd=r.onSortEnd.bind(p(r)),r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.Component),r=t,(a=[{key:"onSortEnd",value:function(e){var t=e.oldIndex,r=e.newIndex;this.props.updateItemsOrder((0,i.default)(this.props.items,t,r))}},{key:"render",value:function(){return n.default.createElement(y,{classList:this.props.classList,components:this.props.components,items:this.props.items,helperClass:this.props.classList.onDrag||u.default.onDrag,lockAxis:"y",onSortEnd:this.onSortEnd,useDragHandle:this.props.useDragHandle})}}])&&d(r.prototype,a),o&&d(r,o),t}();g.propTypes={classList:a.default.shape({list:a.default.string,onDrag:a.default.string}),components:a.default.shape({Row:a.default.func}).isRequired,items:a.default.array,updateItemsOrder:a.default.func.isRequired,useDragHandle:a.default.bool},g.defaultProps={classList:{list:u.default.body,onDrag:null},items:[],useDragHandle:!0};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=r(69),i=s(r(1783)),l=r(11),u=s(r(474));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,o.SortableElement)(function(e){var t=e.components,r=e.item,a=e.itemIndex,o=e.opts;return(0,l.isAFunction)(t.Row)?t.Row({item:r,itemIndex:a}):function(e){var t=e.item,r=(e.itemIndex,e.opts);return n.default.createElement("div",{className:u.default.row},r.useDragHandle&&"left"===r.dragHandlePosition&&n.default.createElement(i.default,null),t.columns.map(function(e,t){return n.default.createElement("div",{key:t,className:u.default.cellDefault},e.label)}),r.useDragHandle&&"right"===r.dragHandlePosition&&n.default.createElement(i.default,null))}({item:r,itemIndex:a,opts:o})});c.propTypes={components:a.default.shape({Row:a.default.func}).isRequired,item:a.default.shape({columns:a.default.array}).isRequired,itemIndex:a.default.number.isRequired,opts:a.default.shape({dragHandlePosition:a.default.string,useDragHandle:a.default.bool})},c.defaultProps={opts:{dragHandlePosition:"left",useDragHandle:!0}};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=r(69),i=l(r(474));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,o.SortableHandle)(function(e){var t=e.disabled,r=e.icon;return n.default.createElement("div",{className:"".concat(t?i.default.dragHandleDisabled:i.default.dragHandle)},n.default.createElement("span",{className:i.default.dragHandleIcon},r))});u.propTypes={disabled:a.default.bool,icon:a.default.oneOfType([a.default.string,a.default.element])},u.defaultProps={disabled:!1,icon:": :"};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(9)),i=r(472),l=s(r(3)),u=s(r(212));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.getTitleForCategory,r=e.item;return n.default.createElement("div",{className:u.default.sortableCategory},n.default.createElement("div",{className:u.default.categoryHeader},n.default.createElement("div",{className:u.default.categoryHeaderText},n.default.createElement("h4",{className:"".concat(l.default.h4)},t(r),n.default.createElement("span",null," "),n.default.createElement("span",{className:l.default.bodyS},(0,i.getCategoryTypeForHeader)(r.type,r.name)))),n.default.createElement(o.default,{className:u.default.dragIcon,name:"hamburger"})))};c.propTypes={getTitleForCategory:a.default.func.isRequired,item:a.default.object,itemIndex:a.default.number},c.defaultProps={};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=Object.keys(e)[0];if(t.find(function(e){return(0,o.isBlank)(e.id)?e.uuid===r:e.id.toString()===r.toString()}).isCollapsed){var n=document.querySelector('[data-category-header="'.concat(r,'"]'));n&&(0,a.default)(n,200,null)}else u(r,e)};var n,a=(n=r(28))&&n.__esModule?n:{default:n},o=r(11);var i=["name","prizes"],l=["name","link","quantity"],u=function(e,t){var r=t[e],n=Object.keys(r).reduce(function(e,t){return null!==e?e:i.includes(t)?t:e},null);if("prizes"===n)!function(e){var t=Object.keys(e)[0],r=e[t],n=Object.keys(r).reduce(function(e,t){return null!==e?e:l.includes(t)?t:e},null),o=document.querySelector("[data-prize-".concat(n,'="').concat(t,'"]'));o&&(0,a.default)(o,200,null)}(r.prizes);else{var o=document.querySelector("[data-category-".concat(n,'="').concat(e,'"]'));o&&(0,a.default)(o,200,null)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.reduce(function(e,t){var r=u(t);return Object.keys(r).length>0?Object.assign({},e,r):e},{}),r=Object.keys(t).length>0;return{errors:t,hasErrors:r}};var n=r(261),a=r(43),o=r(8);var i={name:[a.isRequired,a.maxLength.bind(null,255)],link:[a.isUrlIfDefined,a.maxLength.bind(null,255)],quantity:[a.minValue.bind(null,1)]},l=Object.keys(i),u=function(e){var t,r,i,l=e.type===n.RANKED_DEFAULT?null:(0,a.isRequired)(e.name)||(0,a.maxLength)(255,e.name),u=l?{name:l}:{},c=s(e.prizes),d=Object.assign({},u,c);return Object.keys(d).length>0?(t={},r=(0,o.getIdOrUuid)(e),i=d,r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t):{}},s=function(e){var t=e.reduce(function(e,t){var r=function(e){return l.reduce(function(t,r){var n=i[r].reduce(function(t,n){if(null!==t)return t;var a=n(e[r]);return a||t},null);return n&&(t[r]=n),t},{})}(t);return Object.keys(r).length>0&&(e[(0,o.getIdOrUuid)(t)]=r),e},{});return Object.keys(t).length>0?{prizes:t}:{}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CATEGORIES_PRIZES_MODE_SUB_COPY=t.DEFUALT_PRIZES_RADIO_COPY=t.CATEGORY_PRIZES_RADIO_COPY=void 0;t.CATEGORY_PRIZES_RADIO_COPY="Award overall contest winners by category e.g.: Home Automation, Best in Automotive, Most Creative. Runner up field is optional.";t.DEFUALT_PRIZES_RADIO_COPY="Award overall contest winners by rank: 1st, 2nd, 3rd place. Runner up field is optional.";t.CATEGORIES_PRIZES_MODE_SUB_COPY="Choose from ranked or unranked categories. Ranked categories award 1st, 2nd, and 3rd place prizes. Unranked categories award the same prize to all winner(s)."},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerMessenger=t.toggleSubmitButton=t.toggleProcessingOverlay=void 0;var n=r(18);t.toggleProcessingOverlay=function(e,t){var r=document.querySelector(t);if(r){e&&!r.classList.contains("processing")?r.classList.add("processing"):!e&&r.classList.contains("processing")&&r.classList.remove("processing")}};t.toggleSubmitButton=function(e,t){var r=document.querySelector(window.location.hash),n=r?r.querySelector(t):null;n&&(n.innerHTML=e?'<i class="fa fa-circle-o-notch" />':"Save changes")};t.triggerMessenger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.summonGlobalMessenger)(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(187)),i=r(71),l=c(r(7)),u=r(14),s=r(1800);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).state={status:null},r.onSelect=r.onSelect.bind(m(r)),r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.PureComponent),r=t,(a=[{key:"onSelect",value:function(e,t,r){var n=this;return new Promise(function(a){return(0,u.graphMutate)((0,s.updateProjectCollection)(),{category_ids:e.map(function(e){return e.value}),id:n.props.collection_id}).then(function(){"ERROR"===n.state.status&&n.setState({status:null}),a({state:t})}).catch(function(e){n.setState({status:"ERROR"}),a({state:Object.assign({},r,{openMenu:!1})}),(0,l.default)("CollectionCategorySelect onSelect",e)})})}},{key:"render",value:function(){var e=this.props,t=e.options,r=e.value;return n.default.createElement("div",null,n.default.createElement(o.default,{hasErrors:"ERROR"===this.state.status,onSelectOpts:{request:this.onSelect},options:t,type:"multi",value:r}),"ERROR"===this.state.status&&(0,i.getErrorHelperView)("Something went wrong. Please try again"))}}])&&f(r.prototype,a),c&&f(r,c),t}();y.propTypes={collection_id:a.default.number.isRequired,options:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.any})),value:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.any}))},y.defaultProps={options:[],value:[]};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=(n=r(1))&&n.__esModule?n:{default:n};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=u(t).call(this,e))||"object"!==i(a)&&"function"!=typeof a?s(n):a).state={flex:"1",width:"100%"},r.onChange=r.onChange.bind(s(r)),r.onKeyDown=r.onKeyDown.bind(s(r)),r.setAndPropagateRef=r.setAndPropagateRef.bind(s(r)),r._input,r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a.PureComponent),r=t,(n=[{key:"onChange",value:function(e){this.props.onChange(e),this._toggleWidth(e)}},{key:"onKeyDown",value:function(e){8===e.keyCode&&""===e.target.value&&""===this.props.value&&this._toggleWidth(e),this.props.onKeyDown(e)}},{key:"setAndPropagateRef",value:function(e){this._input=e,this.props.getInputRef(e)}},{key:"_fallbackToWidthAuto",value:function(){"auto"!==this.state.width&&this.setState({width:"auto"})}},{key:"_toggleWidth",value:function(e){if(void 0===this._input)return this._fallbackToWidthAuto();var t=this._input.getBoundingClientRect(),r=Math.round(parseFloat(t.width)),n=this._input.scrollWidth,a=e.target.value;n>r&&"100%"===this.state.width?this.setState({flex:"1 0 100%",width:"auto"}):n<r&&"auto"===this.state.width?this.setState({flex:"1",width:"100%"}):""===a&&n===r&&"auto"===this.state.width&&this.setState({flex:"1",width:"100%"})}},{key:"render",value:function(){return a.default.createElement("input",{ref:this.setAndPropagateRef,style:{flex:this.state.flex,width:this.state.width},className:this.props.className,disabled:this.props.disabled,id:this.props.id,name:this.props.name,onBlur:this.props.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:this.props.placeholder,value:this.props.value})}}])&&l(r.prototype,n),o&&l(r,o),t}();d.propTypes={className:o.default.string.isRequired,disabled:o.default.bool.isRequired,id:o.default.string,name:o.default.string,onBlur:o.default.func.isRequired,onChange:o.default.func.isRequired,onKeyDown:o.default.func.isRequired,placeholder:o.default.string,value:o.default.any.isRequired},d.defaultProps={id:null,name:null,placeholder:null};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(15)),i=c(r(9)),l=r(67),u=c(r(96)),s=c(r(3));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).state={disableCursor:!1,highlight:0},r.onKeyDown=r.onKeyDown.bind(m(r)),r.onMouseMove=r.onMouseMove.bind(m(r)),r.onOptionMouseOver=r.onOptionMouseOver.bind(m(r)),r.onSelect=r.onSelect.bind(m(r)),r._menu,r._uuid=e.uuid||(0,u.default)(),r._mountTimeout,r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),this._handleMountTimeout(),this._scrollToView()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"_scrollToView",value:function(){if(this.props.config.scrollToView&&this._menu){var e=this._menu.getBoundingClientRect(),t=this.props.config.scrollBuffer;e.bottom&&window.innerHeight<e.bottom+t&&window.scrollBy(0,e.bottom+t-window.innerHeight)}}},{key:"onKeyDown",value:function(e){switch(e.keyCode){case 13:return e.preventDefault(),this._selectOptByHighlightedIndex();case 38:return e.preventDefault(),this._arrowToOpt(-1);case 40:if(e.preventDefault(),void 0!==this._mountTimeout)return;return this._arrowToOpt(1);default:return}}},{key:"onMouseMove",value:function(){this.state.disableCursor&&this.setState({disableCursor:!1})}},{key:"onOptionMouseOver",value:function(e){void 0===this._mountTimeout&&this.setState({highlight:e})}},{key:"onSelect",value:function(e,t){this.props.onSelect(e,t)}},{key:"_arrowToOpt",value:function(e){var t=this;if(!this.props.isBusy&&this.props.options.length){this._disableCursor();var r=this.state.highlight+e;e>0?this.setState({highlight:r<=this.props.options.length-1?r:0},function(){return t._scrollToOption()}):this.setState({highlight:r<0?this.props.options.length-1:r},function(){return t._scrollToOption()})}}},{key:"_disableCursor",value:function(){!1===this.state.disableCursor&&this.setState({disableCursor:!0})}},{key:"_handleMountTimeout",value:function(){var e=this;this._mountTimeout=window.setTimeout(function(){window.clearTimeout(e._mountTimeout),e._mountTimeout=void 0},30)}},{key:"_scrollToOption",value:function(){var e=document.querySelector('[data-select-opt="'.concat(this._uuid,"=").concat(this.state.highlight,'"]'));if(e){var t=e.getBoundingClientRect(),r=this._menu.getBoundingClientRect();t.top<r.top?this._menu.scrollTop=this._menu.scrollTop-(r.top-t.top):t.bottom>r.bottom&&(this._menu.scrollTop=this._menu.scrollTop+(t.bottom-r.bottom))}}},{key:"_selectOptByHighlightedIndex",value:function(){var e=this;if(this.props.options.length&&!this.props.isBusy){var t=this.props.options.find(function(t,r){return r===e.state.highlight}),r=void 0!==this.props.selected.find(function(e){return e.value===t.value});(!t.hasOwnProperty("disabled")||t.hasOwnProperty("disabled")&&!1===t.disabled)&&this.onSelect(t,r)}}},{key:"_getList",value:function(){return this.props.isBusy?this._getLoaderView():this.props.options.length>0?this._getOptsListView():this._getNoResultsView()}},{key:"_getOptsListView",value:function(){var e=this,t=this.props.styles;return this.props.options.map(function(r,a){var o=void 0!==e.props.selected.find(function(e){return e.value===r.value}),l="function"==typeof e.props.templates.option?t.optionCustom:t.option;return n.default.createElement("div",{key:a,className:"".concat(l," ").concat(e.state.highlight===a?t.highlight:""),"data-select-opt":"".concat(e._uuid,"=").concat(a),onClick:function(){!r.hasOwnProperty("disabled")||r.hasOwnProperty("disabled")&&!1===r.disabled?e.onSelect(r,o):e.props.clearBlurTimeout()},onMouseOver:function(){return e.onOptionMouseOver(a)}},e._getOptInnerView(r),o&&n.default.createElement(i.default,{name:"checkmark"}))})}},{key:"_getOptInnerView",value:function(e){return"function"==typeof this.props.templates.option?this.props.templates.option(e):this._getDefaultOptView(e)}},{key:"_getDefaultOptView",value:function(e){var t=this.props.styles;return n.default.createElement("span",{className:t.label},this._getDefaultOptLabelView(e))}},{key:"_getDefaultOptLabelView",value:function(e){return e.hasOwnProperty("labelView")?"function"==typeof e.labelView?e.labelView():e.labelView:e.label}},{key:"_getLoaderView",value:function(){var e=this.props.styles;return n.default.createElement("div",{className:e.optionNoResult},"Loading...")}},{key:"_getNoResultsView",value:function(){var e=this.props.styles;return n.default.createElement("div",{className:"".concat(e.optionNoResult," ").concat(s.default.bold)},"No results found",this._isCurrentValueAValidCreatableOpt()&&this._getCreatableButtonView())}},{key:"_isCurrentValueAValidCreatableOpt",value:function(){if(!1===this.props.creatable)return!1;var e=this.props.currentValue;return e.length>0&&void 0===this.props.selected.find(function(t){return(0,l.doesStringsMatch)(t.label,e)||(0,l.doesStringsMatch)(t.value,e)})}},{key:"_getCreatableButtonView",value:function(){var e=this;return"function"==typeof this.props.templates.actionable?this.props.templates.actionable({disable:this.props.isBusy,inputValue:this.props.currentValue,onClick:this.onActionableClick}):n.default.createElement(o.default,{disable:this.props.isBusy,size:"sm",onClick:this.props.onActionableClick},"function"==typeof this.props.templates.actionableText?this.props.templates.actionableText({value:this.props.currentValue}):e.props.currentValue.length>0&&e.props.currentValue.length<30?"Create ".concat(e.props.currentValue):"Create option")}},{key:"render",value:function(){var e=this,t=this.props.styles;return n.default.createElement("div",{ref:function(t){return e._menu=t},className:t.root,onMouseMove:this.onMouseMove},n.default.createElement("div",{className:"".concat(t.inner," ").concat(this.state.disableCursor?t.disableMouseEvents:"")},this._getList()))}}])&&f(r.prototype,a),c&&f(r,c),t}();y.propTypes={clearBlurTimeout:a.default.func.isRequired,config:a.default.shape({scrollBuffer:a.default.number.isRequired,scrollToView:a.default.bool.isRequired}).isRequired,creatable:a.default.bool.isRequired,currentValue:a.default.string.isRequired,isBusy:a.default.bool.isRequired,onActionableClick:a.default.func,onSelect:a.default.func.isRequired,options:a.default.arrayOf(a.default.shape({label:a.default.string,labelView:a.default.any,value:a.default.any})),selected:a.default.array.isRequired,styles:a.default.object.isRequired,templates:a.default.shape({actionable:a.default.func,actionableText:a.default.func,option:a.default.func})},y.defaultProps={onActionableClick:function(){},options:[],templates:{actionable:null,actionableText:null,option:null}};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=l(r(9)),i=l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.styles;return n.default.createElement(n.Fragment,null,e.selected.map(function(r){return n.default.createElement("div",{key:r.label,className:t.multiOpt},n.default.createElement("span",{className:"".concat(i.default.bodyS," ").concat(i.default.bold," ").concat(t.multiText)},r.label),n.default.createElement("span",{className:t.multiOptXWrapper,onClick:function(){return e.onUnselect(r)}},n.default.createElement(o.default,{className:t.multiOptX,name:"close"})))}))};u.propTypes={onUnselect:a.default.func.isRequired,selected:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.any})).isRequired,styles:a.default.object.isRequired};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,r=void 0===t?[]:t,n=e.value,a=void 0===n?"":n,o=e.opts,l=void 0===o?{}:o;if(""===a||!r.length||l.rule&&"norule"===l.rule)return r;var u=l.rule||"default",s=i(u),c=a.toLowerCase().trim();return r.filter(function(e){return!!(e.label&&"string"==typeof e.label&&e.label.length>0)&&s(e,c)})};var n=function(e,t){return e.label.toLowerCase().trim().indexOf(t)>=0},a=function(e,t){return e.label.toLowerCase().trim().slice(0,t.length)===t},o=function(e,t){return e.label.toLowerCase().trim()===t},i=function(e){switch(e){case"absolute":return o;case"strict":return a;default:return n}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return s.hasOwnProperty(e)?c(e):(console.warning("Theme: ".concat(e," is not a valid theme!")),c("default"))};var n=l(r(1795)),a=l(r(1796)),o=l(r(1797)),i=l(r(1798));function l(e){return e&&e.__esModule?e:{default:e}}var u={bootstrap:l(r(1799)).default,default:i.default,search:i.default},s={bootstrap:a.default,default:n.default,search:o.default},c=function(e){return{menu:"default"===e?i.default:Object.assign({},i.default,u[e]),select:"default"===e?n.default:Object.assign({},n.default,s[e])}}},function(e,t,r){e.exports={asphalt:"#D8D8D8",error:"#D0021B",fog:"#F7F7F7",graphite:"#4A4A4A",pebble:"#767676",root:"default__root__3wEtE",actions:"default__actions__290my",disabled:"default__disabled__2wDFJ",action:"default__action__1ga6K",arrow:"default__arrow__2O_it",arrowSelected:"default__arrowSelected__1SecH",arrowWrapper:"default__arrowWrapper__3YAlU default__action__1ga6K",borderError:"default__borderError__UL2Sw",closeX:"default__closeX__1aGlV",closeXWrapper:"default__closeXWrapper__3Ggml default__action__1ga6K",container:"default__container__NA40C",input:"default__input__19jYj",inputWrapper:"default__inputWrapper__1W5r0",leftIcon:"default__leftIcon__2evtv",leftIconWrapper:"default__leftIconWrapper__1WRuq",menuOpened:"default__menuOpened__3wy2q",multiOpt:"default__multiOpt__3t_mu",multiText:"default__multiText__3q7vE",multiOptX:"default__multiOptX__24vq4",multiOptXWrapper:"default__multiOptXWrapper__rqYHk"}},function(e,t,r){e.exports={asphalt:"#D8D8D8",focusedBlue:"#66afe9",container:"bootstrap__container__3ZTfG",input:"bootstrap__input__3ShgU",inputWrapper:"bootstrap__inputWrapper__30vod",menuOpened:"bootstrap__menuOpened__3slnC",multiOpt:"bootstrap__multiOpt__Iv__j"}},function(e,t,r){e.exports={asphalt:"#D8D8D8",graphite:"#4A4A4A",pebble:"#767676",container:"search__container__Ze2aT",disabled:"search__disabled__3ARf-",inputWrapper:"search__inputWrapper__1k2bM"}},function(e,t,r){e.exports={asphalt:"#D8D8D8",fog:"#F7F7F7",pebble:"#767676",root:"default__root__3BykH",disableMouseEvents:"default__disableMouseEvents__MCKBa",inner:"default__inner__3feE1",label:"default__label__3pyG0",option:"default__option__205Uz",optionCustom:"default__optionCustom__OiG5M",optionNoResult:"default__optionNoResult__12V4V default__option__205Uz",highlight:"default__highlight__1hJPQ"}},function(e,t,r){e.exports={focusedBlue:"#66afe9",root:"bootstrap__root__183VL"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateProjectCollection=function(){return"mutation updateProjectCollection($id: Int!,$category_ids:[Int!]){\n    updateProjectCollection(id:$id,category_ids:$category_ids){id}\n  }"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=r(1802),i=r(325),l=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?f(n):a).handleClick=r.handleClick.bind(f(r)),r.state={isError:!1,isWorking:!1,fileId:null},r}var r,n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a.Component),r=t,(n=[{key:"handleClick",value:function(e){var t=this;if(!this.state.isWorking&&!this.state.fileUrl){e.preventDefault(),this.setState({isError:!1,isWorking:!0});var r=null;return(0,o.generateCSV)(this.props.url).then(function(e){return r=e.body.file_id,(0,i.pollJob)(e.body.job_id)}).then(function(e){return(0,o.getFileDetails)(r)}).then(function(e){t.setState({isWorking:!1,fileUrl:e.body.file.url}),window&&(window.location=t.state.fileUrl)}).catch(function(e){t.setState({isError:!0,isWorking:!1}),(0,l.default)("CSV Exporter handleClick: ",e)})}}},{key:"render",value:function(){return a.default.createElement("span",null,this.state.isWorking?a.default.createElement("span",null,a.default.createElement("i",{className:"fa fa-spin fa-spinner"}),a.default.createElement("span",null,"Preparing file...")):a.default.createElement("span",null,this.state.isError&&"An error happened, please try again - ",a.default.createElement("a",{href:this.state.fileUrl?this.state.fileUrl:"javascript:void(0)",onClick:this.handleClick},this.props.label)))}}])&&c(r.prototype,n),u&&c(r,u),t}();t.default=m,m.propTypes={label:n.default.string.isRequired,url:n.default.string.isRequired}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCSV=function(e){return a.default.apiRequest((0,n.default)("".concat(a.default.getApiPath()).concat(e)),!0,!1)},t.getFileDetails=function(e){return a.default.apiRequest((0,n.default)("".concat(a.default.getApiPath(),"/private/files/").concat(e)),!0,!1)};var n=o(r(35)),a=o(r(40));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(826)),i=r(861),l=c(r(68)),u=c(r(22)),s=r(1924);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=!(a=m(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?h(n):a;var o=(0,i.getFlaggedIds)(function(e){return[]});r.history=(0,l.default)(e.pathHelpers.basePath),r.state=Object.assign({},o,{currentHistoryData:r.history.location}),r.handleLocationChange=r.handleLocationChange.bind(h(r)),r.setFlaggedIds=i.setFlaggedIds.bind(h(r));var u=(0,s.createCategoryConfigs)(e.origin),c=u.CATEGORY_CONFIGS,f=u.SELECT_CATEGORIES;return r._CATEGORY_CONFIGS=c,r._SELECT_CATEGORIES=f,r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this.unlisten=this.history.listen(this.handleLocationChange)}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"handleLocationChange",value:function(e,t){var r=this;this.setState({currentHistoryData:Object.assign({},e,{action:t})},function(){return r._firePageViewAnalytics()})}},{key:"_firePageViewAnalytics",value:function(){u.default.reportVirtualPageView({entity_id:this.props.origin.id})}},{key:"render",value:function(){var e=this,t=(0,i.getFlaggedIds)(function(t){return e.state[t]});return n.default.createElement(o.default,f({key:this.history.location.key,categoryConfigs:this._CATEGORY_CONFIGS,currentUser:this.props.currentUser,currentHistoryData:this.state.currentHistoryData,isMember:this.props.currentUser.is_registered_to_challenge,origin:this.props.origin,pathHelpers:this.props.pathHelpers,selectCategories:this._SELECT_CATEGORIES,setFlaggedIds:this.setFlaggedIds,stickyBuffer:100,topAnchorId:"challengeNav",transition:function(t){return e.history.push(t)}},t))}}])&&p(r.prototype,a),c&&p(r,c),t}();g.propTypes={currentUser:a.default.shape({avatar_url:a.default.string.isRequired,confirmed:a.default.bool,id:a.default.number,name:a.default.string,role:a.default.string,url:a.default.string}).isRequired,origin:a.default.shape({admin_ids:a.default.arrayOf(a.default.number).isRequired,activate_free_hardware:a.default.bool.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,type:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,pathHelpers:a.default.shape({basePath:a.default.string.isRequired,fullPath:a.default.string.isRequired,rootPath:a.default.string.isRequired}).isRequired};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(15)),i=d(r(827)),l=d(r(42)),u=d(r(9)),s=d(r(1805)),c=d(r(3));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?h(n):a).state={showMenu:!1},r.dismiss=r.dismiss.bind(h(r)),r.handleClick=r.handleClick.bind(h(r)),r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.PureComponent),r=t,(a=[{key:"dismiss",value:function(){this.setState({showMenu:!1})}},{key:"handleClick",value:function(e,t,r){this.dismiss(),this.props.onClick(e,t,r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.basePath,a=t.categories,d=t.className,f=t.topAnchorId;return n.default.createElement(n.Fragment,null,n.default.createElement(o.default,{className:d,colorStyle:"blank",onClick:function(){return e.setState({showMenu:!0})}},n.default.createElement(u.default,{className:c.default.bodyM,name:"hamburger"})),n.default.createElement(l.default,{dismiss:this.dismiss,dismissStyle:{top:5},fullScreen:!0,open:this.state.showMenu,transition:s.default,wrapperStyle:{padding:15}},this.state.showMenu&&n.default.createElement(i.default,{basePath:r,categories:a,onClick:this.handleClick,topAnchorId:f})))}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={basePath:a.default.string.isRequired,categories:a.default.arrayOf(a.default.shape({colorClass:a.default.string.isRequired,enum:a.default.string.isRequired,path:a.default.string.isRequired,text:a.default.string.isRequired,title:a.default.string.isRequired})).isRequired,className:a.default.string,onClick:a.default.func.isRequired,topAnchorId:a.default.string},g.defaultProps={topAnchorId:null};var _=g;t.default=_},function(e,t,r){e.exports={enter:"slide_in_rtl__enter__gm2Yf",appear:"slide_in_rtl__appear__2Nb0Y",enterActive:"slide_in_rtl__enterActive__17bMy",appearActive:"slide_in_rtl__appearActive__3B_UE",exit:"slide_in_rtl__exit__3zt-s",exitActive:"slide_in_rtl__exitActive__2RYkm"}},function(e,t,r){e.exports={loader:"infinite_scroll__loader__3gHmQ"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(119)),i=l(r(2));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return e.search.includes("by_current_user=true")},s=function(e){return[{active:!u(e),label:"All posts",value:""},{active:u(e),label:"My activity",value:"by_current_user=true"}]},c=function(e){var t=e.currentHistoryData,r=e.onClick;return n.default.createElement("div",{className:"".concat(i.default.fullWidth," ").concat(i.default.marginBottom10)},n.default.createElement(o.default,{onSelection:r,options:s(t),view:"tabbed"}))};c.propTypes={currentHistoryData:a.default.shape({search:a.default.string}).isRequired,onClick:a.default.func.isRequired};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(475)),o=s(r(50)),i=s(r(2)),l=s(r(5)),u=s(r(264));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){return n.default.createElement("div",{className:u.default.root},n.default.createElement("div",{className:i.default.marginBottom10},n.default.createElement(a.default,{avatarSize:40,titleSize:"M"})),n.default.createElement("div",{className:"".concat(i.default.paddingBottom15," ").concat(l.default.borderBottom)},n.default.createElement("div",{className:"".concat(o.default.dummyTextM," ").concat(i.default.marginTop5)}),n.default.createElement("div",{className:"".concat(o.default.dummyTextM," ").concat(i.default.marginTop5)}),n.default.createElement("div",{className:"".concat(o.default.dummyTextM," ").concat(i.default.marginTop5)})),n.default.createElement("div",{className:"".concat(i.default.marginTop15," ").concat(o.default.dummyTextL)}),n.default.createElement("div",{className:o.default.dummyTextL}))};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=p(r(1)),o=p(r(1810)),i=p(r(1819)),l=p(r(1855)),u=p(r(847)),s=r(18),c=p(r(2)),d=p(r(3)),f=p(r(264));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=y(t).call(this,e))||"object"!==m(a)&&"function"!=typeof a?g(n):a).state={isEditing:!1,openMenu:!1},r.toggleMenu=r.toggleMenu.bind(g(r)),r._editor,r}var r,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"toggleMenu",value:function(){this.setState({openMenu:!this.state.openMenu})}},{key:"_summonLoginPanel",value:function(){(0,s.summonLoginPanel)({detail:{id:this.props.post.id,state:{currentPanel:"signup",simplified:!0},source:"feed_post"}})}},{key:"_getBody",value:function(){return this.state.isEditing?this._getEditorBodyView():this._getDefaultBodyView()}},{key:"_getDefaultBodyView",value:function(){return n.default.createElement(o.default,{basePath:this.props.basePath,categoryConfig:this.props.categoryConfig,markdownService:this.props.markdownServices.postOrComment,onCategoryTagClick:this.props.onCategoryTagClick,post:this.props.post})}},{key:"_getEditorBodyView",value:function(){var e=this;return n.default.createElement(u.default,{categorySelectOpts:this.props.categorySelectOpts,currentPath:this.props.currentPath,currentUser:this.props.currentUser,dismiss:function(){return e._isMounted&&e.setState({isEditing:!1})},isBusy:this.props.isBusy,markdownService:this.props.markdownServices.editor,mode:"edit",origin:this.props.origin,onPostOrUpdate:this.props.onPostUpdate,post:this.props.post})}},{key:"_getMissingPostView",value:function(){return n.default.createElement("div",{className:"".concat(d.default.bodyM," ").concat(c.default.marginTop30)},"Sorry, that post does not exist!")}},{key:"render",value:function(){var e=this;return this.props.post?n.default.createElement("div",{className:f.default.root},n.default.createElement(l.default,{basePath:this.props.basePath,currentUser:this.props.currentUser,isFlagged:this.props.flaggedIds.posts.includes(this.props.post.id),onCopyLinkClick:function(){return e.props.onCopyLinkClick({postId:e.props.post.id},"post",e.toggleMenu)},onCreatedAtClick:this.props.onCreatedAtClick,onDeleteClick:function(){return e.props.onDeleteClick(e.props.post,e.toggleMenu)},onEditClick:function(){return e.setState({isEditing:!0,openMenu:!1})},onReportClick:function(){return null===e.props.currentUser.id?e._summonLoginPanel():e.props.onReportClick(e.props.post,"feed_post",e.toggleMenu)},onSpamClick:function(){return e.props.onSpamClick(e.props.post,"feed_post",e.toggleMenu)},openMenu:this.state.openMenu,origin:this.props.origin,post:this.props.post,toggleMenu:this.toggleMenu}),this._getBody(),n.default.createElement(i.default,{comments:this.props.post.comments,config:this.props.config,currentUser:this.props.currentUser,flaggedCommentIds:this.props.flaggedIds.comments,isBusy:this.props.isBusy,userCanComment:this.props.userCanComment,markdownServices:this.props.markdownServices,onCopyLinkClick:this.props.onCopyLinkClick,onDelete:this.props.deleteComment,onPost:this.props.createOrUpdateComment,onReportClick:this.props.onReportClick,onShowMoreCommentRepliesClick:this.props.onShowMoreCommentRepliesClick,onShowPreviousCommentsClick:this.props.onShowPreviousCommentsClick,onSpamClick:this.props.onSpamClick,origin:this.props.origin,post:this.props.post,renderAllComments:this.props.renderAllComments,workers:this.props.workers})):this._getMissingPostView()}}])&&h(r.prototype,a),p&&h(r,p),t}();v.propTypes={basePath:a.default.string.isRequired,categoryConfig:a.default.arrayOf(a.default.shape({colorClass:a.default.string.isRequired,enum:a.default.string.isRequired,path:a.default.string.isRequired,text:a.default.string.isRequired,title:a.default.string.isRequired})).isRequired,categorySelectOpts:a.default.arrayOf(a.default.shape({label:a.default.oneOfType([a.default.element,a.default.string]),value:a.default.string})).isRequired,config:a.default.shape({allowScrollToCommentOnMount:a.default.bool}),createOrUpdateComment:a.default.func.isRequired,currentPath:a.default.string.isRequired,currentUser:a.default.shape({avatar_url:a.default.string,confirmed:a.default.bool,id:a.default.number,name:a.default.string,role:a.default.string,url:a.default.string}).isRequired,deleteComment:a.default.func.isRequired,flaggedIds:a.default.shape({comments:a.default.array.isRequired,posts:a.default.array.isRequired}).isRequired,isBusy:a.default.bool.isRequired,markdownServices:a.default.shape({editor:a.default.object.isRequired,postOrComment:a.default.object.isRequired}).isRequired,onCategoryTagClick:a.default.func.isRequired,onCopyLinkClick:a.default.func.isRequired,onCreatedAtClick:a.default.func.isRequired,onDeleteClick:a.default.func.isRequired,onPostUpdate:a.default.func.isRequired,onReportClick:a.default.func.isRequired,onShowMoreCommentRepliesClick:a.default.func.isRequired,onShowPreviousCommentsClick:a.default.func.isRequired,onSpamClick:a.default.func.isRequired,origin:a.default.shape({admin_ids:a.default.arrayOf(a.default.number),id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}),post:a.default.shape({body:a.default.string.isRequired,category:a.default.string.isRequired,comments:a.default.arrayOf(a.default.shape({body_with_relations:a.default.string,children:a.default.array,created_at:a.default.string.isRequired,edited_at:a.default.string,deleted:a.default.bool,id:a.default.number.isRequired,parent_id:a.default.number,raw_body:a.default.string.isRequired,relations:a.default.object,user:a.default.shape({avatar_url:a.default.string.isRequired,id:a.default.number.isRequired,isAdmin:a.default.bool.isRequired,name:a.default.string.isRequired,url:a.default.string}).isRequired})).isRequired,created_at:a.default.string.isRequired,edited_at:a.default.string,entities:a.default.shape({embed:a.default.object}),id:a.default.number.isRequired,relations:a.default.object,respects_count:a.default.number.isRequired,user:a.default.shape({avatar_url:a.default.string.isRequired,id:a.default.number.isRequired,isAdmin:a.default.bool.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,renderAllComments:a.default.bool}),userCanComment:a.default.bool.isRequired,workers:a.default.object.isRequired},v.defaultProps={config:{allowScrollToCommentOnMount:!1},origin:null,post:null,renderAllComments:!1};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=_(r(0)),a=_(r(1)),o=_(r(1811)),i=_(r(476)),l=_(r(832)),u=_(r(254)),s=_(r(22)),c=r(60),d=r(8),f=r(11),p=r(67),m=r(116),h=r(49),y=_(r(2)),g=_(r(3));function _(e){return e&&e.__esModule?e:{default:e}}var v=function(e,t){if((0,f.isBlank)(e)||!(0,p.objHasPropertyOfLength)(t,"link"))return e;var r=(0,h.unescape)(e),n=r.trim().split(" ").pop();return(0,m.stripProtocol)(n)===(0,m.stripProtocol)(t.link)?r.replace(n,"").trim():r},b=function(e){var t=(0,d.getInObj)(["__meta","truncate"],e);return null===t||t},O=function(e){var t=e.basePath,r=e.categoryConfig,a=e.markdownService,f=e.onCategoryTagClick,p=e.post,m=(0,d.getInObj)(["entities","embed"],p),h=r.find(function(e){return e.enum===p.category});return n.default.createElement("div",null,n.default.createElement("div",{className:"".concat(g.default.bodyM," ").concat(g.default.breakWord," ").concat(y.default.marginBottom15)},n.default.createElement(i.default,{content:v(p.body,m),markdownService:a,truncateHtml:{truncate:b(p),limit:217},viewMoreClicked:function(){return function(e){return s.default.reportEventWithObj((0,c.getClickedViewMoreArgs)({entity_id:e.id,entity_type:"FeedPost"}))}(p)}}),m&&n.default.createElement(l.default,{embed:m})),h&&n.default.createElement("div",{className:y.default.marginBottom15},n.default.createElement(o.default,{basePath:t,categoryConfig:h,onCategoryTagClick:f})),n.default.createElement(u.default,{id:p.id,respects:p.respects_count,source:"feed_post",theme:"postCard",type:"feed_post"}))};O.propTypes={basePath:a.default.string.isRequired,categoryConfig:a.default.arrayOf(a.default.shape({colorClass:a.default.string.isRequired,enum:a.default.string.isRequired,path:a.default.string.isRequired,text:a.default.string.isRequired,title:a.default.string.isRequired})).isRequired,markdownService:a.default.object.isRequired,onCategoryTagClick:a.default.func.isRequired,post:a.default.shape({__meta:a.default.shape({truncate:a.default.bool}),body:a.default.string,category:a.default.string.isRequired,id:a.default.number.isRequired,respects_count:a.default.number.isRequired}).isRequired},O.defaultProps={};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(349)),i=u(r(3)),l=u(r(5));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.basePath,r=e.categoryConfig,a=e.onCategoryTagClick;return n.default.createElement("a",{className:"".concat(l.default.categoryBadge," ").concat(i.default.anchorNoUnderlineOnHover),href:"".concat(t,"/").concat(r.path),onClick:function(e){return a(e,r)}},n.default.createElement(o.default,{categoryConfig:r}))};s.propTypes={basePath:a.default.string.isRequired,categoryConfig:a.default.shape({colorClass:a.default.string.isRequired,enum:a.default.string.isRequired,path:a.default.string.isRequired,text:a.default.string.isRequired,title:a.default.string.isRequired}).isRequired,onCategoryTagClick:a.default.func.isRequired};var c=s;t.default=c},function(e,t,r){e.exports={root:"community_card__root__1MM37"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(1)),a=s(r(0)),o=s(r(30)),i=s(r(89)),l=r(20),u=s(r(1814));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.avatar_url,r=e.bio,n=e.id,s=e.name,c=e.stats,d=e.updateResource,f=e.user_name;return a.default.createElement("div",{className:u.default.root},a.default.createElement("div",{className:u.default.topSection},a.default.createElement("a",{className:u.default.avatarAnchor,href:"/".concat(f)},a.default.createElement(o.default,{captureScroll:!0,className:u.default.avatar,ratio:"1:1",src:t,width:80})),a.default.createElement("div",{className:u.default.infoContainer},a.default.createElement("strong",null,a.default.createElement("a",{className:u.default.name,href:"/".concat(f)},s)),a.default.createElement("div",{className:u.default.stats},a.default.createElement("span",null,"".concat((0,l.formatNumberLimit4Chars)(c.live_projects)," ").concat((0,l.pluralize)("Project",c.live_projects))),a.default.createElement("span",{className:u.default.statBreaker},"•"),a.default.createElement("span",null,"".concat((0,l.formatNumberLimit4Chars)(c.followers)," ").concat((0,l.pluralize)("Follower",c.followers)))),a.default.createElement("div",null,a.default.createElement(i.default,{id:n,onClick:function(e){return d(n,"user",["followed_users","records",["id",n]],e)},type:"followed_user_sm"})))),r&&r.length>0&&a.default.createElement("p",{className:u.default.bio},(0,l.truncateString)(r,140)))};c.propTypes={avatar_url:n.default.string.isRequired,bio:n.default.string,id:n.default.number.isRequired,name:n.default.string.isRequired,stats:n.default.shape({followers:n.default.number.isRequired,following:n.default.number.isRequired,live_projects:n.default.number.isRequired}).isRequired,updateResource:n.default.func.isRequired,user_name:n.default.string.isRequired},c.defaultProps={bio:null};var d=c;t.default=d},function(e,t,r){e.exports={asphalt:"#D8D8D8",pebble:"#767676",charcoal:"#111",graphite:"#4A4A4A",root:"user_card_horizontal__root__3F52R",avatar:"user_card_horizontal__avatar__18w58",avatarAnchor:"user_card_horizontal__avatarAnchor__2aDAT",bio:"user_card_horizontal__bio__3LSg7",infoContainer:"user_card_horizontal__infoContainer__2nqhC",name:"user_card_horizontal__name__2lOOG",statBreaker:"user_card_horizontal__statBreaker__L74br",stats:"user_card_horizontal__stats__V87L2",topSection:"user_card_horizontal__topSection__3SIa6"}},function(e,t,r){e.exports={root:"markdown_viewer__root__13hxK"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(833)),i=d(r(46)),l=r(11),u=d(r(2)),s=d(r(5)),c=d(r(350));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.embed;return n.default.createElement("div",{className:"".concat(u.default.fullWidth," ").concat(u.default.flex," ").concat(c.default.lockHeight)},!(0,l.isBlank)(t.image)&&n.default.createElement(i.default,{classList:{root:"".concat(c.default.image," ").concat(s.default.posRelative)},ratio:"1:1",setStyle:!1,src:t.image,width:158}),n.default.createElement(o.default,{embed:t}))};f.propTypes={embed:a.default.object.isRequired};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(833)),i=f(r(46)),l=f(r(834)),u=f(r(478)),s=f(r(2)),c=f(r(5)),d=f(r(350));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?y(n):a).expand=r.expand.bind(y(r));var o=parseInt(e.embed.type_props.width)/parseInt(e.embed.type_props.height)||void 0;return r.state={aspectRatio:o,expanded:!1},r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),r=t,(a=[{key:"expand",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({expanded:!0})}},{key:"_getDefaultView",value:function(e){var t=e.embed;return n.default.createElement("div",{className:"".concat(d.default.image," ").concat(c.default.posRelative),onClick:this.expand},n.default.createElement(i.default,{ratio:"1:1",setStyle:!1,src:t.image,width:158}),n.default.createElement(u.default,null))}},{key:"_getExpandedView",value:function(e){var t=e.aspectRatio,r=e.embed,a=e.mode;return n.default.createElement(l.default,{aspectRatio:t,className:"show"===a?"":s.default.marginTop30,src:r.type_props.iframe_url})}},{key:"render",value:function(){var e=this.props,t=e.embed,r=e.mode,a=this.state,i=a.aspectRatio,l=a.expanded;return n.default.createElement("div",{className:l?s.default.flexColumn:"".concat(s.default.flex," ").concat(d.default.lockHeight)},l?this._getExpandedView({aspectRatio:i,embed:t,mode:r}):this._getDefaultView({embed:t}),n.default.createElement(o.default,{embed:t}))}}])&&m(r.prototype,a),f&&m(r,f),t}();_.propTypes={embed:a.default.object.isRequired,mode:a.default.string},_.defaultProps={mode:"show"};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n};var o=function(e){var t=e.className,r=e.fill,n=void 0===r?"#FFFFFF":r,o=e.height,i=void 0===o?56:o,l=e.width,u=void 0===l?56:l;return a.default.createElement("svg",{viewBox:"0 0 42 42",className:t,height:i,width:u,fill:n,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("g",{fillRule:"nonzero"},a.default.createElement("circle",{cx:"21",cy:"21",r:"20",fill:"none"}),a.default.createElement("path",{d:"M21 41.17c-11.6 0-21-9.22-21-20.58C0 9.22 9.4 0 21 0s21 9.22 21 20.59c0 11.36-9.4 20.58-21 20.58zm0-1.95c10.5 0 19-8.34 19-18.63 0-10.3-8.5-18.64-19-18.64S2 10.3 2 20.6c0 10.29 8.5 18.63 19 18.63z"}),a.default.createElement("path",{d:"M29.52 21.5l-12.08 5.92a1 1 0 0 1-1.44-.9V14.67a1 1 0 0 1 1.44-.9l12.08 5.93a1 1 0 0 1 0 1.8z"})))};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=_(r(1)),o=_(r(351)),i=_(r(9)),l=_(r(1820)),u=_(r(836)),s=_(r(66)),c=r(8),d=r(244),f=r(18),p=r(12),m=_(r(2)),h=_(r(3)),y=_(r(5)),g=_(r(352));function _(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=O(this,w(t).call(this,e))).state={isCollapsed:!e.renderAllComments,locationHash:null},r}var r,a,_;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.props.config.allowScrollToCommentOnMount&&this._getWindowLocationHashAndScrollTo()}},{key:"_getWindowLocationHashAndScrollTo",value:function(){var e=this,t=p.windowLocationHash.get();t&&t.length>0&&t.includes("comment-")&&this.setState({locationHash:t.slice(1)},function(){return e._scrollToComment()})}},{key:"_getShowPrevWorkerKey",value:function(){return"post_".concat(this.props.post.id,"_prev_click")}},{key:"_scrollToComment",value:function(){(0,d.scrollElementToMiddle)(document.getElementById(this.state.locationHash))}},{key:"_summonConfirmationEmailMsg",value:function(){(0,f.summonGlobalDialog)({getChildren:function(){return n.default.createElement(o.default,{actionText:"post a comment"})}})}},{key:"_summonLoginPanel",value:function(){(0,f.summonLoginPanel)({detail:{id:this.props.post.id,state:{currentPanel:"signup",simplified:!0},source:"feed_post_comment"}})}},{key:"_getCommentView",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.comment,a=t.children,o=void 0===a?null:a,i=t.parentIsDeleted,u=void 0!==i&&i;return n.default.createElement(l.default,{key:r.id,children:o,comment:r,currentUser:this.props.currentUser,historyLocation:{hash:this.state.locationHash},isBusy:this.props.isBusy,isFlagged:this.props.flaggedCommentIds.includes(r.id),userCanComment:this.props.userCanComment,markdownServices:this.props.markdownServices,onCopyLinkClick:this.props.onCopyLinkClick,onDelete:this.props.onDelete,onPost:this.props.onPost,onReportClick:this.props.onReportClick,onShowMoreCommentRepliesClick:this.props.onShowMoreCommentRepliesClick,onSpamClick:this.props.onSpamClick,origin:this.props.origin,parentIsDeleted:u,postId:this.props.post.id,renderAllComments:this.props.renderAllComments,summonConfirmationEmailMsg:function(){return e._summonConfirmationEmailMsg()},summonLoginPanel:function(){return e._summonLoginPanel()},workers:this.props.workers})}},{key:"_getCommentsView",value:function(){var e=this;return this.props.comments.length?n.default.Children.toArray(this.props.comments.map(function(t){return e._getCommentView({comment:t,children:e._getCommentsChildrenView(t)})})):null}},{key:"_getCommentsChildrenView",value:function(e){var t=this;return e.children?n.default.Children.toArray(e.children.map(function(r){return t._getCommentView({comment:r,parentIsDeleted:e.deleted})})):null}},{key:"_getShowPreviousBtn",value:function(){return this.props.workers.hasOwnProperty(this._getShowPrevWorkerKey())?this._getShowPreviousBtnBusyView():this._getShowPreviousBtnView()}},{key:"_getShowPreviousBtnView",value:function(){var e=this,t=(0,c.getInObj)(["parent_count"],this.props.comments[0]);return!t||t<=this.props.comments.length?null:n.default.createElement("p",{className:"".concat(h.default.linkGraphite," ").concat(h.default.bodyS," ").concat(g.default.showPreviousText),onClick:function(){return e.props.onShowPreviousCommentsClick(e.props.post,e._getShowPrevWorkerKey())}},"Show ".concat(t-this.props.comments.length," previous comments"),n.default.createElement(i.default,{className:"".concat(h.default.bodyS," ").concat(m.default.marginLeft5),name:"arrow-down",size:14}))}},{key:"_getShowPreviousBtnBusyView",value:function(){return n.default.createElement("div",{className:g.default.showPreviousText},n.default.createElement(s.default,{size:16}))}},{key:"render",value:function(){var e=this;return this.props.userCanComment||this.props.comments.length?n.default.createElement("div",{className:"".concat(m.default.marginTop15," ").concat(y.default.borderTop)},this._getShowPreviousBtn(),n.default.createElement("div",null,this._getCommentsView()),this.props.userCanComment&&n.default.createElement("div",{className:m.default.marginTop15},n.default.createElement(u.default,{currentUser:this.props.currentUser,isBusy:this.props.isBusy,markdownService:this.props.markdownServices.editor,onPost:this.props.onPost,postId:this.props.post.id,summonConfirmationEmailMsg:function(){return e._summonConfirmationEmailMsg()},summonLoginPanel:function(){return e._summonLoginPanel()}}))):null}}])&&b(r.prototype,a),_&&b(r,_),t}();P.propTypes={children:a.default.object,comments:a.default.arrayOf(a.default.shape({body_with_relations:a.default.string,child_ids:a.default.arrayOf(a.default.number),children:a.default.array,created_at:a.default.string.isRequired,edited_at:a.default.string,deleted:a.default.bool,id:a.default.number.isRequired,liking_user_ids:a.default.arrayOf(a.default.number).isRequired,parent_count:a.default.number,parent_id:a.default.number,raw_body:a.default.string.isRequired,relations:a.default.object,user:a.default.shape({avatar_url:a.default.string.isRequired,id:a.default.number.isRequired,isAdmin:a.default.bool.isRequired,name:a.default.string.isRequired,url:a.default.string}).isRequired})).isRequired,config:a.default.shape({allowScrollToCommentOnMount:a.default.bool}).isRequired,currentUser:a.default.shape({avatar_url:a.default.string,confirmed:a.default.bool,id:a.default.number,name:a.default.string,role:a.default.string,url:a.default.string}).isRequired,flaggedCommentIds:a.default.array.isRequired,isBusy:a.default.bool.isRequired,markdownServices:a.default.shape({editor:a.default.object.isRequired,postOrComment:a.default.object.isRequired}).isRequired,onCopyLinkClick:a.default.func.isRequired,onDelete:a.default.func.isRequired,onPost:a.default.func.isRequired,onReportClick:a.default.func.isRequired,onShowMoreCommentRepliesClick:a.default.func.isRequired,onShowPreviousCommentsClick:a.default.func.isRequired,onSpamClick:a.default.func.isRequired,origin:a.default.shape({admin_ids:a.default.arrayOf(a.default.number),id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}),post:a.default.shape({id:a.default.number.isRequired}).isRequired,renderAllComments:a.default.bool.isRequired,userCanComment:a.default.bool.isRequired,workers:a.default.object.isRequired},P.defaultProps={children:null};var k=P;t.default=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=_(r(1)),o=_(r(476)),i=_(r(1821)),l=_(r(836)),u=_(r(254)),s=_(r(66)),c=_(r(22)),d=r(60),f=r(8),p=r(11),m=r(67),h=_(r(2)),y=_(r(3)),g=_(r(352));function _(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){return(0,m.objHasPropertyWithValue)(e,"parent_id")},k=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=O(t).call(this,e))||"object"!==v(a)&&"function"!=typeof a?w(n):a).state={isEditing:!1,isReplying:!1,locationHash:null,openMenu:!1,renderChildren:e.renderAllComments},r.toggleMenu=r.toggleMenu.bind(w(r)),r._calculatedHash=null,r}var r,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,n.PureComponent),r=t,(a=[{key:"toggleMenu",value:function(){this.setState({openMenu:!this.state.openMenu})}},{key:"_areAllChildIdsRenderedInChildren",value:function(){if(!this.props.children)return!1;var e=this.props.children.map(function(e){return e.props.comment.id});return this.props.comment.child_ids.every(function(t){return e.includes(t)})}},{key:"_doesCommentIdMatchLocationHash",value:function(){if(!this.props.historyLocation.hash)return!1;if(null!==this._calculatedHash)return this._calculatedHash;var e=this.props.historyLocation.hash.split("-")[1]===this.props.comment.id.toString();return this._calculatedHash=e,e}},{key:"_fireViewMoreClickedAnalytics",value:function(){c.default.reportEventWithObj((0,d.getClickedViewMoreArgs)({entity_id:this.props.comment.id,entity_type:"Comment"}))}},{key:"_getDefaultBodyViewShouldTruncate",value:function(){var e=(0,f.getInObj)(["__meta","truncate"],this.props.comment);return null===e||e}},{key:"_getShapeForDeletion",value:function(){return Object.assign({},this.props.comment,{commentable_id:this.props.postId})}},{key:"_handleDeleteClick",value:function(){this.props.onDelete({comment:this._getShapeForDeletion()}),this.setState({openMenu:!1})}},{key:"_handleReplyButtonClick",value:function(){return this.props.currentUser.id?P(this.props.comment)?this.props.replyToThread():this.setState({isReplying:!0}):this.props.summonLoginPanel()}},{key:"_handleReplyToThreadClick",value:function(){this.setState({isReplying:!0})}},{key:"_getCommentShapeForReplyingInput",value:function(){return{id:null,parent_id:this.props.comment.parent_id||this.props.comment.id,raw_body:""}}},{key:"_getShowRepliesWorkerKey",value:function(){return"comment_".concat(this.props.comment.id,"_replies")}},{key:"_getBody",value:function(){return this.props.comment.deleted?"This comment has been deleted.":this.state.isEditing?this._getEditBodyView():this._getDefaultBodyView()}},{key:"_getEditBodyView",value:function(){var e=this;return n.default.createElement("div",{className:"".concat(h.default.marginTop5," ").concat(h.default.marginBottom15)},n.default.createElement(l.default,{comment:this.props.comment,currentUser:this.props.currentUser,dismiss:function(){return e.setState({isEditing:!1})},isBusy:this.props.isBusy,markdownService:this.props.markdownServices.editor,mode:"edit",onPost:this.props.onPost,postId:this.props.postId,summonConfirmationEmailMsg:this.props.summonConfirmationEmailMsg,summonLoginPanel:this.props.summonLoginPanel}))}},{key:"_getDefaultBodyView",value:function(){var e=this;return n.default.createElement(o.default,{content:this.props.comment.body_with_relations,markdownService:this.props.markdownServices.postOrComment,truncateHtml:{truncate:this._getDefaultBodyViewShouldTruncate(),limit:150},viewMoreClicked:function(){return e._fireViewMoreClickedAnalytics()}})}},{key:"_getConversationClosed",value:function(){return n.default.createElement("span",{className:"".concat(y.default.bodyXS," ").concat(y.default.pebble," ").concat(h.default.marginRight10)},"(Conversation closed)")}},{key:"_getReplyButton",value:function(){var e=this;return this.props.comment.deleted||this.state.isEditing||!this.props.userCanComment?null:this.props.parentIsDeleted?this._getConversationClosed():n.default.createElement("p",{className:"".concat(y.default.linkCharcoal," ").concat(y.default.bodyS," ").concat(h.default.marginRight10),onClick:function(){return e._handleReplyButtonClick()}},P(this.props.comment)?"Reply to conversation":"Reply")}},{key:"_getRespectButton",value:function(){return this.props.comment.deleted||this.state.isEditing?null:n.default.createElement("span",null,n.default.createElement(u.default,{id:this.props.comment.id,respects:this.props.comment.liking_user_ids.length,theme:"postCardComment",type:"comment"}))}},{key:"_getShowRepliesBtn",value:function(){return this.props.workers.hasOwnProperty(this._getShowRepliesWorkerKey())?this._getShowRepliesBtnBusyView():this._getShowRepliesBtnView()}},{key:"_getShowRepliesBtnView",value:function(){var e=this,t=this.props.comment.child_ids;return!t||t&&!t.length?null:this._areAllChildIdsRenderedInChildren()?null:n.default.createElement("p",{className:"".concat(y.default.bodyS," ").concat(h.default.marginLeft5)},n.default.createElement("span",{className:y.default.hackster},"↳ "),n.default.createElement("span",{className:y.default.linkBlue,onClick:function(){return e.props.onShowMoreCommentRepliesClick({comment:e.props.comment,postId:e.props.postId,worker:e._getShowRepliesWorkerKey()})}},"Show ".concat(t.length," ").concat(t.length>1?"replies":"reply")))}},{key:"_getShowRepliesBtnBusyView",value:function(){return n.default.createElement("div",null,n.default.createElement(s.default,{size:16}))}},{key:"render",value:function(){var e=this,t=P(this.props.comment);return n.default.createElement("div",{className:"".concat(t?g.default.childCommentRoot:g.default.commentRoot),id:"comment-".concat(this.props.comment.id)},n.default.createElement("div",{className:h.default.flex},n.default.createElement("div",null,n.default.createElement("img",{className:"".concat(t?g.default.avatarSm:g.default.avatar," ").concat(this._doesCommentIdMatchLocationHash()?g.default.avatarHighlight:""),src:this.props.comment.user.avatar_url})),n.default.createElement("div",{className:"".concat(h.default.fullWidth," ").concat(h.default.marginLeft10)},n.default.createElement("div",{className:g.default.showMenuOnHover},n.default.createElement(i.default,{comment:this.props.comment,currentUser:this.props.currentUser,isFlagged:this.props.isFlagged,onCopyLinkClick:function(){return e.props.onCopyLinkClick({commentId:e.props.comment.id,postId:e.props.postId},"comment",e.toggleMenu)},onDeleteClick:function(){return e._handleDeleteClick()},onEditClick:function(){return e.setState({isEditing:!0,isReplying:!1,openMenu:!1})},onReportClick:function(){return null===e.props.currentUser.id?e.props.summonLoginPanel():e.props.onReportClick(e.props.comment,"comment",e.toggleMenu)},onSpamClick:function(){return e.props.onSpamClick(e._getShapeForDeletion(),"comment",e.toggleMenu)},openMenu:this.state.openMenu,origin:this.props.origin,toggleMenu:this.toggleMenu}),n.default.createElement("div",{className:y.default.bodyM},this._getBody()),n.default.createElement("div",{className:"".concat(h.default.flexCenterItems," ").concat(h.default.marginTop5)},this._getReplyButton(),this._getRespectButton()),this._getShowRepliesBtn()),!(0,p.isBlank)(this.props.children)&&n.default.createElement("div",null,this.props.children.map(function(t){return n.default.cloneElement(t,{replyToThread:function(){return e._handleReplyToThreadClick()}})})),this.state.isReplying&&this.props.userCanComment&&n.default.createElement("div",{className:"".concat(h.default.marginTop5)},n.default.createElement(l.default,{comment:this._getCommentShapeForReplyingInput(),currentUser:this.props.currentUser,dismiss:function(){return e.setState({isReplying:!1})},isBusy:this.props.isBusy,markdownService:this.props.markdownServices.editor,mode:"reply",onPost:this.props.onPost,postId:this.props.postId,summonConfirmationEmailMsg:this.props.summonConfirmationEmailMsg,summonLoginPanel:this.props.summonLoginPanel})))))}}])&&b(r.prototype,a),m&&b(r,m),t}();k.propTypes={comment:a.default.shape({__meta:a.default.shape({truncate:a.default.bool}),body_with_relations:a.default.string,child_ids:a.default.arrayOf(a.default.number),children:a.default.array,created_at:a.default.string.isRequired,edited_at:a.default.string,deleted:a.default.bool,id:a.default.number.isRequired,liking_user_ids:a.default.arrayOf(a.default.number).isRequired,parent_count:a.default.number,parent_id:a.default.number,raw_body:a.default.string.isRequired,relations:a.default.object,user:a.default.shape({avatar_url:a.default.string.isRequired,id:a.default.number.isRequired,isAdmin:a.default.bool.isRequired,name:a.default.string.isRequired,url:a.default.string}).isRequired}).isRequired,currentUser:a.default.shape({avatar_url:a.default.string.isRequired,confirmed:a.default.bool,id:a.default.number,name:a.default.string.isRequired,role:a.default.string,url:a.default.string}).isRequired,historyLocation:a.default.shape({hash:a.default.string}).isRequired,isBusy:a.default.bool.isRequired,isFlagged:a.default.bool.isRequired,markdownServices:a.default.shape({editor:a.default.object.isRequired,postOrComment:a.default.object.isRequired}).isRequired,onCopyLinkClick:a.default.func.isRequired,onDelete:a.default.func.isRequired,onPost:a.default.func.isRequired,onShowMoreCommentRepliesClick:a.default.func.isRequired,origin:a.default.shape({admin_ids:a.default.arrayOf(a.default.number),id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,parentIsDeleted:a.default.bool.isRequired,postId:a.default.number.isRequired,renderAllComments:a.default.bool.isRequired,summonConfirmationEmailMsg:a.default.func.isRequired,summonLoginPanel:a.default.func.isRequired,userCanComment:a.default.bool.isRequired,workers:a.default.object.isRequired},k.defaultProps={historyLocation:{hash:null},replyToThread:function(){}};var S=k;t.default=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(480)),i=d(r(835)),l=r(16),u=d(r(2)),s=d(r(3)),c=d(r(352));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.comment,r=e.currentUser,a=e.isFlagged,d=e.onCopyLinkClick,f=e.onDeleteClick,p=e.onEditClick,m=e.onReportClick,h=e.onSpamClick,y=e.openMenu,g=e.origin,_=e.toggleMenu;return n.default.createElement("div",{className:u.default.flex},n.default.createElement("div",{className:"".concat(u.default.flexJustifySpaceBetween," ").concat(u.default.fullWidth)},n.default.createElement("div",{className:u.default.flexCenterItems},n.default.createElement("a",{className:"".concat(s.default.linkCharcoal," ").concat(s.default.bold," ").concat(s.default.bodyM," ").concat(t.user.url?"":s.default.linkDisabled),href:t.user.url},t.user.name),n.default.createElement(o.default,{origin:g,record:t}),n.default.createElement("span",{className:"".concat(s.default.bodyS," ").concat(s.default.pebble," ").concat(u.default.marginLeft5)},(0,l.timeFromNow)(t.created_at),t.edited_at&&n.default.createElement("span",null," (edited)"))),!t.deleted&&n.default.createElement("div",{className:c.default.menuWrapper},n.default.createElement(i.default,{copyLinkText:"Copy link to comment",currentUser:r,isFlagged:a,onCopyLinkClick:d,onDeleteClick:f,onEditClick:p,onReportClick:m,onSpamClick:h,openMenu:y,record:t,toggleMenu:_}))))};f.propTypes={comment:a.default.shape({body_with_relations:a.default.string,children:a.default.array,created_at:a.default.string.isRequired,edited_at:a.default.string,deleted:a.default.bool,id:a.default.number.isRequired,parent_id:a.default.number,relations:a.default.object,user:a.default.shape({avatar_url:a.default.string.isRequired,id:a.default.number.isRequired,isAdmin:a.default.bool.isRequired,name:a.default.string.isRequired,url:a.default.string}).isRequired}).isRequired,currentUser:a.default.shape({avatar_url:a.default.string,confirmed:a.default.bool,id:a.default.number,name:a.default.string,role:a.default.string,url:a.default.string}).isRequired,isFlagged:a.default.bool.isRequired,onCopyLinkClick:a.default.func.isRequired,onDeleteClick:a.default.func.isRequired,onEditClick:a.default.func.isRequired,onReportClick:a.default.func.isRequired,onSpamClick:a.default.func.isRequired,openMenu:a.default.bool.isRequired,origin:a.default.shape({admin_ids:a.default.arrayOf(a.default.number),id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}),toggleMenu:a.default.func.isRequired},f.defaultProps={};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(251)),i=s(r(2)),l=s(r(118)),u=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var d=function(e){var t=e.copyLinkText,r=e.isCurrentUserAnAdmin,a=e.isFlagged,o=e.onCopyLinkClick,s=e.onDeleteClick,c=e.onEditClick,d=e.onSpamClick;return n.default.createElement(n.Fragment,null,n.default.createElement("li",{className:l.default.option,onClick:c},"Edit"),n.default.createElement("li",{className:l.default.option,onClick:s},"Delete"),n.default.createElement("li",{className:l.default.option,onClick:o},t),r&&n.default.createElement("hr",{className:"".concat(u.default.hr," ").concat(i.default.marginTop10," ").concat(i.default.marginBottom10)}),r&&n.default.createElement("li",{className:a?l.default.optionDisabled:l.default.option,onClick:function(){return a?null:d()}},a?"Marked as spam":"Mark as spam"))},f=function(e){var t=e.copyLinkText,r=e.isFlagged,a=e.onCopyLinkClick,o=e.onReportClick,i=e.isUserSignedIn;return n.default.createElement(n.Fragment,null,n.default.createElement("li",{className:l.default.option,onClick:a},t),i&&n.default.createElement("li",{className:r?l.default.optionDisabled:l.default.option,onClick:function(){return r?null:o()}},r?"Reported":"Report"))},p=function(e){var t=e.toggleMenu,r=c(e,["toggleMenu"]);return n.default.createElement(o.default,{key:"menu",className:"".concat(i.default.paddingTop10," ").concat(i.default.paddingBottom10),alignTop:!1,dismiss:t,alignRight:!0},n.default.createElement("ul",{className:u.default.ulReset},n.default.Children.toArray(function(e){var t=e.copyLinkText,r=e.isCurrentUserPostAuthorOrAdmin,n=e.isFlagged,a=e.onCopyLinkClick,o=e.onReportClick,i=e.isUserSignedIn,l=c(e,["copyLinkText","isCurrentUserPostAuthorOrAdmin","isFlagged","onCopyLinkClick","onReportClick","isUserSignedIn"]);return r?d(Object.assign({copyLinkText:t,isFlagged:n,onCopyLinkClick:a},l)):f({copyLinkText:t,isFlagged:n,onCopyLinkClick:a,onReportClick:o,isUserSignedIn:i})}(r))))};p.propTypes={copyLinkText:a.default.string,isCurrentUserAnAdmin:a.default.bool.isRequired,isCurrentUserPostAuthorOrAdmin:a.default.bool.isRequired,isFlagged:a.default.bool.isRequired,isUserSignedIn:a.default.bool.isRequired,onCopyLinkClick:a.default.func.isRequired,onDeleteClick:a.default.func.isRequired,onEditClick:a.default.func.isRequired,onReportClick:a.default.func.isRequired,onSpamClick:a.default.func.isRequired,toggleMenu:a.default.func.isRequired},p.defaultProps={copyLinkText:"Copy link"};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return e?n.EditorState.moveSelectionToEnd(n.EditorState.createWithContent((0,o.default)(e),(0,a.default)(t))):n.EditorState.createEmpty((0,a.default)(t))};var n=r(23),a=i(r(1824)),o=i(r(1849));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new n.CompositeDecorator([{strategy:u,component:a.default},{strategy:s,component:o.default,props:{editorCtx:e}}])};var n=r(23),a=l(r(1825)),o=l(r(1826)),i=r(354);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r){e.findEntityRanges(function(e){return(0,i.characterHasEntity)(e,"LINK",r)},t)}function s(e,t,r){(0,i.findWithRegex)(/(\B@[a-z0-9_-]+\b)(?!\.\w)/gi,e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(0)),a=o(r(1));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.contentState.getEntity(e.entityKey).getData().href;return n.default.createElement("a",{"data-offset-key":e.offsetKey,href:t},e.children)};i.propTypes={contentState:a.default.object.isRequired,decoratedText:a.default.string.isRequired,entityKey:a.default.string.isRequired,offsetKey:a.default.string.isRequired};var l=i;t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=r(23),i=c(r(1827)),l=c(r(265)),u=c(r(7)),s=c(r(1848));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){return n.default.createElement("span",{className:s.default.userCard},n.default.createElement("img",{className:s.default.userAvatar,src:e.avatar_url}),n.default.createElement("span",{className:s.default.userNames},n.default.createElement("strong",null,e.name),n.default.createElement("span",null," @".concat(e.user_name))))},g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).stuntEventInEditor=r.stuntEventInEditor.bind(m(r)),r.updateEntity=r.updateEntity.bind(m(r)),r.state={queryCache:{},users:[]},r._updatedBySelection=!1,r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){null===this.props.entityKey&&this._createEntity(),this._isCursorInCurrentBlock()&&"insert-fragment"!==this.props.editorCtx.state.editorState.getLastChangeType()&&this._search(this.props.decoratedText)}},{key:"componentDidUpdate",value:function(e){e.decoratedText!==this.props.decoratedText&&this._isCursorInCurrentBlock()&&!1===this._updatedBySelection&&this._search(this.props.decoratedText),this._updatedBySelection&&(this._updatedBySelection=!1)}},{key:"_createEntity",value:function(){var e=this.props.contentState.createEntity("MENTION","MUTABLE",{}),t=this.props.children[0].props.start,r={start:t,end:t+this.props.decoratedText.length},n=o.SelectionState.createEmpty(this.props.children[0].props.block.get("key")).merge({anchorOffset:r.start,focusOffset:r.end}),a=o.Modifier.applyEntity(e,n,e.getLastCreatedEntityKey());this.props.editorCtx.updateEditorState(o.EditorState.acceptSelection(o.EditorState.push(this.props.editorCtx.state.editorState,a,"apply-entity"),this.props.editorCtx.state.editorState.getSelection()))}},{key:"_isCursorInCurrentBlock",value:function(){var e=this.props.children[0].props.block.get("key");return this.props.contentState.getSelectionAfter().getAnchorKey()===e}},{key:"_search",value:function(e){var t=this;return new Promise(function(r,n){return t.state.queryCache.hasOwnProperty(e)?t.setState({users:t.state.queryCache[e]}):(0,l.default)("users").search(e,{hitsPerPage:10}).then(function(r){return t.setState({queryCache:Object.assign({},t.state.queryCache,(n={},a=e,o=r.hits,a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o,n)),users:r.hits});var n,a,o}).catch(function(e){return(0,u.default)("Mention _search",e)})})}},{key:"stuntEventInEditor",value:function(e){this.props.editorCtx._stuntedEvent!==e&&this.props.editorCtx.__setStuntedEvent(e)}},{key:"updateEntity",value:function(e){var t=this;this._replaceText(e.user_name,function(){t._updatedBySelection=!0,t.setState({users:[]})})}},{key:"_replaceText",value:function(e,t){var r=this,n=this.props.offsetKey.split("-")[0],a=this.props.contentState.getBlockForKey(n),i={};a.findEntityRanges(function(e){return e.getEntity()===r.props.entityKey},function(e,t){i.start=e,i.end=t});var l=this.props.contentState.getSelectionAfter().merge({anchorOffset:i.start,focusOffset:i.end}),u=o.Modifier.replaceText(this.props.contentState,l,"@".concat(e),null,this.props.entityKey),s=o.EditorState.forceSelection(o.EditorState.set(this.props.editorCtx.state.editorState,{currentContent:u}),l.merge({anchorOffset:i.start+e.length+1,focusOffset:i.start+e.length+1}));return this.props.editorCtx.updateEditorState(s),t()}},{key:"_showDropdown",value:function(){return this.state.users.length>0&&this._isCurrentEntity()}},{key:"_isCurrentEntity",value:function(){return null!==this.props.entityKey&&this.props.editorCtx.state.currentEntity===this.props.entityKey}},{key:"render",value:function(){var e=this;return n.default.createElement("span",{ref:function(t){return e.root=t},className:s.default.root,"data-offset-key":this.props.offsetKey},this.props.children,this._showDropdown()&&n.default.createElement("div",{className:s.default.dropdownContainer,contentEditable:!1},n.default.createElement(i.default,{currentQuery:this.props.decoratedText,dismiss:function(){return e.setState({users:[]})},entityKey:this.props.entityKey,onSelect:this.updateEntity,options:this.state.users,stuntReturn:this.stuntEventInEditor,templateFn:y})))}}])&&f(r.prototype,a),c&&f(r,c),t}();g.propTypes={contentState:a.default.object.isRequired,decoratedText:a.default.string.isRequired,entityKey:a.default.string,offsetKey:a.default.string.isRequired},g.defaultProps={entityKey:null};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=r(23),i=u(r(481)),l=u(r(1828));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?f(n):a).state={focused:-1},r.dismiss=r.dismiss.bind(f(r)),r._eventKey,r._isMounted,r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._eventKey=(0,o.genKey)(),this._isMounted=!0,i.default.sub("arrow_up",this.handleArrow.bind(this),this._eventKey),i.default.sub("arrow_down",this.handleArrow.bind(this),this._eventKey),i.default.sub("blur",this.dismiss.bind(this),this._eventKey),i.default.sub("entityChanged",this.handleDelayedDismiss.bind(this),this._eventKey),i.default.sub("escape",this.dismiss.bind(this),this._eventKey),i.default.sub("return",this.handleReturn.bind(this),this._eventKey)}},{key:"componentDidUpdate",value:function(e){e.currentQuery!==this.props.currentQuery&&this.setState({focused:-1})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,i.default.unsub("arrow_up",this._eventKey),i.default.unsub("arrow_down",this._eventKey),i.default.unsub("blur",this._eventKey),i.default.unsub("entityChanged",this._eventKey),i.default.unsub("escape",this._eventKey),i.default.unsub("return",this._eventKey),this.props.stuntReturn(null)}},{key:"dismiss",value:function(){this._isMounted&&this.props.dismiss()}},{key:"handleArrow",value:function(e){if(this._isMounted){if(38===e.keyCode&&-1===this.state.focused)return this.props.dismiss();e.preventDefault(),this.props.stuntReturn("return"),40===e.keyCode&&this.state.focused<this.props.options.length-1?this.setState({focused:this.state.focused+1}):38===e.keyCode&&(0===this.state.focused&&this.props.stuntReturn(null),this.setState({focused:this.state.focused-1}))}}},{key:"handleDelayedDismiss",value:function(e){var t=this,r=e.currentEntity,n=e.previousEntity;this.props.entityKey===n&&null===r&&setTimeout(function(){t._isMounted&&t.props.dismiss()},20)}},{key:"handleReturn",value:function(e){this._isMounted&&(this.state.focused>=0?this.props.onSelect(this.props.options[this.state.focused]):this.props.dismiss())}},{key:"render",value:function(){var e=this;return n.default.createElement("ul",{className:l.default.list},this.props.options.map(function(t,r){return n.default.createElement("li",{key:r,className:"".concat(l.default.listItem," ").concat(e.state.focused===r?l.default.focused:""),onClick:function(){return e.props.onSelect(t)},onMouseOver:function(t){return e.setState({focused:r})}},e.props.templateFn(t))}))}}])&&c(r.prototype,a),u&&c(r,u),t}();m.propTypes={currentQuery:a.default.string.isRequired,dismiss:a.default.func.isRequired,entityKey:a.default.string,onSelect:a.default.func.isRequired,options:a.default.array.isRequired,stuntReturn:a.default.func.isRequired,templateFn:a.default.func.isRequired};var h=m;t.default=h},function(e,t,r){e.exports={graphite:"#4A4A4A",list:"dropdown_list__list__hTumx",listItem:"dropdown_list__listItem__2EY20",focused:"dropdown_list__focused__13plB"}},,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports={hackster:"#2E9FE6",root:"mention__root__3-RH0",dropdownContainer:"mention__dropdownContainer__26muy",userAvatar:"mention__userAvatar__3IsSb",userCard:"mention__userCard__1KFNu",userNames:"mention__userNames__1yifp"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=a.ContentState.createFromText((0,o.unescape)(e));return(0,i.default)(t,l,"MENTION",u)};var n,a=r(23),o=r(49),i=(n=r(846))&&n.__esModule?n:{default:n};var l=/@[\[[a-zA-Z0-9_\-]+\](?=\()\((?=\{)\{.+?(?:\}\))/g;function u(e){return"@["===e.slice(0,2)?function(e){for(var t,r="@",n=0;n<e.length-1;n++)if(t||"["!==e[n]){if(t&&"]"!==e[n])r+=e[n];else if("]"===e[n])break}else t=!0;return r}(e):e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(e){case" ":return c.call(this);case"@":return d.call(this);default:return f.call(this,e,t)}};var n=r(23),a=r(41),o=r(1851),i=r(1852),l=r(354),u=r(116);function s(e,t,r){var o=t.getCurrentContent(),i=t.getSelection(),l=o.getBlockForKey(i.getAnchorKey()),u=n.CharacterMetadata.create({entity:r,style:(0,a.OrderedSet)()}),s=i.getAnchorOffset(),c=l.getText(),d=c.slice(0,s).concat(e).concat(c.slice(s)),f=l.getCharacterList().insert(s,u),p=l.merge({text:d,characterList:f}),m=o.getBlockMap().set(p.getKey(),p),h=o.set("blockMap",m),y=i.merge({anchorOffset:s+1,focusOffset:s+1}),g=n.EditorState.acceptSelection(n.EditorState.push(t,h,"applied-entity"),y);return this.updateEditorState(g),"handled"}function c(){if((0,l.characterBeforeCursorHasEntity)(this.state.editorState,["LINK","MENTION","TAG"])){var e=(0,i.insertTextAtCursor)(this.state.editorState," ");return this.updateEditorState(function(e){var t=e.getCurrentContent(),r=e.getSelection(),a=t.getBlockForKey(r.getAnchorKey()),o=r.getAnchorOffset(),i=a.getText().split(""),l=a.getCharacterList().toJS().slice(0,o);if(i.length===o)return e;for(var u=null,s=l.length-1;s>=0&&(s===l.length-1||" "!==i[s]);s--)if(null!==l[s].entity){u=l[s].entity;break}if(!u)return e;var c=a.getCharacterList().map(function(e,t){return t>=o&&e.getEntity()===u?e.set("entity",null):e}),d=a.set("characterList",c),f=t.getBlockMap().set(d.getKey(),d),p=t.set("blockMap",f);return n.EditorState.push(e,p,"removed-entity")}(e)),"handled"}if(!(0,l.characterBeforeCursorHasEntity)(this.state.editorState,"LINK")&&(0,u.isValidUrl)((0,l.getWordBeforeCursor)(this.state.editorState))){var t=(0,o.linkifyPreviousWord)(this.state.editorState).link;this.props.handleEmbed(t)}return"not-handled"}function d(){return this.updateEditorState((0,i.insertMentionSymbolAtCursor)(this.state.editorState)),"handled"}function f(e,t){var r=t.getCurrentContent(),n=t.getSelection();if(!n.isCollapsed())return"not-handled";var a=r.getBlockForKey(n.getAnchorKey()).getEntityAt(n.getAnchorOffset()-1);return null!==a?s.call(this,e,t,a):"not-handled"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkifyPreviousWord=function(e){var t=e.getSelection(),r=(0,a.getWordBeforeCursor)(e),i=(0,o.appendProtocol)(r),l=t.merge({anchorOffset:t.getAnchorOffset()-r.length,focusOffset:t.getAnchorOffset()}),u=e.getCurrentContent().createEntity("LINK","MUTABLE",{href:(0,o.appendProtocol)(r)}),s=n.Modifier.applyEntity(e.getCurrentContent(),l,u.getLastCreatedEntityKey());return{link:i,updatedEditorState:n.EditorState.forceSelection(n.EditorState.set(e,{currentContent:s}),t)}};var n=r(23),a=r(354),o=r(116)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertTextAtCursor=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",r=e.getSelection(),a=n.Modifier.insertText(e.getCurrentContent(),r,t,null,null),o=r.getAnchorOffset()+t.length,i=r.merge({anchorOffset:o,focusOffset:o});return n.EditorState.forceSelection(n.EditorState.set(e,{currentContent:a}),i)},t.insertMentionSymbolAtCursor=function(e){var t=e.getCurrentContent().createEntity("MENTION","MUTABLE",{}),r=e.getSelection().isCollapsed()?"insertText":"replaceText",a=n.Modifier[r](t,e.getSelection(),"@",null,t.getLastCreatedEntityKey());return n.EditorState.forceSelection(n.EditorState.set(e,{currentContent:a}),e.getSelection().merge({anchorOffset:e.getSelection().getAnchorOffset()+1,focusOffset:e.getSelection().getAnchorOffset()+1}))};var n=r(23)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=this.state.editorState,n=r.getCurrentContent(),u=r.getSelection(),s=u.isCollapsed()?a.Modifier.insertText(n,u,e):a.Modifier.replaceText(n,u,e),c=function(e){return e.split("\n").reduceRight(function(e,t){return null!==e?e:t.split(" ").reduceRight(function(t,r){return null!==e?e:(0,o.isValidUrl)(r)?(0,o.appendProtocol)(r):e},null)},null)}(e);null!==c&&this.props.handleEmbed(c);return this.updateEditorState(a.EditorState.forceSelection(a.EditorState.push(r,(0,i.default)(s,l,"MENTION"),"insert-fragment"),s.getSelectionAfter())),"handled"};var n,a=r(23),o=r(116),i=(n=r(846))&&n.__esModule?n:{default:n};var l=/@[\S]+/g},function(e,t,r){e.exports={resetDraftGlobals:"rich_text_editor__resetDraftGlobals__3AO6z",root:"rich_text_editor__root__KoMyy",column:"rich_text_editor__column__396XY",row:"rich_text_editor__row__2dmaS",toolbar:"rich_text_editor__toolbar__32GxX"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(480)),i=d(r(835)),l=r(16),u=d(r(2)),s=d(r(3)),c=d(r(264));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.basePath,r=e.currentUser,a=e.isFlagged,d=e.onCopyLinkClick,f=e.onCreatedAtClick,p=e.onDeleteClick,m=e.onEditClick,h=e.onReportClick,y=e.onSpamClick,g=e.openMenu,_=e.origin,v=e.post,b=e.toggleMenu;return n.default.createElement("div",{className:"".concat(u.default.flexJustifySpaceBetween," ").concat(u.default.marginBottom10)},n.default.createElement("div",{className:u.default.flex},n.default.createElement("a",{className:u.default.marginRight10,href:v.user.url},n.default.createElement("img",{className:c.default.avatar,src:v.user.avatar_url})),n.default.createElement("div",{className:u.default.flexColumnWrap},n.default.createElement("div",{className:u.default.flexCenterItems},n.default.createElement("a",{className:"".concat(s.default.bodyM," ").concat(s.default.bold," ").concat(s.default.linkCharcoal),href:v.user.url},v.user.name),n.default.createElement(o.default,{origin:_,record:v})),n.default.createElement("a",{className:"".concat(s.default.bodyS," ").concat(s.default.linkPebble),href:"".concat(t,"/posts/").concat(v.id),onClick:function(e){return f(e,v.id)}},(0,l.timeFromNow)(v.created_at),v.edited_at&&n.default.createElement("span",null," (edited)")))),n.default.createElement(i.default,{copyLinkText:"Copy link to post",currentUser:r,isFlagged:a,onCopyLinkClick:d,onDeleteClick:p,onEditClick:m,onReportClick:h,onSpamClick:y,openMenu:g,record:v,toggleMenu:b}))};f.propTypes={basePath:a.default.string.isRequired,currentUser:a.default.shape({avatar_url:a.default.string.isRequired,confirmed:a.default.bool,id:a.default.number,name:a.default.string.isRequired,role:a.default.string,url:a.default.string}),isFlagged:a.default.bool.isRequired,onCopyLinkClick:a.default.func.isRequired,onCreatedAtClick:a.default.func.isRequired,onDeleteClick:a.default.func.isRequired,onEditClick:a.default.func.isRequired,onReportClick:a.default.func.isRequired,onSpamClick:a.default.func.isRequired,openMenu:a.default.bool.isRequired,origin:a.default.shape({admin_ids:a.default.arrayOf(a.default.number)}),post:a.default.shape({created_at:a.default.string.isRequired,edited_at:a.default.string,id:a.default.number.isRequired,user:a.default.shape({avatar_url:a.default.string.isRequired,id:a.default.number.isRequired,isAdmin:a.default.bool.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired}).isRequired,toggleMenu:a.default.func.isRequired},f.defaultProps={currentUser:null,origin:null};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(480)),i=d(r(848)),l=d(r(2)),u=d(r(264)),s=d(r(3)),c=d(r(484));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){return{user:{id:e.id,isAdmin:"admin"===e.role}}},p=function(e){var t=e.categoryConfig,r=e.categorySelectOpts,a=e.children,d=e.currentPath,p=e.currentUser,m=e.errors,h=e.isBusy,y=e.isEditorFocused,g=e.markdownBtn,_=e.onCategorySelect,v=e.onPost,b=e.origin;return n.default.createElement("div",{className:c.default.postCreatorRoot},n.default.createElement("div",{className:"".concat(c.default.postCreatorHeaderAndEditor," ").concat(y?c.default.postCreatorHeaderAndEditorFocused:"")},n.default.createElement("div",{className:c.default.postCreatorHeader},n.default.createElement("img",{className:"".concat(u.default.avatar," ").concat(l.default.marginRight10),src:p.avatar_url,alt:p.name}),y&&n.default.createElement("div",{className:"".concat(l.default.flexJustifyCenter)},n.default.createElement("div",{className:l.default.flexCenterItems},n.default.createElement("a",{className:"".concat(s.default.bodyM," ").concat(s.default.bold," ").concat(s.default.linkCharcoal),href:p.url},p.name),n.default.createElement(o.default,{origin:b,record:f(p)})))),n.default.createElement("div",{className:"".concat(y?c.default.postCreatorEditorWrapperFocused:c.default.postCreatorEditorWrapper)},a)),y&&n.default.createElement(i.default,{categoryConfig:t,categorySelectOpts:r,currentPath:d,errors:m,isBusy:h,markdownBtn:g,onCategorySelect:_,onPostOrSave:v}))};p.propTypes={categoryConfig:a.default.arrayOf(a.default.shape({colorClass:a.default.string.isRequired,enum:a.default.string.isRequired,path:a.default.string.isRequired,text:a.default.string.isRequired,title:a.default.string.isRequired})).isRequired,categorySelectOpts:a.default.arrayOf(a.default.shape({label:a.default.oneOfType([a.default.element,a.default.string]),value:a.default.string})).isRequired,currentPath:a.default.string.isRequired,currentUser:a.default.shape({avatar_url:a.default.string,confirmed:a.default.bool,id:a.default.number,name:a.default.string,role:a.default.string,url:a.default.string}),errors:a.default.shape({category:a.default.string,content:a.default.string}).isRequired,isBusy:a.default.bool.isRequired,isEditorFocused:a.default.bool.isRequired,markdownBtn:a.default.element.isRequired,onCategorySelect:a.default.func.isRequired,onPost:a.default.func.isRequired,origin:a.default.shape({admin_ids:a.default.arrayOf(a.default.number)})},p.defaultProps={currentUser:null};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=m(r(1)),o=m(r(837)),i=m(r(832)),l=r(8),u=r(11),s=m(r(10)),c=m(r(2)),d=m(r(3)),f=m(r(5)),p=m(r(484));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b={mentions:!0,tags:!0},O=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=g(this,_(t).call(this,e))).state={view:"default"},r}var r,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,n.PureComponent),r=t,(a=[{key:"_isUnfocusedCreator",value:function(){return"default"===this.props.mode&&!1===this.props.isEditorFocused}},{key:"_getBodyClassName",value:function(){return this._isUnfocusedCreator()?"":"".concat(p.default.postBody," ").concat("markdown"===this.state.view?p.default.transparentBorder:f.default.border)}},{key:"render",value:function(){var e=this,t=this.props,r=t.deleteEmbed,a=t.embed,f=t.getEditorRef,m=t.markdownService,h=t.mode,y=t.post,g=t.propogateToolbar,_=t.scrapePageForLink;return n.default.createElement("div",{className:"".concat(c.default.fullWidth," ").concat(this._getBodyClassName())},n.default.createElement(o.default,{ref:f,classList:{root:"",markdownBtn:"".concat(s.default.cancel," ").concat(d.default.bodyS," ").concat(p.default.markdownBtn)},config:b,handleEmbed:_,initText:(0,l.getInObj)(["body"],y)||"",markdownService:m,mode:h,onBlur:function(){},onFocus:function(){},placeholder:"Share something cool or ask a question.",propagateToolbar:g,propagateViewState:function(t){return e.setState({view:t})}}),!(0,u.isBlank)(a)&&n.default.createElement(i.default,{embed:a,killEmbed:r,mode:"edit"}))}}])&&y(r.prototype,a),m&&y(r,m),t}();O.propTypes={deleteEmbed:a.default.func.isRequired,embed:a.default.shape({}),getEditorRef:a.default.func.isRequired,isEditorFocused:a.default.bool.isRequired,markdownService:a.default.object.isRequired,mode:a.default.oneOf(["default","edit"]),post:a.default.shape({body:a.default.string}),propogateToolbar:a.default.func,scrapePageForLink:a.default.func.isRequired,value:a.default.string},O.defaultProps={embed:{},mode:"default",post:null,propogateToolbar:function(){},value:""};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return a.default.apiRequest(n.default.post("".concat(a.default.getApiPath(),"/private/scraper")).send({url:e}),!0).then(function(e){return t=e.job_id,(0,o.pollWithBackoff)(function(e,r,o){return function(e){return a.default.apiRequest(n.default.get("".concat(a.default.getApiPath(),"/private/background_jobs/").concat(e)),!0)}(t).then(function(r){return"complete"===r.status?e(t):o()}).catch(function(e){return r(e)})});var t}).then(function(e){return function(e){return a.default.apiRequest(n.default.get("".concat(a.default.getApiPath(),"/private/scraper/").concat(e)),!0)}(e)}).then(function(e){return(0,i.tryJSONParse)(e.result)}).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})};var n=l(r(35)),a=l(r(40)),o=r(447),i=r(238);function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(827)),i=d(r(160)),l=d(r(28)),u=r(55),s=d(r(2)),c=d(r(3));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=m(this,h(t).call(this,e))).state={isStuck:!1},r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.PureComponent),r=t,(a=[{key:"render",value:function(){var e=this,t=this.props,r=t.basePath,a=t.categories,d=t.className,f=t.onClick,p=t.parentId,m=t.topAnchorId,h=t.topBuffer;return n.default.createElement(i.default,{parentId:p,reportPosition:function(t){return e.setState({isStuck:"start"!==t})},stickToEnd:!0,startBuffer:h},n.default.createElement("div",{className:d},n.default.createElement(o.default,{basePath:r,categories:a,onClick:f,topAnchorId:m}),this.state.isStuck&&n.default.createElement("div",{className:s.default.marginTop15},n.default.createElement("a",{className:"".concat(c.default.linkPebble," ").concat(c.default.bodyS," ").concat(c.default.bold),href:u.NOOP_HREF,onClick:function(){return function(e){var t=e?document.getElementById(e):0;(0,l.default)(t)}(m)}},"Return to top"))))}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={basePath:a.default.string.isRequired,categories:a.default.arrayOf(a.default.shape({colorClass:a.default.string.isRequired,enum:a.default.string.isRequired,path:a.default.string.isRequired,text:a.default.string.isRequired,title:a.default.string.isRequired})).isRequired,className:a.default.string,onClick:a.default.func.isRequired,parentId:a.default.string.isRequired,topAnchorId:a.default.string,topBuffer:a.default.number},g.defaultProps={className:"",topAnchorId:null,topBuffer:0};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=u(r(138)),i=u(r(1861)),l=r(12);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?p(n):a).state={bufferBottom:0,bufferTop:0,end:r.props.renderCount-1,start:0},r.handleScroll=r.handleScroll.bind(p(r)),r._childMetadata=[],r._prevPageYOffset=0,r._root,r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this.throttledScroll=(0,o.default)(this.handleScroll,30,{trailing:!0,leading:!0}),window.addEventListener("scroll",this.throttledScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.throttledScroll)}},{key:"__reset",value:function(){this._childMetadata=[],this.setState({bufferBottom:0,bufferTop:0,end:this.props.renderCount-1,start:0})}},{key:"__deleteFromMeta",value:function(e){this._childMetadata=this._childMetadata.filter(function(t){return t.id!==e}),this.setState(Object.assign({},this._getBuffers(this.state.start,this.state.end)))}},{key:"handleScroll",value:function(){if(this._root&&this.props.children.length){var e=(0,l.windowPageYOffset)();e>this._prevPageYOffset?this._handleScrollingDown():this._handleScrollingUp(),this._prevPageYOffset=e}}},{key:"_getBuffers",value:function(e,t){var r=this._childMetadata.slice(0,e).reduce(function(e,t){return e+t.dims.height},0);return{bufferBottom:this._childMetadata.slice(t).reduce(function(e,t){return e+t.dims.height},0),bufferTop:r}}},{key:"_getRangeToRender",value:function(e){for(var t=(0,l.windowPageYOffset)(),r=this._childMetadata,n=null,a=0;a<=r.length-1&&null===n;a++){var o=this._childMetadata[a],i=this._childMetadata[Math.max(a-1,0)];"FORWARD"===e&&a===r.length-1&&t>=o.offset?n=a:"BACKWARD"===e&&0===a&&o.offset>=t?n=a:t>=i.offset&&t<=o.offset&&(n=a)}if(null===n)return[this.state.start,this.state.end];var u=Math.max(n-(this.props.renderCount/2+1),0);return[u,u+(this.props.renderCount-1)]}},{key:"_getRootDims",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],this._root.getBoundingClientRect()}},{key:"_handleScrollingDown",value:function(){!this.props.isBusy&&this.state.end<this.props.records.length&&this._isAtBottom(this._getRootDims().bottom,this.props.scrollForwardBuffer)&&this._setRangeAndBuffers("FORWARD")}},{key:"_handleScrollingUp",value:function(){this.state.start>0&&this._isAtTop(this._getRootDims().top)&&this._setRangeAndBuffers("BACKWARD")}},{key:"_isAtBottom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.state.bufferBottom>0?Math.abs(parseInt(e,10)-t)<=Math.abs(parseInt(this.state.bufferBottom,10)):parseInt(e,10)-t<=window.innerHeight}},{key:"_isAtTop",value:function(e){return Math.abs(parseInt(e,10)+1e3)<=Math.abs(parseInt(this.state.bufferTop,10))}},{key:"_setRangeAndBuffers",value:function(e){var t=c(this._getRangeToRender(e),2),r=t[0],n=t[1],a=this._getBuffers(r,n),o=a.bufferBottom,i=a.bufferTop;this.setState({bufferBottom:o,bufferTop:i,end:n,start:r})}},{key:"_getVisibleRange",value:function(){var e=this,t=this.state.start;return this.props.records.slice(t,this.state.end).map(function(r,a){return n.default.createElement(i.default,{key:r.id,reportDims:function(n){return e._childMetadata[a+t]=Object.assign({},n,{id:r.id})}},e.props.children({record:r}))})}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{ref:function(t){return e._root=t}},n.default.createElement("div",{style:{height:this.state.bufferTop}}),this._getVisibleRange(),n.default.createElement("div",{style:{height:this.state.bufferBottom}}))}}])&&d(r.prototype,a),u&&d(r,u),t}();h.propTypes={isBusy:a.default.bool,records:a.default.array,renderCount:a.default.number,scrollForwardBuffer:a.default.number},h.defaultProps={isBusy:!1,records:[],renderCount:20,scrollForwardBuffer:500};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=(n=r(1))&&n.__esModule?n:{default:n},i=r(12);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=s(this,c(t).call(this,e)))._root,r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.PureComponent),r=t,(n=[{key:"componentDidMount",value:function(){this._reportDims()}},{key:"_reportDims",value:function(){if(this._root){var e=this._root.getBoundingClientRect();this.props.reportDims({dims:e,offset:e.top+(0,i.windowPageYOffset)()})}}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{ref:function(t){return e._root=t}},this.props.children)}}])&&u(r.prototype,n),o&&u(r,o),t}();f.propTypes={reportDims:o.default.func.isRequired};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addWorker=function(e){e&&!this.state.workers.hasOwnProperty(e)&&this._safelySetState({workers:Object.assign({},this.state.workers,c({},e,!0))})},t.removeFromWorkersState=function(e){return e&&this.state.workers.hasOwnProperty(e)?(0,s.removeFromObject)(this.state.workers,e):this.state.workers},t.markPostOrCommentAsSpam=t.flagPostOrComment=void 0;var n,a=(n=r(7))&&n.__esModule?n:{default:n},o=r(20),i=r(485),l=r(200),u=r(18),s=r(45);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){return"feed_post"===e?"post":e};t.flagPostOrComment=function(e,t,r){return new Promise(function(n,o){return(0,i.flagContent)({type:e,id:t},r).then(function(){(0,u.summonGlobalMessenger)({msg:"Reported ".concat(d(e)),type:"success"}),n()}).catch(function(t){(0,u.summonGlobalMessenger)({msg:(0,l.getErrorMsg)("reporting the ".concat(d(e))),type:"error"}),(0,a.default)("Discussion flagPostOrComment:",t),o(t)})})};t.markPostOrCommentAsSpam=function(e,t){return new Promise(function(r,n){return(0,i.markAsSpam)({type:e,id:t}).then(function(){(0,u.summonGlobalMessenger)({msg:"".concat((0,o.capitalize)(d(e))," marked as spam."),type:"success"}),r()}).catch(function(t){(0,u.summonGlobalMessenger)({msg:(0,l.getErrorMsg)("marking the ".concat(d(e)," as spam")),type:"error"}),(0,a.default)("Discussion markPostOrCommentAsSpam:",t),n(t)})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getComments=function(e,t){var r=this;return this.addWorker(t),(0,n.graphQuery)({t:"get_comments_for_feed"},{commentable_id:e.id,commentable_type:"FeedPost"}).then(function(n){var a=n.comments;r._safelySetState({records:c(r.state.records,a,e.id),workers:r.removeFromWorkersState(t)})}).catch(function(e){r._safelySetState({workers:r.removeFromWorkersState(t)}),(0,a.default)("Discussion getComments: ",e),(0,i.summonGlobalMessenger)({msg:(0,o.getErrorMsg)("retrieving comments"),type:"error"})})},t.getCommentReplies=function(e){var t=this,r=e.comment,l=e.postId,u=e.worker;return this.addWorker(u),(0,n.graphQuery)({t:"get_comments"},{parent_id:r.id}).then(function(e){var n=e.comments;t._safelySetState({records:d(t.state.records,n,r,l),workers:t.removeFromWorkersState(u)})}).catch(function(e){t._safelySetState({workers:t.removeFromWorkersState(u)}),(0,a.default)("Discussion getCommentReplies: ",e),(0,i.summonGlobalMessenger)({msg:(0,o.getErrorMsg)("retrieving comments"),type:"error"})})},t.createComment=function(e){var t=this,r=e.comment,l=e.resolverFn;return this._safelySetState({isBusy:!0}),(0,n.graphMutate)({t:"create_comment"},r).then(function(e){return g.call(t,e,r,l)}).catch(function(e){t._safelySetState({isBusy:!1}),(0,a.default)("Discussion createComment: ",e),(0,i.summonGlobalMessenger)({msg:(0,o.getErrorMsg)("posting your comment"),type:"error"})})},t.deleteComment=function(e){var t=this,r=e.comment,l=(u=this.state.records,function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(u)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}());var u;return this._safelySetState({isBusy:!0,records:_(this.state.records,r)}),(0,n.graphMutate)({t:"delete_comment"},{id:r.id}).then(function(){return E.call(t,r)}).catch(function(e){t._safelySetState({isBusy:!1,records:l}),(0,a.default)("ContestDiscussion _deleteComment: ",e),(0,i.summonGlobalMessenger)({msg:(0,o.getErrorMsg)("deleting the comment"),type:"error"})})},t.deleteCommentViaSpam=function(e){this._safelySetState({isBusy:!1,records:_(this.state.records,e)}),(0,i.summonGlobalMessenger)({msg:"Comment successfully deleted",type:"success"}),w(e)},t.updateComment=function(e){var t=this,r=e.comment,l=e.resolverFn;return this._safelySetState({isBusy:!0}),(0,n.graphMutate)({t:"update_comment"},r).then(function(e){return S.call(t,e,r,l)}).catch(function(e){t._safelySetState({isBusy:!1}),(0,a.default)("Discussion updateComment: ",e),(0,i.summonGlobalMessenger)({msg:(0,o.getErrorMsg)("updating the comment"),type:"error"})})},t.fireUpdatedCommentAnalytics=t.fireDeleteCommentAnalytics=t.fireCreateCommentAnalytics=void 0;var n=r(14),a=s(r(7)),o=r(200),i=r(18),l=s(r(22)),u=r(60);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,r){return e.map(function(e){if(e.id===r){var n=e.comments.map(function(e){return e.id}),a=t.filter(function(e){return!n.includes(e.id)});e.comments=a.concat(e.comments)}return e})};var d=function(e,t,r,n){return e.map(function(e){return e.id===n&&(e.comments=f(e.comments,t,r)),e})},f=function(e,t,r){return e.map(function(e){return e.id===r.id?Object.assign({},e,{child_ids:t.map(function(e){return e.id}),children:t}):e})};var p=function(e,t,r){return e.map(function(e){return e.id===t.commentable_id&&(e.comments=m(e.comments,t,r)),e})},m=function(e,t,r){return t.parent_id?e.map(function(e){if(e.id===t.parent_id){var n=e.children||[];return Object.assign({},e,{children:n.concat(h(t,r))})}return e}):e.concat(h(t,r))},h=function(e,t){var r=e.body_with_relations,n=e.created_at,a=e.id,o=e.parent_id;return{body_with_relations:r,created_at:n,id:a,raw_body:e.raw_body,children:[],deleted:!1,edited_at:null,liking_user_ids:[],parent_id:o||null,relations:{},user:Object.assign({},t.currentUser,{isAdmin:"admin"===t.currentUser.role}),__meta:{truncate:!1}}},y=function(e,t){return l.default.reportEventWithObj((0,u.getCreateCommentArgs)({id:e.id,is_reply:t.hasOwnProperty("parent_id")}))};function g(e,t,r){var n=e.comment;this._safelySetState({isBusy:!1,records:p(this.state.records,Object.assign({},t,n),this.props)},function(){"function"==typeof r&&r()}),y(n,t)}t.fireCreateCommentAnalytics=y;var _=function(e,t){return e.map(function(e){if(e.id===t.commentable_id){var r=v(e.comments,t);return Object.assign({},e,{comments:r})}return e})},v=function(e,t){return t.parent_id?b(e,t):O(e,t)},b=function(e,t){return e.reduce(function(e,r){if(r.id===t.parent_id){var n=r.children.filter(function(e){return e.id!==t.id});(!1===r.deleted||n.length>0)&&(e=e.concat(Object.assign({},r,{children:n})))}else e=e.concat(r);return e},[])},O=function(e,t){return e.reduce(function(e,r){return r.id===t.id?r.children&&r.children.length>0&&(e=e.concat(Object.assign({},r,{deleted:!0}))):e=e.concat(r),e},[])},w=function(e){return l.default.reportEventWithObj((0,u.getDeleteCommentArgs)({id:e.id,is_reply:e.hasOwnProperty("parent_id")}))};function E(e){this._safelySetState({isBusy:!1}),(0,i.summonGlobalMessenger)({msg:"Comment successfully deleted",type:"success"}),w(e)}t.fireDeleteCommentAnalytics=w;var P=function(e,t){return e.map(function(e){var r,n;return e.id===t.commentable_id&&(e.comments=(r=e.comments,(n=t).parent_id?r.map(function(e){return e.id===n.parent_id&&(e.children=e.children.map(function(e){return e.id===n.id?Object.assign({},e,n):e})),e}):r.map(function(e){return e.id===n.id?Object.assign({},e,n):e}))),e})},k=function(e){return l.default.reportEventWithObj((0,u.getUpdateCommentArgs)({id:e.id,is_reply:e.hasOwnProperty("parent_id")}))};function S(e,t,r){var n=e.comment;this._safelySetState({isBusy:!1,records:P(this.state.records,Object.assign({},n,{commentable_id:t.commentable_id,parent_id:t.parent_id,raw_body:t.raw_body,__meta:{truncate:!1}}))},function(){"function"==typeof r&&r()}),k(t)}t.fireUpdatedCommentAnalytics=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPost=function(e){var t=this,r=e.post,o=e.failureFn,i=e.resolverFn;return this._safelySetState({isBusy:!0}),(0,n.graphMutate)({t:"create_feed_post"},Object.assign({},r,{origin_id:this.props.origin.id,origin_type:this.props.origin.type})).then(function(e){var n=e.feed_post;t._safelySetState({isBusy:!1,offset:t.state.offset+1,records:[d(Object.assign({},r,n),t.props)].concat(t.state.records)},function(){"function"==typeof i&&i()}),f(n,r)}).catch(function(e){t._safelySetState({isBusy:!1}),"function"==typeof o&&o(),(0,a.default)("Discussion createPost: ",e)})},t.deletePost=function(e,t){var r=this;this._safelySetState({isBusy:!0}),"function"==typeof t&&t();return(0,n.graphMutate)({t:"delete_feed_post"},{id:e.id}).then(function(){return m.call(r,e)}).catch(function(e){r._safelySetState({isBusy:!1}),(0,a.default)("Discussion deletePost: ",e),(0,l.summonGlobalMessenger)({msg:(0,o.getErrorMsg)("deleting the post"),type:"error"})})},t.deletePostViaSpam=function(e){return m.call(this,e)},t.updatePost=function(e){var t=this,r=e.post,o=e.oldPost,i=e.failureFn,l=e.resolverFn;return this._safelySetState({isBusy:!0}),(0,n.graphMutate)({t:"update_feed_post"},r).then(function(e){var n=e.feed_post;return y.call(t,{updatedPost:Object.assign({},r,n,{__meta:{truncate:!1}}),oldPost:o,resolverFn:l})}).catch(function(e){t._safelySetState({isBusy:!1}),"function"==typeof i&&i(),(0,a.default)("Discussion updatePost: ",e)})},t.fireUpdatedPostAnalytics=t.fireDeletePostAnalytics=t.fireCreatePostAnalytics=void 0;var n=r(14),a=c(r(7)),o=r(200),i=r(20),l=r(18),u=c(r(22)),s=r(60);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){var r=e.body,n=e.category,a=e.created_at,o=e.entities;return{body:r,category:n,created_at:a,id:e.id,relations:e.relations,comments:[],edited_at:null,entities:o||{},respects_count:0,user:Object.assign({},t.currentUser,{isAdmin:"admin"===t.currentUser.role}),__meta:{truncate:!1}}},f=function(e,t){return u.default.reportEventWithObj((0,s.getCreatePostArgs)(e.id,t.category))};t.fireCreatePostAnalytics=f;var p=function(e){return u.default.reportEventWithObj((0,s.getDeletePostArgs)(e.id,e.category))};function m(e){var t=this;this._safelySetState({isBusy:!1,offset:this.state.offset-1,records:this.state.records.filter(function(t){return t.id!==e.id})},function(){(0,l.summonGlobalMessenger)({msg:"Post successfully deleted.",type:"success"}),"singular"===t.state.currentView&&t.history.push("/"),t._windower&&t._windower.__deleteFromMeta(e.id)}),p(e)}t.fireDeletePostAnalytics=p;var h=function(e){return u.default.reportEventWithObj((0,s.getUpdatePostArgs)(e.id,e.category))};function y(e){var t=e.updatedPost,r=e.oldPost,n=e.resolverFn,a=t.category!==r.category&&"category"===this.state.currentView,o=a?this.state.records.filter(function(e){return e.id!==t.id}):this.state.records.map(function(e){return e.id===t.id?Object.assign({},e,t):e});this._safelySetState({isBusy:!1,records:o},function(){"function"==typeof n&&n()}),a&&(0,l.summonGlobalMessenger)({msg:"Post moved to ".concat((0,i.unsnakeString)(t.category,i.capitalize),".")}),h(t)}t.fireUpdatedPostAnalytics=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){var t=new n.default({breaks:!0,linkify:!0,xhtmlOut:!0}).use(a.default).disable(["image","heading"]);e.rules&&e.rules.length&&e.rules.forEach(function(r){u.hasOwnProperty(r)&&t.use(u[r],e)});return t}(e),r=t.renderer.rules.link_open||function(e,t,r,n,a){return a.renderToken(e,t,r)};return t.renderer.rules.link_open=function(t,n,a,o,i){var l=t[n].attrIndex("target");return l<0?t[n].attrPush(["target","_blank"]):t[n].attrs[l][1]="_blank",t[n].attrPush(["class",e.highlightClass]),t[n].attrPush(["rel","noopener noreferrer nofollow"]),r(t,n,a,o,i)},t};var n=l(r(849)),a=l(r(858)),o=l(r(1921)),i=l(r(859));function l(e){return e&&e.__esModule?e:{default:e}}var u={mention:l(r(1922)).default,highlight:o.default,code:i.default}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){switch(e){case 9:case 32:return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.renderer.rules.entity=function(e,r,n,a,o){return"<span class=".concat(t.highlightClass," ").concat(o.renderAttrs(e[r]),">").concat(e[r].content,"</span>")},e.inline.ruler.push("entity",function(e,t){return function(e,r){if(!t.highlightChar)return!1;var a,o=t.highlightChar,i=o.charCodeAt(0),l=e.pos,u=e.posMax,s=!1;if(r)return!1;if(e.src.charCodeAt(e.pos)!==i)return!1;for(var c,d=e.pos;e.pos<=u;){if(e.pos===u){if(e.src.slice(d,e.pos).match("@"===(c=o)?new RegExp("(B".concat(c,"[a-z0-9_-]+\b)(?!.w)"),"g"):new RegExp("".concat(c,"[a-zA-Z0-9_-]+"),"g"))){a=e.src.slice(d,e.pos);break}s=!0;break}if(n(e.src.charCodeAt(e.pos))&&(0===d||n(e.src.charCodeAt(d-1)))){a=e.src.slice(d,e.pos);break}e.pos+=1}return s?(e.pos=l,!1):(e.push("entity").content="".concat(a),e.md.inline.tokenize(e),!0)}}(0,t))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.renderer.rules.mention=function(e,r,n,a,o){return"<a class=".concat(t.highlightClass," ").concat(o.renderAttrs(e[r]),">").concat(e[r].content,"</a>")},e.inline.ruler.before("link","mention",function(e,t){var r,o,i=e.pos,l=e.posMax,u=!1;if(t)return!1;if(e.src.charCodeAt(e.pos)!==a[0])return!1;if(e.src.charCodeAt(e.pos+1)!==a[1])return!1;e.pos=e.pos+2;for(var s=e.pos;e.pos<=l;){if(e.pos===l){u=!0;break}if(e.src.charCodeAt(e.pos)===a[2]&&e.src.charCodeAt(e.pos+1)===a[3]){var c=e.pos;o=(0,n.unescape)(e.src.slice(s,c)),e.pos=e.pos+1;break}e.pos+=1}if(u)return e.pos=i,!1;if(e.src.charCodeAt(e.pos)!==a[3])return e.pos=i,!1;for(var d=e.pos+1;e.pos<=l;){if(e.pos===l){u=!0;break}if(e.src.charCodeAt(e.pos)===a[4]){var f=e.pos;r=(0,n.unescape)(e.src.slice(d,f)),e.pos=e.pos+1;break}e.pos+=1}if(u||!1===function(e){try{return JSON.parse(e),!0}catch(e){return!1}}(r))return e.pos=i,!1;var p=e.push("mention"),m=e.hasOwnProperty("env")&&e.env&&e.env.hasOwnProperty("uuid")?e.env.uuid:null;return p.content="@".concat(o),p.attrs=[["href",JSON.parse(r).url],["target","_blank"],["data-react-popover",r],["data-mv-key",m]],e.md.inline.tokenize(e),!0})};var n=r(49),a="@[]()".split("").map(function(e){return e.charCodeAt(0)})},function(e,t,r){e.exports={small:"(max-width: 480px)",sidebar:"contest_discussion__sidebar__xbPDQ",sidebarWrapper:"contest_discussion__sidebarWrapper__jkTx_ contest_discussion__sidebar__xbPDQ",container:"contest_discussion__container__eobRY",header:"contest_discussion__header__16Eqq"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCategoryConfigs=void 0;var n=i(r(0)),a=r(862),o=i(r(349));function i(e){return e&&e.__esModule?e:{default:e}}var l=[{colorClass:"categoryGreenBG",enum:(0,a.getCategoryEnum)("Announcements"),path:(0,a.getCategoryEnum)("Announcements").toLowerCase(),text:"Contest announcements from the admin team",title:"Announcements"},{colorClass:"categoryYellowBG",enum:(0,a.getCategoryEnum)("General"),path:(0,a.getCategoryEnum)("General").toLowerCase(),text:"Submission guidelines, deadlines and other general questions",title:"General"},{colorClass:"categoryBlueBG",enum:(0,a.getCategoryEnum)("Free hardware"),path:(0,a.getCategoryEnum)("Free hardware").toLowerCase(),text:"Questions and updates on selection and distribution of free HW",title:"Free hardware"},{colorClass:"categoryOrangeBG",enum:(0,a.getCategoryEnum)("Technical help"),path:(0,a.getCategoryEnum)("Technical help").toLowerCase(),text:"Getting started, hardware troubleshooting and project help",title:"Technical help"}],u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.map(function(e){return{label:t&&"function"==typeof t?t(e):e.title,labelText:e.title,value:e.enum}})};t.createCategoryConfigs=function(e){var t=e.activate_free_hardware?l:l.filter(function(e){return e.enum!==(0,a.getCategoryEnum)("Free hardware")});return{CATEGORY_CONFIGS:t,SELECT_CATEGORIES:u(t,function(e){return n.default.createElement(o.default,{categoryConfig:e})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=s(r(1926)),i=s(r(40)),l=s(r(7)),u=r(1930);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=[{name:"University",type:"University",form:{inputs:["Name","City"],selections:[{label:"Country",options:r(304).Countries}],image:{aspect_ratio:1,attribute_type:"avatar",file_type:"Avatar",human_file_type:"Logo",model:"group"},model_key:"group",keys:{Name:"full_name",City:"city",Country:"country",Logo:"avatar_id"},endpoint:"".concat(i.default.getApiPath(),"/private/groups")},search:!0},{name:"Course",type:"Course",form:{inputs:["Name","Course #"],textareas:[{label:"Pitch",rows:3}],model_key:"group",keys:(n={Name:"full_name"},h(n,"Course #","course_number"),h(n,"Pitch","mini_resume"),n),endpoint:"".concat(i.default.getApiPath(),"/private/groups"),member_role:"professor"},search:!0},{name:"Class",type:"Promotion",form:{inputs:["Year or semester"],image:null,model_key:"group",keys:{"Year or semester":"full_name"},endpoint:"".concat(i.default.getApiPath(),"/private/groups"),member_role:"professor"},search:!1}],g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?p(n):a).state={university:null,course:null,promotion:null},r.changeSelection=r.changeSelection.bind(p(r)),r.getOptionsHandler=r.getOptionsHandler.bind(p(r)),r.postFormHandler=r.postFormHandler.bind(p(r)),r.setSelectionValue=r.setSelectionValue.bind(p(r)),r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,a.Component),r=t,(n=[{key:"changeSelection",value:function(e){"university"===e?this.setState({university:null,course:null,promotion:null}):"course"===e?this.setState({university:this.state.university,course:null,promotion:null}):this.setState(h({},e,null))}},{key:"getOptionsHandler",value:function(e){return new Promise(function(t,r){return(0,u.getOptions)(e).then(function(e){return t(e)}).catch(function(e){(0,l.default)("UniversityCourseWizard getOptionsHandler:",e),r(e)})})}},{key:"postFormHandler",value:function(e,t,r){var n=this;return(0,u.postForm)(e,t).then(function(t){var a=null!==r?Object.assign({},t,{imageData:r}):t;n.setState(h({},e.model_data.type.toLowerCase(),a))}).catch(function(e){(0,l.default)("UniversityCourseWizard postFormHandler: ",e)})}},{key:"setSelectionValue",value:function(e,t){this.setState(h({},t,e))}},{key:"_getActions",value:function(){return{getOptionsHandler:this.getOptionsHandler,postFormHandler:this.postFormHandler,setSelectionValue:this.setSelectionValue,changeSelection:this.changeSelection}}},{key:"_getCompletedBtn",value:function(){var e=this;if(!(Object.keys(this.state).findIndex(function(t){return null===e.state[t]})>-1))return a.default.createElement("div",{className:"completed-button-wrapper"},a.default.createElement("a",{className:"btn btn-success",href:"/groups/".concat(this.state.promotion.id)},"Complete"))}},{key:"_getSteps",value:function(){var e=this;return y.map(function(t,r){var n=t.name,i=t.type,l=t.form,u=t.search,s=y[r-1];return 0===r||e.state[s.name.toLowerCase()]?a.default.createElement(o.default,{key:r,actions:e._getActions(),form:r>0?Object.assign({},l,{parentId:e.state[s.name.toLowerCase()].id}):l,name:n,search:u,type:i,store:e.state}):null}).filter(function(e){return null!==e})}},{key:"render",value:function(){return a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2"},a.default.createElement("div",{className:"course-wizard-wrapper box allow-overflow"},a.default.createElement("div",{className:"box-title"},a.default.createElement("h2",null,"Create a new course page")),a.default.createElement("div",{className:"box-content"},a.default.createElement("div",{className:"course-wizard"},this._getSteps(),this._getCompletedBtn())))))}}])&&d(r.prototype,n),i&&d(r,i),t}();t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(1927)),i=l(r(1929));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.actions,r=e.form,a=e.name,l=e.search,u=e.store,s=e.type,c=u[s.toLowerCase()],d=c?n.default.createElement(i.default,{actions:t,name:a,uniqueStore:c}):n.default.createElement(o.default,{actions:t,name:a,type:s,value:c,form:r,search:l,store:u});return n.default.createElement("div",{className:"course-wizard-step"},n.default.createElement("label",null,"What's the ".concat(a,"?")),d)};u.propTypes={actions:a.default.object.isRequired,form:a.default.object.isRequired,name:a.default.string.isRequired,search:a.default.bool.isRequired,store:a.default.object.isRequired,type:a.default.string.isRequired};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=u(r(1928)),i=u(r(187)),l=r(11);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?p(n):a).onChange=r.onChange.bind(p(r)),r.getOptions=r.getOptions.bind(p(r)),r.selectRenderer=r.selectRenderer.bind(p(r)),r.handleViewState=r.handleViewState.bind(p(r)),r.handlePostForm=r.handlePostForm.bind(p(r)),r.handleContinueButton=r.handleContinueButton.bind(p(r)),r.state={isLoading:!1,viewState:"selection",value:null},r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.Component),r=t,(a=[{key:"onChange",value:function(e){(0,l.isObjectWithLength)(e)&&this.setState({value:e})}},{key:"getOptions",value:function(e){var t=this,r=this.props.actions.getOptionsHandler;this.setState({isLoading:!0});var n={type:this.props.type,q:e};return"Course"===this.props.type&&(n.parent_id=this.props.store.university.id),r(n).then(function(e){var r=e.map(function(e){return Object.assign({value:e.id,label:e.name,optionLabel:t.selectRenderer(e)},e)});return t.setState({isLoading:!1}),Promise.resolve({options:r})}).catch(function(e){return Promise.reject(e)})}},{key:"handleViewState",value:function(e){this.setState({viewState:e})}},{key:"handlePostForm",value:function(e,t,r){this.props.actions.postFormHandler(e,t,r)}},{key:"handleContinueButton",value:function(e){e.preventDefault(),this.props.actions.setSelectionValue(this.state.value,this.props.name.toLowerCase())}},{key:"render",value:function(){var e=this.props,t=e.name,r=e.search,a=e.type,l=this.state.value?n.default.createElement("div",{className:"continue-btn"},n.default.createElement("button",{className:"btn btn-success btn-sm",onClick:this.handleContinueButton},"Continue")):null;return"selection"===this.state.viewState&&r?n.default.createElement("div",{className:"course-wizard-search"},n.default.createElement("div",{className:"create-new-form"},"Not in the list? ",n.default.createElement("a",{href:"javascript:void(0);",onClick:this.handleViewState.bind(this,"form")},"Create a new one"),"."),n.default.createElement(i.default,{asyncOpts:{initOnMount:!0,request:this.getOptions},onSelectedChange:this.onChange,placeholder:"Search for a ".concat(t)}),l):n.default.createElement("div",{className:"course-wizard-search"},n.default.createElement(o.default,c({},this.props.form,{type:a,search:r,toggleToSearch:this.handleViewState.bind(this,"selection"),postForm:this.handlePostForm})))}},{key:"selectRenderer",value:function(e){var t=e.city?e.city:"",r=""!==(t+=e.country?", ".concat(e.country):"")?n.default.createElement("div",{className:"result-details"},t):null;return n.default.createElement("div",{className:"course-wizard-result"},n.default.createElement("div",{className:"result-name"},e.name+" "),r)}}])&&d(r.prototype,a),u&&d(r,u),t}();h.propTypes={actions:a.default.object.isRequired,form:a.default.object.isRequired,name:a.default.string.isRequired,search:a.default.bool.isRequired,type:a.default.string.isRequired,value:a.default.object},h.defaultProps={value:null};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=l(r(54)),i=l(r(820));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=c(t).call(this,e))||"object"!==u(a)&&"function"!=typeof a?d(n):a).toggleToSearch=r.toggleToSearch.bind(d(r)),r.handleImageData=r.handleImageData.bind(d(r)),r.handleSubmitClick=r.handleSubmitClick.bind(d(r)),r.handleImageUploading=r.handleImageUploading.bind(d(r)),r.state={errors:[],imageData:{},imageUploading:!1},r}var r,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n.Component),r=t,(a=[{key:"toggleToSearch",value:function(){this.props.toggleToSearch()}},{key:"handleImageData",value:function(e){this.setState({imageData:e})}},{key:"handleSubmitClick",value:function(e){e.preventDefault();var t=this._assembleErrors();t.length?this.setState({errors:t}):this.props.postForm(this._assembleForm(),this.props.endpoint,this.state.imageData)}},{key:"_assembleErrors",value:function(){var e=this,t=Object.keys(this.refs),r=[];return t.forEach(function(t){o.default.findDOMNode(e.refs[t]).value.length||r.push(t)}),this.props.image&&!this.state.imageData&&r.push(this.props.image.human_file_type),r}},{key:"_assembleForm",value:function(){var e=this,t={type:this.props.type},r=this.props.keys;return Object.keys(this.refs).forEach(function(n){var a=o.default.findDOMNode(e.refs[n]),i="SELECT"===a.nodeName?a.options[a.selectedIndex].value:a.value;t[r[n]]=i}),this.props.image&&(t[r[this.props.image.human_file_type]]=this.state.imageData.id),this.props.parentId&&(t.parent_id=this.props.parentId),(t={model_data:Object.assign({},t)}).model_key=this.props.model_key,this.props.member_role&&(t.member_role=this.props.member_role),t}},{key:"handleImageUploading",value:function(e){this.setState({imageUploading:e})}},{key:"_getImageUploader",value:function(){var e=this.props.image;return n.default.createElement("div",{className:"course-wizard-form-item form-group"},n.default.createElement("div",{className:"col-sm-4"},n.default.createElement("label",{className:"control-label"},e.human_file_type)),n.default.createElement("div",{className:"col-sm-8"},n.default.createElement(i.default,{aspectRatio:e.aspect_ratio,attachmentType:e.file_type,imageData:this.state.imageData,propagateUpload:this.handleImageData,propagateStatus:this.handleImageUploading,stackedView:!0})))}},{key:"render",value:function(){var e=this.props,t=e.image,r=e.inputs,a=e.selections,o=e.textareas,i=r.map(function(e,t){return n.default.createElement("div",{key:t,className:"course-wizard-form-item form-group"},n.default.createElement("div",{className:"col-sm-4"},n.default.createElement("label",{className:"control-label"},e)),n.default.createElement("div",{className:"col-sm-8"},n.default.createElement("input",{ref:e,className:"form-control",type:"text"})))}),l=a?a.map(function(e,t){var r=e.options&&e.options.length?e.options.map(function(e,t){return n.default.createElement("option",{key:t,value:e},e)}):null;return n.default.createElement("div",{key:t,className:"course-wizard-form-item form-group"},n.default.createElement("div",{className:"col-sm-4"},n.default.createElement("label",{className:"control-label"},e.label)),n.default.createElement("div",{className:"col-sm-8"},n.default.createElement("select",{ref:e.label,className:"select optional form-control",name:e.label},n.default.createElement("option",null),r)))}):null,u=o?o.map(function(e,t){return n.default.createElement("div",{key:t,className:"course-wizard-form-item form-group"},n.default.createElement("div",{className:"col-sm-4"},n.default.createElement("label",{className:"control-label"},e.label)),n.default.createElement("div",{className:"col-sm-8"},n.default.createElement("textarea",{ref:e.label,className:"form-control",name:e.label,rows:e.rows||3,maxLength:140})))}):null,s=t?this._getImageUploader():null,c=this.state.errors&&this.state.errors.length?n.default.createElement("div",{className:"text-right text-danger",style:{fontSize:"0.8em",padding:"2% 0"}},"Please fill in the following: ".concat(this.state.errors.join(", "))):null;return n.default.createElement("form",{className:"course-wizard-form form-horizontal",action:""},i,l,u,s,n.default.createElement("div",{className:"continue-btn"},n.default.createElement("span",null,this.props.search?n.default.createElement("a",{href:"javascript:void(0);",className:"btn btn-link btn-sm",tabIndex:"-1",onClick:this.toggleToSearch},"Back to search"):null),n.default.createElement("button",{className:"btn btn-primary btn-sm",disabled:this.state.imageUploading,onClick:this.handleSubmitClick},"Continue")),c)}}])&&s(r.prototype,a),l&&s(r,l),t}();p.propTypes={endpoint:a.default.string.isRequired,image:a.default.object,inputs:a.default.array.isRequired,keys:a.default.object.isRequired,parentId:a.default.number,postForm:a.default.func.isRequired,search:a.default.bool.isRequired,selections:a.default.object,textareas:a.default.object,toggleToSearch:a.default.func.isRequired,type:a.default.string.isRequired};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=(n=r(1))&&n.__esModule?n:{default:n};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=u(t).call(this,e))||"object"!==i(a)&&"function"!=typeof a?s(n):a).handleChangeLinkClick=r.handleChangeLinkClick.bind(s(r)),r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a.Component),r=t,(n=[{key:"handleChangeLinkClick",value:function(e){e.preventDefault(),this.props.actions.changeSelection(this.props.name.toLowerCase())}},{key:"render",value:function(){var e=this.props.name,t={Course:this._createCourseThumb(this.props),Generic:this._createGenericThumb(this.props),Class:this._createPromotionThumb(this.props),University:this._createUniversityThumb(this.props)},r=t[e]?t[e]:t.Generic;return a.default.createElement("div",null,r(),a.default.createElement("div",{className:"change-link-wrapper"},a.default.createElement("a",{href:"javascript:void(0);",onClick:this.handleChangeLinkClick},"Change")))}},{key:"_createUniversityThumb",value:function(e){var t=e.uniqueStore,r=t.imageData,n=t.avatar_url,o=t.city,i=t.country,l=t.name;return function(){return a.default.createElement("div",{className:"course-wizard-thumbnail"},a.default.createElement("img",{src:n||(r?r.dataUrl:"")}),a.default.createElement("div",{className:"thumbnail-details"},a.default.createElement("h4",null,l),a.default.createElement("div",{className:"smaller text-muted"},a.default.createElement("i",{className:"fa fa-map-marker"}),a.default.createElement("span",null,"".concat(o,", ").concat(i)))))}.bind(this)}},{key:"_createCourseThumb",value:function(e){var t=e.uniqueStore,r=t.name,n=t.course_number,o=t.mini_resume,i=n?a.default.createElement("p",null,n):null,l=o?a.default.createElement("p",{className:"smaller text-muted"},o):null;return function(){return a.default.createElement("div",{className:"course-wizard-thumbnail"},a.default.createElement("div",{className:"thumbnail-details"},a.default.createElement("h4",null,r),i,l))}.bind(this)}},{key:"_createPromotionThumb",value:function(e){var t=e.uniqueStore.name;return function(){return a.default.createElement("div",{className:"course-wizard-thumbnail"},a.default.createElement("h4",null,t))}.bind(this)}},{key:"_createGenericThumb",value:function(e){return function(){return a.default.createElement("div",{className:"course-wizard-thumbnail"})}.bind(this)}}])&&l(r.prototype,n),o&&l(r,o),t}();t.default=d,d.propTypes={actions:o.default.object.isRequired,name:o.default.string.isRequired,uniqueStore:o.default.object.isRequired}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOptions=function(e){return a.default.apiRequest(n.default.get("".concat(a.default.getApiPath(),"/private/groups")).query(e),!1,!1).then(function(e){return Promise.resolve(e.body)}).catch(function(e){return Promise.reject(e)})},t.postForm=function(e,t){var r=Object.assign({},e);return r[r.model_key]=r.model_data,delete r.model_key,delete r.model_data,a.default.apiRequest(n.default.post(t).send(r),!0)};var n=o(r(35)),a=o(r(40));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=u(r(15)),i=u(r(1932)),l=u(r(42));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=f(this,p(t).call(this,e))).state={open:!1},r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.Component),r=t,(a=[{key:"_getActionable",value:function(){return this.props.actionEl?this.props.actionEl:(this.props.actionableType,this._getButtonView())}},{key:"_getButtonView",value:function(){var e=this,t=this.props.actionableConfig.props||{};return n.default.createElement(o.default,c({},t,{onClick:function(){return e.setState({open:!0})}}),this.props.actionableConfig.text)}},{key:"_getDialogBody",value:function(){return"custom"===this.props.dialogRenderType?this._getCustomDialogBodyComponent():(this.props.dialogRenderType,this.props.children||null)}},{key:"_getCustomDialogBodyComponent",value:function(){switch(this.props.customDialogBodyComponent){case"ContestEmail":var e=this.props.dialogProps.email;return n.default.createElement(i.default,{body:e[1],subject:e[0]})}}},{key:"render",value:function(){var e=this.props.dialogConfig.fullScreen;return n.default.createElement(n.Fragment,null,this._getActionable(),n.default.createElement(l.default,{fullScreen:e||!1,open:this.state.open},this._getDialogBody()))}}])&&d(r.prototype,a),u&&d(r,u),t}();h.propTypes={actionEl:a.default.element,actionableConfig:a.default.shape({props:a.default.object,text:a.default.oneOfType([a.default.string,a.default.element])}),actionableType:a.default.oneOf(["button"]),customDialogBodyComponent:a.default.string,dialogConfig:a.default.shape({fullScreen:a.default.bool,minWidth:a.default.oneOfType([a.default.string,a.default.number]),width:a.default.oneOfType([a.default.string,a.default.number])}),dialogProps:a.default.shape({}),dialogRenderType:a.default.oneOf(["children","custom","element","html","iframe"])},h.defaultProps={actionEl:null,actionableConfig:{props:{},text:"Open"},actionableType:"button",customDialogBodyComponent:null,dialogConfig:{fullScreen:!1,minWidth:null,width:null},dialogProps:{},dialogRenderType:"children"};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(1933)),i=s(r(2)),l=s(r(3)),u=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.body,r=e.subject;return n.default.createElement("div",null,r&&n.default.createElement("div",{className:"".concat(i.default.marginBottom15," ").concat(i.default.marginLeft15," ").concat(u.default.borderBottom)},n.default.createElement("p",{className:"".concat(l.default.bodyM," ").concat(l.default.bold)},n.default.createElement("span",null,"Subject: "),n.default.createElement("span",null,r))),n.default.createElement(o.default,{html:t,minWidth:600}))};c.propTypes={body:a.default.string,subject:a.default.string},c.defaultProps={body:"<div>You forgot to add a body prop!</div>",subject:""};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=(n=r(1))&&n.__esModule?n:{default:n};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=u(t).call(this,e))||"object"!==i(a)&&"function"!=typeof a?s(n):a).onload=r.onload.bind(s(r)),r._iframe,r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){this._iframe&&(this._iframe.contentWindow.document.write(this.props.html),this._iframe.contentWindow.document.close(),this._iframe.height=this._iframe.contentWindow.document.body.scrollHeight)}},{key:"onload",value:function(){this._iframe&&(this._iframe.height=this._iframe.contentWindow.document.body.scrollHeight)}},{key:"render",value:function(){var e=this;return a.default.createElement("iframe",{ref:function(t){return e._iframe=t},style:{minWidth:this.props.minWidth},allowFullScreen:!0,frameBorder:"0",onLoad:this.onload,width:"100%"})}}])&&l(r.prototype,n),o&&l(r,o),t}();d.propTypes={html:o.default.string,minWidth:o.default.oneOfType([o.default.string,o.default.number])},d.defaultProps={html:"<html><body>You forgot to seed the iframe!</body></html>",minWidth:"100%"};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=P(r(1)),o=P(r(863)),i=P(r(120)),l=P(r(735)),u=r(71),s=P(r(161)),c=P(r(48)),d=P(r(22)),f=r(60),p=r(14),m=r(272),h=P(r(7)),y=r(45),g=r(8),_=r(123),v=r(44),b=r(65),O=r(18),w=r(12),E=r(202);function P(e){return e&&e.__esModule?e:{default:e}}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T={hasError:!1,isBusy:!1,okay:null,open:!1},N="Delete",M="Once you delete your Event it cannot be undone.",A="Are you sure you want to delete your Event?",I=function(e){function t(e){var r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(r=!(o=C(t).call(this,e))||"object"!==k(o)&&"function"!=typeof o?j(a):o).state={currentUser:null,initRecord:r._formatEvent(e.event),isBusy:!1,mode:null===e.event?"default":"edit",pendingRecord:null,prompt:T,recaptchaPending:!1,recaptchaReady:!1,redirectTo:null},r.createWithRecaptcha=r.createWithRecaptcha.bind(j(r)),r.createOrUpdateRecord=r.createOrUpdateRecord.bind(j(r)),r.dismissPrompt=r.dismissPrompt.bind(j(r)),r.handleDeleteClick=r.handleDeleteClick.bind(j(r)),r.recaptchaCallback=r.recaptchaCallback.bind(j(r)),r.renderRecaptchaBadge=r.renderRecaptchaBadge.bind(j(r)),r.algoliaPlatformsService=new s.default,r._recaptcha=n.default.createRef(),r}var r,a,P;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this._init()}},{key:"_init",value:function(){var e=this;return c.default.getStoreAsync().then(function(t){e.setState({currentUser:t,redirectTo:e._initRedirectState()})}).catch(function(e){return(0,h.default)("EventFormPage _init",e)})}},{key:"_initRedirectState",value:function(){return"dashboard"===(0,v.mapifyStringQuery)(w.windowLocationSearch.get()).redirect_to?"dashboard":null}},{key:"createWithRecaptcha",value:function(e){var t=this._recaptcha.current;if(!t||!this.state.recaptchaReady)return this._handleRecaptchaError();this.setState({pendingRecord:e,recaptchaPending:!0},function(){return t.execute()})}},{key:"createOrUpdateRecord",value:function(e,t){var r=this;return this.setState({isBusy:!0}),(0,p.graphMutate)(this._getTemplateForMode(),this._translateRecordForRequest(e,t)).then(function(e){var t=e.event;return r._fireAnalyticsForNewEvent(t)}).then(function(){return r._locationRedirect()}).catch(function(e){r.setState({isBusy:!1}),(0,O.summonGlobalMessenger)({msg:"Sorry, there was a saving error.",type:"error"}),(0,h.default)("EventFormPage::createOrUpdateRecord: ",e)})}},{key:"dismissPrompt",value:function(){this.setState({prompt:T})}},{key:"handleDeleteClick",value:function(){var e=this;this.setState({prompt:{hasError:!1,isBusy:!1,okay:function(){return e._deleteEvent()},open:!0}})}},{key:"recaptchaCallback",value:function(e){this.state.recaptchaPending&&e?(this.createOrUpdateRecord(this.state.pendingRecord,e),this.setState({recaptchaPending:!1,pendingRecord:null})):this._handleRecaptchaError();var t=(0,g.getInObjWithPrototypeAccess)(["_recaptcha","current","reset"],this);t&&t()}},{key:"renderRecaptchaBadge",value:function(e){var t=this;return"edit"===this.state.mode?null:n.default.createElement(l.default,{ref:this._recaptcha,className:e,badgePos:"inline",onLoad:function(){return t.setState({recaptchaReady:!0})},callback:this.recaptchaCallback,recaptchaSiteKey:this.props.recaptcha_site_key})}},{key:"_deleteEvent",value:function(){var e=this,t=this.state.initRecord;if(t)return this.setState({prompt:Object.assign({},this.state.prompt,{isBusy:!0})}),(0,p.graphMutate)({t:"delete_event"},{id:t.id}).then(function(){return e._fireAnalyticsForDeleteEvent(t)}).then(function(){return e._locationRedirect()}).catch(function(t){e.setState({prompt:Object.assign({},e.state.prompt,{isBusy:!1,hasError:!0})}),(0,h.default)("EventFormPage _deleteEvent",t)})}},{key:"_fireAnalyticsForDeleteEvent",value:function(e){var t=e.id,r=e.event_type,n=(0,f.getDeleteEventArgs)(t,r),a=n.customProps,o=n.event;return(0,b.reflectPromise)(d.default.recordEvent(o,a))}},{key:"_fireAnalyticsForNewEvent",value:function(e){var t=this,r=e.id,n=e.event_type;return new Promise(function(e,a){if("default"!==t.state.mode)return e();var o=(0,f.getCreateEventArgs)(r,n),i=o.customProps,l=o.event;return d.default.recordEvent(l,i).then(function(){return e()}).catch(function(t){return e()})})}},{key:"_formatEvent",value:function(e){return e?Object.assign({},e,{location:(0,_.locationSelectIn)(e)}):null}},{key:"_getBreadcrumbProps",value:function(){return"dashboard"===this.state.redirectTo?{href:this.props.redirect_urls.dashboard,text:"My events"}:{href:this.props.redirect_urls.events,text:"Events home"}}},{key:"_getTemplateForMode",value:function(){return"default"===this.state.mode?{t:"create_event"}:{t:"update_event"}}},{key:"_handleRecaptchaError",value:function(){(0,O.summonGlobalMessenger)({msg:E.GENERIC_ERROR,type:"error"}),this.setState({pendingRecord:null,recaptchaPending:!1,isBusy:!1})}},{key:"_locationRedirect",value:function(){(0,w.windowLocationRedirect)(this.props.redirect_urls.dashboard)}},{key:"_translateRecordForRequest",value:function(e,t){var r=(0,y.removeFromObject)(e,["image","location","platforms"]),n=this.state.initRecord&&this.state.initRecord.hasOwnProperty("id")?{id:this.state.initRecord.id}:{},a=t?{recaptcha_response:t}:{};return(0,y.filterObject)(Object.assign({},r,n,a,e.location,{event_type:(0,m.getEventTypeEnum)(e.event_type),image_id:e.image.id,platform_ids:e.platforms}))}},{key:"render",value:function(){return this.state.currentUser?n.default.createElement(n.Fragment,null,n.default.createElement(o.default,{algoliaPlatformsService:this.algoliaPlatformsService,breadcrumbProps:this._getBreadcrumbProps(),initRecord:this.state.initRecord,isAdmin:this.state.currentUser.isAdmin,isBusy:this.state.isBusy,mode:this.state.mode,onDeleteClick:this.handleDeleteClick,renderRecaptchaBadge:this.renderRecaptchaBadge,saveContent:"default"===this.state.mode?this.createWithRecaptcha:this.createOrUpdateRecord}),n.default.createElement(i.default,{action:N,actionColor:"danger",body:M,dismiss:this.dismissPrompt,isBusy:this.state.prompt.isBusy,message:this.state.prompt.hasError?(0,u.getErrorHelperView)(E.GENERIC_ERROR):null,okay:this.state.prompt.okay,open:this.state.prompt.open,title:A})):null}}])&&S(r.prototype,a),P&&S(r,P),t}();I.propTypes={event:a.default.shape({event_type:a.default.string.isRequired,id:a.default.number.isRequired,image:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,link:a.default.string.isRequired,location:a.default.shape({city:a.default.string,countryCode:a.default.string.isRequired,state:a.default.string}),platforms:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired})),start_date:a.default.string.isRequired,title:a.default.string.isRequired,user:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired}),recaptcha_site_key:a.default.string,redirect_urls:a.default.shape({dashboard:a.default.string.isRequired,events:a.default.string.isRequired}).isRequired},I.defaultProps={event:null,recaptcha_site_key:null};var x=I;t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(1936)),i=d(r(866)),l=d(r(1937)),u=d(r(868)),s=d(r(309)),c=r(12);function d(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p=function(e){return c.isWindowDefined?(0,s.default)()?n.default.createElement(l.default,f({key:"date-mobile"},e)):(0,u.default)()?n.default.createElement(i.default,f({key:"date-native"},e,{type:"date"})):n.default.createElement(o.default,f({key:"date-desktop"},e)):null};p.propTypes={autoComplete:a.default.string,disabled:a.default.bool,errors:a.default.string,initValue:a.default.string,onChange:a.default.func.isRequired},p.defaultProps={autoComplete:null,disabled:!1,errors:null,initValue:""};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(864)),i=u(r(865)),l=r(267);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.autoComplete,r=e.disabled,a=e.errors,u=e.initValue,s=e.onChange;return n.default.createElement(o.default,{disabled:r,errors:a,formatOut:l.formatDateOut,initValue:u,inputConfig:l.dateConfig,onChange:s,parseValueString:l.parseDateString},function(e){var a=e._inputRefs,o=e.handleInputKeyDown,l=e.handleNumberBlur,u=e.handleNumberChange,s=e.values;return n.default.createElement(i.default,{_inputRefs:a,autoComplete:t,disabled:r,handleInputKeyDown:o,handleNumberBlur:l,handleNumberChange:u,values:s})})};s.propTypes={autoComplete:a.default.string,disabled:a.default.bool,errors:a.default.string,initValue:a.default.string,onChange:a.default.func.isRequired},s.defaultProps={autoComplete:null,disabled:!1,errors:null,initValue:""};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=u(r(867)),i=r(267),l=u(r(217));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?f(n):a).state={value:e.initValue},r.handleChange=r.handleChange.bind(f(r)),r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n.PureComponent),r=t,(a=[{key:"handleChange",value:function(e){this.setState({value:e.target.value}),this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this.props,t=e.autoComplete,r=e.disabled,a=e.errors,u=(0,i.parseDateString)(this.state.value),s=u.day,c=u.month,d=u.year;return n.default.createElement(o.default,{autoComplete:t,onChange:this.handleChange,disabled:r,errors:a,type:"date",value:this.state.value},n.default.createElement(n.Fragment,null,n.default.createElement("span",{className:l.default.input},c||"MM"),n.default.createElement("span",null,"/"),n.default.createElement("span",{className:l.default.input},s||"DD"),n.default.createElement("span",null,"/"),n.default.createElement("span",{className:l.default.inputWide},d||"YYYY")))}}])&&c(r.prototype,a),u&&c(r,u),t}();m.propTypes={autoComplete:a.default.string,disabled:a.default.bool,errors:a.default.string,initValue:a.default.string,onChange:a.default.func.isRequired},m.defaultProps={autoComplete:null,disabled:!1,errors:null,initValue:"",onChange:function(){}};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1939)),o=s(r(1941)),i=s(r(1942)),l=s(r(2)),u=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.item;return n.default.createElement("div",null,n.default.createElement("div",{style:{maxWidth:524}},n.default.createElement(a.default,{item:t})),n.default.createElement("div",{className:"".concat(l.default.marginTop45," ").concat(l.default.marginBottom30," ").concat(l.default.paddingTop45," ").concat(u.default.borderTop)},n.default.createElement("div",{style:{maxWidth:350}},n.default.createElement(o.default,{item:t}))),n.default.createElement("div",{className:"".concat(l.default.marginTop45," ").concat(l.default.marginBottom30," ").concat(l.default.paddingTop45," ").concat(u.default.borderTop)},n.default.createElement("div",{style:{maxWidth:270}},n.default.createElement(i.default,{item:t}))))};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(490)),i=f(r(46)),l=r(8),u=f(r(2)),s=f(r(3)),c=f(r(5)),d=f(r(270));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.className,r=e.item,a=(0,l.getInObj)(["image","url"],r);return n.default.createElement("div",{className:"".concat(d.default.card," ").concat(u.default.fullWidth," ").concat(s.default.breakWord," ").concat(t)},n.default.createElement("div",{className:"".concat(d.default.image," ").concat(c.default.posRelative," ").concat(c.default.borderRadius," ").concat(a?"":c.default.bgAsphalt)},!!a&&n.default.createElement(i.default,{key:a,classList:{image:c.default.borderRadius},alt:r.title,ratio:"3:2",setStyle:!1,src:a,width:204})),n.default.createElement(o.default,{className:d.default.text,item:r,size:"L"}))};p.propTypes={event:a.default.shape({custom_sponsors:a.default.arrayOf(a.default.string),end_date:a.default.string,event_type:a.default.string,image:a.default.shape({url:a.default.string}),location:a.default.shape({}),platforms:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string.isRequired,url:a.default.string.isRequired})),start_date:a.default.string,state:a.default.string,title:a.default.string})},p.defaultProps={event:{custom_sponsors:[],end_date:null,event_type:null,image:null,location:null,platforms:[],start_date:null,state:null,title:null}};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(752)),i=f(r(825)),l=f(r(491)),u=r(55),s=f(r(3)),c=r(263),d=f(r(189));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?y(n):a).state={open:!1},r.dismissTooltip=r.dismissTooltip.bind(y(r)),r.summonTooltip=r.summonTooltip.bind(y(r)),r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.PureComponent),r=t,(a=[{key:"dismissTooltip",value:function(e){this.setState({open:!1})}},{key:"summonTooltip",value:function(e){this.setState({open:!0})}},{key:"_getHoverTarget",value:function(){return n.default.createElement("span",{className:d.default.tooltipTarget,onMouseEnter:this.summonTooltip,onMouseLeave:this.dismissTooltip},this._getTargetBody(),this.state.open&&this._getTooltip())}},{key:"_getTargetBody",value:function(){return n.default.createElement("a",{className:s.default.link,href:u.NOOP_HREF},"and more")}},{key:"_getTooltip",value:function(){return n.default.createElement(i.default,{innerWidth:220,multiline:!0,position:"top"},this.props.tooltip)}},{key:"_getTouchTarget",value:function(){return n.default.createElement("span",{className:d.default.tooltipTarget,onClick:this.summonTooltip},this._getTargetBody(),this.state.open&&n.default.createElement(o.default,{onClickOutside:this.dismissTooltip},this._getTooltip()))}},{key:"render",value:function(){return n.default.createElement("span",{className:c.tooltipV2},(0,l.default)()?this._getTouchTarget():this._getHoverTarget())}}])&&m(r.prototype,a),f&&m(r,f),t}();_.propTypes={tooltip:a.default.node},_.defaultProps={tooltip:null};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(490)),i=d(r(46)),l=r(8),u=d(r(2)),s=d(r(3)),c=d(r(5));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.className,r=e.item,a=(0,l.getInObj)(["image","url"],r);return n.default.createElement("div",{className:"".concat(t," ").concat(u.default.flexCenterItems," ").concat(u.default.fullWidth," ").concat(s.default.breakWord)},n.default.createElement("div",{className:"".concat(c.default.posRelative," ").concat(u.default.flex10Auto," ").concat(c.default.borderRadius," ").concat(a?"":c.default.bgAsphalt),style:{width:120,height:120}},!!a&&n.default.createElement(i.default,{key:a,classList:{image:c.default.borderRadius},alt:r.title,ratio:"1:1",src:a,width:120})),n.default.createElement(o.default,{className:u.default.marginLeft15,item:r}))};f.propTypes={event:a.default.shape({custom_sponsors:a.default.arrayOf(a.default.string),end_date:a.default.string,event_type:a.default.string,image:a.default.shape({url:a.default.string}),location:a.default.shape({}),platforms:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string.isRequired,url:a.default.string.isRequired})),start_date:a.default.string,state:a.default.string,title:a.default.string})},f.defaultProps={event:{custom_sponsors:[],end_date:null,event_type:null,image:null,location:null,platforms:[],start_date:null,state:null,title:null}};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(490)),i=d(r(46)),l=r(8),u=d(r(2)),s=d(r(5)),c=d(r(359));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.className,r=e.item,a=(0,l.getInObj)(["image","url"],r);return n.default.createElement("div",{className:"".concat(c.default.cardResponsive," ").concat(u.default.flexColumn," ").concat(u.default.fullWidth," ").concat(t)},n.default.createElement("div",{className:"".concat(c.default.imageResponsive," ").concat(u.default.fullWidth," ").concat(s.default.absolutePlaceholderParent," ").concat(s.default.aspectRatioPadding3_2," ").concat(s.default.borderRadius," ").concat(s.default.overflowHidden," ").concat(a?"":s.default.bgAsphalt)},!!a&&n.default.createElement(i.default,{key:a,classList:{root:"".concat(s.default.absolutePlaceholderChild)},alt:r.title,ratio:"3:2",setStyle:!1,src:a,width:204})),n.default.createElement("div",{className:"".concat(c.default.textResponsive," ").concat(u.default.marginTop22)},n.default.createElement(o.default,{item:r})))};f.propTypes={event:a.default.shape({custom_sponsors:a.default.arrayOf(a.default.string),end_date:a.default.string,event_type:a.default.string,image:a.default.shape({url:a.default.string}),location:a.default.shape({}),platforms:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string.isRequired,url:a.default.string.isRequired})),start_date:a.default.string,state:a.default.string,title:a.default.string})},f.defaultProps={event:{custom_sponsors:[],end_date:null,event_type:null,image:null,location:null,platforms:[],start_date:null,state:null,title:null}};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(875)),o=u(r(877)),i=u(r(2)),l=u(r(5));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.item;return n.default.createElement("div",null,n.default.createElement(a.default,{item:t}),n.default.createElement("div",{className:"".concat(i.default.marginTop45," ").concat(i.default.marginBottom30," ").concat(i.default.paddingTop45," ").concat(l.default.borderTop)},n.default.createElement("div",{style:{maxWidth:350}},n.default.createElement(o.default,{item:t}))))};t.default=s},function(e,t,r){e.exports={graphite:"#4A4A4A",error:"cta_form__error__o9g4y",label:"cta_form__label__3QCEb",sublabel:"cta_form__sublabel__26lEJ",cropperTitle:"cta_form__cropperTitle__2KjcX",fourThreeMaxWidth:"cta_form__fourThreeMaxWidth__2gjWf",oneOneMaxWidth:"cta_form__oneOneMaxWidth__26t6m"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(function(e,t,r){var a=n[t.toString()];return void 0!==a&&"function"==typeof a&&a(e,r)}(e,t,r))return a;var o={misc:[["whitelabel_ids:".concat(t),"whitelabel_ids:0"]],parts:["platforms.id:".concat(t)],projects:["platforms.id:".concat(t)],users:["channels.id:".concat(t)]};return o.hasOwnProperty(e)?o[e].concat(a):a};var n={14760:function(e,t){return"parts"===e&&"name"===t},18265:function(e){return"parts"===e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=o(t);var r=i(parseFloat(e.lat),parseFloat(e.lng),-45,t),n=i(parseFloat(e.lat),parseFloat(e.lng),135,t);return null===r||null===n?null:[r.lat,r.lng,n.lat,n.lng]};var n=function(e){return e*Math.PI/180},a=function(e){return 180*e/Math.PI},o=function(e){return"number"!=typeof e&&(e=parseFloat(e)),1.6*e},i=function(e,t,r,o){o/=6371,r=n(r);var i=n(e),l=n(t),u=Math.asin(Math.sin(i)*Math.cos(o)+Math.cos(i)*Math.sin(o)*Math.cos(r)),s=l+Math.atan2(Math.sin(r)*Math.sin(o)*Math.cos(i),Math.cos(o)-Math.sin(i)*Math.sin(u));return isNaN(u)||isNaN(s)?null:{lat:a(u),lng:a(s)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=l(r(1948)),i=l(r(2));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=function(e){var t=u((0,n.useState)(e.initData),2),r=t[0],a=t[1];return n.default.createElement(n.Fragment,null,n.default.createElement(o.default,{classList:{formGroup:i.default.marginBottom0},accept:e.accept,errors:e.errors[0]||null,fileData:r,helperText:e.helperText,imagePreview:e.imagePreview,propagateUpload:function(e){return a(e)}}),n.default.createElement("input",{name:e.inputName,type:"hidden",value:r.id?r.id.toString():""}))};s.propTypes={accept:a.default.string,errors:a.default.array,helperText:a.default.string,imagePreview:a.default.bool,initData:a.default.shape({id:a.default.number,url:a.default.string}),inputName:a.default.string},s.defaultProps={accept:null,errors:[],helperText:"",imagePreview:!1,inputName:"",initData:{}};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=l(r(1949)),i=l(r(132));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=function(e){var t=s((0,n.useState)(""),2),r=t[0],a=t[1];return n.default.createElement(i.default,{classList:{root:e.classList.formGroup},errors:e.errors,helperText:e.helperText,label:e.label,name:e.name,value:"",warningText:r},n.default.createElement(o.default,u({},e,{reportError:a})))};c.propTypes={classList:a.default.shape({formGroup:a.default.string}),errors:a.default.string,helperText:a.default.string,imagePreview:a.default.bool},c.defaultProps={classList:{formGroup:""},errors:"",helperText:"",imagePreview:!1};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=g(r(1)),o=g(r(15)),i=g(r(823)),l=g(r(821)),u=g(r(7)),s=g(r(441)),c=r(246),d=r(117),f=r(116),p=r(325),m=r(202),h=g(r(2)),y=g(r(3));function g(e){return e&&e.__esModule?e:{default:e}}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=b(t).call(this,e))||"object"!==_(a)&&"function"!=typeof a?O(n):a).state={isBusy:!1},r.handleFileEvent=r.handleFileEvent.bind(O(r)),r.handleUploadBtnClick=r.handleUploadBtnClick.bind(O(r)),r._fileInput,r}var r,a,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,n.Component),r=t,(a=[{key:"handleFileEvent",value:function(e){e.preventDefault();var t=(0,d.getFilesFromEvent)(e)[0];this._fileInput&&(this._fileInput.value=""),this._uploadFile(t)}},{key:"handleUploadBtnClick",value:function(e){this._fileInput&&(e.preventDefault(),this._fileInput.click())}},{key:"_reportError",value:function(e){this.props.reportError(m.GENERIC_ERROR),this.props.propagateStatus(!1),this.setState({isBusy:!1}),(0,u.default)(e)}},{key:"_reportUpload",value:function(e){this.props.propagateUpload(e),this.props.propagateStatus(!1),this.setState({isBusy:!1})}},{key:"_uploadFile",value:function(e){var t=this;this.setState({isBusy:!0});var r=(0,c.getAWSResources)(),n=r.AWSAccessKeyId,a=r.S3BucketURL;return(0,s.default)(e,{AWSAccessKeyId:n,S3BucketURL:a}).then(function(e){return(0,p.pollForAttachment)(e)}).then(function(r){return t._reportUpload({id:r.id,name:e.name,url:r.file.url})}).catch(function(e){return t._reportError(e)})}},{key:"_getDisplayName",value:function(){return this.props.fileData.name||(0,f.getFileNameFromUrl)(this.props.fileData.url)}},{key:"_getButtonView",value:function(){var e=!!this.props.fileData.id;return n.default.createElement("div",{className:h.default.flexStartItems},n.default.createElement(o.default,{className:h.default.flex00Auto,disabled:this.state.isBusy,onClick:this.handleUploadBtnClick,size:"lg"},e?"Change file":"Select file"),e&&n.default.createElement("div",{className:"".concat(h.default.flex1," ").concat(h.default.marginLeft15," ").concat(y.default.breakWord)},n.default.createElement("a",{className:"".concat(y.default.link," ").concat(y.default.bodyM),href:this.props.fileData.url},this._getDisplayName())))}},{key:"_getImagePreview",value:function(){return this.props.imagePreview&&this.props.fileData.url?n.default.createElement("div",{className:h.default.marginBottom15},n.default.createElement("img",{alt:this._getDisplayName(),src:this.props.fileData.url})):null}},{key:"render",value:function(){var e=this;return n.default.createElement(n.Fragment,null,this._getImagePreview(),n.default.createElement(i.default,{disabled:this.state.isBusy,onDrop:this.handleFileEvent}," ",n.default.createElement("input",{ref:function(t){return e._fileInput=t},accept:this.props.accept,onChange:this.handleFileEvent,style:{display:"none"},type:"file"}),this.state.isBusy?n.default.createElement(l.default,null):this._getButtonView()))}}])&&v(r.prototype,a),g&&v(r,g),t}();E.propTypes={accept:a.default.string,fileData:a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string}),imagePreview:a.default.bool,propagateStatus:a.default.func,propagateUpload:a.default.func.isRequired,reportError:a.default.func},E.defaultProps={accept:null,fileData:{},imagePreview:!1,propagateStatus:function(){},reportError:function(){}};var P=E;t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=(n=r(42))&&n.__esModule?n:{default:n},i=r(18);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p={open:!1,getChildren:null,dialogProps:{}},m=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=c(t).call(this,e))||"object"!==l(a)&&"function"!=typeof a?d(n):a).state=p,r.handleDismiss=r.handleDismiss.bind(d(r)),r.handleSummon=r.handleSummon.bind(d(r)),r}var r,n,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){window.addEventListener(i.SUMMON_GLOBAL_DIALOG,this.handleSummon)}},{key:"componentWillUnmount",value:function(){window.removeEventListener(i.SUMMON_GLOBAL_DIALOG,this.handleSummon)}},{key:"handleDismiss",value:function(){this.setState(p)}},{key:"handleSummon",value:function(e){var t=e.detail,r=t.dialogProps,n=t.getChildren;this.setState({open:!0,dialogProps:r||{},getChildren:n})}},{key:"render",value:function(){var e=this.state,t=e.open,r=e.dialogProps,n=e.getChildren;return a.default.createElement(o.default,u({},r,{open:t,dismiss:this.handleDismiss}),t&&"function"==typeof n&&n(this.handleDismiss))}}])&&s(r.prototype,n),m&&s(r,m),t}();t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=r(58),i=u(r(1952)),l=u(r(1953));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?f(n):a).state={initMsg:e.initMsg||"Changes saved!",msg:"Changes saved!",show:!1,type:"success"},r.handleDismiss=r.handleDismiss.bind(f(r)),r.handleExitedState=r.handleExitedState.bind(f(r)),r.handleShow=r.handleShow.bind(f(r)),r.timeout,r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){window.addEventListener("react:messenger",this.handleShow)}},{key:"componentWillUnmount",value:function(){this._clearTimeout(),window.removeEventListener("react:messenger",this.handleShow)}},{key:"handleDismiss",value:function(){this._clearTimeout(),this.setState({show:!1})}},{key:"handleExitedState",value:function(){this.state.msg===this.state.initMsg&&"success"===this.state.type||this.setState({msg:this.state.initMsg,type:"success"})}},{key:"handleShow",value:function(e){var t=this;this.setState(Object.assign({},e.detail,{show:!0})),this._clearTimeout(),this.timeout=setTimeout(function(){t.handleDismiss(),t.timeout=void 0},3e3)}},{key:"_clearTimeout",value:function(){"number"==typeof this.timeout&&window.clearTimeout(this.timeout)}},{key:"render",value:function(){return n.default.createElement(o.CSSTransition,{classNames:l.default,in:this.state.show,onExited:this.handleExitedState,timeout:{enter:500,exit:300},unmountOnExit:!0},n.default.createElement("div",{className:i.default.root},n.default.createElement("div",{className:i.default[this.state.type]},n.default.createElement("div",{className:i.default.body},n.default.createElement("span",null,this.state.msg),n.default.createElement("button",{className:i.default.closeBtn,onClick:this.handleDismiss},"×")))))}}])&&c(r.prototype,a),u&&c(r,u),t}();t.default=m,m.propTypes={initMsg:a.default.string}},function(e,t,r){e.exports={root:"messenger__root__2nrCk",body:"messenger__body__hCuYO",error:"messenger__error__1BlTW",closeBtn:"messenger__closeBtn__2u12U",success:"messenger__success__3xkzr"}},function(e,t,r){e.exports={enter:"transitions__enter__Ildnb",enterActive:"transitions__enterActive__2RMxi",enterDone:"transitions__enterDone__BhfHQ",exit:"transitions__exit__3L7zq",exitActive:"transitions__exitActive__39tw8"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=p(r(1)),o=p(r(138)),i=r(58),l=p(r(496)),u=r(880),s=r(244),c=p(r(306)),d=p(r(3)),f=p(r(881));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return{right:"left",left:"right",top:"bottom",bottom:"top"}[e]}var b={adjustments:{targetOffset:20},arrowDirection:v("bottom"),arrowStyles:{},bodyStyles:{},component:null,position:"bottom",show:!1,uuid:null},O=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=y(t).call(this,e))||"object"!==m(a)&&"function"!=typeof a?g(n):a).state=b,r.getPopupPosition=r.getPopupPosition.bind(g(r)),r.handleGlobalCloseEvent=r.handleGlobalCloseEvent.bind(g(r)),r.handleGlobalOpenEvent=r.handleGlobalOpenEvent.bind(g(r)),r.handleResize=r.handleResize.bind(g(r)),r.onMouseEnter=r.onMouseEnter.bind(g(r)),r.onMouseLeave=r.onMouseLeave.bind(g(r)),r.popover,r._isMounted=!1,r._popoverHovered=!1,r._target=null,r}var r,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.throttledScroll=(0,o.default)(this.handleScroll,1e3).bind(this),window.addEventListener("scroll",this.throttledScroll),window.addEventListener("resize",this.handleResize),window.addEventListener("open:GlobalPopover",this.handleGlobalOpenEvent),window.addEventListener("close:GlobalPopover",this.handleGlobalCloseEvent),this._isMounted=!0}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.throttledScroll),window.removeEventListener("resize",this.handleResize),window.removeEventListener("open:GlobalPopover",this.handleGlobalOpenEvent),window.removeEventListener("close:GlobalPopover",this.handleGlobalCloseEvent),this._isMounted=!1,this._target=null}},{key:"getPopupPosition",value:function(){if(this.popover&&null!==this._target&&(0,s.isDomElement)(this._target)){var e=(0,u.getPosition)(this.state.position,this._target.getBoundingClientRect(),this.popover.getBoundingClientRect(),this.state.adjustments),t=e.adjustedArrowDirection,r=e.arrowStyles,n=e.bodyStyles,a=t||v(this.state.position);this.setState({arrowDirection:a,arrowStyles:r,bodyStyles:n})}}},{key:"handleGlobalOpenEvent",value:function(e){var t=this,r=e.detail,n=r.adjustments,a=r.component,o=r.position,i=r.target,l=r.uuid;(0,s.isDomElement)(i)&&this._shouldRender()&&(this._target=i,this.setState({adjustments:n,component:a,position:o,uuid:l,arrowDirection:v(o),show:!0},function(){return t._waitForRef()}))}},{key:"_shouldRender",value:function(){return window.innerWidth>this.props.hideAtScreenWidth}},{key:"_waitForRef",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;!this.popover&&t<=100?setTimeout(function(){return e._waitForRef(t+10)},10):this.getPopupPosition()}},{key:"handleGlobalCloseEvent",value:function(e){this._delayedDismiss()}},{key:"_delayedDismiss",value:function(){var e=this;setTimeout(function(){e._isMounted&&null!==e._target&&!1===e._popoverHovered&&(e.setState(Object.assign({},b,{position:e.state.position})),e._target=null)},100)}},{key:"handleResize",value:function(){this.getPopupPosition()}},{key:"handleScroll",value:function(){null!==this._target&&this._delayedDismiss()}},{key:"onMouseEnter",value:function(e){this._popoverHovered=!0}},{key:"onMouseLeave",value:function(){this._popoverHovered=!1,this._delayedDismiss()}},{key:"render",value:function(){var e=this;return n.default.createElement(i.TransitionGroup,null,this.state.show&&n.default.createElement(i.CSSTransition,{classNames:c.default,timeout:250},n.default.createElement("div",{ref:function(t){return e.popover=t},key:this.state.uuid,style:this.state.bodyStyles,className:f.default.root,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.state.component,this.state.component&&n.default.createElement(l.default,{style:this.state.arrowStyles,direction:this.state.arrowDirection,borderColor:d.default.asphalt,color:"white"}))))}}])&&h(r.prototype,a),p&&h(r,p),t}();O.propTypes={hideAtScreenWidth:a.default.number},O.defaultProps={hideAtScreenWidth:1100};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=l(r(121)),i=l(r(2));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=function(e){var t=u((0,n.useState)(e.initData),2),r=t[0],a=t[1];return n.default.createElement(n.Fragment,null,n.default.createElement(o.default,{allowRemoteURL:e.allowRemoteURL,aspectRatio:e.aspectRatio,attachmentType:e.attachmentType,attachmentURLKey:e.attachmentURLKey,classList:{formGroup:i.default.marginBottom0},dimensionMins:e.dimensionMins,errors:e.errors[0]||null,helperText:e.helperText,ignoreCropper:e.ignoreCropper,imageData:r,imageVersion:e.imageVersion,inputClassName:e.innerInputClassName,placeholderUrl:e.placeholderUrl,propagateUpload:function(e){return a(e)},stackedView:e.stackedView}),n.default.createElement("input",{name:e.inputName,type:"hidden",value:r.id?r.id.toString():""}))};s.propTypes={aspectRatio:a.default.number,attachmentType:a.default.string,attachmentURLKey:a.default.oneOf(["file_url","imgix_url"]),dimensionMins:a.default.shape({width:a.default.number}),errors:a.default.array,helperText:a.default.string,imageVersion:a.default.string,initData:a.default.shape({id:a.default.number,url:a.default.string}),inputName:a.default.string,placeholderUrl:a.default.string,stackedView:a.default.bool},s.defaultProps={aspectRatio:null,attachmentType:"Image",attachmentURLKey:"imgix_url",dimensionMins:{},errors:[],helperText:"",imageVersion:null,inputName:"",initData:{},placeholderUrl:null,stackedView:!1};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=d(r(1957)),i=d(r(1959)),l=d(r(22)),u=d(r(1960)),s=d(r(1963)),c=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?y(n):a).state={isVisible:!0,config:r._initConfig()},r.handleClick=r.handleClick.bind(y(r)),r}var r,n,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a.Component),r=t,(n=[{key:"_initConfig",value:function(){var e=(0,u.default)(this.props.id);return{arrowPosition:e.arrowPosition,containerStyle:e.containerStyle||{},closeMsg:e.closeMsg||"OK got it",msg:e.msg||"",position:e.position,showIcon:e.showIcon,title:e.title,view:e.view||"default"}}},{key:"handleClick",value:function(){!1!==this.state.isVisible&&(this.setState({isVisible:!1}),(0,s.default)(this.props.id).then(function(e){return l.default.recordEvent({eventName:"Dismissed tooltip"})}).catch(function(e){(0,c.default)("setTooltipAsViewed Error: ",e)}))}},{key:"_getViewForType",value:function(){switch(this.state.config.view){case"custom":return a.default.createElement(this.props.customView,{handleClick:this.handleClick,isVisible:this.state.isVisible});case"StickyFooter":return this._renderStickyFooterView();default:return this._renderDefaultView()}}},{key:"_renderStickyFooterView",value:function(){return a.default.createElement(i.default,p({},this.state.config,{handleClick:this.handleClick,isVisible:this.state.isVisible}))}},{key:"_renderDefaultView",value:function(){return a.default.createElement(o.default,p({},this.state.config,{handleClick:this.handleClick,isVisible:this.state.isVisible}))}},{key:"render",value:function(){return this._getViewForType()}}])&&m(r.prototype,n),d&&m(r,d),t}();_.propTypes={customView:n.default.oneOfType([n.default.element,n.default.func]),id:n.default.number.isRequired},_.defaultProps={customView:null};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=r(58),i=s(r(222)),l=s(r(883)),u=s(r(1958));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.arrowPosition,r=e.containerStyle,a=e.closeMsg,s=e.handleClick,c=e.isVisible,d=e.msg,f=e.position,p=e.showIcon,m=e.title;return n.default.createElement(o.CSSTransition,{classNames:l.default,timeout:250},n.default.createElement("div",null,c&&n.default.createElement("div",{className:"".concat(u.default.container," ").concat(f&&u.default[f]),style:r},null!==t&&null!==f&&n.default.createElement("div",{className:u.default.arrow,style:{left:t}}),n.default.createElement("div",{className:u.default.inner},n.default.createElement("div",{className:u.default.msg},!0===p&&n.default.createElement("i",{className:"fa fa-bullhorn"}),m&&n.default.createElement("h4",null,m),n.default.createElement("div",{dangerouslySetInnerHTML:{__html:i.default.render(d)}})),n.default.createElement("button",{className:u.default.dismissBtn,onClick:s},n.default.createElement("span",null,a))))))};c.propTypes={arrowPosition:a.default.oneOfType([a.default.string,a.default.number]),closeMsg:a.default.string,containerStyle:a.default.shape({}),handleClick:a.default.func.isRequired,isVisible:a.default.bool.isRequired,msg:a.default.string,position:a.default.string,showIcon:a.default.bool,title:a.default.string},c.defaultProps={};var d=c;t.default=d},function(e,t,r){e.exports={arrow:"NewFeatureTooltip__arrow__L6Qvf",container:"NewFeatureTooltip__container__2wt0v",bottom:"NewFeatureTooltip__bottom__8ZBmP",left:"NewFeatureTooltip__left__2VP80",right:"NewFeatureTooltip__right__rTSgv",top:"NewFeatureTooltip__top__TBvEO",dismissBtn:"NewFeatureTooltip__dismissBtn__1J7ZK",inner:"NewFeatureTooltip__inner__3b040",msg:"NewFeatureTooltip__msg__22Hig"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=r(58),i=d(r(222)),l=d(r(9)),u=d(r(10)),s=d(r(884)),c=d(r(883));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e){var t=e.handleClick,r=e.isVisible,a=e.msg;return n.default.createElement(o.CSSTransition,{classNames:c.default,timeout:250},n.default.createElement("div",null,r&&n.default.createElement("div",{className:s.default.root},n.default.createElement("div",{className:s.default.bodyWrapper},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(f(e)){case"function":return e(t);case"string":return n.default.createElement("div",{dangerouslySetInnerHTML:{__html:i.default.render(e)}});default:return null}}(a)),n.default.createElement("button",{className:"".concat(u.default.blank," ").concat(s.default.closeBtn),onClick:t},n.default.createElement(l.default,{name:"close"})))))};p.propTypes={handleClick:a.default.func.isRequired,isVisible:a.default.bool.isRequired,msg:a.default.oneOfType([a.default.string,a.default.element,a.default.func]).isRequired};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(1961))&&n.__esModule?n:{default:n};t.default=function(e){return{1:{arrowPosition:30,containerStyle:{marginBottom:6},msg:"Share cool stuff or ask for help by using our new Post feature. All posts are public. Click below to get started!",position:"top",showIcon:!0,title:"Share with the community!"},2:{arrowPosition:"calc(100% - 32px)",containerStyle:{marginTop:-6},msg:"Switch between your personal feed - posts from people and communities you follow - and global - posts from everyone in the Hackster community.",position:"bottom"},3:{arrowPosition:30,containerStyle:{marginBottom:6},msg:"You can now share directly with members of community hubs! Try sharing something cool or asking a question below.",position:"top",showIcon:!0},4:{closeMsg:"Close",containerStyle:{marginBottom:20},msg:"Would you like to become a beta tester for Hackster and preview new features before everyone else? Apply here: https://goo.gl/forms/tfOAkQFBiZVITT792"},5:{arrowPosition:195,containerStyle:{marginBottom:6},position:"top",showIcon:!0,msg:"We've changed the tag system to make it more useful. We want tags to become a convenient way to browse projects that are related by topic. For this reason, we've started consolidating tags into broader categories as well as restricting which tags can be used. If you're a power contributor on Hackster.io with over 1,000 reputation points, you have the ability to create your own tags. Use this wisely!\n\nLearn more: http://help.hackster.io/knowledgebase/posting-a-project/learn-more-about-tags\n\nPlease let us know what you think on hackster.io/feedback!",title:"Tags have changed!"},6:{containerStyle:{marginBottom:20},showIcon:!0,msg:"It's never fun when your computer crashes and you lose hours of work. For that reason, we're now auto-saving your story as you type. Note that your updates go live immediately. If you'd prefer not to auto-save, for instance if you're updating a published project, you can toggle off auto-saving in the right sidebar.\n\nPlease let us know what you think on hackster.io/feedback!",title:"We've added auto-save to the editor!"},7:{},8:{msg:a.default,view:"StickyFooter"},9:{},10:{view:"custom"},11:{containerStyle:{margin:"15px auto 0",maxWidth:1170,paddingTop:0},msg:"We've updated our Privacy Policy to include a description of additional rights granted to California residents under the California Consumer Privacy Act (CCPA). [More info](/privacy/ccpa)"}}[e]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(497)),o=s(r(22)),i=s(r(2)),l=s(r(3)),u=s(r(884));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.delayRedirect,r=e.e,n=e.type,a=e.value;o.default.recordLinkClick({},{location:"Welcome footer",type:n,value:a},t,r)},d=function(){return n.default.createElement("div",{className:i.default.flexJustifyCenter},n.default.createElement("div",{className:u.default.socialFooterBodyWrapper},n.default.createElement("p",{className:"".concat(l.default.bodyL," ").concat(u.default.socialFooterBody)},n.default.createElement("strong",{className:i.default.marginRight10},"Welcome to Hackster!"),n.default.createElement("span",null,"Be sure to follow us to stay up to date with the latest news & projects.")),n.default.createElement(a.default,{className:u.default.socialList,trackLinkClick:c})))};t.default=d},function(e,t,r){e.exports={icon:"social_icons__icon__26xu5"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return a.default.apiRequest(n.default.del("".concat(a.default.getApiPath(),"/private/user_viewed_tooltips/").concat(e)),!0)};var n=o(r(35)),a=o(r(40));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=N(r(0)),a=T(r(1)),o=T(r(1965)),i=T(r(1966)),l=T(r(1968)),u=T(r(1972)),s=T(r(2e3)),c=T(r(2001)),d=T(r(120)),f=T(r(225)),p=T(r(161)),m=T(r(226)),h=T(r(276)),y=r(14),g=r(139),_=N(r(68)),v=r(94),b=r(210),O=T(r(7)),w=r(12),E=r(8),P=r(44),k=r(18),S=r(45),C=r(2011),j=r(16),R=r(357);function T(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L="This article cannot be unpublished or deleted while featured on the News Page.",B={hasChanges:!1,record:null},F={open:!1,props:null,type:null},U={action:"Delete",colorClass:"danger",body:"This action cannot be undone. Deleted articles are gone forever.",title:"Are you sure you want to delete this article?"},V={action:"Leave page",body:"You will lose any info you added or changed if you leave this page.",title:"Are you sure you want to leave without saving?"},W=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=!(a=x(t).call(this,e))||"object"!==M(a)&&"function"!=typeof a?D(n):a;var o=(0,v.initCurrentPath)(e.path_helpers.fullPath,e.path_helpers.basePath);return r.history=(0,_.default)(e.path_helpers.basePath),r.state={currentEditingRecord:B,currentHistoryData:r.history.location,currentPath:o,currentView:r._getCurrentViewForPath(o),dialog:F,isAdminOrEditor:r._isAdminOrEditor(),isBusy:!1,isNavigating:!0,offset:0,pagination:R.SIMPLE_PAGINATION,records:[]},r.deleteArticle=r.deleteArticle.bind(D(r)),r.handleLocationChange=r.handleLocationChange.bind(D(r)),r.handleSearchQueryUpdate=r.handleSearchQueryUpdate.bind(D(r)),r.handleUnloadEvent=r.handleUnloadEvent.bind(D(r)),r.postOrUpdateArticle=r.postOrUpdateArticle.bind(D(r)),r.publishOrScheduleArticleViaDialog=r.publishOrScheduleArticleViaDialog.bind(D(r)),r.submitOrPublishArticle=r.submitOrPublishArticle.bind(D(r)),r.unpublishArticle=r.unpublishArticle.bind(D(r)),r.algoliaPartsService=new f.default,r.algoliaPlatformsService=new p.default,r.algoliaTagsService=new m.default,r.algoliaTopicsService=new h.default,r}var r,a,T;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.unlisten=this.history.listen(this.handleLocationChange),window.addEventListener("beforeunload",this.handleUnloadEvent),this._init(),this._scrollToTop()}},{key:"componentWillUnmount",value:function(){this.unlisten(),window.removeEventListener("beforeunload",this.handleUnloadEvent)}},{key:"_init",value:function(){this._fetchRecordsForCurrentView(this.state.currentView,this.state.currentPath)}},{key:"deleteArticle",value:function(e){if(this.props.news_page_ids.includes(e.id))return(0,k.summonGlobalMessenger)({msg:L,type:"error"});this._summonDialog("prompt",{record:e,type:"delete"})}},{key:"handleLocationChange",value:function(e,t){var r=this,n=(0,_.cleanPreAndPostSlashes)(e.pathname),a=this._getCurrentViewForPath(n);this.setState({currentPath:n,currentView:a,currentHistoryData:Object.assign({},e,{action:t}),dialog:F,isBusy:!0,isNavigating:!0,offset:0},function(){r._fetchRecordsForCurrentView(a,n)})}},{key:"handleSearchQueryUpdate",value:function(e){var t=(0,P.mapifyStringQuery)(this.state.currentHistoryData.search),r=(0,P.mapToStringQuery)(Object.assign({},t,e));this.history.push({search:r}),this._scrollToTop()}},{key:"handleUnloadEvent",value:function(e){if("default"!==this.state.currentView&&this.state.currentEditingRecord.hasChanges)return(e||window.event).returnValue="There are unsaved changes.","There are unsaved changes."}},{key:"postOrUpdateArticle",value:function(e,t){return this.setState({isBusy:!0}),e.hasOwnProperty("id")?this._updateArticle(e,t):this._createArticle(e,t)}},{key:"publishOrScheduleArticleViaDialog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._publishOrScheduleArticle(Object.assign({},this.state.dialog.props,{schedule_at:e}))}},{key:"submitOrPublishArticle",value:function(e,t,r){return t===g.PUBLISHED_STATUS?this._summonDialog("dialog",{id:e,status:t,resolverFn:r}):this._publishOrScheduleArticle({id:e,status:t,resolverFn:r})}},{key:"unpublishArticle",value:function(e){if(this.props.news_page_ids.includes(e.id))return(0,k.summonGlobalMessenger)({msg:L,type:"error"});var t=["admin","editor"].includes((0,E.getInObj)(["user","news_role"],e))?g.DRAFT_STATUS:g.SUBMITTED_STATUS;return this._unpublishArticle(e,t)}},{key:"_isAdminOrEditor",value:function(){return["admin","editor"].includes(this.props.current_user.news_role)}},{key:"_fetchRecordsForCurrentView",value:function(e,t){return["analytics","new"].includes(t)?this._resolveBusyState():["form","preview","stats"].includes(e)?this._getSingularArticle(e,t):this._getPaginatedArticles()}},{key:"_getCurrentViewForPath",value:function(e){return"/"===e?"default":e.includes("analytics")?"analytics":e.includes("new")||e.includes("edit")?"form":e.includes("preview")?"preview":e.includes("stats")?"stats":"default"}},{key:"_getPathForView",value:function(e){switch(e){case"analytics":return"/analytics";case"form":return this.state.currentEditingRecord.record?"/".concat(this.state.currentEditingRecord.record.id,"/edit"):"/new";case"preview":return"/".concat(this.state.currentEditingRecord.record.id,"/preview");case"stats":return"/".concat(this.state.currentEditingRecord.record.id,"/stats");default:return"/"}}},{key:"_resolveBusyState",value:function(){this.setState({isBusy:!1,isNavigating:!1})}},{key:"_redirectFromDialog",value:function(e){this.history.replace(this._getPathForView(e)),this._scrollToTop(),this.setState({currentEditingRecord:B})}},{key:"_redirectToEditViewForArticle",value:function(e){this.history.push("/".concat(e.id,"/edit")),this._scrollToTop()}},{key:"_redirectToStatsViewForArticle",value:function(e){this.history.push("/".concat(e.id,"/stats")),this._scrollToTop()}},{key:"_redirectToView",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._getPathForView(e);if("/"===n&&this.state.currentEditingRecord.hasChanges)return this._summonDialog("prompt",{type:"redirect",view:e});var a=function(){t.history.push(n),t._scrollToTop()};if(!r)return a();this.setState({currentEditingRecord:{hasChanges:!0,record:Object.assign({},this.state.currentEditingRecord.record,r)}},function(){return a()})}},{key:"_scrollToTop",value:function(){(0,w.windowScrollTo)(0,0)}},{key:"_summonDialog",value:function(e,t){this.setState({dialog:{open:!0,type:e,props:t}})}},{key:"_translateRecordForRequest",value:function(e){var t=(0,S.removeFromObject)(e,["image","platforms","products","sponsor_image","tags","topics"]),r=(0,b.cleanUrlsFromCarousels)(e.content),n=e.image?{image_id:e.image.id}:{},a=e.sponsor_image?{sponsor_image_id:e.sponsor_image.id}:{};return Object.assign({},t,n,a,{content:JSON.stringify(r),part_ids:e.products.map(function(e){return e.id}),platform_ids:e.platforms.map(function(e){return e.id}),tag_ids:e.tags.map(function(e){return e.id}),topic_ids:e.topics.map(function(e){return e.id})})}},{key:"_translateRecordForNewState",value:function(e){return Object.assign({},e,{published_at:null,respects_count:0,sponsored:e.sponsored||!1,status:g.DRAFT_STATUS,updated_at:(0,j.timeToUTC)(Date.now()),user:this.props.current_user})}},{key:"_createArticle",value:function(e,t){var r=this;return(0,y.graphMutate)({t:"create_news_article"},this._translateRecordForRequest(e)).then(function(n){var a=n.article,o=r._translateRecordForNewState(Object.assign({},e,{id:a.id,url:a.url}));r.setState({currentEditingRecord:{hasChanges:!1,record:o},isBusy:!1,records:[o]},function(){return r._createArticleSetStateCallbackResolver(a,t)})}).catch(function(e){r.setState({isBusy:!1}),t("Sorry there was a error creating your article. Please try again."),(0,O.default)("NewsAdminPage _createArticle",e)})}},{key:"_createArticleSetStateCallbackResolver",value:function(e,t){this.history.replace("/".concat(e.id,"/edit")),t(),(0,k.summonGlobalMessenger)({msg:"Article successfully saved.",type:"success"})}},{key:"_deleteArticle",value:function(e){var t=this;return this.setState({isBusy:!0}),(0,y.graphMutate)({t:"delete_news_article"},{id:e.id}).then(function(){(0,k.summonGlobalMessenger)({msg:"Article successfully deleted.",type:"success"}),"default"===t.state.currentView?t._deleteArticleDefaultResolver():t._deleteArticleRedirectResolver()}).catch(function(e){var r=(0,E.getInObj)(["response","body","form_error"],e)||"There was a issue deleting your article. Please try again.";t.setState({isBusy:!1}),(0,k.summonGlobalMessenger)({msg:r,type:"error"}),(0,O.default)("NewsAdminPage deleteArticle",e)})}},{key:"_deleteArticleDefaultResolver",value:function(){this._getPaginatedArticles((0,C.getCurrentOrPreviousPagePostDeletion)(this.state.pagination,1))}},{key:"_deleteArticleRedirectResolver",value:function(){this.setState({currentEditingRecord:B,dialog:F}),this.history.replace("/")}},{key:"_getPaginatedArticles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,y.graphQuery)({t:"news_articles_admin_simple_pagination"},this._getPaginatedArticlesArgs(t)).then(function(t){var r=t.articles;e.setState({currentEditingRecord:B,dialog:F,isBusy:!1,isNavigating:!1,pagination:r.metadata,records:r.records})}).catch(function(t){e.setState({isBusy:!1,isNavigating:!1}),(0,O.default)("NewsAdminPage _getPaginatedArticles:",t)})}},{key:"_getPaginatedArticlesArgs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(0,P.mapifyStringQuery)(this.state.currentHistoryData.search),r=e||(0,C.getPageFromQueryMap)(t),n=t.status||null,a=t.q||null,o=this.state.isAdminOrEditor?{}:{by_current_user:!0},i=n?{by_status_type:(0,g.getStatusForFilterEnum)(t.status)}:{},l=r?{page:r}:{},u=a?{search:a}:{};return Object.assign({},o,i,l,u,{offset:this.state.offset,sort:(0,g.getSortEnumForFilter)(n)})}},{key:"_getSingularArticle",value:function(){var e=this,t=parseInt(this.state.currentPath.split("/")[0]);return(0,E.getInObj)(["record","id"],this.state.currentEditingRecord)===t?this._resolveBusyState():(0,y.graphQuery)({t:"news_article"},{id:t}).then(function(t){var r=t.article;return e._getSingularArticleResolver(r)}).catch(function(t){e.setState({isBusy:!1,isNavigating:!1}),(0,O.default)("NewsAdminPage _getSingularArticle:",t)})}},{key:"_getSingularArticleResolver",value:function(e){this.setState({currentEditingRecord:{hasChanges:!1,record:e},currentView:e?this.state.currentView:"not_found",isBusy:!1,isNavigating:!1,offset:0,pagination:R.SIMPLE_PAGINATION,records:e?[e]:[]})}},{key:"_publishOrScheduleArticle",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id,n=t.status,a=t.resolverFn,o=t.schedule_at,i=void 0===o?null:o;return this.setState({isBusy:!0}),(0,y.graphMutate)({t:"update_news_article_status"},{id:r,schedule_at:i,status:n}).then(function(){e.history.replace("/"),e._scrollToTop();var t=null!==i?"SCHEDULED":n;(0,k.summonGlobalMessenger)({msg:"Article successfully ".concat(t.toLowerCase(),"."),type:"success"})}).catch(function(t){e.setState({isBusy:!1}),a("There was an issue ".concat(i?"scheduling":"publishing"," your article. Please try again.")),(0,O.default)("NewsAdminPage _publishOrScheduleArticle",t)})}},{key:"_updateArticle",value:function(e,t){var r=this;return(0,y.graphMutate)({t:"update_news_article"},this._translateRecordForRequest(e)).then(function(n){var a=n.article,o=Object.assign({},r.state.records[0],e,{updated_at:a.updated_at});r.setState({currentEditingRecord:{hasChanges:!1,record:o},isBusy:!1,records:[o]}),t(),(0,k.summonGlobalMessenger)({msg:"Article successfully saved.",type:"success"})}).catch(function(e){r.setState({isBusy:!1}),t("There was a issue saving your article. Please try again."),(0,O.default)("NewsAdminPage _updateArticle",e)})}},{key:"_unpublishArticle",value:function(e,t){var r=this;return this.setState({isBusy:!0}),(0,y.graphMutate)({t:"update_news_article_status"},{id:e.id,status:t}).then(function(n){var a=n.article;(0,k.summonGlobalMessenger)({msg:"Article successfully updated.",type:"success"}),"default"===r.state.currentView?r._unpublishArticleDefaultResolver():r._unpublishArticleEditingResolver(a,e,t)}).catch(function(e){var t=(0,E.getInObj)(["response","body","form_error"],e)||"There was a issue updating your article. Please try again.";r.setState({isBusy:!1}),(0,k.summonGlobalMessenger)({msg:t,type:"error"}),(0,O.default)("NewsAdminPage _unpublishArticle",e)})}},{key:"_unpublishArticleDefaultResolver",value:function(){this.history.replace({pathname:"/",search:this.history.location.search})}},{key:"_unpublishArticleEditingResolver",value:function(e,t,r){var n=Object.assign({},t,{status:r,published_at:e.published_at,updated_at:e.updated_at,url:e.url});this.setState({currentEditingRecord:Object.assign({},this.state.currentEditingRecord,{record:n}),isBusy:!1,records:[n]})}},{key:"_getRenderedView",value:function(){switch(this.state.currentView){case"analytics":return this._getAnalyticsView();case"default":return this._getDefaultView();case"form":return this._getEditView();case"not_found":return this._getNotFoundView();case"preview":return this._getPreviewView();case"stats":return this._getStatsView();default:return null}}},{key:"_getAnalyticsView",value:function(){var e=this;return n.default.createElement(o.default,{analytics_url:this.props.analytics_url,currentRecord:this.state.currentEditingRecord,currentHistoryData:this.state.currentHistoryData,toggleCurrentView:function(){return e._redirectToView("default")},view:"default"})}},{key:"_getDefaultView",value:function(){var e=this;return n.default.createElement(l.default,{adminNewsUrl:this.props.admin_news_url,currentHistoryData:this.state.currentHistoryData,deleteArticle:this.deleteArticle,isAdminOrEditor:this.state.isAdminOrEditor,isBusy:this.state.isBusy,isNavigating:this.state.isNavigating,news_page_ids:this.props.news_page_ids,pagination:this.state.pagination,propagateSearchQuery:this.handleSearchQueryUpdate,records:this.state.records,redirectToArticleEdit:function(t){return e._redirectToEditViewForArticle(t)},redirectToArticleStats:function(t){return e._redirectToStatsViewForArticle(t)},toggleCurrentView:function(t){return e._redirectToView(t)},unpublishArticle:this.unpublishArticle})}},{key:"_getEditView",value:function(){var e=this;return this.state.isNavigating?null:n.default.createElement(i.default,{algoliaServices:{parts:this.algoliaPartsService,platforms:this.algoliaPlatformsService,tags:this.algoliaTagsService,topics:this.algoliaTopicsService},currentRecord:this.state.currentEditingRecord,deleteArticle:this.deleteArticle,isAdminOrEditor:this.state.isAdminOrEditor,isBusy:this.state.isBusy,isFetchingRecord:this.state.isNavigating,saveContent:this.postOrUpdateArticle,submitOrPublishArticle:this.submitOrPublishArticle,summonPrompt:function(t,r){return e._summonDialog("prompt",{type:t,view:r})},toggleCurrentView:function(t,r){return e._redirectToView(t,r)},unpublishArticle:this.unpublishArticle})}},{key:"_getNotFoundView",value:function(){var e=this;return n.default.createElement(s.default,{action:{href:"/news/admin",onClick:function(t){t.preventDefault(),e._redirectToView("default")},text:"Return to the admin page."}})}},{key:"_getPreviewView",value:function(){var e=this;return this.state.isNavigating?null:n.default.createElement(u.default,{article:this.state.currentEditingRecord.record,deleteArticle:this.deleteArticle,isAdminOrEditor:this.state.isAdminOrEditor,toggleCurrentView:function(t){return e._redirectToView(t)},unpublishArticle:this.unpublishArticle})}},{key:"_getStatsView",value:function(){var e=this;return this.state.isNavigating?null:n.default.createElement(o.default,{currentRecord:this.state.currentEditingRecord,currentHistoryData:this.state.currentHistoryData,toggleCurrentView:function(){return e._redirectToView("default")},view:"stats"})}},{key:"_getPromptProps",value:function(){var e=this;if(!this.state.dialog.open||"prompt"!==this.state.dialog.type)return{};switch(this.state.dialog.props.type){case"delete":return Object.assign({},U,{okay:function(){return e._deleteArticle(e.state.dialog.props.record)}});case"redirect":return Object.assign({},V,{okay:function(){return e._redirectFromDialog(e.state.dialog.props.view)}});default:return{}}}},{key:"render",value:function(){var e=this;return n.default.createElement("div",null,this._getRenderedView(),n.default.createElement(c.default,{dismiss:function(){return!e.state.isBusy&&e.setState({dialog:F})},isBusy:this.state.isBusy,open:this.state.dialog.open&&"dialog"===this.state.dialog.type,onPublish:this.publishOrScheduleArticleViaDialog}),n.default.createElement(d.default,A({dismiss:function(){return!e.state.isBusy&&e.setState({dialog:F})},isBusy:this.state.isBusy,open:this.state.dialog.open&&"prompt"===this.state.dialog.type},this._getPromptProps())))}}])&&I(r.prototype,a),T&&I(r,T),t}();W.propTypes={admin_news_url:a.default.string.isRequired,analytics_url:a.default.string.isRequired,current_user:a.default.shape({avatar_url:a.default.string.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,news_role:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,news_page_ids:a.default.arrayOf(a.default.number).isRequired,path_helpers:a.default.shape({basePath:a.default.string.isRequired,fullPath:a.default.string.isRequired,rootPath:a.default.string.isRequired}).isRequired};var H=W;t.default=H},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(57)),i=c(r(66)),l=r(8),u=c(r(2)),s=c(r(3));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=p(this,m(t).call(this,e))).state={iFrameHeight:0,redirectToArticle:r._initFromQuery(e.currentHistoryData)},r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"_initFromQuery",value:function(e){return"default"!==this.props.view&&(0,l.getInObj)(["search"],e).includes("from_article=t")}},{key:"componentDidMount",value:function(){this._resizeIframe()}},{key:"componentWillUnmount",value:function(){this.listener&&window.removeEventListener("message",this.listener)}},{key:"_resizeIframe",value:function(){var e=this;this.listener=window.addEventListener("message",function(t){if(t.origin&&"https://app.periscopedata.com"===t.origin&&t.data&&t.data.event_type&&"dashboard_resize"===t.data.event_type){var r=t.data.dashboard_height+100;e.state.iFrameHeight<r&&e.setState({iFrameHeight:r}),window.removeEventListener("message",e.listener),e.listener=void 0}})}},{key:"_onBreadCrumbClick",value:function(e){this.state.redirectToArticle||(e.preventDefault(),this.props.toggleCurrentView())}},{key:"_getBreadCrumbData",value:function(){return this.state.redirectToArticle?{href:this.props.currentRecord.record.url,text:"Back to article"}:{href:"/news/admin",text:"Back to articles"}}},{key:"_getViewForType",value:function(){return"default"===this.props.view?this._getDefaultView():this._getArticleStatsView()}},{key:"_getDefaultView",value:function(){return n.default.createElement("div",null,n.default.createElement("div",{className:u.default.marginBottom30},n.default.createElement("h1",{className:"".concat(s.default.h1," ").concat(u.default.marginBottom30)},"Analytics")),n.default.createElement("iframe",{frameBorder:"0",height:this.state.iFrameHeight,src:this.props.analytics_url,width:"100%"}))}},{key:"_getArticleStatsView",value:function(){if(!this.props.currentRecord.record)return this._getLoaderView();var e=this.props.currentRecord.record,t=e.analytics_url,r=e.respects_count,a=e.title;return n.default.createElement("div",null,n.default.createElement("div",{className:u.default.marginBottom30},n.default.createElement("h1",{className:"".concat(s.default.h1," ").concat(u.default.marginBottom30)},"Stats"),n.default.createElement("h2",{className:s.default.h3},a),n.default.createElement("p",{className:"".concat(s.default.bodyM," ").concat(s.default.bold," ").concat(u.default.marginTop15)},"Respects: ".concat(r))),n.default.createElement("iframe",{frameBorder:"0",height:this.state.iFrameHeight,src:t,width:"100%"}))}},{key:"_getLoaderView",value:function(){return n.default.createElement("div",{className:u.default.container},n.default.createElement("div",{className:"".concat(u.default.wrapper1170," ").concat(u.default.flex)},n.default.createElement(i.default,{size:20}),n.default.createElement("p",{className:"".concat(s.default.bodyM," ").concat(s.default.bold," ").concat(u.default.marginLeft10)},"Loading...")))}},{key:"render",value:function(){var e=this,t=this._getBreadCrumbData();return n.default.createElement("div",{className:u.default.container},n.default.createElement("div",{className:u.default.wrapper1170},n.default.createElement("div",{className:u.default.marginBottom30},n.default.createElement(o.default,{color:"Charcoal",href:t.href,onClick:function(t){return e._onBreadCrumbClick(t)},text:t.text})),this._getViewForType()))}}])&&f(r.prototype,a),c&&f(r,c),t}();y.propTypes={analytics_url:a.default.string,currentHistoryData:a.default.object.isRequired,currentRecord:a.default.shape({hasChanges:a.default.bool.isRequired,record:a.default.shape({analytics_url:a.default.string.isRequired,title:a.default.string.isRequired})}),toggleCurrentView:a.default.func.isRequired,view:a.default.string.isRequired},y.defaultProps={analytics_url:null,currentRecord:{hasChanges:!1,record:null}};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=E(r(1)),o=E(r(453)),i=E(r(1967)),l=r(210),u=E(r(38)),s=E(r(108)),c=E(r(885)),d=E(r(886)),f=r(271),p=E(r(7)),m=r(71),h=r(8),y=r(45),g=r(85),_=r(123),v=r(43),b=E(r(52)),O=E(r(21)),w=E(r(2));function E(e){return e&&e.__esModule?e:{default:e}}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R={content:{order:1,validate:function(){return null},value:null,notRequired:!0},image:{order:3,validate:function(){return null},value:null,notRequired:!0},platforms:{order:7,validate:function(e){return(0,v.maxLength)(5,e)},value:[],notRequired:!0,formatIn:function(e){return(0,_.multiSelectIn)(e,"name")}},products:{order:6,validate:function(e){return(0,v.maxLength)(5,e)},value:[],notRequired:!0,formatIn:function(e){return(0,_.multiSelectIn)(e,"name")}},summary:{order:2,validate:function(e){return(0,v.maxLength)(140,e)},value:"",notRequired:!0},tags:{order:5,validate:function(e){return(0,v.maxLength)(5,e)},value:[],notRequired:!0,formatIn:function(e){return(0,_.multiSelectIn)(e,"name")}},title:{order:0,validate:function(e){return(0,v.minLength)(3,e)||(0,v.maxLength)(100,e)},value:""},topics:{order:4,validate:function(e){return(0,v.maxLength)(5,e)},value:[],notRequired:!0,formatIn:function(e){return(0,_.multiSelectIn)(e,"name")}}},T={sponsored:{order:8,validate:function(){return null},value:"false",formatIn:function(e){return(0,_.boolOrNullIn)(e)},formatOut:function(e){return(0,_.boolOrNullOut)(e)}},sponsor_image:{order:11,validate:function(){return null},value:null,notRequired:!0},sponsor_link:{order:10,validate:function(){return null},value:"",notRequired:!0},sponsor_name:{order:9,validate:function(){return null},value:"",notRequired:!0}},N=[{label:"Yes",value:!0},{label:"No",value:!1}],M={sponsored:!1,sponsor_image:null,sponsor_link:null,sponsor_name:null},A={hasChanges:!0},I={content:{validate:function(e){return(0,v.minLength)(1,e)}},image:{validate:function(e){return(0,v.imageV)(e)}},platforms:{validate:function(e){return(0,v.maxLength)(5,e)},notRequired:!0},products:{validate:function(e){return(0,v.maxLength)(5,e)},notRequired:!0},summary:{validate:function(e){return(0,v.maxLength)(140,e)}},tags:{validate:function(e){return(0,v.maxLength)(5,e)},notRequired:!0},topics:{validate:function(e){return(0,v.maxLength)(5,e)},notRequired:!0}},x={sponsor_image:{validate:function(e){return(0,v.imageV)(e)}},sponsor_link:{validate:function(e){return(0,v.isUrlWithProtocol)(e)}},sponsor_name:{validate:function(e){return(0,v.minLength)(1,e)}}},D=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=!(a=S(t).call(this,e))||"object"!==P(a)&&"function"!=typeof a?C(n):a;var o=e.isAdminOrEditor?Object.assign({},R,T):R;return r.state={errors:{},formError:null,hasChanges:e.currentRecord.hasChanges,isBusy:!1,fields:(0,g.initFields)(o,e.currentRecord.record),workers:[]},r.addOrUpdateContent=r.addOrUpdateContent.bind(C(r)),r.onEditorUpdate=r.onEditorUpdate.bind(C(r)),r.isEditorWorking=r.isEditorWorking.bind(C(r)),r.requestResolver=r.requestResolver.bind(C(r)),r.toggleCurrentViewProxy=r.toggleCurrentViewProxy.bind(C(r)),r.getErrorForField=g.getErrorForField.bind(C(r)),r.getFieldValuesAsObject=g.getFieldValuesAsObject.bind(C(r)),r.setIsBusy=g.setIsBusy.bind(C(r)),r.setStateOrError=g.setStateOrError.bind(C(r)),r.validate=g.validateFields.bind(C(r)),r._contentEditor,r}var r,a,E;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,n.PureComponent),r=t,(a=[{key:"_initDraftster",value:function(){return(0,i.default)({initContent:(0,h.getInObj)(["content"],this.props.currentRecord.record),isEditorWorking:this.isEditorWorking,onEditorUpdate:this.onEditorUpdate})}},{key:"addOrUpdateContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=0===e?this._valiadatePrimary():this._valiadateSecondary();r&&(t?this._submitOrPublishContent(t):this._saveContent())}},{key:"isEditorWorking",value:function(e){this.state.isBusy!==e&&this.setState({isBusy:e})}},{key:"onEditorUpdate",value:function(){this.state.errors.hasOwnProperty("content")?this.setState({errors:(0,y.removeFromObject)(this.state.errors,"content"),hasChanges:!0}):this.setState({hasChanges:!0})}},{key:"requestResolver",value:function(e){if(e)return this.setState({formError:e,isBusy:!1});this.setState({hasChanges:!1,isBusy:!1})}},{key:"toggleCurrentViewProxy",value:function(e){return"default"===e&&this.state.hasChanges?this.props.summonPrompt("redirect",e):this._memoizeContentAndToggleView(e)}},{key:"_buildObjectForPropagation",value:function(){var e=this;return new Promise(function(t,r){return(0,l.convertToJSONModel)(e._contentEditor.getEditorContent(),!0).then(function(r){return t(e._buildObjectWithContent(r))}).catch(function(e){return r(e)})})}},{key:"_buildObjectWithContent",value:function(e){var t=this.props.currentRecord.record?{id:this.props.currentRecord.record.id}:{},r=this.getFieldValuesAsObject();return Object.assign({},t,r,this._buildObjectForSponsor(r),{content:e,platforms:(0,_.multiSelectToRecordShapeOut)(r.platforms),products:(0,_.multiSelectToRecordShapeOut)(r.products),tags:(0,_.multiSelectToRecordShapeOut)(r.tags),topics:(0,_.multiSelectToRecordShapeOut)(r.topics)})}},{key:"_buildObjectForSponsor",value:function(e){if("false"===(0,h.getInObj)(["sponsored","value"],this.state.fields))return M;var t=this.props.currentRecord.record;return{sponsored:e.sponsored||(0,h.getInObj)(["sponsored"],t),sponsor_image:e.sponsor_image||(0,h.getInObj)(["sponsor_image"],t),sponsor_link:e.sponsor_link||(0,h.getInObj)(["sponsor_link"],t),sponsor_name:e.sponsor_name||(0,h.getInObj)(["sponsor_name"],t)}}},{key:"_memoizeContentAndToggleView",value:function(e){var t=this;return this.state.hasChanges?this._buildObjectForPropagation().then(function(r){return t.props.toggleCurrentView(e,r)}).catch(function(e){return(0,p.default)("NewsArticleForm _memoizeContentAndToggleView",e)}):this.props.toggleCurrentView(e)}},{key:"_saveContent",value:function(){var e=this;return this._buildObjectForPropagation().then(function(t){return e.props.saveContent(t,e.requestResolver)}).catch(function(e){return(0,p.default)("NewsArticleForm _saveContent",e)})}},{key:"_setContentFieldErrorAndScrollTo",value:function(e){var t=this;this.setState({errors:Object.assign({},this.state.errors,{content:e})},function(){return(0,g.scrollToError)(t.state.errors,{content:{order:0}})})}},{key:"_submitOrPublishContent",value:function(e){this.props.submitOrPublishArticle(this.props.currentRecord.record.id,e,this.requestResolver)}},{key:"_valiadatePrimary",value:function(){if(!this.props.isAdminOrEditor)return this.validate();var e="true"===(0,h.getInObj)(["sponsored","value"],this.state.fields)?x:{};return this.validate({validationOverrideMap:e})}},{key:"_valiadateSecondary",value:function(){var e="true"===(0,h.getInObj)(["sponsored","value"],this.state.fields)?Object.assign({},I,x):I,t=this.validate({validationOverrideMap:e}),r=(0,v.isDraftsterEmpty)(this._contentEditor.getEditorContent());return t&&r&&this._setContentFieldErrorAndScrollTo(r),!0===t&&null===r}},{key:"_getSponsoredInput",value:function(){var e=this;return this.props.isAdminOrEditor?n.default.createElement("div",{id:"vfsponsored"},n.default.createElement(s.default,{buttonFirst:!0,buttons:N,errors:this.state.errors.sponsored,label:"Is this a sponsored story?",onChange:function(t){return e.setStateOrError(null,"sponsored",t.target.value,A)},value:this.state.fields.sponsored.value}),"true"===this.state.fields.sponsored.value&&this._getSponsorInputs()):null}},{key:"_getSponsorInputs",value:function(){var e=this;return n.default.createElement("div",{className:b.default.nestedFogContainer},n.default.createElement("div",{id:"vfsponsor_name"},n.default.createElement(u.default,{charCount:this.state.fields.sponsor_name.value.length,errors:this.state.errors.sponsor_name,label:"Sponsor name",maxVal:255,onChange:function(t){return e.setStateOrError((0,v.maxLength)(60,t.target.value),"sponsor_name",t.target.value,A)},value:this.state.fields.sponsor_name.value})),n.default.createElement("div",{id:"vfsponsor_link"},n.default.createElement(u.default,{charCount:this.state.fields.sponsor_link.value.length,errors:this.state.errors.sponsor_link,label:"Sponsor link",maxVal:255,onChange:function(t){return e.setStateOrError((0,v.maxLength)(60,t.target.value),"sponsor_link",t.target.value,A)},value:this.state.fields.sponsor_link.value})),n.default.createElement("div",{id:"vfsponsor_image"},n.default.createElement("label",{className:O.default.label},"Sponsor image"),(0,f.createImageUploader)({aspectRatio:1,attachmentType:"Avatar",cropperTitle:(0,f.createCropperTitle)({title:"1:1 Crop"}),dimensionMins:{width:80},errors:this.state.errors.sponsor_image,helperText:"This picture should have a ratio of 1:1 and be at least 80x80px for the best quality.",imageData:this.state.fields.sponsor_image.value,propagateStatus:function(t){return e.setIsBusy(t,"sponsor_image")},propagateUpload:function(t){return e.setStateOrError(null,"sponsor_image",t,A)}})))}},{key:"render",value:function(){var e=this;return n.default.createElement("form",null,n.default.createElement(d.default,{article:this.props.currentRecord.record,deleteArticle:this.props.deleteArticle,isAdminOrEditor:this.props.isAdminOrEditor,unpublishArticle:this.props.unpublishArticle}),n.default.createElement("div",{className:"".concat(w.default.flexColumn," ").concat(w.default.flexCenterItems," ").concat(w.default.padding3015)},n.default.createElement("div",{className:b.default.container675},n.default.createElement("div",{id:"vftitle"},n.default.createElement(u.default,{charCount:this.state.fields.title.value.length,errors:this.state.errors.title,label:"Title",maxVal:100,onChange:function(t){return e.setStateOrError((0,v.maxLength)(100,t.target.value),"title",t.target.value,A)},placeholder:"Article title",value:this.state.fields.title.value})),n.default.createElement("div",{id:"vfcontent",className:w.default.marginBottom30},n.default.createElement("label",{className:O.default.label},"Content"),n.default.createElement(o.default,{ref:function(t){return e._contentEditor=t},config:this._initDraftster()}),(0,m.getErrorHelperView)(this.state.errors.content)),n.default.createElement("div",{id:"vfsummary"},n.default.createElement(u.default,{charCount:this.state.fields.summary.value.length,classList:{help:w.default.paddingRight45},element:"textarea",errors:this.state.errors.summary,helperText:"This summary will display in cards when the article is featured.",label:"Summary",maxVal:140,onChange:function(t){return e.setStateOrError((0,v.maxLength)(140,t.target.value),"summary",t.target.value,A)},placeholder:"i.e. Learn how to automate almost anything in your home.",value:this.state.fields.summary.value})),n.default.createElement("div",{id:"vfimage"},n.default.createElement("label",{className:O.default.label},"Thumbnail"),(0,f.createImageUploader)({aspectRatio:16/9,attachmentType:"CoverImage",cropperTitle:(0,f.createCropperTitle)({title:"16:9 Crop"}),dimensionMins:{width:349},errors:this.state.errors.image,helperText:"This image will display in cards that link to the article. Use a ratio of 16:9 and be at least 620x349px for the best quality.",imageData:this.state.fields.image.value,propagateStatus:function(t){return e.setIsBusy(t,"image")},propagateUpload:function(t){return e.setStateOrError(null,"image",t,A)}})),n.default.createElement("div",{id:"vftopics"},n.default.createElement("label",{className:O.default.label},"Which main topics does this article relate to? (optional)"),(0,f.createMultiSelect)({algoliaParameters:{hitsPerPage:100,initFacet:["model:TopicChannel"]},algoliaService:this.props.algoliaServices.topics,errors:this.state.errors.topics,maxWidth:"100%",onSelect:function(t){return e.setStateOrError(null,"topics",t,A)},placeholder:"i.e. Wearables, Gaming, Robotics",recordsToOptions:f.recordsToOptions,selectionLimit:5,value:this.state.fields.topics.value})),n.default.createElement("div",{id:"vftags"},n.default.createElement("label",{className:O.default.label},"Add up to 5 tags to help readers know what this article is about (optional)"),(0,f.createMultiSelect)({algoliaParameters:{hitsPerPage:100},algoliaService:this.props.algoliaServices.tags,errors:this.state.errors.tags,maxWidth:"100%",onSelect:function(t){return e.setStateOrError(null,"tags",t,A)},placeholder:"i.e. iot",recordsToOptions:f.recordsToOptions,selectionLimit:5,value:this.state.fields.tags.value})),n.default.createElement("div",{id:"vfproducts"},n.default.createElement("label",{className:O.default.label},"Select products that are relevant to this article (optional)"),(0,f.createMultiSelect)({algoliaParameters:{hitsPerPage:100},algoliaService:this.props.algoliaServices.parts,errors:this.state.errors.products,maxWidth:"100%",onSelect:function(t){return e.setStateOrError(null,"products",t,A)},placeholder:"i.e. Raspberry Pi Zero",recordsToOptions:f.recordsToOptions,selectionLimit:5,value:this.state.fields.products.value})),n.default.createElement("div",{id:"vfplatforms"},n.default.createElement("label",{className:O.default.label},"Select platforms that are relevant to this article (optional)"),(0,f.createMultiSelect)({algoliaParameters:{hitsPerPage:100,initFacet:["model:Platform"]},algoliaService:this.props.algoliaServices.platforms,errors:this.state.errors.platforms,maxWidth:"100%",onSelect:function(t){return e.setStateOrError(null,"platforms",t,A)},placeholder:"i.e. Arduino, Raspberry Pi",recordsToOptions:f.recordsToOptions,selectionLimit:5,value:this.state.fields.platforms.value})),this._getSponsoredInput())),n.default.createElement(c.default,{article:this.props.currentRecord.record,disabled:this.state.isBusy,hasChanges:this.state.hasChanges,isAdminOrEditor:this.props.isAdminOrEditor,isBusy:this.props.isBusy,saveProgress:this.addOrUpdateContent,submitOrPublish:this.submitOrPublishContent,toggleCurrentView:this.toggleCurrentViewProxy,view:"form"}))}}])&&k(r.prototype,a),E&&k(r,E),t}();D.propTypes={algoliaServices:a.default.shape({parts:a.default.object.isRequired,platforms:a.default.object.isRequired,tags:a.default.object.isRequired,topics:a.default.object.isRequired}).isRequired,currentRecord:a.default.shape({hasChanges:a.default.bool.isRequired,record:a.default.shape({content:a.default.array,id:a.default.number,image:a.default.shape({id:a.default.number.isRequired,url:a.default.string.isRequired}),platforms:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired})),products:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired})),published_at:a.default.string,respects_count:a.default.number,sponsor_image:a.default.shape({id:a.default.number.isRequired,url:a.default.string.isRequired}),sponsor_link:a.default.string,sponsor_name:a.default.string,sponsored:a.default.bool.isRequired,status:a.default.string.isRequired,tags:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired})),title:a.default.string.isRequired,topics:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired})),updated_at:a.default.oneOfType([a.default.string,a.default.number]).isRequired,url:a.default.string,user:a.default.shape({avatar_url:a.default.string.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,news_role:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired})}),deleteArticle:a.default.func.isRequired,isAdminOrEditor:a.default.bool.isRequired,isBusy:a.default.bool.isRequired,isFetchingRecord:a.default.bool.isRequired,saveContent:a.default.func.isRequired,submitOrPublishArticle:a.default.func.isRequired,summonPrompt:a.default.func.isRequired,toggleCurrentView:a.default.func.isRequired,unpublishArticle:a.default.func.isRequired},D.defaultProps={currentRecord:{hasChanges:!1,record:null}};var q=D;t.default=q},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.initContent,r=e.isEditorWorking,a=e.onEditorUpdate;return{className:"story-editor",editorWasUpdated:function(){a()},handleImageUpload:function(e,t){return(0,n.uploadImageToServer)(e).then(function(e){return t(null,e)}).catch(function(r){return t(r,e)})},isEditorBusy:function(e){r(e)},processImage:function(e){return(0,n.processRemoteImage)(e)},setInitialContent:function(){return(0,n.prepareModelForDraftsterInstance)(t)}}};var n=r(210)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=w(r(1)),o=w(r(223)),i=w(r(57)),l=w(r(15)),u=w(r(274)),s=w(r(9)),c=w(r(1971)),d=w(r(888)),f=w(r(180)),p=w(r(119)),m=r(139),h=r(8),y=r(44),g=w(r(10)),_=w(r(2)),v=w(r(3)),b=w(r(5)),O=w(r(140));function w(e){return e&&e.__esModule?e:{default:e}}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=[{key:"all",default:!0,label:"All",value:null},{key:"drafts",label:"Drafts",value:m.DRAFT_FILTER},{key:"submitted",label:"Submitted",value:m.SUBMITTED_FILTER},{key:"scheduled",label:"Scheduled",value:m.SCHEDULED_FILTER},{key:"published",label:"Published",value:m.PUBLISHED_FILTER}],R=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k(this,S(t).call(this,e))}var r,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,n.PureComponent),r=t,(a=[{key:"_getSearchValueFromHistory",value:function(e){return(0,h.getInObj)(["q"],e)||""}},{key:"_getStatusOptions",value:function(e){var t=(0,h.getInObj)(["status"],e);return t?j.map(function(e){return e.value===t?Object.assign({},e,{active:!0}):e}):j}},{key:"_getEmptyView",value:function(){return n.default.createElement("p",{className:"".concat(v.default.bodyM," ").concat(_.default.paddingTop30)},"No articles found")}},{key:"_getLayoutBreadCrumb",value:function(){return this.props.isAdminOrEditor?n.default.createElement(i.default,{direction:"right",href:this.props.adminNewsUrl,text:"Go to layout editor",size:"M"}):null}},{key:"_getListView",value:function(){var e=this;return this.props.isNavigating?n.default.createElement(d.default,{isAdminOrEditor:this.props.isAdminOrEditor}):this.props.records.length?this.props.records.map(function(t,r){return n.default.createElement(c.default,{key:t.id,article:t,deleteArticle:e.props.deleteArticle,isAdminOrEditor:e.props.isAdminOrEditor,isFeaturedOnNewsPage:e.props.news_page_ids.includes(t.id),redirectToArticleEdit:e.props.redirectToArticleEdit,redirectToArticleStats:e.props.redirectToArticleStats,unpublishArticle:e.props.unpublishArticle})}):this._getEmptyView()}},{key:"_getPaginatorView",value:function(){var e=this;return this.props.pagination.next_page||this.props.pagination.prev_page?n.default.createElement(f.default,{classList:{root:_.default.marginTop30},currentPage:this.props.pagination.current_page,currentQuery:this.props.currentQuery,disabled:this.props.isBusy||this.props.isNavigating,nextPage:this.props.pagination.next_page,onClick:function(t){return e.props.propagateSearchQuery({page:t})},prevPage:this.props.pagination.prev_page}):null}},{key:"render",value:function(){var e=this,t=(0,y.mapifyStringQuery)(this.props.currentHistoryData.search);return n.default.createElement("div",{className:_.default.container},n.default.createElement("div",{className:_.default.wrapper1170},this._getLayoutBreadCrumb(),n.default.createElement("div",{className:O.default.header},n.default.createElement("h1",{className:v.default.h1},"Articles"),n.default.createElement("div",{className:O.default.actionsWrapper},n.default.createElement(o.default,{classList:{wrapper:O.default.inputWrapper},enableHistory:!0,initVal:this._getSearchValueFromHistory(t),onEnter:function(t){return e.props.propagateSearchQuery({q:t})},placeholder:"Search by article name"}),n.default.createElement(l.default,{className:"".concat(g.default.inputPairedRight," ").concat(_.default.flex10Auto),colorStyle:"outlineBlue",onClick:function(){return e.props.toggleCurrentView("analytics")},size:"md"},n.default.createElement("span",{className:O.default.addBtnDefault},"View analytics"),n.default.createElement(s.default,{className:O.default.addBtnPlus,name:"platforms",size:"16"})),n.default.createElement(l.default,{className:"".concat(g.default.inputPairedRight," ").concat(_.default.flex10Auto),onClick:function(){return e.props.toggleCurrentView("form")},size:"md"},n.default.createElement("span",{className:O.default.addBtnDefault},"New article"),n.default.createElement(s.default,{className:O.default.addBtnPlus,name:"plus",size:"16"})))),n.default.createElement("div",null,n.default.createElement(u.default,{classList:{wrapper:b.default.borderBottom}},n.default.createElement(p.default,{onSelection:function(t){return e.props.propagateSearchQuery({page:null,status:t.value})},options:this._getStatusOptions(t),tabbedViewUnderline:!1,view:"tabbed"}))),n.default.createElement("div",{className:O.default.listWrapper},this._getListView(),this._getPaginatorView())))}}])&&P(r.prototype,a),m&&P(r,m),t}();R.propTypes={adminNewsUrl:a.default.string.isRequired,currentHistoryData:a.default.object.isRequired,deleteArticle:a.default.func.isRequired,isAdminOrEditor:a.default.bool.isRequired,isBusy:a.default.bool.isRequired,isNavigating:a.default.bool.isRequired,news_page_ids:a.default.arrayOf(a.default.number).isRequired,pagination:a.default.shape({current_page:a.default.number.isRequired,next_page:a.default.number,prev_page:a.default.number}).isRequired,records:a.default.arrayOf(a.default.shape({id:a.default.number,image:a.default.shape({id:a.default.number.isRequired,url:a.default.string.isRequired}),published_at:a.default.string,status:a.default.string.isRequired,title:a.default.string.isRequired,updated_at:a.default.oneOfType([a.default.string,a.default.number]).isRequired,url:a.default.string.isRequired,user:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired}).isRequired})).isRequired,redirectToArticleEdit:a.default.func.isRequired,redirectToArticleStats:a.default.func.isRequired,toggleCurrentView:a.default.func.isRequired,unpublishArticle:a.default.func.isRequired};var T=R;t.default=T},function(e,t,r){e.exports={small:"(max-width: 480px)",asphalt:"#D8D8D8",pebble:"#767676",focused:"basic_search_input__focused__2gV1b",input:"basic_search_input__input__1CBoz",wrapper:"basic_search_input__wrapper__3flxS"}},function(e,t,r){e.exports={arrow:"horizontal_scroll_box__arrow__282R4",arrowLeft:"horizontal_scroll_box__arrowLeft__FNjUg horizontal_scroll_box__arrow__282R4",arrowRight:"horizontal_scroll_box__arrowRight__2HuK8 horizontal_scroll_box__arrow__282R4",scrollContainer:"horizontal_scroll_box__scrollContainer__3N3WE",wrapper:"horizontal_scroll_box__wrapper__3yhIO"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=m(r(1)),o=m(r(245)),i=m(r(887)),l=m(r(46)),u=r(139),s=r(16),c=m(r(2)),d=m(r(3)),f=m(r(5)),p=m(r(140));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,_(t).call(this,e))}var r,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,n.PureComponent),r=t,(a=[{key:"_getStatusData",value:function(){switch(this.props.article.status){case u.DRAFT_STATUS:return{classColor:f.default.categoryGrayBG,text:"Draft saved ".concat((0,s.timeFromNow)(this.props.article.updated_at))};case u.PUBLISHED_STATUS:var e=this.props.article.published_at;return(0,s.timeIsFuture)(e)?{classColor:f.default.categoryGreenBG,text:"Scheduled for ".concat((0,s.timestampToPrettyDate)(e,s.NEWS_SCHEDULED_FORMAT))}:{classColor:null,text:"Published on ".concat((0,s.timestampToPrettyDate)(e,s.DATE_FORMAT))};case u.SUBMITTED_STATUS:return{classColor:f.default.categoryOrangeBG,text:"Submitted on ".concat((0,s.timestampToPrettyDate)(this.props.article.updated_at,s.DATE_FORMAT))};default:return{classColor:null,text:"Error"}}}},{key:"_getStatusView",value:function(){var e=this._getStatusData(),t=e.classColor,r=e.text;return n.default.createElement("div",{className:c.default.flexCenterItems},t&&n.default.createElement("div",{className:"".concat(f.default.categoryBadgeRectSmall," ").concat(c.default.marginRight10," ").concat(t," ").concat(p.default.statusColorBlock)}),n.default.createElement("span",{className:"".concat(d.default.bodyS)},r))}},{key:"render",value:function(){return n.default.createElement("div",{className:p.default.listItem},n.default.createElement("div",{className:p.default.listItemTitleCell},this.props.article.image&&n.default.createElement("a",{className:p.default.listItemCoverImageWrapper,href:this.props.article.url,target:"_blank"},n.default.createElement(l.default,{classList:{image:f.default.borderRadius,root:p.default.listItemCoverImage},ratio:"16:9",setStyle:!1,src:this.props.article.image.url,width:96})),n.default.createElement("div",{className:p.default.listItemData},this.props.article.sponsored&&n.default.createElement("span",{className:"".concat(d.default.bodyS," ").concat(d.default.pebble," ").concat(c.default.marginRight10)},"Sponsored"),n.default.createElement("a",{className:"".concat(d.default.link," ").concat(d.default.bodyM," ").concat(d.default.bold),href:this.props.article.url,target:"_blank"},this.props.article.title),this.props.isFeaturedOnNewsPage&&n.default.createElement(o.default,{className:p.default.star,name:"star",size:16}),n.default.createElement("div",{className:p.default.listItemMobileAuthorStatus},this.props.isAdminOrEditor&&n.default.createElement("p",{className:"".concat(d.default.bodyS," ").concat(c.default.marginBottom5)},this.props.article.user.name),this._getStatusView()))),this.props.isAdminOrEditor&&n.default.createElement("div",{className:p.default.listItemAuthorCell},n.default.createElement("p",{className:d.default.bodyS},this.props.article.user.name)),n.default.createElement("div",{className:p.default.listItemDateCell},this._getStatusView()),n.default.createElement(i.default,{article:this.props.article,deleteArticle:this.props.deleteArticle,isAdminOrEditor:this.props.isAdminOrEditor,redirectToArticleEdit:this.props.redirectToArticleEdit,redirectToArticleStats:this.props.redirectToArticleStats,type:"list",unpublishArticle:this.props.unpublishArticle}))}}])&&y(r.prototype,a),m&&y(r,m),t}();b.propTypes={article:a.default.shape({id:a.default.number,image:a.default.shape({id:a.default.number.isRequired,url:a.default.string.isRequired}),published_at:a.default.string,sponsored:a.default.bool,status:a.default.string.isRequired,title:a.default.string.isRequired,updated_at:a.default.oneOfType([a.default.string,a.default.number]).isRequired,url:a.default.string.isRequired,user:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired}).isRequired}).isRequired,deleteArticle:a.default.func.isRequired,isAdminOrEditor:a.default.bool.isRequired,isFeaturedOnNewsPage:a.default.bool.isRequired,redirectToArticleEdit:a.default.func.isRequired,redirectToArticleStats:a.default.func.isRequired,unpublishArticle:a.default.func.isRequired},b.defaultProps={};var O=b;t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(0)),a=g(r(1)),o=g(r(1973)),i=g(r(1974)),l=g(r(1975)),u=g(r(1976)),s=g(r(889)),c=g(r(885)),d=g(r(886)),f=g(r(2)),p=g(r(64)),m=g(r(3)),h=g(r(5)),y=g(r(1999));function g(e){return e&&e.__esModule?e:{default:e}}var _=function(e){return n.default.createElement("div",{className:"".concat(h.default.borderTop," ").concat(f.default.paddingTop45)},n.default.createElement("div",{className:y.default.wrapper},n.default.createElement("div",{className:"".concat(f.default.flex1," ").concat(y.default.defaultCardContainer)},n.default.createElement("h4",{className:"".concat(m.default.h4," ").concat(f.default.marginBottom15)},"Default Card"),n.default.createElement("div",{className:y.default.defaultCardWrapper},n.default.createElement(o.default,{article:e}))),n.default.createElement("div",{className:f.default.flex1},n.default.createElement("h4",{className:"".concat(m.default.h4," ").concat(f.default.marginBottom15)},"Featured Card"),n.default.createElement("div",{className:y.default.featuredCardWrapper},n.default.createElement(i.default,{article:e})))))},v=function(e){return n.default.createElement("div",{className:"".concat(h.default.borderTop," ").concat(f.default.paddingTop45)},n.default.createElement("div",{className:"".concat(p.default.grid," ").concat(p.default.guttersH30," ").concat(p.default.guttersV30)},n.default.createElement("div",{className:"".concat(p.default.cell," ").concat(p.default.cell_1," ").concat(p.default.cell_1_2_md)},n.default.createElement("h4",{className:"".concat(m.default.h4," ").concat(f.default.marginBottom15)},"Sponsored Card on Article Page"),n.default.createElement("div",{className:y.default.sponsoredCardWrapper},n.default.createElement(l.default,{article:e}))),n.default.createElement("div",{className:"".concat(p.default.cell," ").concat(p.default.cell_1," ").concat(p.default.cell_1_2_md)},n.default.createElement("h4",{className:"".concat(m.default.h4," ").concat(f.default.marginBottom15)},"Sponsored Card on News Home Page"),n.default.createElement("div",{style:{maxWidth:570}},n.default.createElement(u.default,{article:e})))))},b=function(e){var t=e.article,r=e.deleteArticle,a=e.isAdminOrEditor,o=e.toggleCurrentView,i=e.unpublishArticle;return n.default.createElement("div",null,n.default.createElement(d.default,{article:t,deleteArticle:r,isAdminOrEditor:a,unpublishArticle:i}),n.default.createElement("div",{className:f.default.container},n.default.createElement("div",{className:f.default.wrapper1170},t&&n.default.createElement("div",{className:f.default.marginBottom60},n.default.createElement(s.default,{article:t,isPreview:!0})),t&&function(e){return e.sponsored?v(e):_(e)}(t))),n.default.createElement(c.default,{isAdminOrEditor:a,toggleCurrentView:o,view:"preview"}))};b.propTypes={article:a.default.object,deleteArticle:a.default.func.isRequired,isAdminOrEditor:a.default.bool.isRequired,toggleCurrentView:a.default.func.isRequired,unpublishArticle:a.default.func.isRequired},b.defaultProps={article:null};var O=b;t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=r(8),i=r(16),l=f(r(2)),u=f(r(3)),s=f(r(5)),c=f(r(359)),d=f(r(46));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.article,r=e.className;return n.default.createElement("div",{className:"".concat(c.default.cardResponsive," ").concat(l.default.flexColumn," ").concat(l.default.fullWidth," ").concat(r)},n.default.createElement("div",{className:"".concat(c.default.imageResponsive," ").concat(l.default.fullWidth," ").concat(s.default.absolutePlaceholderParent," ").concat(s.default.aspectRatioPadding16_9)},n.default.createElement(d.default,{classList:{root:"".concat(s.default.absolutePlaceholderChild," ").concat(s.default.borderRadius)},ratio:"16:9",setStyle:!1,src:(0,o.getInObj)(["image","url"],t),width:285})),n.default.createElement("div",{className:"".concat(c.default.textResponsive," ").concat(l.default.marginTop22)},n.default.createElement("div",{className:"".concat(u.default.breakWord," ").concat(l.default.flexColumn)},n.default.createElement("p",{className:"".concat(u.default.bodyM," ").concat(u.default.bold)},t.title),n.default.createElement("p",{className:u.default.bodyS},n.default.createElement("span",{className:u.default.link},t.user.name),t.published_at&&n.default.createElement(n.Fragment,null,n.default.createElement("span",{className:"".concat(l.default.marginLeft5," ").concat(l.default.marginRight5)},"•"),n.default.createElement("span",{title:t.published_at},(0,i.timeFromNow)(t.published_at)))))))};p.propTypes={article:a.default.shape({image:a.default.shape({url:a.default.string}),published_at:a.default.string,title:a.default.string.isRequired,user:a.default.shape({name:a.default.string.isRequired})}).isRequired};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(46)),i=r(8),l=r(498),u=d(r(2)),s=d(r(3)),c=d(r(5));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.article,r=e.isHero;return n.default.createElement("div",{className:(0,l.getRootStyles)(r)},n.default.createElement("div",{className:(0,l.getImgContainerStyles)(r)},n.default.createElement(o.default,{classList:{root:"".concat(c.default.absolutePlaceholderChild," ").concat(c.default.borderRadius)},ratio:"16:9",setStyle:!1,src:(0,i.getInObj)(["image","url"],t),width:555})),n.default.createElement("div",{className:"".concat(u.default.flexColumn," ").concat(u.default.fullWidth)},n.default.createElement("div",{className:(0,l.getTitleStyles)(r)},t.title),t.summary&&t.summary.length>0?n.default.createElement("p",{className:"".concat(s.default.bodyM," ").concat(s.default.charcoal," ").concat(u.default.marginBottom10)},t.summary):n.default.createElement("div",null,n.default.createElement("p",{className:s.default.dummyS}),n.default.createElement("p",{style:{width:"50%"},className:s.default.dummyS})),n.default.createElement("p",{className:"".concat(s.default.charcoal," ").concat(s.default.bodyM)},"by ",n.default.createElement("span",{className:s.default.linkBlue},t.user.name))))};f.propTypes={article:a.default.shape({image:a.default.shape({url:a.default.string}),summary:a.default.string,title:a.default.string.isRequired,user:a.default.shape({name:a.default.string.isRequired}).isRequired}).isRequired,isHero:a.default.bool},f.defaultProps={isHero:!1};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(46)),i=r(8),l=c(r(3)),u=c(r(5)),s=c(r(191));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.article;e.isResponsive;return n.default.createElement("div",{className:s.default.sponsoredCard},n.default.createElement("div",{className:s.default.sponsoredImgWrapper},n.default.createElement(o.default,{classList:{root:"".concat(u.default.absolutePlaceholderChild," ").concat(u.default.borderRadius)},ratio:"16:9",setStyle:!1,src:(0,i.getInObj)(["image","url"],t),width:158})),n.default.createElement("div",{className:s.default.sponsoredDataWrapper},n.default.createElement("p",{className:"".concat(l.default.bodyM," ").concat(l.default.bold," ").concat(l.default.linkCharcoal)},t.title),n.default.createElement("p",{className:l.default.bodyS},"Sponsored by ",t.sponsor_name&&t.sponsor_name.length>0&&n.default.createElement("span",{className:l.default.linkBlue},t.sponsor_name))))};d.propTypes={article:a.default.shape({image:a.default.shape({url:a.default.string}),sponsor_link:a.default.string,sponsor_name:a.default.string,title:a.default.string.isRequired}).isRequired,isResponsive:a.default.bool},d.defaultProps={isResponsive:!0};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(46)),i=r(8),l=d(r(2)),u=d(r(3)),s=d(r(5)),c=d(r(270));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.article;e.isResponsive;return n.default.createElement("div",{className:"".concat(c.default.card," ").concat(l.default.fullWidth," ").concat(u.default.overflowBreakWord)},n.default.createElement("div",{className:"".concat(c.default.image," ").concat(s.default.posRelative)},n.default.createElement(o.default,{classList:{image:s.default.borderRadius},ratio:"3:2",setStyle:!1,src:(0,i.getInObj)(["image","url"],t),width:340})),n.default.createElement("div",{className:c.default.text},n.default.createElement("p",{className:"".concat(u.default.bodyL," ").concat(u.default.bold)},t.title),n.default.createElement("p",{className:"".concat(u.default.bodyM," ").concat(l.default.marginTop5)},"Sponsored by ",t.sponsor_name&&t.sponsor_name.length>0&&n.default.createElement("span",{className:u.default.linkBlue},t.sponsor_name))))};f.propTypes={article:a.default.shape({image:a.default.shape({url:a.default.string}),sponsor_link:a.default.string,sponsor_name:a.default.string,title:a.default.string.isRequired}).isRequired,isResponsive:a.default.bool},f.defaultProps={isResponsive:!0};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=v(r(0)),a=v(r(1)),o=v(r(131)),i=v(r(1978)),l=v(r(1979)),u=v(r(1980)),s=v(r(30)),c=r(892),d=r(499),f=r(11),p=r(500),m=v(r(64)),h=v(r(2)),y=v(r(3)),g=v(r(5)),_=v(r(361));function v(e){return e&&e.__esModule?e:{default:e}}var b=function(e){return(0,f.isBlank)(e)?null:n.default.createElement("section",{className:h.default.marginTop45},n.default.createElement("div",{className:"".concat(h.default.flexRowWrap," ").concat(m.default.guttersH10," ").concat(m.default.guttersV10)},e.map(function(e,t){var r=e.name,a=e.url;return n.default.createElement("div",{key:t,className:m.default.cell},n.default.createElement(o.default,{colorStyle:"tertiary",href:a,size:"sm"},r))})))},O=function(e){var t=e.article,r=e.isPreview,a=e.social_sharing_links,o=(0,d.extractCoverImageFromStory)(t.content),f=o.coverImage,m=o.story,v=Object.assign({},t,{content:m});return f?function(e){var t=e.article,r=e.coverImage,a=e.isPreview,o=e.social_sharing_links;return n.default.createElement("article",null,n.default.createElement(l.default,{article:t}),n.default.createElement("figure",{className:h.default.marginTop30},n.default.createElement("div",{className:"".concat(g.default.absolutePlaceholderParent," ").concat(g.default.aspectRatioPadding16_9," ").concat(_.default.coverImage)},n.default.createElement(s.default,{className:g.default.absolutePlaceholderChild,ratio:"16:9",setStyle:!1,src:r.url,width:830})),!!r.figcaption&&n.default.createElement("figcaption",{className:"".concat(y.default.bodyS," ").concat(y.default.pebble," ").concat(y.default.textCenter," ").concat(h.default.marginTop10)},r.figcaption)),n.default.createElement("div",{id:p.PORTAL_ID}),n.default.createElement("div",{className:"".concat(h.default.flex," ").concat(h.default.marginTop30)},n.default.createElement("div",{className:"".concat(h.default.flex," ").concat(h.default.flex1)},n.default.createElement(u.default,{article:t,disabled:a,social_sharing_links:o})),n.default.createElement("div",{className:_.default.body},n.default.createElement("section",null,(0,c.renderContent)(t,a)),b(t.tags),!t.sponsored&&n.default.createElement(i.default,{user:t.user})),n.default.createElement("div",{className:h.default.flex1})," "))}({article:v,coverImage:f,isPreview:r,social_sharing_links:a}):function(e){var t=e.article,r=e.isPreview,a=e.social_sharing_links;return n.default.createElement("div",{className:h.default.flex},n.default.createElement("div",{className:"".concat(h.default.flex," ").concat(h.default.flex1)},n.default.createElement(u.default,{article:t,disabled:r,shouldFadeIn:!0,social_sharing_links:a})),n.default.createElement("article",{className:_.default.body},n.default.createElement(l.default,{article:t}),n.default.createElement("div",{id:p.PORTAL_ID}),n.default.createElement("section",{className:h.default.marginTop30},(0,c.renderContent)(t,r)),b(t.tags),!t.sponsored&&n.default.createElement(i.default,{user:t.user})),n.default.createElement("div",{className:h.default.flex1})," ")}({article:v,isPreview:r,social_sharing_links:a})};O.propTypes={article:a.default.shape({sponsored:a.default.bool,tags:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired})),user:a.default.object.isRequired}).isRequired,isPreview:a.default.bool,social_sharing_links:a.default.arrayOf(a.default.shape({label:a.default.string.isRequired,service:a.default.string.isRequired,url:a.default.string.isRequired}))},O.defaultProps={isPreview:!1,social_sharing_links:[]};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(275)),i=c(r(89)),l=c(r(2)),u=c(r(3)),s=c(r(5));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return n.default.createElement("span",{className:l.default.marginLeft15},n.default.createElement(i.default,{id:e.id,type:"followed_user_xs"}))},f=function(e){var t=e.user;return n.default.createElement("div",{className:"".concat(s.default.borderTop," ").concat(l.default.paddingTop45," ").concat(l.default.marginTop45)},n.default.createElement(o.default,{avatarMargin:30,avatarSize:75,postTitle:d(t),titleColor:"Charcoal",titleSize:"L",user:t},n.default.createElement("div",{className:"".concat(u.default.bodyM," ").concat(u.default.breakWord," ").concat(l.default.marginTop10)},t.bio)))};f.propTypes={user:a.default.shape({avatar_url:a.default.string,name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=p(r(1)),o=p(r(275)),i=p(r(89)),l=p(r(890)),u=r(8),s=r(11),c=r(16),d=p(r(2)),f=p(r(3));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.name,r=e.url;return n.default.createElement("a",{className:f.default.linkPebble,href:r},t)},h=function(e){var t,r,a,p,h,y,g=e.article;return n.default.createElement("header",null,n.default.createElement("h1",{className:"".concat(f.default.h1Responsive," ").concat(f.default.breakWord)},g.title),n.default.createElement("h2",{className:"".concat(f.default.h3," ").concat(f.default.fontWeightNormal," ").concat(f.default.pebble," ").concat(d.default.marginTop15)},g.summary),n.default.createElement(o.default,{className:d.default.marginTop30,avatarMargin:15,avatarSize:56,postTitle:g.sponsored?null:(y=g.user,n.default.createElement("span",{className:d.default.marginLeft15},n.default.createElement(i.default,{id:y.id,type:"followed_user_xs"}))),preTitle:g.sponsored?n.default.createElement("span",{className:"".concat(f.default.bodyL," ").concat(f.default.bold)},"Sponsored by "):null,titleColor:g.sponsored?"Blue":"",titleSize:"L",user:g.sponsored?(r=g,a=r.sponsor_image,p=r.sponsor_link,h=r.sponsor_name,{avatar_url:(0,u.getInObj)(["url"],a),name:h,url:p}):g.user},n.default.createElement("div",{className:"".concat(f.default.bodyS," ").concat(f.default.pebble," ").concat(d.default.marginTop10)},(0,c.timeFromNow)(g.published_at||g.updated_at),!(0,s.isBlank)(g.topics)&&(t=g.topics,n.default.createElement(n.Fragment,null," • ",(0,l.default)(t.map(m)," / "))))))};h.propTypes={article:a.default.shape({published_at:a.default.string,sponsor_image:a.default.shape({id:a.default.number,url:a.default.string}),sponsor_link:a.default.string,sponsor_name:a.default.string,sponsored:a.default.bool,title:a.default.string.isRequired,topics:a.default.arrayOf(a.default.shape({name:a.default.string,url:a.default.string})),updated_at:a.default.string,user:a.default.object})};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=r(438),i=f(r(891)),l=f(r(160)),u=f(r(2)),s=f(r(156)),c=f(r(5)),d=f(r(329));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(r=!(o=h(t).call(this,e))||"object"!==p(o)&&"function"!=typeof o?y(a):o).state={visible:!e.shouldFadeIn},r.setVisible=r.setVisible.bind(y(r)),r._sentinelRef=n.default.createRef(),r._intersectionObserver,r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this.props.shouldFadeIn&&(this._intersectionObserver=new o.IntersectionObserver(this.setVisible),this._intersectionObserver.observe(this._sentinelRef.current),this.setVisible())}},{key:"componentWillUnmount",value:function(){this.props.shouldFadeIn&&(this._intersectionObserver.disconnect(),this._intersectionObserver=void 0)}},{key:"setVisible",value:function(){var e=this._sentinelRef&&this._sentinelRef.current;if(e){var t=e.getBoundingClientRect().top<0;t!==this.state.visible&&this.setState({visible:t})}}},{key:"render",value:function(){var e=this.props,t=e.article,r=e.disabled,a=e.social_sharing_links;return n.default.createElement("div",{className:"".concat(c.default.posRelative," ").concat(u.default.marginRight30," ").concat(u.default.hiddenMedDown," ").concat(d.default.zIndex10),id:"articleStickySidebar"},n.default.createElement("div",{ref:this._sentinelRef}),n.default.createElement("div",{className:d.default.stickyButton})," ",n.default.createElement(l.default,{parentId:"articleStickySidebar",stickToEnd:!0,startBuffer:"50vh"},n.default.createElement("div",{className:"".concat(s.default.fade," ").concat(this.state.visible?s.default.fadeIn:"")},n.default.createElement(i.default,{article:t,disabled:r,social_sharing_links:a}))))}}])&&m(r.prototype,a),f&&m(r,f),t}();_.propTypes={article:a.default.object.isRequired,disabled:a.default.bool,shouldFadeIn:a.default.bool,social_sharing_links:a.default.arrayOf(a.default.shape({label:a.default.string.isRequired,service:a.default.string.isRequired,url:a.default.string.isRequired}))},_.defaultProps={disabled:!1,shouldFadeIn:!1,social_sharing_links:[]};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(427)),i=s(r(894)),l=s(r(1982)),u=r(307);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?p(n):a).buildHeaderID=r.buildHeaderID.bind(p(r)),r.headerCounter=0,r}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this._root&&this._highlightCodeBlocks(this._root)}},{key:"buildHeaderID",value:function(e){var t="toc-".concat((0,u.toKebabCaseAlphaNumericOnly)(e),"-").concat(this.headerCounter);return this.headerCounter++,t}},{key:"_highlightCodeBlocks",value:function(e){[].slice.call(e.querySelectorAll("pre code")).forEach(function(e){return o.default.highlightBlock(e)})}},{key:"render",value:function(){var e=this;this.headerCounter=0;var t=this.props,r=t.className,a=t.story;return n.default.createElement("div",{ref:function(t){return e._root=t},className:"".concat(r," project-story hljs-monokai")},a.map(function(t,r){return n.default.createElement(i.default,{key:r},n.default.createElement(l.default,{buildHeaderID:e.buildHeaderID,index:r,item:t}))}))}}])&&d(r.prototype,a),s&&d(r,s),t}();h.propTypes={className:a.default.string,story:a.default.array.isRequired},h.defaultProps={className:""};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(1))&&n.__esModule?n:{default:n},o=r(1983);var i=function(e){var t=e.item,r=e.index,n=e.buildHeaderID;switch(t.type){case"CE":return(0,o.buildHTML)(t.json,n);case"Carousel":return(0,o.buildCarousel)(t.images,r.toString());case"Embed":return(0,o.buildEmbed)(t.data);case"Video":var a=Array.isArray(t.video)?t.video[0]:t.video;return(0,o.buildEmbed)(a);case"WidgetPlaceholder":case"WidgetPlacholder":return"twitter"===t.data.type?(0,o.buildEmbed)(t.data):null;default:return console.warn("Draftster block type ".concat(t.type," not yet implemented in StoryJSONBlock"),t),null}};i.propTypes={buildHeaderID:a.default.func.isRequired,index:a.default.number.isRequired,item:a.default.shape({type:a.default.oneOf(["CE","Carousel","Embed","WidgetPlaceholder","WidgetPlacholder","Video"]).isRequired,data:a.default.object,images:a.default.array,json:a.default.array,video:a.default.oneOfType([a.default.array,a.default.object])}).isRequired};var l=i;t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildHTML=t.buildEmbed=t.buildCarousel=void 0;var n=h(r(0)),a=h(r(347)),o=h(r(1984)),i=h(r(895)),l=h(r(1988)),u=h(r(1989)),s=r(499),c=r(250),d=r(1990),f=r(155),p=h(r(2)),m=h(r(3));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _={ratio:"4:3",fit:"max"},v={class:"className",href:"href",rel:"rel"},b={br:!0,hr:!0},O=function(e){var t,r=e.buildHeaderID,o=e.item,i=e.key;return t=o.tag,b[t]||(0,s.doesCENodeHaveContent)(o)?"h3"===o.tag?w(o,r):n.default.createElement(o.tag,Object.assign({key:i},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,r){var n=v[r];return n?Object.assign({},t,g({},n,e[r])):(console.warn("Warning: encountered unknown attribute ".concat(r,": ").concat(e[r]," in storyJSONHelpers attrsToProps. you should probably add it to the whitelist")),t)},{})}(o.attribs),E(o)),function(e,t){var r=[a.default.unescapeEntities(e.content)].concat(y(k(e.children,t))).filter(function(e){return e});return r.length?r:null}(o,r)):null},w=function(e,t){var r=(0,s.extractItemContent)(e);if(!r)return null;var a=t(r);return n.default.createElement("h3",{key:a,className:"".concat(m.default.h3," title-with-anchor"),id:a},n.default.createElement("a",{className:"anchor",href:"#".concat(a)},n.default.createElement("i",{className:"fa fa-link"})),n.default.createElement("span",null,r))},E=function(e){switch(e.tag){case"a":return{className:m.default.linkBlue,onClick:function(e){return(0,c.fireClickedLinkAnalyticsWithRedirect)({location:"story",type:"story"},null,e)},rel:"nofollow"};case"p":case"ul":return{className:m.default.bodyL};default:return{}}},P=function(e){return e.map(function(e){return Object.assign({},e,{caption:e.figcaption,image_urls:{headline_url:(0,f.processURL)(Object.assign({},_,{src:e.url,width:740})).src,lightbox_url:(0,f.processURL)(Object.assign({},_,{src:e.url,width:1280})).src}})})};t.buildCarousel=function(e,t){return n.default.createElement(i.default,{images:P(e),uid:t})};t.buildEmbed=function(e){return n.default.createElement("figure",{className:"".concat(p.default.marginTop30," ").concat(p.default.marginBottom30," ").concat(p.default.fullWidth)},function(e){if("mp4"===e.service)return n.default.createElement(l.default,{data:e});var t=(0,d.getEmbedConfig)(e);return t?n.default.createElement(o.default,{config:t,data:e}):n.default.createElement(u.default,{src:e.embed,verticalOffset:250})}(e),!!e.figcaption&&n.default.createElement("figcaption",{className:"".concat(m.default.textCenter," ").concat(m.default.pebble," ").concat(m.default.bodyS," ").concat(p.default.marginTop10)},e.figcaption))};var k=function(e,t){return e.map(function(e,r){return O({buildHeaderID:t,item:e,key:r})})};t.buildHTML=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(107)),i=d(r(96)),l=r(8),u=d(r(2)),s=d(r(156)),c=d(r(5));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(r=!(o=m(t).call(this,e))||"object"!==f(o)&&"function"!=typeof o?h(a):o).state={height:"auto",isLoaded:!1},r.handleIframeLoad=r.handleIframeLoad.bind(h(r)),r.handleIframeResponse=r.handleIframeResponse.bind(h(r)),r.uid=(0,i.default)(),r._iframeRef=n.default.createRef(),r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleIframeResponse)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleIframeResponse)}},{key:"handleIframeLoad",value:function(){var e=this._getIframeContentWindow();e&&(this.props.config.sendMessageToIframe({contentWindow:e,data:this.props.data,uid:this.uid}),this._setLoadTimeout())}},{key:"handleIframeResponse",value:function(e){if(this._getIframeContentWindow()===e.source){var t=parseInt(this.props.config.getHeightFromIframeMessage(e),10);t&&t!==this.state.height&&this.setState({height:t,isLoaded:!0})}}},{key:"_getIframeContentWindow",value:function(){return(0,l.getInObjWithPrototypeAccess)(["current","contentWindow"],this._iframeRef)}},{key:"_setLoadTimeout",value:function(){var e=this;window.setTimeout(function(){e.state.isLoaded||e.setState({isLoaded:!0})},500)}},{key:"render",value:function(){var e=this,t=this.props.data,r=t.embed,a=t.height;return n.default.createElement("div",{className:"".concat(c.default.posRelative," ").concat(s.default.fade," ").concat(this.state.isLoaded?s.default.fadeIn:"")},n.default.createElement(o.default,{className:"".concat(u.default.fullWidth," ").concat(u.default.flexJustifyCenter),style:{position:this.state.isLoaded?"relative":"absolute"},verticalOffset:250},function(){return n.default.createElement("iframe",{ref:e._iframeRef,frameBorder:0,height:e.state.height,src:e.props.config.getIframeSrc({embed:r,uid:e.uid}),onLoad:e.handleIframeLoad,style:{maxWidth:"100%"},width:e.props.config.width})}),!this.state.isLoaded&&n.default.createElement("div",{style:{height:a||250}}))}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={config:a.default.shape({getIframeSrc:a.default.func.isRequired,getHeightFromIframeMessage:a.default.func.isRequired,sendMessageToIframe:a.default.func.isRequired,width:a.default.oneOfType([a.default.number,a.default.string]).isRequired}).isRequired,data:a.default.shape({embed:a.default.string.isRequired,id:a.default.string,height:a.default.number,service:a.default.string,type:a.default.string}).isRequired};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=g(r(1986)),i=g(r(9)),l=g(r(107)),u=r(199),s=g(r(154)),c=g(r(138)),d=r(896),f=g(r(2)),p=g(r(3)),m=g(r(5)),h=g(r(156)),y=g(r(360));function g(e){return e&&e.__esModule?e:{default:e}}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=555,P=740,k={maxWidth:P,paddingTop:"75%"},S=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=b(t).call(this,e))||"object"!==_(a)&&"function"!=typeof a?O(n):a).state={activeIndex:e.activeIndex,isImgLoaded:!1,lazyWrapperDims:null,loadedImageIndexes:{0:!0},noScroll:!1,resizing:!1,shouldHandleImgLoad:!1},r.centerImage=(0,s.default)(r.centerImage.bind(O(r)),300),r.centerScrollPosition=r.centerScrollPosition.bind(O(r)),r.eagerUpdate=(0,c.default)(r.eagerUpdate.bind(O(r)),200),r.getBrokenBoundary=r.getBrokenBoundary.bind(O(r)),r.handleImgLoad=r.handleImgLoad.bind(O(r)),r.handleKeyDown=r.handleKeyDown.bind(O(r)),r.handleResize=r.handleResize.bind(O(r)),r.handleScrollContainerReveal=r.handleScrollContainerReveal.bind(O(r)),r.preventScrollAndUpdate=r.preventScrollAndUpdate.bind(O(r)),r.scrollHandler=r.scrollHandler.bind(O(r)),r.updateActiveIndex=r.updateActiveIndex.bind(O(r)),r.updateAfterResize=(0,s.default)(r.updateAfterResize.bind(O(r)),600),r.updateImagePositions=(0,s.default)(r.updateImagePositions.bind(O(r)),40),r.updateOnBoundaryBreak=r.updateOnBoundaryBreak.bind(O(r)),r.updateState=r.updateState.bind(O(r)),r._lazyWrapper,r._scrollContainer,r}var r,n,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,a.Component),r=t,g=[{key:"getDerivedStateFromProps",value:function(e,t){return e.activeIndex===t.activeIndex?null:{activeIndex:e.activeIndex,noScroll:!1}}}],(n=[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentDidUpdate",value:function(e){this.props.activeIndex!==e.activeIndex&&this.centerScrollPosition()}},{key:"componentWillUnmount",value:function(){window&&document&&(window.removeEventListener("resize",this.handleResize),window.removeEventListener("keydown",this.handleKeyDown)),this._isMounted=!1}},{key:"_getImgPlaceholderStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.height,r=e.width;if(!t||!r)return k;var n=Math.min(E/t,P/r,1);return{maxWidth:r*n,paddingTop:(0,u.aspectRatioPadding)({height:t,width:r})}}},{key:"_getLazyWrapperDims",value:function(){return{height:this._scrollContainer.clientHeight,width:Math.floor(this._scrollContainer.clientWidth)}}},{key:"centerImage",value:function(){this.updateOnBoundaryBreak("midpoint")}},{key:"centerScrollPosition",value:function(){this._scrollContainer.scrollLeft=this._scrollContainer.clientWidth}},{key:"eagerUpdate",value:function(){this.updateOnBoundaryBreak("eager")}},{key:"getBrokenBoundary",value:function(e){var t=Math.floor(this._scrollContainer.clientWidth),r=this._scrollContainer.scrollLeft+t/2,n=this._scrollContainer.scrollLeft,a={midpoint:{snapLeft:t>r,center:2*t>r&&this._scrollContainer.scrollLeft!==this._scrollContainer.clientWidth,snapRight:2*t<r},edge:{left:n<=0,right:n+t>=3*t},eager:{eagerUpdateLeft:n<=0,eagerUpdateRight:n+t>=3*t}}[e];return Object.keys(a).reduce(function(e,t){return!e&&a[t]?t:e},"")}},{key:"handleImgLoad",value:function(){var e=this;this.updateState({isImgLoaded:!0,lazyWrapperDims:this._getLazyWrapperDims(),shouldHandleImgLoad:!1},function(){e.centerScrollPosition()})}},{key:"handleKeyDown",value:function(e){if(this.props.enableArrowKeyNavigation)switch(e.keyCode){case 37:e.preventDefault(),this.updateActiveIndex(this.props.activeIndex-1);break;case 39:e.preventDefault(),this.updateActiveIndex(this.props.activeIndex+1);break;default:return}}},{key:"handleResize",value:function(){clearTimeout(this._resizeTimer),this.state.resizing||this.setState({lazyWrapperDims:null,resizing:!0}),this.updateAfterResize()}},{key:"handleScrollContainerReveal",value:function(){var e=this;window&&document&&(window.addEventListener("resize",this.handleResize),window.addEventListener("keydown",this.handleKeyDown)),this.updateState({shouldHandleImgLoad:!0},function(){e.centerScrollPosition()})}},{key:"preventScrollAndUpdate",value:function(e){this.updateState({noScroll:!0},function(){return e()})}},{key:"scrollHandler",value:function(e){(0===this._scrollContainer.scrollLeft||this.state.noScroll)&&e.preventDefault(),this.centerImage(),this.eagerUpdate(),this.updateImagePositions()}},{key:"updateActiveIndex",value:function(e){this.props.updateActiveIndex((0,d.cycleIndex)(e,this.props.images.length-1))}},{key:"updateAfterResize",value:function(){var e=this;this.setState({resizing:!1,lazyWrapperDims:this._getLazyWrapperDims()},function(){return e.centerScrollPosition()})}},{key:"updateImagePositions",value:function(){this.updateOnBoundaryBreak("edge")}},{key:"updateOnBoundaryBreak",value:function(e){var t=d.updateActionsOnScroll[this.getBrokenBoundary(e)];t&&t(this)}},{key:"updateState",value:function(){this._isMounted&&this.setState.apply(this,arguments)}},{key:"_getCaption",value:function(e,t){var r=t.length>1,n=t[e]&&t[e].caption;if(r||n)return a.default.createElement("div",{className:y.default.caption},r&&a.default.createElement("span",null,"".concat(e+1," / ").concat(t.length)),r&&n&&" • ",n&&a.default.createElement("span",null,t[e].caption))}},{key:"_getNavArrows",value:function(e){var t=this;if(!(this.props.images.length<=1))return a.default.createElement(a.Fragment,null,a.default.createElement("div",{className:y.default.navAreaLeft,onClick:function(){return t.updateActiveIndex(e-1)}},a.default.createElement("div",{className:y.default.hoverHighlightLeft},a.default.createElement(i.default,{className:p.default.white,name:"arrow-left",size:16}))),a.default.createElement("div",{className:y.default.navAreaRight,onClick:function(){return t.updateActiveIndex(e+1)}},a.default.createElement("div",{className:y.default.hoverHighlightRight},a.default.createElement(i.default,{className:p.default.white,name:"arrow-right",size:16}))))}},{key:"_getImgPlaceholder",value:function(e){var t=this._getImgPlaceholderStyle(e),r=t.maxWidth,n=t.paddingTop;return a.default.createElement("div",{style:{maxWidth:r}},a.default.createElement("div",{className:m.default.absolutePlaceholderParent,style:{paddingTop:n}}))}},{key:"_getScrollContainer",value:function(e,t){var r=this,n=(0,d.getCycledArray)(t,e),i="".concat(f.default.noScrollBar," ").concat(y.default.scrollContainer," ").concat(this.state.noScroll?y.default.noScrollContainer:"");return a.default.createElement("div",{ref:function(e){return r._scrollContainer=e},className:"".concat(i," ").concat(this.state.isImgLoaded?"":y.default.scrollContainerPreImgLoad),onWheel:n.length>1?this.scrollHandler:null,onTouchMove:n.length>1?this.scrollHandler:null},this._getNavArrows(e),this.state.resizing&&n.length>1?a.default.createElement("div",{className:y.default.resizeOverlay},a.default.createElement("img",{src:n[1].url})):n.map(function(e,t){return a.default.createElement(o.default,{key:"".concat(e.imageIndex,"-").concat(t),className:r.props.classList.image,alt:e.caption,format:e.format,handleImgLoad:r.handleImgLoad,hasLoaded:r.state.loadedImageIndexes[e.imageIndex],onClick:r.props.onImageClick,shouldHandleImgLoad:r.state.shouldHandleImgLoad,shouldLoad:e.imageIndex===r.props.activeIndex||r.state.loadedImageIndexes[e.imageIndex]||1===t,src:e.url})}))}},{key:"_renderLazyChildren",value:function(e,t,r){return a.default.createElement(a.Fragment,null,!this.state.isImgLoaded&&this._getImgPlaceholder(r[0]),e&&this._getScrollContainer(t,r))}},{key:"render",value:function(){var e=this,t=this.props,r=t.activeIndex,n=t.images;return a.default.createElement("div",{className:"".concat(y.default.container," ").concat(this.props.classList.container)},a.default.createElement(l.default,{ref:function(t){return e._lazyWrapper=t},className:"".concat(y.default.wrapper," ").concat(h.default.fade," ").concat(this.state.isImgLoaded?h.default.fadeIn:""),style:!this.props.inViewer&&this.state.lazyWrapperDims?this.state.lazyWrapperDims:{},alwaysRenderChildren:!0,onReveal:this.handleScrollContainerReveal},function(t){return e._renderLazyChildren(t,r,n)}),this._getCaption(r,n))}}])&&v(r.prototype,n),g&&v(r,g),t}();S.propTypes={activeIndex:n.default.number,classList:n.default.shape({container:n.default.string,image:n.default.string}),enableArrowKeyNavigation:n.default.bool,images:n.default.array,inViewer:n.default.bool,onImageClick:n.default.func,updateActiveIndex:n.default.func.isRequired},S.defaultProps={activeIndex:0,classList:{},enableArrowKeyNavigation:!1,images:[],inViewer:!1,onImageClick:function(){}};var C=S;t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=s(r(308)),i=r(155),l=s(r(99)),u=s(r(360));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?p(n):a).onImageLoad=r.onImageLoad.bind(p(r)),r.onError=r.onError.bind(p(r)),r.state={hasLoaded:e.hasLoaded,format:e.format},r._isMounted,r}var r,n,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"onError",value:function(e){this._isMounted&&this.state.format===i.VIDEO&&this.setState({format:i.IMG})}},{key:"onImageLoad",value:function(){var e=this;this._isMounted&&this.setState({hasLoaded:!0},function(){e.props.shouldHandleImgLoad&&e.props.handleImgLoad()})}},{key:"render",value:function(){return a.default.createElement("div",{className:u.default.imageContainer},a.default.createElement("div",{className:u.default.imageWrapper},!this.state.hasLoaded&&a.default.createElement("div",{className:"".concat(l.default.delayAppear," ").concat(u.default.loader)},a.default.createElement("i",{className:"fa fa-circle-o-notch fa-spin"})),!!this.props.shouldLoad&&a.default.createElement(o.default,{className:"".concat(u.default.image," ").concat(this.state.hasLoaded?"":u.default.imageLoading," ").concat(this.props.className),alt:this.props.alt,format:this.state.format,onClick:this.props.onClick,onError:this.onError,onLoad:this.onImageLoad,src:this.props.src})))}}])&&d(r.prototype,n),s&&d(r,s),t}();h.propTypes={alt:n.default.string,className:n.default.string,format:n.default.string.isRequired,handleImgLoad:n.default.func,hasLoaded:n.default.bool,onClick:n.default.func,shouldHandleImgLoad:n.default.bool,shouldLoad:n.default.bool,src:n.default.string.isRequired},h.defaultProps={alt:"",className:"",handleImgLoad:function(){},hasLoaded:!1,onClick:function(){},shouldHandleImgLoad:!1,shouldLoad:!1};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),a=l(r(0)),o=l(r(42)),i=l(r(360));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){var t=e.dialogProps,r=e.children;e.carouselProps;return a.default.createElement(o.default,u({bodyClassName:i.default.dialogBody,className:i.default.dialog,dismissClassName:i.default.dismiss,fullScreen:!0,overlayClassName:i.default.overlay,wrapperClassName:i.default.dialogWrapper},t),r)};s.propTypes={dialogProps:n.default.shape({open:n.default.bool.isRequired,dismiss:n.default.func.isRequired})},s.defaultProps={};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(107)),i=d(r(308)),l=r(199),u=r(155),s=d(r(156)),c=d(r(5));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=m(this,h(t).call(this,e))).state={isLoaded:!1},r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.PureComponent),r=t,(a=[{key:"render",value:function(){var e=this,t=this.props.data,r=t.embed,a=t.height,d=t.width/a||16/9;return n.default.createElement(o.default,{className:"".concat(c.default.absolutePlaceholderParent," ").concat(s.default.fade," ").concat(this.state.isLoaded?s.default.fadeIn:""),style:{paddingBottom:(0,l.aspectRatioPadding)({aspectRatio:d})},verticalOffset:250},function(){return n.default.createElement(i.default,{className:"".concat(c.default.absolutePlaceholderChild," ").concat(c.default.overflowHidden),format:u.VIDEO,src:r,onLoad:function(){return e.setState({isLoaded:!0})},videoRole:"video"})})}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={data:a.default.shape({embed:a.default.string,height:a.default.number,width:a.default.number,figcaption:a.default.string}).isRequired};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(107)),i=r(199),l=s(r(156)),u=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=f(this,p(t).call(this,e))).state={isLoaded:!1},r}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.PureComponent),r=t,(a=[{key:"render",value:function(){var e=this,t=this.props,r=t.allowFullScreen,a=t.aspectRatio,s=t.className,c=t.src,d=t.verticalOffset;return n.default.createElement(o.default,{className:"".concat(u.default.absolutePlaceholderParent," ").concat(s," ").concat(l.default.fade," ").concat(this.state.isLoaded?l.default.fadeIn:""),style:{paddingBottom:(0,i.aspectRatioPadding)({aspectRatio:a})},verticalOffset:d},function(){return n.default.createElement("iframe",{allowFullScreen:r,className:"".concat(u.default.absolutePlaceholderChild," ").concat(u.default.overflowHidden),frameBorder:0,height:"100%",onLoad:function(){return e.setState({isLoaded:!0})},src:c,width:"100%"})})}}])&&d(r.prototype,a),s&&d(r,s),t}();h.propTypes={allowFullScreen:a.default.bool,aspectRatio:a.default.number,className:a.default.string,lazy:a.default.bool,src:a.default.string,verticalOffset:a.default.number},h.defaultProps={allowFullScreen:!0,aspectRatio:16/9,className:"",lazy:!1,src:"",verticalOffset:100};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmbedConfig=function(e){return"twitter"===e.type?u:"gist"===e.service?i:"instagram"===e.service?l:null};var n=r(8),a=r(11),o={getIframeSrc:function(e){return e.embed},getHeightFromIframeMessage:function(e){return(0,a.isObject)(e.data)?e.data.height:null},sendMessageToIframe:function(e){var t=e.contentWindow,r=e.uid;return t.postMessage({id:r},"*")},width:"100%"},i=Object.assign({},o,{getIframeSrc:function(e){var t,r=e.embed,n=e.uid;return'data:text/html;charset=utf-8,<body><script src="'.concat(r,'.js"><\/script>').concat("<script>\n  window.addEventListener('message', function(event) {\n    if (event.data.id === \"".concat(t=n,'") {\n      var body = document.body, html = document.documentElement;\n      var height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n      window.parent.postMessage({ height: height, id: "').concat(t,'" }, "*");\n    }\n  }, false);\n<\/script>'),"</body>")}}),l=Object.assign({},o,{getHeightFromIframeMessage:function(e){var t=JSON.parse(e.data);return t&&"MEASURE"===t.type?(0,n.getInObjWithPrototypeAccess)(["details","height"],t):null}}),u=Object.assign({},o,{getIframeSrc:function(e){var t=e.embed;return"".concat("https://embeds.hackster.io","/tweet?url=").concat(t)},sendMessageToIframe:function(e){var t=e.contentWindow,r=e.data;t.postMessage({element:r.id,query:"height"},"https://embeds.hackster.io")},width:500})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(48)),a=u(r(7)),o=u(r(22)),i=r(60),l=r(14);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,u;return t=e,(r=[{key:"_incrementImpression",value:function(e){return new Promise(function(t,r){return(0,l.graphMutateWithoutUser)({t:"update_ad_impression"},{id:e.id}).then(function(e){var r=e.success;return t(r)}).catch(function(e){return r(e)})})}},{key:"reportClick",value:function(e){o.default.reportEventWithObj((0,i.getClickedAdArgs)({id:e.id}))}},{key:"reportImpression",value:function(e){var t=this;return n.default.getAsync("isAdmin").then(function(r){return r?Promise.resolve(!0):t._incrementImpression(e)}).then(function(e){}).catch(function(e){return(0,a.default)("Analytics reportImpression",e)})}},{key:"reportView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.default.reportEventWithObj((0,i.getViewedAdArgs)(Object.assign({id:e.id},t))),this.reportImpression(e)}}])&&s(t.prototype,r),u&&s(t,u),e}());t.default=c},function(e,t,r){e.exports={asphaltHover:"#BABABA",med:"(max-width: 768px)",root:"simple_ad__root__IjpmL",adFAQLink:"simple_ad__adFAQLink__1TiO3",anchor:"simple_ad__anchor__2km8q",disclaimerWrapper:"simple_ad__disclaimerWrapper__WSr3S",image:"simple_ad__image__3IYaf",text:"simple_ad__text__Z00aR",textWrapper:"simple_ad__textWrapper__1n0Ay",wrapper:"simple_ad__wrapper__2ySz1"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(900)),i=d(r(904)),l=d(r(1995)),u=d(r(1996)),s=d(r(2)),c=d(r(361));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){return{platform_ids:e.platforms.map(function(e){return e.id}),tag_ids:e.tags.map(function(e){return e.id})}},p=function(e){var t=e.article,r=e.signup_cta_image_urls,a=e.relatedArticles,d=e.sponsoredArticles;return n.default.createElement("div",{className:c.default.sidebarInner},n.default.createElement(o.default,{page_type:"article_page",relations:f(t)}),n.default.createElement("div",{className:s.default.hiddenMedDown},n.default.createElement(l.default,{records:a})),!t.sponsored&&n.default.createElement(u.default,{articles:d}),n.default.createElement(i.default,{imageURLs:r,className:c.default.signupCTA}))};p.propTypes={article:a.default.shape({sponsored:a.default.bool}).isRequired,relatedArticles:a.default.array,signup_cta_image_urls:a.default.object.isRequired,sponsoredArticles:a.default.array},p.defaultProps={relatedArticles:null,sponsoredArticles:null};var m=p;t.default=m},function(e,t,r){e.exports={small:"(max-width: 480px)",med:"(max-width: 768px)",articlePlaceholder:"content_page_ad__articlePlaceholder__ZK7Rm",projectPlaceholder:"content_page_ad__projectPlaceholder__3ANk1",articleWrapper:"content_page_ad__articleWrapper__2Bvs6",projectWrapper:"content_page_ad__projectWrapper__2U0Wb"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(70)),i=d(r(905)),l=r(61),u=d(r(2)),s=d(r(3)),c=d(r(5));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.records;return t&&0===t.length?null:n.default.createElement(n.Fragment,null,n.default.createElement("h5",{className:"".concat(s.default.h5," ").concat(u.default.marginBottom15)},"Related articles"),t?function(e){return e.map(function(e,t){return n.default.createElement("div",{key:e.id,className:"".concat(u.default.paddingTop15," ").concat(u.default.paddingBottom15," ").concat(c.default.borderTop)},n.default.createElement(o.default,{className:"".concat(s.default.link," ").concat(s.default.bodyM," ").concat(s.default.bold),item:e,linkType:l.NEWS_ARTICLE_CARD,location:"related_articles_side"},e.title))})}(t):n.default.createElement(i.default,{animated:!0}))};f.propTypes={records:a.default.arrayOf(a.default.shape({title:a.default.string.isRequired,url:a.default.string.isRequired}))},f.defaultProps={records:null};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(1997)),i=c(r(1998)),l=c(r(2)),u=c(r(3)),s=c(r(5));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){return n.default.createElement("div",{className:"".concat(l.default.marginTop15," ").concat(l.default.marginBottom15," ").concat(s.default.borderTop)})},f=function(e){var t=e.articles;return t&&0===t.length?null:n.default.createElement("div",{className:"".concat(l.default.marginTop45," ").concat(l.default.fullWidth)},n.default.createElement("h5",{className:u.default.h5},"Sponsored articles"),d(),n.default.createElement("div",{className:"".concat(l.default.padding15," ").concat(s.default.bgFog)},t?function(e){return e.map(function(e,t){return n.default.createElement(n.Fragment,{key:e.id},0===t?null:d(),n.default.createElement(o.default,{article:e,isResponsive:!1,location:"sponsored_articles_side"}))})}(t):n.default.createElement(n.Fragment,null,n.default.createElement(i.default,{isResponsive:!1}),d(),n.default.createElement(i.default,{isResponsive:!1}))))};f.propTypes={articles:a.default.array},f.defaultProps={articles:null};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(70)),i=f(r(46)),l=r(61),u=r(8),s=f(r(3)),c=f(r(5)),d=f(r(191));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.article,r=e.location;return n.default.createElement("div",{className:d.default.sponsoredCard},n.default.createElement(o.default,{className:d.default.sponsoredImgWrapper,item:t,linkType:l.NEWS_ARTICLE_CARD,location:r},n.default.createElement(i.default,{classList:{root:"".concat(c.default.absolutePlaceholderChild," ").concat(c.default.borderRadius)},ratio:"16:9",setStyle:!1,src:(0,u.getInObj)(["image","url"],t),width:158})),n.default.createElement("div",{className:d.default.sponsoredDataWrapper},n.default.createElement(o.default,{className:s.default.charcoal,item:t,linkType:l.NEWS_ARTICLE_CARD,location:r},n.default.createElement("div",{className:"".concat(s.default.bodyM," ").concat(s.default.bold)},t.title)),n.default.createElement("p",{className:s.default.bodyS},"Sponsored by ",n.default.createElement(o.default,{className:s.default.linkBlue,customAttributes:{rel:"noopener"},isExternal:!0,item:{id:t.sponsor_name,url:t.sponsor_link},linkType:l.NEWS_ARTICLE_CARD,location:r},t.sponsor_name))))};p.propTypes={article:a.default.shape({image:a.default.shape({url:a.default.string.isRequired}),sponsor_link:a.default.string.isRequired,sponsor_name:a.default.string.isRequired,title:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,location:a.default.string},p.defaultProps={location:null};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(99)),o=s(r(50)),i=s(r(2)),l=s(r(5)),u=s(r(191));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){return n.default.createElement("div",{className:u.default.sponsoredCard},n.default.createElement("div",{className:"".concat(u.default.sponsoredImgWrapper," ").concat(a.default.loader," ").concat(l.default.borderRadius)}),n.default.createElement("div",{className:u.default.sponsoredDataWrapper},n.default.createElement("div",{className:"".concat(o.default.dummyTextL," ").concat(a.default.loader)}),n.default.createElement("div",{className:"".concat(o.default.dummyTextS," ").concat(a.default.loader," ").concat(i.default.marginTop5),style:{width:"75%"}})))};t.default=c},function(e,t,r){e.exports={asphalt:"#D8D8D8",fog:"#F7F7F7",small:"(max-width: 480px)",med:"(max-width: 768px)",wrapper:"preview__wrapper__3Vpl3",defaultCardWrapper:"preview__defaultCardWrapper__27_FJ",featuredCardWrapper:"preview__featuredCardWrapper__17yGr",sponsoredCardContainer:"preview__sponsoredCardContainer__3QzNj",sponsoredCardWrapper:"preview__sponsoredCardWrapper__1J8iv",defaultCardContainer:"preview__defaultCardContainer__zhpzO"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(2)),i=l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.action,r=e.msg,a=e.viewRenderer;return"function"==typeof a?a():n.default.createElement("div",{className:o.default.container},n.default.createElement("div",{className:o.default.wrapper1170},n.default.createElement("p",{className:i.default.bodyM},r,t&&n.default.createElement("a",{className:i.default.linkBlue,href:t.href,onClick:t.onClick},t.text))))};u.propTypes={action:a.default.shape({href:a.default.string,onClick:a.default.func,text:a.default.string}),msg:a.default.string,viewRenderer:a.default.func},u.defaultProps={action:{href:"/",onClick:null,text:"Click for the home page."},msg:"Sorry, we couldn't find what you're looking for. "};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=h(r(1)),o=h(r(115)),i=h(r(42)),l=h(r(2002)),u=r(71),s=r(16),c=r(43),d=r(85),f=h(r(2)),p=h(r(3)),m=h(r(221));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O={datetime:{validate:c.isDatetimeLocalValueInFuture,customRequired:c.isDatetimeLocalValueValid,value:""}},w=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=_(t).call(this,e))||"object"!==y(a)&&"function"!=typeof a?v(n):a).state={errors:{},fields:(0,d.initFields)(O,{})},r.onScheduleClick=r.onScheduleClick.bind(v(r)),r.setStateOrError=d.setStateOrError.bind(v(r)),r.validate=d.validateFields.bind(v(r)),r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n.PureComponent),r=t,(a=[{key:"onScheduleClick",value:function(){this.validate()&&this.props.onPublish((0,s.datetimeLocalValueToUTCTimestamp)(this.state.fields.datetime.value))}},{key:"_getHelperText",value:function(){return"Local time (GMT".concat((0,s.getLocalOffsetLabel)(),")")}},{key:"render",value:function(){var e=this;return n.default.createElement(i.default,{className:f.default.flexJustifyCenter,dismiss:this.props.dismiss,open:this.props.open,wrapperClassName:m.default.dialogWrapper},n.default.createElement("div",{className:m.default.dialogBody},n.default.createElement("div",{className:m.default.box},n.default.createElement("p",{className:"".concat(p.default.bodyM," ").concat(p.default.bold," ").concat(f.default.marginBottom10)},"Publish now"),n.default.createElement("p",{className:"".concat(p.default.bodyM," ").concat(p.default.textCenter," ").concat(f.default.marginBottom10)},"The article will be immediately available to read."),n.default.createElement(o.default,{isBusy:this.props.isBusy,onClick:function(){return e.props.onPublish()},text:"Publish",type:"fullWidth"})),n.default.createElement("div",{className:"".concat(m.default.box," ").concat(m.default.boxBorder)},n.default.createElement("p",{className:"".concat(p.default.bodyM," ").concat(p.default.bold," ").concat(f.default.marginBottom10)},"Schedule for later"),n.default.createElement("div",{className:f.default.marginBottom10},n.default.createElement(l.default,{autoComplete:"off",onChange:function(t){return e.setStateOrError(null,"datetime",t)}}),(0,u.getErrorHelperView)(this.state.errors.datetime,this._getHelperText())),n.default.createElement(o.default,{isBusy:this.props.isBusy,onClick:this.onScheduleClick,text:"Schedule",type:"fullWidth"}))))}}])&&g(r.prototype,a),c&&g(r,c),t}();w.propTypes={dismiss:a.default.func.isRequired,isBusy:a.default.bool.isRequired,onPublish:a.default.func.isRequired,open:a.default.bool.isRequired};var E=w;t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(2003)),i=d(r(866)),l=d(r(2005)),u=d(r(868)),s=d(r(309)),c=r(12);function d(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p=function(e){return c.isWindowDefined?(0,s.default)()?n.default.createElement(l.default,e):(0,u.default)()?n.default.createElement(i.default,f({},e,{type:"datetime-local"})):n.default.createElement(o.default,e):null};p.propTypes={autoComplete:a.default.string,disabled:a.default.bool,errors:a.default.string,initValue:a.default.string,onChange:a.default.func.isRequired},p.defaultProps={autoComplete:null,disabled:!1,errors:null,initValue:""};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(864)),i=s(r(865)),l=s(r(2004)),u=r(267);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.autoComplete,r=e.disabled,a=e.errors,s=e.initValue,c=e.onChange;return n.default.createElement(o.default,{disabled:r,errors:a,formatOut:u.formatDatetimeOut,initValue:s,inputConfig:u.datetimeConfig,onChange:c,parseValueString:u.parseDatetimeString},function(e){var a=e._inputRefs,o=e.handleInputKeyDown,u=e.handleNumberBlur,s=e.handleNumberChange,c=e.values;return n.default.createElement(n.Fragment,null,n.default.createElement(i.default,{_inputRefs:a.slice(0,3),autoComplete:t,disabled:r,handleInputKeyDown:o,handleNumberBlur:u,handleNumberChange:s,values:c}),n.default.createElement(l.default,{_inputRefs:a.slice(3),autoComplete:t,disabled:r,handleInputKeyDown:o,handleNumberBlur:u,handleNumberChange:s,values:c}))})};c.propTypes={autoComplete:a.default.string,disabled:a.default.bool,errors:a.default.string,initValue:a.default.string,onChange:a.default.func.isRequired},c.defaultProps={autoComplete:null,disabled:!1,errors:null,initValue:""};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=r(117),i=u(r(3)),l=u(r(217));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e._inputRefs,r=e.autoComplete,a=e.disabled,u=e.handleInputKeyDown,s=e.handleNumberBlur,c=e.handleNumberChange,d=e.values;return n.default.createElement(n.Fragment,null,n.default.createElement("input",{ref:t[0],className:l.default.input,autoComplete:r,disabled:a,onBlur:s,onClick:o.selectTargetContents,onFocus:o.selectTargetContents,onKeyDown:u,onChange:c,name:"hour",placeholder:"HH",value:d.hour}),n.default.createElement("span",null,":"),n.default.createElement("input",{ref:t[1],className:l.default.input,autoComplete:r,disabled:a,name:"minute",onBlur:s,onChange:c,onClick:o.selectTargetContents,onFocus:o.selectTargetContents,onKeyDown:u,placeholder:"MM",value:d.minute}),n.default.createElement("input",{ref:t[2],className:"".concat(l.default.input," ").concat(i.default.uppercase),autoComplete:r,disabled:a,onClick:o.selectTargetContents,onFocus:o.selectTargetContents,onKeyDown:u,name:"ampm",placeholder:"--",readOnly:!0,value:d.ampm}))};s.propTypes={_inputRefs:a.default.arrayOf(a.default.object).isRequired,autoComplete:a.default.string,disabled:a.default.bool,handleInputKeyDown:a.default.func.isRequired,handleNumberBlur:a.default.func.isRequired,handleNumberChange:a.default.func.isRequired,values:a.default.shape({ampm:a.default.string.isRequired,hour:a.default.string.isRequired,minute:a.default.string.isRequired}).isRequired},s.defaultProps={autoComplete:null,disabled:!1};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(867)),i=r(267),l=s(r(3)),u=s(r(217));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?p(n):a).state={value:e.initValue},r.handleChange=r.handleChange.bind(p(r)),r}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.PureComponent),r=t,(a=[{key:"handleChange",value:function(e){this.setState({value:e.target.value}),this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this.props,t=e.autoComplete,r=e.disabled,a=e.errors,s=(0,i.parseDatetimeString)(this.state.value),c=s.ampm,d=s.hour,f=s.minute,p=s.day,m=s.month,h=s.year;return n.default.createElement(o.default,{autoComplete:t,disabled:r,errors:a,onChange:this.handleChange,type:"datetime-local",value:this.state.value},n.default.createElement(n.Fragment,null,n.default.createElement("span",{className:u.default.input},m||"MM"),n.default.createElement("span",null,"/"),n.default.createElement("span",{className:u.default.input},p||"DD"),n.default.createElement("span",null,"/"),n.default.createElement("span",{className:u.default.inputWide},h||"YYYY"),n.default.createElement("span",{className:u.default.input},d||"HH"),n.default.createElement("span",null,":"),n.default.createElement("span",{className:u.default.input},f||"MM"),n.default.createElement("span",{className:"".concat(u.default.input," ").concat(l.default.uppercase)},c||"--")))}}])&&d(r.prototype,a),s&&d(r,s),t}();h.propTypes={autoComplete:a.default.string,classList:a.default.shape({input:a.default.string}),disabled:a.default.bool,errors:a.default.string,initValue:a.default.string,onChange:a.default.func.isRequired},h.defaultProps={autoComplete:null,classList:{input:""},disabled:!1,errors:null,initValue:""};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=r(58),i=r(117),l=u(r(2007));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?f(n):a).close=r.close.bind(f(r)),r.handleClick=r.handleClick.bind(f(r)),r.onMouseLeave=r.onMouseLeave.bind(f(r)),r.state={menuFocused:!1,showChildren:!1},r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n.Component),r=t,(a=[{key:"close",value:function(e){e.stopPropagation(),this.setState({menuFocused:!1,showChildren:!1})}},{key:"handleClick",value:function(e){this.props.redirect||(0,i.clickEventHasModifierKey)(e)||(e.preventDefault(),this.props.onClick(this.props.links.internal||this.props.href))}},{key:"onMouseLeave",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&this.state.menuFocused?this.setState({menuFocused:!1}):this.state.showChildren&&this.setState({showChildren:!1})}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,a=t.classList,i=t.href,u=t.links,s=t.name,c=t.zIndex,d=u.external,f=void 0===d?i:d;return n.default.createElement("div",{className:a.root,onMouseEnter:function(){r&&!e.state.showChildren&&e.setState({showChildren:!0})},onMouseLeave:function(){r&&e.state.showChildren&&e.onMouseLeave()}},n.default.createElement("a",{className:a.anchor,href:f,onClick:this.handleClick},s),this.props.children&&n.default.createElement(o.CSSTransition,{classNames:l.default,timeout:{enter:500,exit:300}},n.default.createElement("div",null,this.state.showChildren&&n.default.createElement("div",{style:{position:"absolute",zIndex:c},onClick:function(t){return e.close(t)},onMouseEnter:function(){return e.setState({menuFocused:!0})},onMouseLeave:function(){return e.onMouseLeave(!0)}},r))))}}])&&c(r.prototype,a),u&&c(r,u),t}();m.propTypes={classList:a.default.shape({anchor:a.default.string,root:a.default.string}),href:a.default.string.isRequired,links:a.default.shape({internal:a.default.string,external:a.default.string}),name:a.default.oneOfType([a.default.string,a.default.element]).isRequired,onClick:a.default.func.isRequired,redirect:a.default.bool,zIndex:a.default.number},m.defaultProps={classList:{anchor:"",root:""},links:{},redirect:!1,zIndex:1e3};var h=m;t.default=h},function(e,t,r){e.exports={enter:"link_transitions__enter__37F2P",enterActive:"link_transitions__enterActive__2lzix",exit:"link_transitions__exit__kHAia",exitActive:"link_transitions__exitActive__3rIlA"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(1)),a=i(r(0)),o=i(r(2009));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.dismiss,r=e.message,n=e.top;return a.default.createElement("div",{style:{top:n},className:o.default[r.type]},a.default.createElement("p",{className:o.default.message},r.msg,r.link&&r.link.length&&a.default.createElement("span",null,r.action.length?" ":"",a.default.createElement("a",{className:"".concat(o.default.link," ").concat(o.default["link-"+r.type]),href:r.link},r.action),r.msg2.length?" ":""),r.msg2.length?r.msg2:""),a.default.createElement("button",{className:o.default.dismiss,type:"button",onClick:function(){return t()}},"×"))};l.propTypes={dismiss:n.default.func.isRequired,message:n.default.shape({action:n.default.string,link:n.default.string,msg:n.default.string,msg2:n.default.string,type:n.default.string}).isRequired,top:n.default.number},l.defaultProps={top:0};var u=l;t.default=u},function(e,t,r){e.exports={"message-success-text":"#007A33","message-error-text":"#C51C1F",root:"messenger__root__1vitR",message:"messenger__message__2ZlVg",link:"messenger__link__RhCkX","link-success":"messenger__link-success__3zVdt","link-error":"messenger__link-error__2Cu1a",dismiss:"messenger__dismiss__19psg",success:"messenger__success__iMePQ messenger__root__1vitR",error:"messenger__error__1dFqa messenger__root__1vitR"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=i(r(1)),o=i(r(192));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=s(t).call(this,e))||"object"!==l(a)&&"function"!=typeof a?c(n):a).fetchState=r.fetchState.bind(c(r)),r.state={working:!0},r}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.fetchState(this.props)}},{key:"componentWillUpdate",value:function(e){e.path!==this.props.path&&(this.state.working&&this.setState({working:!1}),this.fetchState(e))}},{key:"fetchState",value:function(e){var t=this,r=e.store,n=e.path,a=e.request;if(a&&"function"==typeof a&&!r.has(n))return this.setState({working:!0}),r.dispatch(a,n).then(function(){return t.setState({working:!1})}).catch(function(){return t.setState({working:!1})});this.setState({working:!1})}},{key:"render",value:function(){var e=this.props.store.has(this.props.path)?this.props.store.get(this.props.path):{},t=this.props.request&&"function"==typeof this.props.request&&!this.props.store.has(this.props.path);return n.default.createElement("div",null,t||this.state.working?n.default.createElement(o.default,null):n.default.createElement(this.props.component,Object.assign({},this.props.routerProps,e,{history:this.props.history,key:this.props.path,path:this.props.path,setMessage:this.props.setMessage,store:this.props.store})))}}])&&u(r.prototype,a),i&&u(r,i),t}();f.propTypes={component:a.default.func.isRequired,history:a.default.object,path:a.default.string.isRequired,request:a.default.func,routerProps:a.default.object,setMessage:a.default.func,store:a.default.object},f.defaultProps={history:{},request:null,routerProps:{},setMessage:function(){},store:{}};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentOrPreviousPagePostDeletion=function(e,t){return parseInt(e.per_page)-t>0||null!==e.next_page?e.current_page:Math.max(parseInt(e.current_page)-1,1)},t.getPageFromQueryMap=function(e){if(!e.hasOwnProperty("page"))return null;var t=parseInt(e.page);return isNaN(t)||"number"!=typeof t?null:t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=_(r(1)),o=_(r(2013)),i=_(r(906)),l=_(r(107)),u=r(55),s=_(r(48)),c=_(r(7)),d=_(r(22)),f=_(r(452)),p=_(r(28)),m=r(67),h=r(18),y=r(181),g=r(2022);function _(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=O(t).call(this,e))||"object"!==v(a)&&"function"!=typeof a?w(n):a).state={comments:[],initialized:!1,replyBox:{id:null,show:!1},user:null},r.initializeCommentsLaziley=r.initializeCommentsLaziley.bind(w(r)),r.deleteComment=r.deleteComment.bind(w(r)),r.deleteLike=r.deleteLike.bind(w(r)),r.postComment=r.postComment.bind(w(r)),r.postList=r.postLike.bind(w(r)),r.updateComment=r.updateComment.bind(w(r)),r._commentEditor,r}var r,a,_;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._fetchCurrentUser()}},{key:"initializeCommentsLaziley",value:function(){var e=this;return(0,g.getComments)(this.props.commentable,this.props.cacheVersion).then(function(t){e.setState({comments:t,initialized:!0})}).catch(function(e){return(0,c.default)("ProjectComments initializeCommentsLaziley: ",e)})}},{key:"_fetchCurrentUser",value:function(){var e=this;return s.default.getStoreAsync().then(function(t){t&&Object.keys(t).length>0&&e.setState({user:t})}).catch(function(e){return(0,c.default)("ProjectComments _fetchCurrentUser: ",e)})}},{key:"deleteComment",value:function(e){var t=this;return(0,g.deleteComment)(e.id).then(function(){t.setState({comments:t._deleteCommentFromComments(e)})}).catch(function(e){return(0,c.default)("ProjectComments deleteComment",e)})}},{key:"deleteLike",value:function(e){var t=this;return(0,g.deleteLike)(e.id).then(function(){t.setState({comments:t._updateCommentInComments(Object.assign({},e,{liking_user_ids:e.liking_user_ids.filter(function(e){return e!==t.state.user.id})}))}),(0,f.default)({key:"respected_comment_ids",createOrDeleteBool:!1,id:e.id})}).catch(function(e){return(0,c.default)("ProjectComments. deleteLike",e)})}},{key:"postComment",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,g.postCommentV2)({md_body:e,parent_id:r?r.id:null},this.props.commentable).then(function(e){return t._postCommentResolver(e)}).catch(function(e){return(0,c.default)("ProjectComments postComment: ",e)})}},{key:"postLike",value:function(e){var t=this;return(0,g.postLike)(e.id).then(function(){t.setState({comments:t._updateCommentInComments(Object.assign({},e,{liking_user_ids:e.liking_user_ids.concat(t.state.user.id)}))}),(0,f.default)({key:"respected_comment_ids",createOrDeleteBool:!0,id:e.id})}).catch(function(e){return(0,c.default)("ProjectComments postLike",e)})}},{key:"updateComment",value:function(e){var t=this;return(0,g.updateCommentV2)(e).then(function(e){t.setState({comments:t._updateCommentInComments(e)})}).catch(function(e){return(0,c.default)("ProjectComments updateComment: ",e)})}},{key:"_addCommentToComments",value:function(e){return 0===e.depth?this.state.comments.concat({root:e,children:[]}):this.state.comments.map(function(t){return t.root.id===e.parent_id&&(t.children=t.children.concat(e)),t})}},{key:"_deleteCommentFromComments",value:function(e){return this.state.comments.reduce(function(t,r){return 0===e.depth&&e.id===r.root.id?r.children.length>0&&(t=t.concat({root:Object.assign({},r.root,{deleted:!0}),children:r.children})):e.parent_id===r.root.id?(!1===r.root.deleted||!0===r.root.deleted&&r.children.length>1)&&(t=t.concat({root:r.root,children:r.children.filter(function(t){return t.id!==e.id})})):t=t.concat(r),t},[])}},{key:"_postCommentResolver",value:function(e){var t=this;d.default.recordEvent({eventName:"Posted comment"},{comment_id:e.id}),this.setState({comments:this._addCommentToComments(e),replyBox:{id:null,show:!1}},function(){return t._postCommentResolverCallback(e)})}},{key:"_postCommentResolverCallback",value:function(e){0===e.depth&&this._commentEditor&&this._commentEditor.__resetStateHook(),this._scrollToComment(e)}},{key:"_scrollToComment",value:function(e){var t=document.getElementById("comment_".concat(e.id));t&&(0,p.default)(t.getBoundingClientRect().top+window.pageYOffset-window.innerHeight/2,500)}},{key:"_updateCommentInComments",value:function(e){return this.state.comments.map(function(t){return 0===e.depth&&e.id===t.root.id?t.root=e:e.parent_id===t.root.id&&(t.children=t.children.map(function(t){return t.id===e.id?e:t})),t})}},{key:"_getEditorView",value:function(){return this.props.newCommentsDisabled?null:(0,m.objHasPropertyWithValue)(this.state.user,"id")?this.state.user.isConfirmed?this._getCommentEditorView():this._getConfirmationView():this._getLoginView()}},{key:"_getCommentEditorView",value:function(){var e=this;return n.default.createElement("div",{className:"comments-form"},n.default.createElement(i.default,{ref:function(t){return e._commentEditor=t},onPost:this.postComment,placeholder:this.props.placeholder,uiConfig:{renderCancel:!1}}))}},{key:"_getConfirmationView",value:function(){return n.default.createElement("div",{className:"alert alert-warning"},n.default.createElement("p",null,"Please confirm your email before commenting. Haven't received a confirmation email? ",n.default.createElement("a",{href:(0,y.whitelabelUrlHelper)().appendToRootPath("/users/confirmation/new"),className:"alert-link"},"Resend"),". Contact us at help@hackster.io for help."))}},{key:"_summonAuth",value:function(e){(0,h.summonLoginPanel)({detail:{redirect_to:window.location.href,state:{currentPanel:e,simplified:!0}}})}},{key:"_getLoginView",value:function(){var e=this;return n.default.createElement("p",null,"Please ",n.default.createElement("a",{href:u.NOOP_HREF,onClick:function(){return e._summonAuth("login")}},"log in")," or ",n.default.createElement("a",{href:u.NOOP_HREF,onClick:function(){return e._summonAuth("signup")}},"sign up")," to comment.")}},{key:"_getCommentView",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.comment,a=t.children,i=void 0===a?null:a,l=t.parentIsDeleted,u=void 0!==l&&l;return n.default.createElement(o.default,{children:i,comment:r,currentUser:this.state.user,deleteComment:function(){return e.deleteComment(r)},deleteLike:function(){return e.deleteLike(r)},newCommentsDisabled:this.props.newCommentsDisabled,parentIsDeleted:u,placeholder:this.props.placeholder,postCommentReply:this.postComment,postLike:function(){return e.postLike(r)},replyBox:this.state.replyBox,toggleReplyBox:function(t){return e.setState({replyBox:t})},updateComment:this.updateComment})}},{key:"_getComments",value:function(){return this.state.initialized?this._getCommentsView():this._getCommentsLoaderView()}},{key:"_getCommentsView",value:function(){var e=this;return this.state.comments.length?n.default.Children.toArray(this.state.comments.map(function(t){return e._getCommentView({comment:t.root,children:e._getCommentsViewChildren(t)})})):this._getNoCommentsView()}},{key:"_getCommentsViewChildren",value:function(e){var t=this;return n.default.Children.toArray(e.children.map(function(r){return t._getCommentView({comment:r,parentIsDeleted:e.root.deleted})}))}},{key:"_getNoCommentsView",value:function(){return n.default.createElement("div",{className:"first-comment"},function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?"There are no comments.":"Start the conversation!"}(this.props.newCommentsDisabled))}},{key:"_getCommentsLoaderView",value:function(){return n.default.createElement("div",{style:{marginTop:20,textAlign:"center"}},n.default.createElement("i",{className:"fa fa-circle-o-notch fa-2x fa-spin"}))}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:"r-comments"},this._getEditorView(),n.default.createElement(l.default,{onReveal:function(){return e.initializeCommentsLaziley()}},this._getComments()))}}])&&b(r.prototype,a),_&&b(r,_),t}();P.propTypes={cacheVersion:a.default.string,commentable:a.default.shape({id:a.default.string.isRequired,type:a.default.string.isRequired}).isRequired,newCommentsDisabled:a.default.bool,placeholder:a.default.string.isRequired},P.defaultProps={cacheVersion:"",newCommentsDisabled:!1};var k=P;t.default=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(2014)),i=c(r(906)),l=c(r(2021)),u=c(r(222)),s=r(16);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).state={isEditing:!1},r.handleDeleteClick=r.handleDeleteClick.bind(m(r)),r.handleReplyClick=r.handleReplyClick.bind(m(r)),r.updateComment=r.updateComment.bind(m(r)),r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"handleDeleteClick",value:function(e){e.preventDefault(),window.confirm("Are you sure you want to delete this comment?")&&this.props.deleteComment()}},{key:"handleReplyClick",value:function(){this.props.toggleReplyBox({id:0===this.props.comment.depth?this.props.comment.id:this.props.comment.parent_id,show:!0})}},{key:"updateComment",value:function(e){e!==this.props.comment.md_body&&this.props.updateComment({id:this.props.comment.id,md_body:e}),this.setState({isEditing:!1})}},{key:"_getBodyView",value:function(){return this.state.isEditing?this._getEditingBodyView():this._getDefaultBodyView()}},{key:"_getDefaultBodyView",value:function(){return 0===this.props.comment.depth&&!0===this.props.comment.deleted?n.default.createElement("div",{className:"comment-body"},"This comment has been deleted."):n.default.createElement(n.Fragment,null,n.default.createElement("div",{className:"comment-body",dangerouslySetInnerHTML:{__html:u.default.render(this.props.comment.md_body)}}),n.default.createElement(o.default,{comment:this.props.comment,currentUser:this.props.currentUser,deleteLike:this.props.deleteLike,newCommentsDisabled:this.props.newCommentsDisabled,onReplyClick:this.handleReplyClick,parentIsDeleted:this.props.parentIsDeleted,postLike:this.props.postLike}))}},{key:"_getEditingBodyView",value:function(){var e=this;return n.default.createElement("div",{className:"comments-form"},n.default.createElement(i.default,{initialTextValue:this.props.comment.md_body,isEditing:this.state.isEditing,onDismiss:function(){return e.setState({isEditing:!1})},onPost:this.updateComment,placeholder:this.props.placeholder}))}},{key:"_getReplyBoxView",value:function(){var e=this;if(!this.props.replyBox.show||this.props.replyBox.id!==this.props.comment.id)return null;var t=this.props.children&&this.props.children.length>0?"comments-form reply":"comments-form";return n.default.createElement("div",{className:"reply-box"},n.default.createElement("div",{className:"reply-box-center-line"}),n.default.createElement("div",{className:t},n.default.createElement(i.default,{config:{scrollToOnMount:!0},onDismiss:function(){return e.props.toggleReplyBox({id:null,show:!1})},onPost:function(t){return e.props.postCommentReply(t,e.props.comment)},placeholder:this.props.placeholder})))}},{key:"_getUserAvatarView",value:function(){var e=this.props.comment.user;return e.url?n.default.createElement("a",{href:e.url},n.default.createElement("img",{src:e.avatar_url,alt:e.name})):n.default.createElement("img",{src:e.avatar_url,alt:e.name})}},{key:"_getUserNameView",value:function(){var e=this.props.comment.user;return e.url?n.default.createElement("a",{href:e.url},e.name):e.name}},{key:"render",value:function(){var e=this,t=0===this.props.comment.depth?"comment":"comment comment-nested";return n.default.createElement("div",null,n.default.createElement("div",{className:t,id:"comment_".concat(this.props.comment.id)},n.default.createElement("div",{className:"comment-title"},n.default.createElement("div",{className:"avatar"},this._getUserAvatarView()),n.default.createElement("div",{className:"profile-name"},n.default.createElement("h4",null,n.default.createElement("strong",null,this._getUserNameView())),n.default.createElement("span",{className:"text-muted comment-date"},(0,s.timeFromNow)(this.props.comment.created_at))),!this.state.isEditing&&!this.props.comment.deleted&&n.default.createElement(l.default,{comment:this.props.comment,currentUser:this.props.currentUser,onEditClick:function(){return e.setState({isEditing:!0})},onDeleteClick:this.handleDeleteClick})),this._getBodyView()),this.props.children,!this.state.isEditing&&this._getReplyBoxView())}}])&&f(r.prototype,a),c&&f(r,c),t}();y.propTypes={children:a.default.array,comment:a.default.shape({body_with_relations:a.default.string,created_at:a.default.string.isRequired,deleted:a.default.bool.isRequired,depth:a.default.number.isRequired,edited_at:a.default.string,id:a.default.number.isRequired,liking_user_ids:a.default.arrayOf(a.default.number),md_body:a.default.string,parent_id:a.default.number,user:a.default.shape({avatar_url:a.default.string,id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired})}).isRequired,currentUser:a.default.shape({id:a.default.number.isRequired,isAdmin:a.default.bool.isRequired}),deleteComment:a.default.func.isRequired,deleteLike:a.default.func.isRequired,newCommentsDisabled:a.default.bool,parentIsDeleted:a.default.bool.isRequired,placeholder:a.default.string,postCommentReply:a.default.func.isRequired,postLike:a.default.func.isRequired,replyBox:a.default.object.isRequired,toggleReplyBox:a.default.func.isRequired,updateComment:a.default.func.isRequired},y.defaultProps={children:null,currentUser:null,newCommentsDisabled:!1,placeholder:""};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=(n=r(1))&&n.__esModule?n:{default:n},i=r(55),l=r(20);var u=function(e){var t=e.comment,r=e.currentUser,n=e.deleteLike,o=e.postLike,l=t.liking_user_ids.indexOf(r.id)>-1,u=l?n:o;return a.default.createElement("li",{className:"r-comment-like-button"},a.default.createElement("a",{href:i.NOOP_HREF,onClick:u},l?"Thanked":"Thank"))},s=function(e){var t=e.comment;return t.liking_user_ids.length?a.default.createElement("li",{className:"r-comments-counter"},a.default.createElement("span",null,t.liking_user_ids.length," ",(0,l.pluralize)("thank",t.liking_user_ids.length))):null},c=function(e){var t=e.comment,r=e.currentUser,n=e.newCommentsDisabled,o=e.onReplyClick,l=e.parentIsDeleted;return!r.isConfirmed||n?null:l?a.default.createElement("li",{className:"text-muted"},"(Discussion closed)"):a.default.createElement("li",null,a.default.createElement("a",{href:i.NOOP_HREF,onClick:o},0===t.depth?"Reply":"Reply to conversation"))},d=function(e){var t=e.comment,r=e.currentUser,n=e.deleteLike,o=e.newCommentsDisabled,i=e.onReplyClick,l=e.parentIsDeleted,d=e.postLike;return r||t.liking_user_ids.length?a.default.createElement("ul",{className:"comment-actions"},r?function(e){var t=e.comment,r=e.currentUser,n=e.deleteLike,o=e.newCommentsDisabled,i=e.onReplyClick,l=e.parentIsDeleted,d=e.postLike;return a.default.createElement(a.Fragment,null,u({comment:t,currentUser:r,deleteLike:n,postLike:d}),c({comment:t,currentUser:r,newCommentsDisabled:o,onReplyClick:i,parentIsDeleted:l}),s({comment:t}))}({comment:t,currentUser:r,deleteLike:n,newCommentsDisabled:o,onReplyClick:i,parentIsDeleted:l,postLike:d}):s({comment:t})):null};d.propTypes={comment:o.default.shape({liking_user_ids:o.default.array.isRequired}).isRequired,currentUser:o.default.shape({id:o.default.number.isRequired,isConfirmed:o.default.bool.isRequired}),deleteLike:o.default.func.isRequired,newCommentsDisabled:o.default.bool.isRequired,onReplyClick:o.default.func.isRequired,parentIsDeleted:o.default.bool.isRequired,postLike:o.default.func.isRequired},d.defaultProps={currentUser:null};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(245)),i=u(r(10)),l=u(r(2));function u(e){return e&&e.__esModule?e:{default:e}}var s=["bold","italic","code","bullet_list","quote"],c=function(e){return n.default.createElement("div",{className:"editor-toolbar ".concat(l.default.flexCenterItems)},s.map(function(t){return n.default.createElement("button",{key:t,className:"".concat(i.default.md," ").concat(l.default.flexCenterItems," toolbar-btn"),onClick:e.handleSelectTool,"data-label":t},n.default.createElement(o.default,{className:"",name:"".concat(t,"_editor_tool")}))}))};c.propTypes={handleSelectTool:a.default.func.isRequired};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSelection",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"formatSelection",{enumerable:!0,get:function(){return a.default}});var n=o(r(2017)),a=o(r(2018));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.textAreaValue,r=e.selectionStart,n=e.selectionEnd;return function(e,t,r){return t===r}(0,r,n)?function(e,t){var r=e.slice(0,t).split(/\s+/).pop(),n=e.slice(t).split(/\s+/).shift();return{initialCaretPos:{start:t,end:t},selectionRange:{start:t-r.length,end:t+n.length},selectedStr:r+n,textAreaValue:e}}(t,r):function(e,t,r){var n=e.slice(t,r);return{initialCaretPos:{start:t,end:r},selectionRange:{start:t,end:r},selectedStr:n,textAreaValue:e}}(t,r,n)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="code"===e.toolLabel?function(e){e.textAreaValue;var t=e.selectedStr;e.selectionRange;return t.split(n.REGEX.linebreak).length>1?"code_fence":"code_inline"}(e):e.toolLabel;return n.MD_SETTINGS[t].formatBlock?(0,a.default)(Object.assign({},e,{toolLabel:t,mdSettings:n.MD_SETTINGS[t]})):(0,o.default)(Object.assign({},e,{toolLabel:t,mdSettings:n.MD_SETTINGS[t]}))};var n=r(503),a=i(r(2019)),o=i(r(2020));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(e){var t=e.textAreaValue,r=e.selectedStr,o=e.selectionRange,i=e.mdSettings,l=o.start,u=o.end,s=i.prependedChars,c=r.split(a.REGEX.linebreak);if((0,n.isAnEntireRowSelected)(c,t,u)){var d=t.slice(l,l+s.length),f=t.slice(l-s.length,l);return d===s||f===s}return c.every(function(e){return e.slice(0,s.length)===s})}(e)?function(e){var t=e.textAreaValue,r=e.selectedStr,i=e.selectionRange,l=e.initialCaretPos,u=e.mdSettings,s=l.start,c=l.end,d=i.start,f=i.end,p=u.prependedChars,m=r.split(a.REGEX.linebreak),h=t.slice(d-p.length,d);if(1===m.length&&h===p){var y=m[0],g=d-p.length;return{newCaretPos:{start:s-p.length,end:c-p.length},newTextAreaValue:(0,n.insertStrAtCaretPos)(t,g,f,y)}}var _=m.map(function(e){return e.slice(p.length)}).join(o);return{newCaretPos:{start:s,end:s-_.length},newTextAreaValue:(0,n.insertStrAtCaretPos)(t,d,f,_)}}(e):(t=e,r=t.initialCaretPos,l=t.textAreaValue,u=t.selectedStr,s=t.selectionRange,t.toolLabel,c=t.mdSettings,d=r.start,f=r.end,p=s.start,m=s.end,h=c.prependedChars,y=u.split(a.REGEX.linebreak),g=y.length,_=function(e,t){return e.map(function(e){return t+e}).join(o)}(y,h),E={textAreaValue:l,start:p,end:m},P=function(e){var t=e.textAreaValue,r=e.start;if(0===r)return 0;var n=t.slice(r-i,r).split("").filter(function(e){return e===o});return i-n.length}(E),k=function(e){var t=e.textAreaValue,r=e.end;if(r===t.length)return 0;var n=t.slice(r,r+i).split("").filter(function(e){return e===o});return i-n.length}(E),v={linebreaksToPrepend:o.repeat(P),linebreaksToAppend:o.repeat(k)},b=v.linebreaksToPrepend,O=v.linebreaksToAppend,w=b+_+O,{newCaretPos:y.length>1?{start:d+b.length,end:f+b.length+g*h.length+(g-1)}:{start:d+b.length+h.length,end:f+b.length+h.length},newTextAreaValue:(0,n.insertStrAtCaretPos)(l,p,m,w)});var t,r,l,u,s,c,d,f,p,m,h,y,g,_,v,b,O,w,E,P,k};var n=r(907),a=r(503),o=String.fromCharCode(10),i=2},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e){var t=function(e){var t=e.selectedStr,r=e.selectionRange,n=r.start,o=r.end;if(null===t.match(a.REGEX.nonWhitespace))return{selectionRange:{start:n+t.length,end:o},selectedStr:t.trim()};var i=t.match(a.REGEX.leadingWhitespace),l=t.match(a.REGEX.trailingWhitespace),u=i?i[0].length:0,s=l?l[0].length:0;return{selectionRange:{start:n+u,end:o-s},selectedStr:t.trim()}}(e);return Object.assign({},e,t)}(e),r=(l=t,u=l.textAreaValue,s=l.selectionRange,c=l.mdSettings,function(e,t,r){var n=t.start,a=t.end,o=r.appendedChars,i=r.prependedChars,l=e.slice(n,n+i.length),u=e.slice(a-o.length,a);return l===i&&u===o}(u,s,c)?o:function(e,t,r){var n=t.start,a=t.end,o=r.appendedChars,i=r.prependedChars,l=e.slice(n-i.length,n),u=e.slice(a,a+o.length);return l===i&&u===o}(u,s,c)?i:null);var l,u,s,c;return r?function(e,t){var r=t.textAreaValue,a=t.selectedStr,o=t.selectionRange,l=t.initialCaretPos,u=t.mdSettings,s=l.start,c=l.end,d=o.start,f=o.end,p=u.appendedChars,m=u.prependedChars;if(e===i){var h=d-m.length,y=f+p.length;return{newCaretPos:{start:s-m.length,end:c-m.length},newTextAreaValue:(0,n.insertStrAtCaretPos)(r,h,y,a)}}var g=a.slice(m.length,a.length-p.length);return{newCaretPos:{start:s-m.length,end:c-m.length},newTextAreaValue:(0,n.insertStrAtCaretPos)(r,d,f,g)}}(r,t):function(e){var t=e.textAreaValue,r=e.selectedStr,a=e.selectionRange,o=e.initialCaretPos,i=e.mdSettings,l=o.start,u=o.end,s=i.appendedChars,c=i.prependedChars,d=c+r+s;return{newCaretPos:{start:l+c.length,end:u+c.length},newTextAreaValue:(0,n.insertStrAtCaretPos)(t,a.start,a.end,d)}}(t)};var n=r(907),a=r(503),o="INSIDE_SELECTION_RANGE",i="OUTSIDE_SELECTION_RANGE"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(879)),i=s(r(882)),l=r(55),u=s(r(118));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.comment,r=e.currentUser,a=e.onDeleteClick,s=e.onEditClick;if(!r)return null;var c=r.id===t.user.id,d=r.isAdmin||c;return n.default.createElement("div",{className:"dropdown comment-manage pull-right"},n.default.createElement("a",{className:"dropdown-toggle btn btn-link btn-sm",href:l.NOOP_HREF,type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},n.default.createElement("i",{className:"fa fa-ellipsis-v"})),n.default.createElement("ul",{className:"dropdown-menu"},d&&n.default.createElement("li",{className:u.default.optionPaddingOnChild},n.default.createElement("span",{onClick:s},"Edit")),d&&n.default.createElement("li",{className:u.default.optionPaddingOnChild},n.default.createElement("span",{onClick:a},"Delete")),r.isAdmin&&n.default.createElement("li",{className:u.default.optionPaddingOnChild},n.default.createElement(i.default,{flaggable:{type:"Comment",id:t.id}})),!c&&!r.isAdmin&&n.default.createElement("li",{className:u.default.optionPaddingOnChild},n.default.createElement(o.default,{currentUserId:r.id,flaggable:{type:"Comment",id:t.id}}))))};c.propTypes={comment:a.default.shape({id:a.default.number.isRequired}).isRequired,currentUser:a.default.shape({id:a.default.number.isRequired,isAdmin:a.default.bool.isRequired}),onDeleteClick:a.default.func.isRequired,onEditClick:a.default.func.isRequired},c.defaultProps={currentUser:null};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getComments=function(e,t){return a.default.apiRequest((0,n.default)("".concat(a.default.getApiPath(),"/v2/projects/").concat(e.id,"/comments")).query(t&&t.length?{v:t}:{}).query({only_path:!0})).then(function(e){return Promise.resolve(e.records)}).catch(function(e){return Promise.reject(e)})},t.deleteComment=function(e){return a.default.apiRequest(n.default.del("".concat(a.default.getApiPath(),"/v2/comments/").concat(e)),!0)},t.deleteLike=function(e){return a.default.apiRequest(n.default.del("".concat(a.default.getApiPath(),"/v2/comments/").concat(e,"/respects")),!0)},t.postComment=function(e){var t=e.commentable.id;return delete e.commentable,a.default.apiRequest(n.default.post("".concat(a.default.getApiPath(),"/v2/projects/").concat(t,"/comments")).send(e.comment),!0)},t.postCommentV2=function(e,t){return a.default.apiRequest(n.default.post("".concat(a.default.getApiPath(),"/v2/projects/").concat(t.id,"/comments")).send(e),!0)},t.postLike=function(e){return a.default.apiRequest(n.default.post("".concat(a.default.getApiPath(),"/v2/comments/").concat(e,"/respects")),!0).then(function(e){return Promise.resolve(e.respected)}).catch(function(e){return Promise.reject(e)})},t.updateComment=function(e){return a.default.apiRequest(n.default.patch("".concat(a.default.getApiPath(),"/v2/comments/").concat(e.comment.id)).send(e.comment),!0)},t.updateCommentV2=function(e){return a.default.apiRequest(n.default.patch("".concat(a.default.getApiPath(),"/v2/comments/").concat(e.id)).send(e),!0)};var n=o(r(35)),a=o(r(40));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=h(r(1)),o=r(58),i=h(r(15)),l=h(r(9)),u=h(r(732)),s=h(r(22)),c=r(734),d=r(18),f=h(r(306)),p=h(r(3)),m=h(r(2024));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=[function(e){return"Hey stranger! Sign up to access unlimited projects".concat(e," – it's free.")},function(e,t){return"Join Hackster to access over ".concat(t," free projects").concat(e,".")},function(e){return"You're on your last one! Sign up to access unlimited projects".concat(e,".")}],w=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=_(t).call(this,e))||"object"!==y(a)&&"function"!=typeof a?v(n):a).state={count:0,images:[],show:!1},r.dismiss=r.dismiss.bind(v(r)),r.summonAuthDialog=r.summonAuthDialog.bind(v(r)),r}var r,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._initializeProjects()}},{key:"_initializeProjects",value:function(){var e=(0,c.addViewedProject)(this.props.currentProject),t=e.count,r=e.images;s.default.reportEvent({eventName:"Viewed lock screen"},{projects_viewed:t,type:"project_warning"}),this.setState({count:t,images:r,show:!0})}},{key:"dismiss",value:function(){this.setState({show:!1})}},{key:"summonAuthDialog",value:function(){(0,d.summonLoginPanel)({detail:{state:{currentPanel:"signup"},source:"project_lock_banner"}})}},{key:"render",value:function(){var e,t=this.state,r=t.count,a=t.images,s=t.show,c=this.props,d=c.featured_category,h=c.projectCount;return n.default.createElement(o.TransitionGroup,null,s&&n.default.createElement(o.CSSTransition,{classNames:f.default,timeout:250},n.default.createElement("div",{className:m.default.container},n.default.createElement("div",{className:m.default.banner},n.default.createElement("div",{className:m.default.content},n.default.createElement(u.default,{count:r,images:a}),n.default.createElement("div",{className:"".concat(m.default.text," ").concat(p.default.bodyL)},O[Math.max(r-1,0)]((e=d)?" featuring ".concat(e," and more"):"",h))),n.default.createElement("div",{className:m.default.buttons},n.default.createElement(i.default,{onClick:this.summonAuthDialog},"Sign up"),n.default.createElement(i.default,{className:m.default.cancelButtonDesktop,colorStyle:"blank",onClick:this.dismiss},n.default.createElement(l.default,{className:p.default.charcoal,name:"close"})),n.default.createElement("a",{className:"".concat(m.default.cancelButtonMobile," ").concat(p.default.link," ").concat(p.default.bodyM),href:"javascript:void(0);",onClick:this.dismiss},"Not now"))))))}}])&&g(r.prototype,a),h&&g(r,h),t}();w.propTypes={currentProject:a.default.shape({cover_image_url:a.default.string,hid:a.default.string}).isRequired,featured_category:a.default.string,projectCount:a.default.string.isRequired},w.defaultProps={featured_category:null};var E=w;t.default=E},function(e,t,r){e.exports={secondaryBoxShadow:"0 2px 10px 0 rgba(0,0,0,0.15)",small:"(max-width: 480px)",banner:"project_count_banner__banner__7LvJ4",buttons:"project_count_banner__buttons__1OP44",content:"project_count_banner__content__16JOT",cancelButtonDesktop:"project_count_banner__cancelButtonDesktop__3NDf2 project_count_banner__content__16JOT",cancelButtonMobile:"project_count_banner__cancelButtonMobile__1NuCF",container:"project_count_banner__container__1m4vf",text:"project_count_banner__text__37FPt"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(121)),i=r(8),l=r(11),u=c(r(2)),s=c(r(5));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).state={imageData:e.initData,savedImageData:e.initData},r.handleDiscardChanges=r.handleDiscardChanges.bind(m(r)),r.handleSave=r.handleSave.bind(m(r)),r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){var e=this._getProjectEditorForm();e&&(e.addEventListener("pe:discard",this.handleDiscardChanges,!0),e.addEventListener("pe:saveChanges",this.handleSave,!0),this._isOnCorrectPanel()&&window.pe&&window.pe.serializeForm())}},{key:"componentWillUnmount",value:function(){var e=this._getProjectEditorForm();e&&(e.removeEventListener("pe:discard",this.handleDiscardChanges,!0),e.removeEventListener("pe:saveChanges",this.handleSave,!0))}},{key:"componentDidUpdate",value:function(e,t){this._shouldUpdateSerializedForm(t)&&(window.$serializedForm+=" ",window.pe.showSavePanel())}},{key:"handleDiscardChanges",value:function(){this.setState({imageData:Object.assign({},this.state.savedImageData)})}},{key:"handleSave",value:function(e){this.setState({savedImageData:Object.assign({},this.state.imageData)})}},{key:"_isOnCorrectPanel",value:function(){return!!document.querySelector(".pe-panel, #basics")}},{key:"_getProjectEditorForm",value:function(){return document.querySelector(".pe-panel form.remote")}},{key:"_shouldUpdateSerializedForm",value:function(e){return e.imageData.id!==this.state.imageData.id&&(0,l.isAFunction)((0,i.getInObj)(["pe","showSavePanel"],window))&&(0,l.isAString)(window.$serializedForm)&&this._isOnCorrectPanel()}},{key:"render",value:function(){var e=this;return n.default.createElement(n.Fragment,null,n.default.createElement(o.default,{allowRemoteURL:this.props.allowRemoteURL,aspectRatio:this.props.aspectRatio,attachmentType:this.props.attachmentType,attachmentURLKey:this.props.attachmentURLKey,classList:{formGroup:u.default.marginBottom0,previewWrapper:s.default.border},dimensionMins:this.props.dimensionMins,errors:this.props.errors[0]||null,helperText:this.props.helperText,ignoreCropper:this.props.ignoreCropper,imageData:this.state.imageData,imageVersion:this.props.imageVersion,inputClassName:"no-pe-change",placeholderUrl:this.props.placeholderUrl,propagateUpload:function(t){return e.setState({imageData:t})},stackedView:this.props.stackedView}),n.default.createElement("input",{name:this.props.inputName,type:"hidden",value:this.state.imageData.id?this.state.imageData.id.toString():""}))}}])&&f(r.prototype,a),c&&f(r,c),t}();t.default=y,y.propTypes={aspectRatio:a.default.number,attachmentType:a.default.string,attachmentURLKey:a.default.oneOf(["file_url","imgix_url"]),dimensionMins:a.default.shape({width:a.default.number}),errors:a.default.array,helperText:a.default.string,imageVersion:a.default.string,initData:a.default.shape({id:a.default.number,url:a.default.string}),inputName:a.default.string,placeholderUrl:a.default.string,stackedView:a.default.bool},y.defaultProps={aspectRatio:null,attachmentType:"Image",attachmentURLKey:"imgix_url",dimensionMins:{},errors:[],helperText:"",imageVersion:null,inputName:"",initData:{},placeholderUrl:null,stackedView:!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(15)),i=d(r(66)),l=d(r(7)),u=r(2027),s=r(12),c=r(16);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?h(n):a).state={hasUpdated:!1,isLoading:!1,timeAgo:r.props.timestamp?(0,c.timeFromNowUnix)(r.props.timestamp):null},r.handleClick=r.handleClick.bind(h(r)),r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"handleClick",value:function(){var e=this;return this.setState({isLoading:!0}),(0,u.launchAndPollBackgroundJob)("compute_reputation",this.props.userId).then(function(){return e._reloadPage()}).catch(function(e){return(0,l.default)("ReputationUpdateButton handleClick::",e)})}},{key:"_reloadPage",value:function(){return this.setState({isLoading:!1,hasUpdated:!0,timeAgo:"Just now (page will refresh)"}),(0,s.windowSetTimeout)(function(){return(0,s.windowLocationReload)()},2500)}},{key:"_getUpdateRequestView",value:function(){return this.state.isLoading?this._getUpdateLoader():this._getUpdateBtn()}},{key:"_getUpdateLoader",value:function(){return n.default.createElement("span",{style:{display:"block"}},n.default.createElement(i.default,{size:"16"}),n.default.createElement("span",{style:{marginLeft:10}},"Updating..."))}},{key:"_getUpdateBtn",value:function(){return n.default.createElement(o.default,{colorStyle:"outlineBlue",disabled:this.state.isLoading||this.state.hasUpdated,onClick:this.handleClick},n.default.createElement("strong",null,"UPDATE NOW"))}},{key:"render",value:function(){return n.default.createElement("span",null,this.state.timeAgo&&n.default.createElement("span",null,"Last updated ",n.default.createElement("strong",null,this.state.timeAgo),". "),!this.state.hasUpdated&&n.default.createElement("span",{style:{display:"block",marginTop:10}},this._getUpdateRequestView()))}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={timestamp:a.default.number,userId:a.default.number.isRequired},g.defaultProps={timestamp:null};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.launchAndPollBackgroundJob=function(e,t){return new Promise(function(r,o){return function(e,t){return a.default.apiRequest(n.default.post("".concat(a.default.getApiPath(),"/private/background_jobs")).send({type:e,user_id:t}),!0,!1)}(e,t).then(function(e){return l(e.body.job_id)}).then(function(e){return r(e)}).catch(function(e){return o(e)})})},t.pollBackgroundJob=l;var n=i(r(35)),a=i(r(40)),o=r(447);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(0,o.pollWithBackoff)(function(t,r,o){return function(e){return new Promise(function(t,r){a.default.apiRequest((0,n.default)("".concat(a.default.getApiPath(),"/private/background_jobs/").concat(e))).then(function(e){return"failed"===e.status?r(new Error("Background job failed")):t(e)}).catch(function(e){return r(e)})})}(e).then(function(e){return"complete"===e.status?t(e):o()}).catch(function(e){return r(e)})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=r(14),i=r(2029),l=r(8),u=f(r(7)),s=f(r(2030)),c=f(r(2031)),d=f(r(2035));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?y(n):a).state={initialized:!1,records:[]},r.initialize=r.initialize.bind(y(r)),r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),r=t,(a=[{key:"initialize",value:function(){return this.fetchRecords({count:this.props.count,hid:this.props.project.hid,offset:this.props.offset})}},{key:"fetchRecords",value:function(e){var t=this,r=e.count,n=e.hid,a=e.offset;return(0,o.graphQuery)((0,i.getRelatedProjectsForProject)(),{hid:n,offset:a,count:r}).then(function(e){return t.setState({initialized:!0,records:(0,l.getInObj)(["project","related_projects"],e)||[]})}).catch(function(e){return(0,u.default)("SimilarProjects initialize: ",e)})}},{key:"_renderBarView",value:function(){return n.default.createElement(s.default,{initialized:this.state.initialized,onReveal:this.initialize,records:this.state.records})}},{key:"_renderBottomView",value:function(){return n.default.createElement(c.default,{initialized:this.state.initialized,onReveal:this.initialize,records:this.state.records})}},{key:"_renderSideView",value:function(){return n.default.createElement(d.default,{count:this.props.count,initialized:this.state.initialized,onReveal:this.initialize,records:this.state.records})}},{key:"_renderView",value:function(){switch(this.props.view){case"bar":return this._renderBarView();case"side":return this._renderSideView();default:return this._renderBottomView()}}},{key:"render",value:function(){return this._renderView()}}])&&m(r.prototype,a),f&&m(r,f),t}();_.propTypes={count:a.default.number,offset:a.default.number,project:a.default.shape({hid:a.default.string.isRequired}).isRequired,view:a.default.string},_.defaultProps={count:8,offset:0,view:"bottom"};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRelatedProjectsForProject=function(){return"query getRelatedProjectsForProject($hid: String!, $offset: Int, $count: Int) {\n      project(hid: $hid) {\n        related_projects(offset: $offset, count: $count) {\n          content_type\n          cover_image_url\n          difficulty\n          guest_name\n          id\n          name\n          one_liner\n          stats {\n            respects\n            views\n          }\n          team {\n            members {\n              name\n              url\n            }\n            name\n          }\n          url\n        }\n      }\n    }"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(70)),i=f(r(9)),l=f(r(107)),u=f(r(2)),s=f(r(3)),c=f(r(908)),d=r(61);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,r=e.initialized,a=e.onReveal,f=e.records;return n.default.createElement(l.default,{onReveal:a},r&&f.length?(t=f[0],n.default.createElement(o.default,{className:"".concat(c.default.container," ").concat(s.default.link),item:t,linkType:d.PROJECT_CARD,location:"bottom_bar"},n.default.createElement("div",{className:c.default.text},n.default.createElement("h5",{className:s.default.h5},"Next project"),n.default.createElement("div",{className:"".concat(s.default.bodyS," ").concat(s.default.bold," ").concat(c.default.link)},t.name)),n.default.createElement("div",{className:u.default.marginLeft15},n.default.createElement(i.default,{name:"arrow-right"})))):null)};p.propTypes={initialized:a.default.bool.isRequired,onReveal:a.default.func.isRequired,records:a.default.array.isRequired};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(204)),i=c(r(107)),l=c(r(227)),u=c(r(2)),s=c(r(3));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.initialized,r=e.onReveal,a=e.records;return n.default.createElement(i.default,{onReveal:r,verticalOffset:250},n.default.createElement("div",{className:"".concat(u.default.container," ").concat(u.default.paddingBottom45," ").concat(u.default.paddingTop45)},n.default.createElement("div",{className:u.default.wrapper1170},n.default.createElement("h2",{className:"".concat(s.default.h2," ").concat(u.default.marginBottom15)},"Similar projects you might like"),t?n.default.createElement(l.default,{className:u.default.marginBottom30,location:"project_similar",records:a}):n.default.createElement(o.default,null))))};d.propTypes={initialized:a.default.bool.isRequired,onReveal:a.default.func.isRequired,records:a.default.array.isRequired};var f=d;t.default=f},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(n(r={},"no-communities",["".concat(o.name," has not joined a community.")]),n(r,"no-follows",["".concat(o.name," isn't following anyone.")]),n(r,"no-followers",["".concat(o.name," has no followers.")]),n(r,"no-product",["This product does not exist"]),n(r,"no-products",["There are no products.",o.canManage&&{href:o.manageProductsLink,text:"Add products"}]),n(r,"no-projects",["There are no projects.",o.canManage&&{href:"/projects/new",text:"Create a new project"}]),n(r,"no-public-projects",["".concat(o.name," hasn't publicly shared any projects.")]),n(r,"no-published-articles",["".concat(o.name," hasn't published any articles.")]),n(r,"no-respects",["".concat(o.name," has no respects.")]),n(r,"no-tools",["".concat(o.name," hasn't added any products to their toolbox.")]),r),l=(n(a={},"no-bio",[{text:"Add a bio",href:"/dashboard/profile"}]),n(a,"no-communities",[{href:"/channels",text:"Join a community"}]),n(a,"no-draft-projects",["You aren't currently working on any projects.  ",{href:"/projects/new",text:"Create a new project"}]),n(a,"no-follows",["You aren't following anyone."]),n(a,"no-followers",["No one is following you."]),n(a,"no-forHire",[{text:"Add availability",href:"/dashboard/profile"}]),n(a,"no-location",[{text:"Add your location",href:"/dashboard/profile"}]),n(a,"no-notifications",["You don't have any notifications. Get updates from your projects, connections, and communities by managing your ",{href:"/users/notifications/edit",text:"notification settings"}]),n(a,"no-projects",[{href:"/projects/new",text:"Create a new project "},"and start sharing your work!"]),n(a,"no-public-projects",["You haven't publicly shared any projects. ",{href:"/projects/new",text:"Create a project"}]),n(a,"no-published-articles",["You haven't published any articles. ",{href:"/news/admin/new",text:"Write an article"}]),n(a,"no-skills",[{text:"Add skills",href:"/dashboard/profile"}]),n(a,"no-tools",[{href:"/users/preferences",text:"Add tools"}]),n(a,"with-public-without-drafts",["You aren't currently working on any projects.  ",{href:"/projects/new",text:"Create a new project"}," or ",{href:"/dashboard/projects",text:"view your existing projects"},"."]),a);return e?l[t]:i[t]}},function(e,t,r){e.exports={placeholderLink:"content_placeholder__placeholderLink__3qleR",label:"content_placeholder__label__2QUnU",content:"content_placeholder__content__3sKt4"}},function(e,t,r){e.exports={placeholderContent:"projects_list__placeholderContent__2CwbD",placeholderLabel:"projects_list__placeholderLabel__37Ffa"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(204)),i=d(r(107)),l=d(r(504)),u=d(r(28)),s=d(r(2)),c=d(r(3));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.count,r=e.initialized,a=e.onReveal,d=e.records;return n.default.createElement(i.default,{onReveal:a},n.default.createElement("div",null,(!r||!!d.length)&&n.default.createElement("h5",{className:"".concat(c.default.h5," ").concat(s.default.marginBottom15)},"Related projects"),r?d.map(function(e){return n.default.createElement(l.default,{key:e.id,location:"project_similar_side",project:e})}):n.default.createElement(o.default,{cardBorder:!1,grid:!1,maxCols:t,type:"small"}),(!r||!!d.length)&&n.default.createElement("a",{href:"#similar-projects",className:"".concat(c.default.linkPebble," ").concat(c.default.bold," ").concat(c.default.bodyS),onClick:function(e){e.preventDefault(),(0,u.default)(document.getElementById("similar-projects"))}},"View more related projects")))};f.propTypes={count:a.default.number.isRequired,initialized:a.default.bool.isRequired,onReveal:a.default.func.isRequired,records:a.default.array.isRequired};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=p(r(1)),o=p(r(453)),i=p(r(154)),l=p(r(2037)),u=p(r(809)),s=p(r(2038)),c=r(817),d=r(18),f=r(2131);function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r(935);var b=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=g(t).call(this,e),(r=!a||"object"!==m(a)&&"function"!=typeof a?_(n):a).state={autosaveEnabled:e.initAutoSaveEnabled,saving:!1,shouldRender:!1,uploadingDoc:!1},r.autosave=r.autosave.bind(_(r)),r.handleDocXUpload=r.handleDocXUpload.bind(_(r)),r.handleHelpBoxEvent=r.handleHelpBoxEvent.bind(_(r)),r.handleNavClick=r.handleNavClick.bind(_(r)),r.handleSubmit=r.handleSubmit.bind(_(r)),r.handleSubmitComplete=r.handleSubmitComplete.bind(_(r)),r.promiseQueue=new l.default;var o=(0,i.default)(r.autosave,3e3);return r.config={className:"story-editor",editorWasUpdated:function(){r.state.autosaveEnabled?(r.state.saving||r._toggleSaveState(!0),o()):r._showPePanel()},handleImageUpload:function(t,r){return(0,c.uploadImageToServer)(t,e.S3BucketURL,e.AWSAccessKeyId,e.projectId,e.modelType).then(function(e){return r(null,e)}).catch(function(e){return r(e,t)})},hideEditor:function(){return!(!window||"#story"===window.location.hash)},isEditorBusy:function(e){if(!e||!r._isEditorBusy){r._isEditorBusy=e;var t=r.state.autosaveEnabled?"#story .pe-save2":".pe-save",n=document.querySelectorAll(t)[0];if(n){var a=n.querySelector(".pe-submit");a&&(e&&"Uploading image"!==a.innerText?(a.innerText="Uploading image",a.setAttribute("disabled",!0)):e||"Save changes"===a.innerText||(a.innerText="Save changes",a.removeAttribute("disabled")))}}},processImage:function(t){return new Promise(function(n,a){r.promiseQueue.push(c.processRemoteImage,[t,e.S3BucketURL,e.AWSAccessKeyId],n,a)})},setInitialContent:function(){return new Promise(function(t,n){return(0,c.getStory)(e.projectId).then(function(e){return r._lastSavedState=e,t(e)}).catch(function(e){return n(e)})})}},r.storyEditor,r._isEditorBusy=!1,r._lastSavedState="",r}var r,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){window&&(window.addEventListener("pe:submit",this.handleSubmit),window.addEventListener("StoryHelpBox",this.handleHelpBoxEvent),this._deferRender())}},{key:"componentWillUnmount",value:function(){var e=this;window&&(window.removeEventListener("pe:submit",this.handleSubmit),window.removeEventListener("StoryHelpBox",this.handleHelpBoxEvent),[].slice.call(document.querySelectorAll(".pe-nav li a")).forEach(function(t){t.removeEventListener("click",e.handleNavClick)}))}},{key:"_deferRender",value:function(){var e=this;"undefined"!=typeof document&&document.addEventListener("DOMContentLoaded",function(){e.setState({shouldRender:!0}),[].slice.call(document.querySelectorAll(".pe-nav li a")).forEach(function(t){t.addEventListener("click",e.handleNavClick)})})}},{key:"autosave",value:function(){this.storyEditor&&this.storyEditor.hasUnsavedChanges()&&(this.state.saving||this._toggleSaveState(!0),this.handleSubmit(null,!1))}},{key:"handleDocXUpload",value:function(e){var t=this;if(window.confirm("Heads up, uploading a docx file can take a bit of time and resources (when image heavy). This will OVERWRITE your entire story, so please make sure this is what you want to do. Are you sure you want to continue?"))return this.setState({uploadingDoc:!0}),(0,s.default)(e).then(function(e){t.storyEditor.__resetEditorState(e),t._docXInput.value="",t.setState({uploadingDoc:!1})}).catch(function(e){t.storyEditor.triggerMessenger("There was an error trying to upload your file","error"),t._docXInput.value="",t.setState({uploadingDoc:!1})});this._docXInput.value=""}},{key:"handleHelpBoxEvent",value:function(e){var t=this,r=e.detail.autosaveEnabled;this.setState({autosaveEnabled:r},function(){r&&(t.storyEditor.hasUnsavedChanges()&&t.handleSubmit(null,!1),t._dismissPePanel())})}},{key:"handleNavClick",value:function(e){"#story"===window.location.hash&&(this.state.saving||this.storyEditor.hasUnsavedChanges())&&(confirm("There are unsaved changes\nAre you sure you want to move away?")?(this.handleSubmitComplete(!1),this.storyEditor.__resetEditorState(this._lastSavedState)):e.preventDefault())}},{key:"handleSubmit",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.state.saving||this._toggleSaveState(!0);var n=this.storyEditor.getEditorContent();return(0,u.default)(n).then(function(e){if(document){var r=document.querySelector(".pe-panel");r&&r.dispatchEvent(new CustomEvent("dismiss"))}return Promise.all([e,(0,f.patchStory)(t.props.projectHid,e)])}).then(function(e){var n=h(e,1)[0];t._lastSavedState=n,t.handleSubmitComplete(r)}).catch(function(e){t._toggleSaveState(!1),t.storyEditor.triggerMessenger("Woops, your project didn't save correctly!","error")})}},{key:"handleSubmitComplete",value:function(e){this._toggleSaveState(!1),this._dismissPePanel(),this._serializeJQueryForm(),e&&this.storyEditor.triggerMessenger("Saved successfully!","success")}},{key:"_dismissPePanel",value:function(){window&&window.pe&&window.pe.isSavePanelShown()&&"#story"===window.location.hash&&window.pe.hideSavePanel()}},{key:"_showPePanel",value:function(){window&&window.pe&&!1===window.pe.isSavePanelShown()&&void 0!==window.$serializedForm&&"#story"===window.location.hash&&!1===this.state.saving&&(window.$serializedForm+=" ",window.pe.showSavePanel())}},{key:"_serializeJQueryForm",value:function(){window&&window.pe&&void 0!==window.$serializedForm&&"#story"===window.location.hash&&(window.pe.serializeForm(),window.pe.updateChecklist())}},{key:"_toggleSaveState",value:function(e){e?(this._togglePeSaveState(!0),this.setState({saving:!0},function(){return(0,d.dispatchEvent)("StoryEditorRequest",{isEditorBusy:!0})})):(this._togglePeSaveState(!1),this.setState({saving:!1},function(){return(0,d.dispatchEvent)("StoryEditorRequest",{isEditorBusy:!1})}))}},{key:"_togglePeSaveState",value:function(e){if(this.state.autosaveEnabled){var t=document.querySelectorAll("#story .pe-save2")[0];if(!t)return;var r=t.querySelector(".pe-submit");if(!r)return;e?(r.innerText="Saving...",r.setAttribute("disabled",!0)):(r.innerText="Save changes",r.removeAttribute("disabled"))}}},{key:"render",value:function(){var e=this;return this.state.shouldRender?n.default.createElement("div",null,n.default.createElement("input",{ref:function(t){return e._docXInput=t},id:"docXFileInput",style:{display:"none"},accept:".docx,application/vnd.openxmlformats-officedocument.wordprocessingml.document",type:"file",onChange:this.handleDocXUpload}),n.default.createElement(o.default,{ref:function(t){return e.storyEditor=t},config:this.config})):null}}])&&y(r.prototype,a),p&&y(r,p),t}();b.propTypes={AWSAccessKeyId:a.default.string.isRequired,S3BucketURL:a.default.string.isRequired,initAutoSaveEnabled:a.default.bool,projectHid:a.default.string.isRequired,projectId:a.default.number.isRequired},b.defaultProps={initAutoSaveEnabled:!0};var O=b;t.default=O},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).progressFn,r=void 0===t?function(){}:t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queue=[],this.onProgressUpdate=r,this._processing=!1}var t,r,a;return t=e,(r=[{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.queue.push({args:t,promise:e,resolve:r,reject:n}),this._processQueue()}},{key:"_queueNextOrQuit",value:function(){this.queue.length>0?this._resolveQueue():this._processing=!1}},{key:"_processQueue",value:function(){this._processing||(this._processing=!0,this._resolveQueue())}},{key:"_propagateProgress",value:function(){this.onProgressUpdate({size:this.queue.length})}},{key:"_resolveQueue",value:function(){var e=this,t=this.queue.shift(),r=t.args,n=t.promise,a=t.resolve,o=t.reject;return n.apply(null,r).then(function(t){a(t),e._propagateProgress(),e._queueNextOrQuit()}).catch(function(t){o(t),e._propagateProgress(),e._queueNextOrQuit()})}}])&&n(t.prototype,r),a&&n(t,a),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,r){var n=e.target.files[0];return i(n).then(function(e){return a.default.convertToHtml({arrayBuffer:e},o)}).then(function(e){return t(e.value)}).catch(function(e){return r(e)})})};var n,a=(n=r(2039))&&n.__esModule?n:{default:n};var o={styleMap:["p[style-name^='Heading'] => h3:fresh"]},i=function(e){return new Promise(function(t,r){var n=new FileReader;n.addEventListener("error",function(e){r(e)}),n.addEventListener("loadend",function(e){t(e.currentTarget.result)}),n.readAsArrayBuffer(e)})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patchStory=function(e,t){return a.default.apiRequest(n.default.patch("".concat(a.default.getApiPath(),"/v2/projects/").concat(e)).send({story_json:JSON.stringify(t)}),!0,!1)};var n=o(r(35)),a=o(r(40));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=h(r(1)),o=h(r(138)),i=h(r(88)),l=h(r(9)),u=r(12),s=r(18),c=h(r(10)),d=h(r(262)),f=h(r(2)),p=h(r(3)),m=h(r(935));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=["docX"],w=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=_(t).call(this,e))||"object"!==y(a)&&"function"!=typeof a?v(n):a).state={autosaveEnabled:e.initAutoSaveEnabled,boundary:null,isEditorBusy:!1,isFixed:!1,show:!1,showTips:!1},r.handleHashChange=r.handleHashChange.bind(v(r)),r.handleStoryEditorRequest=r.handleStoryEditorRequest.bind(v(r)),r.onAutoCompleteChange=r.onAutoCompleteChange.bind(v(r)),r.onScroll=r.onScroll.bind(v(r)),r.root,r}var r,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.throttledScroll=(0,o.default)(this.onScroll,50),window.addEventListener("scroll",this.throttledScroll),window.addEventListener("hashchange",this.handleHashChange),window.addEventListener("StoryEditorRequest",this.handleStoryEditorRequest),this._verifyHash()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.throttledScroll),window.removeEventListener("hashchange",this.handleHashChange),window.removeEventListener("StoryEditorRequest",this.handleStoryEditorRequest)}},{key:"_getPrevSiblingDims",value:function(){if(!this.state.boundary&&this.root&&this.root.parentNode&&this.root.parentNode.parentNode){var e=this.root.parentNode.parentNode.querySelector(".box");if(e){var t=e.getBoundingClientRect(),r=t.top+t.height+window.scrollY;this.setState({boundary:r})}}}},{key:"_verifyHash",value:function(){var e=this;this.state.show||"#story"!==u.windowLocationHash.get()?this.state.show&&"#story"!==u.windowLocationHash.get()&&this.setState({show:!1}):this.setState({show:!0},function(){return e._getPrevSiblingDims()})}},{key:"handleHashChange",value:function(){this._verifyHash()}},{key:"handleStoryEditorRequest",value:function(e){var t=e.detail.isEditorBusy;this.state.isEditorBusy!==t&&this.setState({isEditorBusy:t})}},{key:"onAutoCompleteChange",value:function(e){(0,s.dispatchEvent)("StoryHelpBox",{autosaveEnabled:e.target.checked}),this.setState({autosaveEnabled:e.target.checked})}},{key:"onScroll",value:function(){if(this.state.boundary){var e=window.scrollY;e<=this.state.boundary&&this.state.isFixed?this.setState({isFixed:!1}):e>this.state.boundary&&!this.state.isFixed&&this.setState({isFixed:!0})}}},{key:"_autocompleteCopy",value:function(){return this.state.autosaveEnabled?"Autosave on":"Autosave off"}},{key:"handleDocXClick",value:function(){var e=document.getElementById("docXFileInput");e&&e.click()}},{key:"_onOptClick",value:function(e){switch(e){case"docX":return this.handleDocXClick();default:return}}},{key:"_statusCopy",value:function(){return this.state.isEditorBusy?n.default.createElement("span",{className:m.default.saving},"Saving..."):"Saved"}},{key:"_getLabelForOpt",value:function(e){switch(e){case"docX":return"Upload docx file"}}},{key:"render",value:function(){var e=this;return this.state.show?n.default.createElement("div",{ref:function(t){return e.root=t},className:"".concat(m.default.helpBox," ").concat(this.state.isFixed?m.default.fixed:"")},n.default.createElement("div",{className:f.default.flex10Auto},n.default.createElement("div",null,n.default.createElement("label",{className:m.default.autosaveLabel},n.default.createElement("input",{className:m.default.autosaveInput,checked:this.state.autosaveEnabled,disabled:this.state.isEditorBusy,type:"checkbox",onChange:this.onAutoCompleteChange}),this._autocompleteCopy())),n.default.createElement("div",{className:m.default.statusWrapper},n.default.createElement("span",null,"Status: "),n.default.createElement("strong",null,this._statusCopy())),this.state.showTips&&n.default.createElement("ul",{className:m.default.tips},n.default.createElement("li",null,n.default.createElement("strong",null,"Undo"),": Ctrl or Cmd+Z"),n.default.createElement("li",null,n.default.createElement("strong",null,"Redo"),": Ctrl or Cmd+Shift+Y"),n.default.createElement("li",null,n.default.createElement("strong",null,"Save"),": Ctrl or Cmd+S")),n.default.createElement("button",{className:"".concat(c.default.blank),onClick:function(){return e.setState({showTips:!e.state.showTips})}},n.default.createElement("span",{className:"".concat(p.default.bodyS," ").concat(p.default.linkBlue)},"".concat(this.state.showTips?"Hide":"Show"," tips")))),n.default.createElement("div",null,n.default.createElement(i.default,{alignRight:!0,classList:{button:c.default.blank},closeOnSelect:!0,label:n.default.createElement(l.default,{className:p.default.iconClickable,name:"view-more",size:12})},n.default.createElement("ul",{className:d.default.list},O.map(function(t,r){return n.default.createElement("li",{key:r,className:d.default.listItem,onClick:function(){return e._onOptClick(t)}},e._getLabelForOpt(t))}))))):null}}])&&g(r.prototype,a),h&&g(r,h),t}();w.propTypes={initAutoSaveEnabled:a.default.bool},w.defaultProps={initAutoSaveEnabled:!0};var E=w;t.default=E},function(e,t,r){"use strict";var n=l(r(2134)),a=l(r(2135)),o=l(r(705)),i=l(r(2136));function l(e){return e&&e.__esModule?e:{default:e}}(0,n.default)(),(0,a.default)(),(0,i.default)(),(0,o.default)()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){!(0,o.doesBodyHaveUserId)()&&(0,o.doesWindowLocationHaveParam)("logged_out")&&a.default.clearApiTokens()};var n,a=(n=r(40))&&n.__esModule?n:{default:n},o=r(12)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,a.doesBodyHaveUserId)()&&n.default.getStoreAsync().catch(function(e){return(0,o.default)("initCurrentUser fetchCurrentUser: ",e)})};var n=i(r(48)),a=r(12),o=i(r(7));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e in a.default)(0,o.renderReact)(e,a.default[e])};var n,a=(n=r(2137))&&n.__esModule?n:{default:n},o=r(2544)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=B(r(2138)),a=B(r(2141)),o=B(r(2157)),i=B(r(2214)),l=B(r(2215)),u=B(r(2232)),s=B(r(2235)),c=B(r(2239)),d=B(r(2255)),f=B(r(2264)),p=B(r(2304)),m=B(r(2331)),h=B(r(2342)),y=B(r(2345)),g=B(r(2353)),_=B(r(991)),v=B(r(895)),b=B(r(2387)),O=B(r(900)),w=B(r(2392)),E=B(r(2396)),P=B(r(2410)),k=B(r(2419)),S=B(r(2422)),C=B(r(2439)),j=B(r(2446)),R=B(r(2448)),T=B(r(2494)),N=B(r(2495)),M=B(r(2499)),A=B(r(2504)),I=B(r(89)),x=B(r(2538)),D=B(r(2539)),q=B(r(2541)),L=B(r(2542));function B(e){return e&&e.__esModule?e:{default:e}}var F={BusinessCards:n.default,CategoryTagDropdown:a.default,ChannelPage:o.default,ContentTypeSelector:i.default,ContestBriefPage:l.default,ContestEntrySubmitForm:u.default,ContestIdeaForm:c.default,ContestIdeaPage:s.default,ContestIdeasPage:d.default,Dashboard:f.default,EditAds:p.default,EditEvents:m.default,EditVideos:h.default,EventsHomePage:y.default,HomeEditSections:g.default,HomePage:_.default,ImageCarousel:v.default,MobileNav:b.default,ModularAd:O.default,NewsArticlePage:w.default,NewsHomePage:E.default,NewsHomeEditPage:P.default,NotificationDropdown:k.default,OnboardWizard:S.default,PlatformEditHome:C.default,Projects:j.default,Search:R.default,SearchInput:T.default,TopicEditHome:N.default,TopNav:M.default,UserProfile:A.default,UserRelationButton:I.default,VideoPage:x.default,VideosPage:D.default,WhitelabelPage:q.default,WhitelabelSearchInput:L.default};t.default=F},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(451)),i=s(r(2139)),l=s(r(64)),u=s(r(2));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?p(n):a).setIndex=r.setIndex.bind(p(r)),r.state={activeIndex:0},r}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.Component),r=t,(a=[{key:"_isCardActive",value:function(e){return this.props.tabs[this.state.activeIndex].activeCards.includes(e)}},{key:"setIndex",value:function(e){this.setState({activeIndex:e})}},{key:"render",value:function(){var e=this;return n.default.createElement("div",null,n.default.createElement(o.default,{activeIndex:this.state.activeIndex,centered:!0,onClick:this.setIndex,tabs:this.props.tabs.map(function(e){return e.title})}),n.default.createElement("div",{className:"".concat(l.default.grid," ").concat(l.default.guttersH15," ").concat(l.default.guttersV15," ").concat(u.default.flexJustifyCenter," ").concat(u.default.marginTop45)},this.props.items.map(function(t,r){return n.default.createElement("div",{key:r,className:"".concat(l.default.cell," ").concat(l.default.cell_1," ").concat(l.default.cell_1_2_sm," ").concat(l.default.cell_1_3_md)},n.default.createElement(i.default,{item:t,active:e._isCardActive(r)}))})))}}])&&d(r.prototype,a),s&&d(r,s),t}();h.propTypes={items:a.default.arrayOf(a.default.shape({title:a.default.string,description:a.default.string,iconUrl:a.default.string,linkUrl:a.default.string,linkStatus:a.default.string})).isRequired,tabs:a.default.arrayOf(a.default.shape({title:a.default.string,activeCards:a.default.arrayOf(a.default.number)})).isRequired},h.defaultProps={};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(30)),i=d(r(50)),l=d(r(10)),u=d(r(2)),s=d(r(3)),c=d(r(2140));function d(e){return e&&e.__esModule?e:{default:e}}var f="".concat(c.default.body," ").concat(s.default.bodyM),p="".concat(l.default.md," ").concat(c.default.inactiveButton),m="".concat(c.default.header," ").concat(u.default.flexCenterItems," ").concat(u.default.marginTop30," ").concat(u.default.marginBottom15),h="".concat(c.default.lazyImage," ").concat(u.default.marginBottom10),y=function(e){var t=e.active,r=e.item;return n.default.createElement("div",{className:"".concat(c.default.wrapper," ").concat(t&&"active"===r.linkStatus?c.default.active:"")},n.default.createElement("div",{className:"".concat(i.default.cardWithBorder," ").concat(i.default.cardBody)},n.default.createElement("div",{className:m},n.default.createElement(o.default,{alt:r.title,className:h,ratio:"1:1",src:r.iconUrl,width:150}),n.default.createElement("span",{className:s.default.h4},r.title)),n.default.createElement("section",{className:f},r.description),n.default.createElement("div",{className:i.default.spacer}),"active"===r.linkStatus?n.default.createElement("a",{className:l.default.md,href:r.linkUrl},"Learn more"):"inactive"===r.linkStatus?n.default.createElement("button",{className:p,disabled:!0},"Coming soon"):null),n.default.createElement("div",{className:"".concat(c.default.overlay," ").concat(t?c.default.hidden:"")}))};y.propTypes={active:a.default.bool,item:a.default.shape({description:a.default.string,iconUrl:a.default.string,linkUrl:a.default.string,linkStatus:a.default.string,title:a.default.string}).isRequired},y.defaultProps={active:!1};var g=y;t.default=g},function(e,t,r){e.exports={asphalt:"#D8D8D8",wrapper:"more_info_card__wrapper__1Ybx- cards__wrapper__ybxCu",active:"more_info_card__active__2XcJP",body:"more_info_card__body__1Oq3z",inactiveButton:"more_info_card__inactiveButton__uRIjA",header:"more_info_card__header__3xLzr",lazyImage:"more_info_card__lazyImage__1NcV- cards__lazyImage__2l9WG",overlay:"more_info_card__overlay__2-c7J",hidden:"more_info_card__hidden__2RwJG"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=r(513),i=f(r(42)),l=f(r(2150)),u=r(2153),s=r(2154),c=r(2155),d=f(r(2156));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=!(a=g(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?_(n):a;var o=(0,c.initOptions)(e.tags),i=o.selected,l=o.markedForDeletion;return r.state={showDialog:!1,selectedTags:i,validationError:!1},r.dismissDialog=r.dismissDialog.bind(_(r)),r.generateHiddenFields=r.generateHiddenFields.bind(_(r)),r.getSearchResults=r.getSearchResults.bind(_(r)),r.handleSelection=r.handleSelection.bind(_(r)),r.handlePreventSubmit=r.handlePreventSubmit.bind(_(r)),r.summonDialog=r.summonDialog.bind(_(r)),r.tagReference=[].concat(h(i),h(l)),r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){window&&window.addEventListener&&window.addEventListener("submit",this.handlePreventSubmit)}},{key:"componentWillUnmount",value:function(){window&&window.removeEventListener&&window.removeEventListener(this.handlePreventSubmit)}},{key:"dismissDialog",value:function(){this.setState({showDialog:!1})}},{key:"getSearchResults",value:function(e){var t=(0,c.formatSearchInput)(e);return(0,s.fetchSearchResults)(t).then(function(e){var t=e.hits;return{options:(0,c.formatOptions)(t,!0)}}).catch(function(e){return console.error("Fetch search error: ",e)})}},{key:"generateHiddenFields",value:function(){var e=this.state.selectedTags.reduce(function(e,t){return Object.assign({},e,m({},t.value,t))},{}),t=this.tagReference.reduce(function(e,t){return Object.assign({},e,m({},t.value,t))},{}),r=(0,u.createDiffArray)(e,t);(0,u.appendAdditionalInputs)(r)}},{key:"handlePreventSubmit",value:function(e){this.state.validationError?(0,u.preventSubmit)(e):document&&document.body&&this.generateHiddenFields()}},{key:"handleSelection",value:function(e){this.setState({selectedTags:e,validationError:(0,u.createValidationErrors)(e)})}},{key:"handleKeyDown",value:function(e){switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation();break;default:return}}},{key:"summonDialog",value:function(){this.setState({showDialog:!0})}},{key:"render",value:function(){var e=this.props,t=e.creatable,r=e.errors;return n.default.createElement("div",null,n.default.createElement("div",{id:"category-tag-select",className:"form-group ".concat(r&&r.length?"has-error":"")},n.default.createElement("div",{className:"col-sm-4"},n.default.createElement("label",{className:"string optional control-label",htmlFor:"project_category"},"Tags")),n.default.createElement("div",{className:"col-sm-8"},n.default.createElement("div",{className:"input-group",style:{width:"100%"}},this.state.validationError&&n.default.createElement("div",{className:d.default.errorMessage},this.state.validationError),n.default.createElement(o.AsyncSelect,{addInitialValueAsOption:!1,classList:{formGroup:d.default.formGroup,inputControl:d.default.control,active:d.default.active,activeMenuOpen:d.default.activeMenuOpen},creatable:t,filterOptions:c.filterOptions,handleKeyDown:this.handleKeyDown,loadOptions:this.getSearchResults,loadOptionsExternally:!0,minimumInput:1,multi:!0,onChange:this.handleSelection,showLoadingText:!0,simpleValue:!1,value:this.state.selectedTags})),n.default.createElement("span",{className:"help-block"},n.default.createElement("span",null,"Select up to five additional ",n.default.createElement("strong",null,"topic")," or ",n.default.createElement("strong",null,"technology")," tags to categorize your project. "),t?n.default.createElement("strong",null,"You have the ability to create new tags. "):n.default.createElement("span",null,n.default.createElement("a",{href:"javascript:void(0)",onClick:this.summonDialog},"Suggest a new tag")," if we don't already have it, or "),n.default.createElement("a",{href:"http://help.hackster.io/knowledgebase/posting-a-project/learn-more-about-tags"},"Learn more about tags"),"."),!!r&&r.map(function(e,t){return n.default.createElement("span",{key:t,className:"help-block"},e)}))),n.default.createElement(i.default,{dismiss:this.dismissDialog,open:this.state.showDialog},n.default.createElement(l.default,{dismiss:this.dismissDialog,project_id:this.props.project_id})))}}])&&y(r.prototype,a),f&&y(r,f),t}();t.default=b,b.propTypes={creatable:a.default.bool,errors:a.default.array,project_id:a.default.number.isRequired,tags:a.default.arrayOf(a.default.shape({id:a.default.oneOfType([a.default.string,a.default.number]),marked_for_deletion:a.default.bool,name:a.default.string,projects_count:a.default.number,tagging_cue_id:a.default.number}))},b.defaultProps={creatable:!1,errors:[],tags:[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=l(r(377)),i=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==u(a)&&"function"!=typeof a?p(n):a).state={options:[]},r.findOptionsInCache=r.findOptionsInCache.bind(p(r)),r.handleLoadOptions=r.handleLoadOptions.bind(p(r)),r.handleLoadSuccess=r.handleLoadSuccess.bind(p(r)),r.loadMore=r.loadMore.bind(p(r)),r.onInputChange=r.onInputChange.bind(p(r)),r.updateOptions=r.updateOptions.bind(p(r)),r._cache={},r._lastRequest,r}var r,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){this.props.autoload&&this._initializeOptions()}},{key:"_initializeOptions",value:function(){this.loadMore("")}},{key:"findOptionsInCache",value:function(e,t){return this._cache.hasOwnProperty(e)?this._cache[e]:this.props.searchInCache&&this._cache.hasOwnProperty(t)?this._cache[t]:[]}},{key:"loadMore",value:function(e){var t=this.handleLoadSuccess(e);this.props.loadOptions(e).then(function(e){var r=e.options;return t(null,r)}).catch(function(e){return(0,i.default)("Error fetching in AsyncSelect",e)})}},{key:"handleLoadOptions",value:function(e){var t=e.slice(0,e.length-1).trim(),r=this.findOptionsInCache(e,t);r.length?this.updateOptions(r,e):(this.setState({loading:!0}),this.loadMore(e))}},{key:"handleLoadSuccess",value:function(e){var t=this,r=function r(n,a){r===t._lastRequest?(t._lastRequest=null,t.updateOptions(a||[],e)):a&&(t._cache[e]=a)};return this._lastRequest=r,r}},{key:"onInputChange",value:function(e,t){return e.length>=this.props.minimumInput&&this.handleLoadOptions(e),this.props.multi||this.props.onChange("",t),e}},{key:"updateOptions",value:function(e,t){this._cache[t]=e,this.setState({options:e,loading:!1})}},{key:"render",value:function(){var e=this.props,t=e.minimumInput,r=c(e,["minimumInput"]);return a.default.createElement(o.default,s({loading:this.state.loading,loadOptionsExternally:!0,minimumInput:t,onInputChange:this.onInputChange,options:this.state.options,searchable:!0},r))}}])&&d(r.prototype,n),l&&d(r,l),t}();h.propTypes={autoload:n.default.bool,loadOptions:n.default.func.isRequired,minimumInput:n.default.number,searchInCache:n.default.bool},h.defaultProps={autoload:!1,minimumInput:0,searchInCache:!1};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(1)),a=i(r(0)),o=i(r(21));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.children,r=e.classList,n=e.countLabel,i=e.disabled,l=e.errors,u=e.help,s=e.id,c=e.label,d=e.name,f=e.required,p=Object.assign({},o.default,r);return a.default.createElement("div",{id:s,className:p.formGroup},function(e){var t=e.disabled,r=e.label,n=e.name,o=e.required,i=e.styles;return r&&a.default.isValidElement(r)?a.default.cloneElement(r,{htmlFor:n}):r&&"string"==typeof r?a.default.createElement("label",{className:t?i.labelDisabled:i.label,htmlFor:n},"".concat(r).concat(o?"*":"")):null}({disabled:i,label:c,name:d,required:f,styles:p}),t,a.default.createElement("div",{className:p.msgWrapper},a.default.createElement("div",null,l.map(function(e,t){return a.default.createElement("div",{key:"error-".concat(t),className:p.error},e)}),u.length>0&&a.default.createElement("div",{className:p.help},u)),n.length>0&&a.default.createElement("div",{className:"".concat(p.countLabel," ").concat(l.length>0?p.hasError:"")},n)))};l.propTypes={classList:n.default.shape({formGroup:n.default.string,label:n.default.string,labelDisabled:n.default.string,help:n.default.string,error:n.default.string}),countLabel:n.default.string,disabled:n.default.bool,errors:n.default.array,help:n.default.string,id:n.default.string,label:n.default.oneOfType([n.default.string,n.default.element]),name:n.default.string,required:n.default.bool},l.defaultProps={classList:{},countLabel:"",disabled:!1,errors:[],id:null,label:"",help:"",name:"",required:!1};var u=l;t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),a=l(r(0)),o=l(r(2145)),i=l(r(936));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){var t=e.className,r=e.disabled,n=e.inputRef,l=e.inputProps,s=e.name,c=e.onChange,d=e.placeholder,f=e.required,p=e.type,m=e.value;return a.default.createElement(o.default,u({ref:function(e){return n(e)},className:t,disabled:r,inputClassName:i.default.input,name:s,onChange:c,placeholder:d,required:f,style:{display:"inline-flex"},type:p,value:m||""},l))};s.propTypes={className:n.default.string,inputRef:n.default.func,name:n.default.string,onChange:n.default.func,placeholder:n.default.string,required:n.default.bool,type:n.default.string,value:n.default.string},s.defaultProps={inputRef:function(){},name:"",onChange:function(){},placeholder:"",required:!1,type:"text",value:""};var c=s;t.default=c},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=u(r(9)),i=r(937),l=u(r(2147));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?f(n):a).handleMouseDown=r.handleMouseDown.bind(f(r)),r.repositionUp=r.repositionUp.bind(f(r)),r.repositionDown=r.repositionDown.bind(f(r)),r._focusedOption,r._menu,r}var r,n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidUpdate",value:function(){this.repositionOptionIntoView()}},{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"repositionOptionIntoView",value:function(){var e=this._menu&&this._menu.getBoundingClientRect(),t=this._focusedOption&&this._focusedOption.getBoundingClientRect();e&&t&&(this.repositionDown(e,t),this.repositionUp(e,t))}},{key:"repositionDown",value:function(e,t){var r=e.top+e.height,n=t.bottom;n>r&&(this._menu.scrollTop=this._menu.scrollTop+(n-r))}},{key:"repositionUp",value:function(e,t){var r=e.top,n=t.top;n<r&&(this._menu.scrollTop=this._menu.scrollTop-(r-n))}},{key:"render",value:function(){var e=this;if(!this.props.open)return null;var t=this.props,r=t.classList,n=t.focusedOption,u=t.hasErrors,s=t.loading,c=t.loadingText,d=t.multi,f=t.multiValues,p=t.noOptionsText,m=t.onMouseOver,h=t.onSelect,y=t.options,g=t.showLoadingText,_=t.style,v=Object.assign({},l.default,r);return a.default.createElement("div",{className:"".concat(v.menu," ").concat(u?v.errorMenu:""),ref:function(t){return e._menu=t},onMouseDown:this.handleMouseDown,style:_},y.length&&!s?y.map(function(t,r){var l=!!f[t.label]||!!f[(0,i.getLabelFromValue)(t.value)];return a.default.createElement("div",{ref:function(t){return r===n?e._focusedOption=t:null},className:"".concat(v.option," ").concat(r===n?v.focusedOption:""),key:"select-menu-option-".concat(r),onMouseOver:function(e){return m(e,r)},onClick:function(e){return t.disabled?function(){}:h(e,t)}},d&&a.default.createElement("div",{className:v.checkBox},l&&a.default.createElement(o.default,{name:"checkmark",size:"fill"})),a.default.createElement("span",{className:v.optionLabel},t.optionLabel||t.label))}):a.default.createElement("div",{className:v.option,key:"select-menu-no-option"},s&&g?c:p))}}])&&c(r.prototype,n),u&&c(r,u),t}();t.default=m,m.propTypes={classList:n.default.shape({menu:n.default.string,errorMenu:n.default.string,option:n.default.string,focusedOptions:n.default.string}),focusedOption:n.default.number,hasErrors:n.default.bool,loading:n.default.bool,loadingText:n.default.string,multi:n.default.bool,multiValues:n.default.object,noOptionsText:n.default.string,onMouseOver:n.default.func,onSelect:n.default.func,open:n.default.bool,options:n.default.array},m.defaultProps={classList:{},focusedOption:0,hasErrors:!1,loading:!1,loadingText:"Searching...",multi:!1,multiValues:{},noOptionsText:"No results found",onMouseOver:function(){},onSelect:function(){},open:!1,options:[]}},function(e,t,r){e.exports={hackster:"#2E9FE6",error:"#D0021B",menu:"menu__menu___14gv",errorMenu:"menu__errorMenu__Qp7IE menu__menu___14gv",option:"menu__option__2PzfY",checkBox:"menu__checkBox__36p3O",optionLabel:"menu__optionLabel__17SLa",focusedOption:"menu__focusedOption__36HLU"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),a=l(r(0)),o=l(r(9)),i=l(r(2149));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.label,r=e.removeOption;return a.default.createElement("div",{className:i.default.selectedOption},a.default.createElement("span",{className:i.default.selectedOptionLabel},t),a.default.createElement("span",{onClick:r,className:i.default.selectedOptionRemove},a.default.createElement(o.default,{name:"close",size:12})))};u.propTypes={label:n.default.string,removeOption:n.default.func},u.defaultProps={label:"",removeOption:function(){}};var s=u;t.default=s},function(e,t,r){e.exports={charcoal:"#111",selectedOption:"value__selectedOption__3vVh2",selectedOptionLabel:"value__selectedOptionLabel__3f0Bd",selectedOptionRemove:"value__selectedOptionRemove__2UjAw"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=h(r(1)),o=h(r(143)),i=h(r(38)),l=r(2151),u=r(71),s=r(85),c=r(14),d=r(18),f=h(r(2)),p=h(r(3)),m=h(r(2152));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O={name:{validate:function(){return null},value:""},description:{validate:function(){return null},notRequired:!0,value:""}},w=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=_(t).call(this,e))||"object"!==y(a)&&"function"!=typeof a?v(n):a).state=r._initialState(),r.handleDismiss=r.handleDismiss.bind(v(r)),r.handleSubmit=r.handleSubmit.bind(v(r)),r.getErrorForField=s.getErrorForField.bind(v(r)),r.getFieldValuesAsObject=s.getFieldValuesAsObject.bind(v(r)),r.setStateOrError=s.setStateOrError.bind(v(r)),r.validateFields=s.validateFields.bind(v(r)),r}var r,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n.Component),r=t,(a=[{key:"_initialState",value:function(){return{errors:{},fields:(0,s.initFields)(O),formError:"",isBusy:!1}}},{key:"handleDismiss",value:function(){this.setState(this._initialState()),this.props.dismiss()}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!this.state.isBusy)return this.validateFields({doScroll:!1})?this._submitForm():void 0}},{key:"_submitForm",value:function(){var e=this,t=this.getFieldValuesAsObject(),r=t.name,n=t.description,a=this.props.project_id;return this.setState({isBusy:!0}),(0,c.graphMutate)((0,l.createSuggestedTag)(),{name:r,description:n,project_id:a}).then(function(){e.handleDismiss(),(0,d.summonGlobalMessenger)({msg:"Category suggestion submitted successfully"})}).catch(function(t){e.setState({formError:t.message,isBusy:!1})})}},{key:"render",value:function(){var e=this,t=this.state,r=t.formError,a=t.isBusy;return n.default.createElement("div",{style:{maxWidth:570}},n.default.createElement("header",{className:f.default.marginBottom30},n.default.createElement("h2",{className:p.default.h2},"Suggest a tag")),n.default.createElement("section",{className:"".concat(f.default.marginBottom30," ").concat(p.default.bodyM)},n.default.createElement("p",{className:f.default.marginBottom10},"Before suggesting a new tag, please be sure that a close variant does not already exist. Tags should be about topics or technical features, not products or brands–those are identified automatically. Good tags are also brief and specific enough to differentiate your project from others."),n.default.createElement("p",null,"To learn more about our tags, check out our ",n.default.createElement("a",{className:p.default.linkBlue,href:"http://help.hackster.io/knowledgebase/posting-a-project/learn-more-about-tags"},"knowledge base"),".")),n.default.createElement("section",{className:"".concat(f.default.flex," ").concat(f.default.marginBottom30)},n.default.createElement("section",{className:m.default.column},n.default.createElement("h4",{className:"".concat(p.default.h4," ").concat(f.default.marginBottom10)},"Good"),n.default.createElement("section",{className:f.default.marginBottom10},n.default.createElement("p",{className:p.default.bodyM},"robotics"),n.default.createElement("p",{className:"".concat(p.default.bodyS," ").concat(p.default.success)},"Represents a subject")),n.default.createElement("section",{className:f.default.marginBottom10},n.default.createElement("p",{className:p.default.bodyM},"security"),n.default.createElement("p",{className:"".concat(p.default.bodyS," ").concat(p.default.success)},"Represents a specific field"))),n.default.createElement("section",{className:m.default.column},n.default.createElement("h4",{className:"".concat(p.default.h4," ").concat(f.default.marginBottom10)},"Bad"),n.default.createElement("section",{className:f.default.marginBottom10},n.default.createElement("p",{className:p.default.bodyM},"arduino"),n.default.createElement("p",{className:"".concat(p.default.bodyS," ").concat(p.default.error)},"Will be added automatically")),n.default.createElement("section",{className:f.default.marginBottom10},n.default.createElement("p",{className:p.default.bodyM},"internet of things"),n.default.createElement("p",{className:"".concat(p.default.bodyS," ").concat(p.default.error)},"Far too broad")))),n.default.createElement("form",{onSubmit:this.handleSubmit},n.default.createElement(i.default,{errors:this.state.errors.name,label:"Tag name",name:"name",onChange:function(t){return e.setStateOrError(null,"name",t.target.value)},value:this.state.fields.name.value}),n.default.createElement(i.default,{element:"textarea",errors:this.state.errors.description,label:"Description",name:"description",onChange:function(t){return e.setStateOrError(null,"description",t.target.value)},value:this.state.fields.description.value}),n.default.createElement(o.default,{isBusy:a,primaryBtnConfig:{onClick:this.handleSubmit,text:"Create event"},secondaryBtnConfig:{onClick:this.handleDismiss}}),(0,u.getFormErrorView)(r)))}}])&&g(r.prototype,a),h&&g(r,h),t}();w.propTypes={dismiss:a.default.func,project_id:a.default.number.isRequired},w.defaultProps={dismiss:function(){}};var E=w;t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSuggestedTag=function(){return"mutation createSuggestedTag($description: String, $name: String!, $project_id: Int!) { createSuggestedTag(description: $description, name: $name, project_id: $project_id) { id }}"}},function(e,t,r){e.exports={column:"suggest_tag_form__column__3uD-T"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendAdditionalInputs=function(e){if(document&&document.getElementById){if(document.getElementById("additional-input"))return;return document.getElementById("category-tag-select").appendChild(u(e)),!1}},t.createDiffArray=function(e,t,r){return Object.keys(Object.assign({},t,e)).reduce(function(r,n){var a=function(e,t){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(a=r)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),[Object.assign({},e[n],{type:t})]);var a};return e[n]&&t[n]&&"saved"===t[n].status?r:e[n]?a(e,"create"):!e[n]&&t[n]&&"pending_creation"!==t[n].status?a(t,"delete"):r},[])},t.createValidationErrors=function(e){return e&&e.length>5?"Remember, five tags at most!":!!function(e){if(!e)return!1;var t={},r=!1,n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var u=i.value;if(t[u.value]){r=!0;break}t[u.value]=!0}}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e)&&"Remember to make sure that each tag is unique!"},t.handleInputFieldGeneration=u,t.preventSubmit=function(e){e.preventDefault();var t=$("#category-tag-select"),r=t.offset().top-(window.innerHeight/2-t.height()/2);return(0,a.default)(r),!1};var n,a=(n=r(28))&&n.__esModule?n:{default:n};function o(e,t){var r=e.id?"tag_relations_attributes":"new_tags_attributes",n=e.id?"tag_id":"name",a=e.id?e.id:e.value;if(document&&document.createElement){var o=document.createElement("input");return o.setAttribute("name","project[".concat(r,"][").concat(t,"][").concat(n,"]")),o.setAttribute("value",a),o.setAttribute("type","hidden"),o}}function i(e,t,r){var n=r>0?"id":"_destroy",a=!(r>0)||e.cue_id;if(document&&document.createElement){var o=document.createElement("input");return o.setAttribute("name","project[".concat("tag_relations_attributes","][").concat(t,"][").concat(n,"]")),o.setAttribute("value",a),o.setAttribute("type","hidden"),o}}function l(e,t,r){if(document&&document.getElementById){for(var n="create"===r?1:2,a=document.createElement("div"),l="create"===r?o:i,u=0;u<n;u++)a.appendChild(l(e,t,u));return a}}function u(e){if(document&&document.createElement){var t=document.createElement("div");return t.setAttribute("id","additional-input"),e.forEach(function(e,r){e.type&&"create"===e.type?t.appendChild(l(e,r,"create")):t.appendChild(l(e,r,"destroy"))}),t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSearchResults=function(e,t,r){var n=e.toLowerCase();return(0,a.default)({index:"tags",query:n})};var n,a=(n=r(124))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t.trim().length)return e;var o=(0,n.normalizeString)(t),i=e.reduce(function(e,t){var r=(0,n.normalizeString)(t.label);return{filtered:[].concat(a(e.filtered),[t]),exactMatch:!!e.exactMatch||r===o}},{filtered:[],exactMatch:!1}),l=i.filtered,u=i.exactMatch;return r&&!u?[].concat(a(l),[(0,n.createNewOption)(t)]):l},t.formatOptions=function(e){return e.map(function(e){return i(e)})},t.initOptions=function(e,t){if(!e)return[];return e.reduce(function(e,t){var r=i(t);return Object.assign({},e,{selected:[].concat(a(e.selected),a(l(r))),markedForDeletion:[].concat(a(e.markedForDeletion),a(u(r)))})},{selected:[],markedForDeletion:[]})},t.formatSearchInput=function(e){return e.replace(/\s+/g," ").trim()};var n=r(938);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){var t=e.projects_count>1e3?"".concat((e.projects_count/1e3).toFixed(1),"k"):"".concat(e.projects_count),r=e.name.split(" ");return"".concat(r.join(" ")," (").concat(t,")")}function i(e){return{label:e.name,optionLabel:o(e),value:e.name,id:e.id,cue_id:e.tagging_cue_id,popularity_count:e.projects_count,status:s(e)}}function l(e){return"saved"===e.status||"pending_creation"===e.status?[e]:[]}function u(e){return"pending_deletion"===e.status?[e]:[]}function s(e){return e.marked_for_deletion?"pending_deletion":e.tagging_cue_id?"saved":"pending_creation"}},function(e,t,r){e.exports={errorMessage:"category_tag_dropdown__errorMessage__2e2Lx",control:"category_tag_dropdown__control__pANId",active:"category_tag_dropdown__active__1NGZO",activeMenuOpen:"category_tag_dropdown__activeMenuOpen__1UR8z category_tag_dropdown__active__1NGZO",formGroup:"category_tag_dropdown__formGroup__1ZbsE"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(0)),a=y(r(1)),o=y(r(2158)),i=g(r(94)),l=y(r(97)),u=y(r(7)),s=y(r(28)),c=r(68),d=r(117),f=r(14),p=r(2162),m=r(55),h=y(r(5));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=!(a=b(t).call(this,e))||"object"!==_(a)&&"function"!=typeof a?O(n):a;var o=(0,i.initCurrentPath)(e.pathHelpers.fullPath,e.pathHelpers.basePath);return r.state={basePath:e.pathHelpers.basePath,currentHistoryData:null,currentPath:o,currentUser:e.blankUser,initPath:o,initialized:!1,isWorking:!1,userPermissions:{canManage:!1,channelRole:null}},r.getAdminLink=r.getAdminLink.bind(O(r)),r.handleProductTransition=r.handleProductTransition.bind(O(r)),r.handleProjectsTransition=r.handleProjectsTransition.bind(O(r)),r.config=(0,p.getConfigForChannelType)(e.channel_type),r.seoHandler=new l.default({config:r.config.seoConfig}),r}var r,a,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._init()}},{key:"_init",value:function(){var e=this;return(0,f.graphQuery)({t:"current_user_for_channel"},{channel_id:this.props.channel.id}).then(function(t){var r=t.user;e.setState({currentUser:r,initialized:!0,userPermissions:{canManage:r.can_manage_channel,channelRole:r.channel_role}})}).catch(function(t){(0,u.default)("ChannelPage _init",t),e.setState({initialized:!0})})}},{key:"getAdminLink",value:function(e){var t=this.props.channel.admin_menu.find(function(t){return t.label===e});return t?t.url:m.NOOP_HREF}},{key:"handleProductTransition",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o={projects:function(e){return"/products/".concat(e)},specs:function(e){return"/products/".concat(e,"/specs")}};if(o.hasOwnProperty(e)&&t&&t.length){var l=o[e](t);if(a&&(0,d.clickEventHasModifierKey)(a)){var u="".concat(this.state.basePath).concat(l);window.open(u,"_blank")}else(0,c.transitionWithSearch)({path:l,history:i.history,search:n,state:r})}}},{key:"handleProjectsTransition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.split("?"),n=this._processQueryStringForSort(r[1]);(0,c.transitionWithSearch)({path:r[0],history:i.history,search:n,state:t})}},{key:"_getRouteProps",value:function(){return{basePath:this.state.basePath,channel:this.props.channel,channel_type:this.props.channel_type,currentHistoryData:this.state.currentHistoryData,currentUser:this.state.currentUser,discussion_props:this.props.discussion_props,filters:this.props.filters,getAdminLink:this.getAdminLink,handleProductTransition:this.handleProductTransition,handleProjectsTransition:this.handleProjectsTransition,initialized:this.state.initialized,pathHelpers:this.props.pathHelpers,seoHandler:this.seoHandler,transition:i.transition,userPermissions:this.state.userPermissions}}},{key:"_onRouterUpdate",value:function(e,t){var r=this,n=Object.assign({},e,{action:t}),a=(0,c.cleanPreAndPostSlashes)(e.pathname);a!==this.state.currentPath?this.setState({currentPath:a,currentHistoryData:n},function(){return r._postRouterUpdateHandler(e)}):this.setState({currentHistoryData:n})}},{key:"_postRouterUpdateHandler",value:function(e){e.state&&e.state.scrollTo&&setTimeout(function(){(0,s.default)(document.getElementById(e.state.scrollTo))},50)}},{key:"_processQueryStringForSort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.length?e.split("&").reduce(function(t,r,n,a){return!0===t.hasSort?t:"sort"===r.split("=")[0]?(t.hasSort=!0,t.queryParts=e.split("&"),t):(t.queryParts=n===a.length-1?t.queryParts.concat([r,"sort=trending"]):t.queryParts.concat(r),t)},{hasSort:!1,queryParts:[]}).queryParts.join("&"):"sort=trending"}},{key:"_getRoutes",value:function(){var e=this;return this.state.initialized?this.config.routes.filter(function(t){return t.hasOwnProperty("deferred")?t.deferred(e.state.userPermissions):t}):this.config.routes.filter(function(e){return!e.hasOwnProperty("deferred")})}},{key:"_getHeader",value:function(){return n.default.createElement(o.default,{admin_menu:this.props.channel.admin_menu,currentPath:this.state.currentPath,initPath:this.state.initPath,initialized:this.state.initialized,isWorking:this.state.isWorking,model:this.props.channel,routes:this._getRoutes(),transition:function(e){return(0,i.transition)(i.history,e)},userPermissions:this.state.userPermissions})}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:h.default.posRelative},n.default.createElement(i.default,{basePath:this.state.basePath,initPath:this.state.initPath,onUpdate:function(t,r){return e._onRouterUpdate(t,r)}},n.default.Children.toArray([this._getHeader()].concat(this.config.getRouteComponents(this._getRouteProps())))))}}])&&v(r.prototype,a),y&&v(r,y),t}();E.propTypes={channel:a.default.shape({about:a.default.string,admin_menu:a.default.arrayOf(a.default.shape({})).isRequired,call_to_action:a.default.shape({label:a.default.string,url:a.default.string}),home_sections:a.default.arrayOf(a.default.shape({key:a.default.string,label:a.default.string,title:a.default.string,value:a.default.oneOfType([a.default.string,a.default.number,a.default.bool])})),id:a.default.number.isRequired,logo_url:a.default.string,name:a.default.string,url:a.default.string,user_name:a.default.string.isRequired,websites:a.default.shape({website_link:a.default.string})}).isRequired,channel_type:a.default.oneOf(["community","platform","topic"]).isRequired,discussion_props:a.default.shape({origin:a.default.shape({admin_ids:a.default.arrayOf(a.default.number).isRequired,id:a.default.number,name:a.default.string.isRequired,type:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired}).isRequired,filters:a.default.shape({product_filters:a.default.arrayOf(a.default.shape({key:a.default.string.isRequired,options:a.default.array.isRequired})),project_filters:a.default.arrayOf(a.default.shape({key:a.default.string.isRequired,options:a.default.array.isRequired}))}).isRequired,pathHelpers:a.default.shape({basePath:a.default.string.isRequired,fullPath:a.default.string.isRequired,rootPath:a.default.string.isRequired}).isRequired},E.defaultProps={home_sections:[]};var P=E;t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(2159)),i=f(r(898)),l=f(r(2161)),u=f(r(89)),s=f(r(939)),c=f(r(2)),d=f(r(3));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.websites;return!!t&&!!t.website_link},m=function(e){var t=e.admin_menu,r=e.currentPath,a=e.initPath,f=e.initialized,m=e.isWorking,h=e.model,y=e.newFeatureMsg,g=e.routes,_=e.transition,v=e.userPermissions;return n.default.createElement("div",null,y(),n.default.createElement("div",{className:"".concat(c.default.container," ").concat(s.default.root),id:"reactSceneHeader"},n.default.createElement("div",{className:"".concat(c.default.wrapper1170," ").concat(s.default.wrapper)},n.default.createElement("div",{className:s.default.header},n.default.createElement("div",{className:s.default.contentWrapper},h.logo_url&&n.default.createElement("div",{className:s.default.avatar},n.default.createElement(i.default,{fit:"fillmax",queryParams:{bg:"fff"},ratio:"1:1",src:h.logo_url,width:75})),n.default.createElement("div",{className:s.default.content},n.default.createElement("h1",{className:"".concat(d.default.h2," ").concat(s.default.name)},h.name),h.about&&n.default.createElement("div",{className:"".concat(d.default.bodyM," ").concat(s.default.body)},h.about),h.call_to_action&&h.call_to_action.label&&h.call_to_action.url&&n.default.createElement("a",{className:"".concat(d.default.linkBlue," ").concat(d.default.bodyS," ").concat(d.default.bold," ").concat(s.default.callToAction),href:h.call_to_action.url,rel:"noopener nofollow",target:"_blank"},h.call_to_action.label),function(e){return e.call_to_action&&e.call_to_action.url?p(e)&&e.websites.website_link!==e.call_to_action.url:p(e)}(h)&&n.default.createElement("a",{className:"".concat(d.default.linkPebble," ").concat(d.default.bodyS," ").concat(d.default.bold),href:h.websites.website_link,rel:"noopener nofollow",target:"_blank"},"Visit website"))),n.default.createElement("div",{className:s.default.actions},f&&"admin"!==v.channelRole&&n.default.createElement(u.default,{id:h.id,type:"channel_sm"}),n.default.createElement(o.default,{canManage:v.canManage,menu:t}))),n.default.createElement(l.default,{currentPath:r,initPath:a,isWorking:m,externalLinkRoot:h.user_name,routes:g,transition:_}))))};m.propTypes={admin_menu:a.default.array.isRequired,currentPath:a.default.string.isRequired,initPath:a.default.string.isRequired,isWorking:a.default.bool.isRequired,model:a.default.shape({about:a.default.string,call_to_action:a.default.shape({label:a.default.string,url:a.default.string}),id:a.default.number.isRequired,logo_url:a.default.string,name:a.default.string,websites:a.default.shape({website_link:a.default.string}),user_name:a.default.string.isRequired}).isRequired,newFeatureMsg:a.default.func,routes:a.default.array.isRequired,transition:a.default.func.isRequired,userPermissions:a.default.shape({canManage:a.default.bool.isRequired}).isRequired},m.defaultProps={newFeatureMsg:function(){}};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(88)),i=c(r(9)),l=c(r(2160)),u=c(r(262)),s=c(r(10));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,m(t).call(this,e))}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"_renderOptions",value:function(){return this.props.menu.map(function(e,t){return n.default.createElement("li",{key:t,className:u.default.listItem},n.default.createElement("a",{className:u.default.link,href:e.url},e.label))})}},{key:"_renderLabel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.default.createElement("span",{className:l.default.label},n.default.createElement("i",{className:"".concat(l.default.cog," fa fa-cog"),"aria-hidden":"true"}),n.default.createElement("span",{className:l.default.labelText},"Settings"),n.default.createElement(i.default,{className:"".concat(l.default.arrow," ").concat(e&&l.default.arrowUp),name:"arrow-down"}))}},{key:"render",value:function(){return this.props.canManage?n.default.createElement(o.default,{alignRight:!0,classList:{button:"".concat(s.default.sm," ").concat(s.default.tertiary),wrapper:l.default.buttonWrapper},label:this._renderLabel(!1),labelOpen:this._renderLabel(!0)},n.default.createElement("ul",{className:u.default.list},this._renderOptions())):null}}])&&f(r.prototype,a),c&&f(r,c),t}();y.propTypes={canManage:a.default.bool,menu:a.default.arrayOf(a.default.shape({label:a.default.string,url:a.default.string})).isRequired},y.defaultProps={canManage:null};var g=y;t.default=g},function(e,t,r){e.exports={med:"(max-width: 768px)",small:"(max-width: 480px)",arrow:"admin_menu__arrow__3J5LB",arrowUp:"admin_menu__arrowUp__2ErdM",buttonWrapper:"admin_menu__buttonWrapper__3ffzE",cog:"admin_menu__cog__1wQ7U",label:"admin_menu__label__d5z06",labelText:"admin_menu__labelText__15oxw",list:"admin_menu__list__2Mg51"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=r(94),i=s(r(2)),l=s(r(328)),u=s(r(939));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.initPath,r=e.externalLinkRoot,a=e.routes,s=e.transition;return n.default.createElement("div",{className:"".concat(l.default.center," ").concat(l.default.themeLight)},n.default.createElement("ul",{className:"".concat(l.default.list," ").concat(i.default.noScrollBar," ").concat(u.default.navList)},a.map(function(e,a){return n.default.createElement("li",{key:a,className:l.default.listItem},n.default.createElement(o.Link,{classList:{anchor:(0,o.isCurrentPath)(o.history,e,t)?l.default.linkFocused:l.default.link,root:(0,o.isCurrentPath)(o.history,e,t)?l.default.linkWrapperFocused:l.default.linkWrapper},href:e.href,links:{external:"/".concat(r).concat(e.href),internal:e.href},onClick:function(){return s(e.href)},name:e.name,redirect:e.redirect}))})))};c.propTypes={currentPath:a.default.string.isRequired,externalLinkRoot:a.default.string.isRequired,isWorking:a.default.bool.isRequired,routes:a.default.arrayOf(a.default.shape({href:a.default.string.isRequired,name:a.default.string.isRequired})).isRequired,transition:a.default.func.isRequired},c.defaultProps={};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConfigForChannelType=void 0;var n=g(r(0)),a=g(r(2163)),o=g(r(2165)),i=g(r(2167)),l=g(r(378)),u=g(r(2200)),s=g(r(2201)),c=g(r(2207)),d=g(r(2208)),f=r(94),p=g(r(7)),m=g(r(2211)),h=g(r(2212)),y=g(r(2213));function g(e){return e&&e.__esModule?e:{default:e}}function _(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var v=function(e){return"admin"===e.channelRole||!0===e.canManage},b=[{href:"/",name:"Projects"},{href:"/discussion",name:"Discussion"},{href:"/members",name:"Members"}],O=[{href:"/",name:"Home"},{href:"/projects",name:"Projects"},{href:"/discussion",name:"Discussion"},{href:"/products",name:"Products"},{href:"/members",name:"Members"},{href:"/analytics",name:"Analytics",deferred:v}],w=[{href:"/",name:"Home"},{href:"/projects",name:"Projects"},{href:"/discussion",name:"Discussion"},{href:"/members",name:"Members"}],E=function(e){var t=e.channel,r=e.channel_type,a=e.handleProjectsTransition,o=e.seoHandler,i=e.userPermissions;return n.default.createElement(f.Route,{component:l.default,path:"/",routerProps:{canManage:i.canManage,homeSections:t.home_sections,seoHandler:function(e){return o.reportView({path:e,data:t})},transition:function(e){return a(e,{scrollTo:"reactSceneHeader"},"sort=trending")},viewAllBuilderArg:function(){return{type:r,props:(e={},n=r,a=t,n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e)};var e,n,a}}})},P=function(e){var t=e.channel,r=e.currentHistoryData,a=e.filters,o=e.path,i=void 0===o?"/projects":o,l=e.seoHandler,s=e.userPermissions;return n.default.createElement(f.Route,{component:u.default,path:i,routerProps:{canManage:s.canManage,channel:t,currentHistoryData:r,filters:a.project_filters,graphQLArguments:{base_channel_id:t.id},seoHandler:function(e){return l.reportView({path:e,data:t})}}})},k=function(e){var t=e.channel,r=e.currentUser,a=e.discussion_props,i=e.pathHelpers,l=e.seoHandler,u={currentUser:r,origin:a.origin,pathHelpers:i,pathPrefix:"discussion",seoHandler:function(){return l.reportView({path:"/discussion",data:t})}};return[n.default.createElement(f.Route,{component:o.default,path:"/discussion",routerProps:u}),n.default.createElement(f.Route,{component:o.default,path:"/discussion/*",routerProps:u}),n.default.createElement(f.Route,{component:o.default,path:"/discussion/posts/*",routerProps:u})]},S=function(e){var t=e.channel,r=e.channel_type,a=e.currentHistoryData,o=e.seoHandler;return n.default.createElement(f.Route,{component:i.default,path:"/members",routerProps:{currentHistoryData:a,graphQLArguments:{id:t.id},graphQLServiceType:r,seoHandler:function(e){return o.reportView({path:e,data:t})}}})},C=function(e){var t=e.basePath,r=e.channel,o=e.initialized,i=e.seoHandler,l=e.transition,u=e.userPermissions;return n.default.createElement(f.Route,{component:a.default,path:"/analytics",routerProps:{basePath:t,initialized:o,permitAdminView:function(){return v(u)},platformId:r.id,transition:function(e,t){return l(e,t)},seoHandler:function(e){return i.reportView({path:e,data:r})}}})},j=function(e){return[P(Object.assign({},e,{path:"/"}))].concat(_(k(e)),[S(e)])},R=function(e){return[E(e),P(e)].concat(_(k(e)),_((r=(t=e).channel,a=t.currentHistoryData,o=t.filters,i=t.getAdminLink,l=t.handleProductTransition,u=t.seoHandler,p=t.userPermissions,[n.default.createElement(f.Route,{component:d.default,path:"/products",routerProps:{canManage:p.canManage,graphQLArguments:{platform_id:r.id},manageProductsLink:i("Manage products"),platformId:r.id,seoHandler:function(e){return u.reportView({path:e,data:r})},transition:function(e,t,r){return l(e,t,{scrollTo:"reactSceneHeader"},"",r)}}}),n.default.createElement(f.Route,{component:s.default,path:"/products/*",routerProps:{canManage:p.canManage,currentHistoryData:a,filters:o.product_filters,graphQLArgumentsParts:{platform_id:r.id,platform_user_name:r.user_name},graphQLArgumentsProjects:{platform_id:r.id},platformId:r.id,seoHandler:function(e,t){return u.reportView({path:e,data:{part:t,platform:r}})},transition:l}}),n.default.createElement(f.Route,{component:c.default,path:"/products/*/specs",routerProps:{graphQLArguments:{platform_id:r.id,platform_user_name:r.user_name},platformId:r.id,seoHandler:function(e,t){return u.reportView({path:e,data:{part:t,platform:r}})},transition:l}})])),[S(e),C(e)]);var t,r,a,o,i,l,u,p},T=function(e){return[E(e),P(e)].concat(_(k(e)),[S(e)])};t.getConfigForChannelType=function(e){switch(e){case"community":return{getRouteComponents:j,routes:b,seoConfig:m.default};case"platform":return{getRouteComponents:R,routes:O,seoConfig:h.default};case"topic":return{getRouteComponents:T,routes:w,seoConfig:y.default};default:return(0,p.default)("Invalid channel type:",e),null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(502)),i=d(r(192)),l=r(14),u=d(r(2164)),s=d(r(7)),c=d(r(2));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=m(this,h(t).call(this,e))).state={iframeUrl:null,initialized:!1},r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.props.initialized&&this.props.permitAdminView()&&this._fetchUrl()}},{key:"componentDidUpdate",value:function(e){this.state.initialized||!this.props.initialized||e.initialized||this._fetchUrlOrInitialize()}},{key:"_fetchUrl",value:function(){var e=this;return(0,l.graphQuery)((0,u.default)(),{id:this.props.platformId}).then(function(t){var r=t.channel.analytics_url||null;e.setState({iframeUrl:r,initialized:!0}),e.props.seoHandler(e.props.path,e.props.history)}).catch(function(e){return(0,s.default)("Platform Page Analytics: ",e)})}},{key:"_fetchUrlOrInitialize",value:function(){this.props.permitAdminView()?this._fetchUrl():this.setState({initialized:!0})}},{key:"_getAnalyticsView",value:function(){return n.default.createElement("div",{className:"".concat(c.default.container)},n.default.createElement("div",{className:c.default.wrapper1170},n.default.createElement("iframe",{src:this.state.iframeUrl,width:"100%",height:"2800",frameBorder:"0"})))}},{key:"_getErrorPage",value:function(){return n.default.createElement(o.default,{basePath:this.props.basePath,history:this.props.history,transition:this.props.transition})}},{key:"_getView",value:function(){return null===this.state.iframeUrl?this._getErrorPage():this._getAnalyticsView()}},{key:"render",value:function(){return this.state.initialized?this._getView():n.default.createElement(i.default,null)}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={basePath:a.default.string.isRequired,history:a.default.object.isRequired,initialized:a.default.bool.isRequired,path:a.default.string.isRequired,permitAdminView:a.default.func.isRequired,platformId:a.default.oneOfType([a.default.number,a.default.string]).isRequired,seoHandler:a.default.func.isRequired,transition:a.default.func.isRequired},g.defaultProps={};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"\n    query getAnalyticsUrl($id: Int!) {\n      channel(id: $id) {\n        analytics_url\n      }\n    }\n  "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(826)),i=r(861),l=d(r(201)),u=r(68),s=r(2166),c=r(175);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=!(a=h(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?y(n):a;var o=(0,i.getFlaggedIds)(function(t){return e.store.get(t)||[]});r.state=Object.assign({},o,{isMember:!1}),r.handleTransition=r.handleTransition.bind(y(r)),r.setIsMember=r.setIsMember.bind(y(r)),r.setFlaggedIds=i.setFlaggedIds.bind(y(r)),r._subscription;var l=(0,s.createCategoryConfigs)(),u=l.CATEGORY_CONFIGS,c=l.SELECT_CATEGORIES;return r._CATEGORY_CONFIGS=u,r._SELECT_CATEGORIES=c,r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this.setIsMember(l.default.getStore()),this._subscription=l.default.getChannel().subscribe("*.*",this.setIsMember)}},{key:"componentWillUnmount",value:function(){var e=this;this._subscription&&this._subscription.unsubscribe(),i.FLAGGED_ID_KEYS.forEach(function(t){return e.props.store.set(t,e.state[t])})}},{key:"handleTransition",value:function(e){this.props.history.push(this._prependPathPrefixInHistoryData(e))}},{key:"setIsMember",value:function(e){var t=this._getMembershipFromStore(e);t!==this.state.isMember&&this.setState({isMember:t})}},{key:"_appendPathPrefix",value:function(e){return this.props.pathPrefix?(0,c.prependLeadingSlash)((0,u.cleanPreAndPostSlashes)("".concat(e,"/").concat(this.props.pathPrefix))):e}},{key:"_getMembershipFromStore",value:function(e){return!(!e.channel_ids||!e.channel_ids.includes(this.props.origin.id))}},{key:"_prependPathPrefix",value:function(e){return this.props.pathPrefix?(0,c.prependLeadingSlash)((0,u.cleanPreAndPostSlashes)("".concat(this.props.pathPrefix,"/").concat(e))):e}},{key:"_prependPathPrefixInHistoryData",value:function(e){var t=e.pathname,r=e.search;return{pathname:this._prependPathPrefix(t),search:r}}},{key:"_stripPathPrefix",value:function(e){if(!this.props.pathPrefix)return e;var t=(0,u.cleanPreAndPostSlashes)(this.props.pathPrefix),r=(0,u.cleanPreAndPostSlashes)(e);return r.startsWith(t)?(0,c.prependLeadingSlash)(r.substring(t.length)):(console.warn("The input path should have started with ".concat(t,". Please check routing")),e)}},{key:"_stripPathPrefixInHistoryData",value:function(e){var t=e.pathname,r=e.search;return{pathname:this._stripPathPrefix(t),search:r}}},{key:"render",value:function(){var e=this,t=(0,i.getFlaggedIds)(function(t){return e.state[t]});return n.default.createElement(o.default,p({key:this.props.history.location.key,categoryConfigs:this._CATEGORY_CONFIGS,currentUser:this.props.currentUser,currentHistoryData:this._stripPathPrefixInHistoryData(this.props.history.location),isNotMemberPlaceholder:"Join this community to post in the discussion",isMember:this.state.isMember,onInit:this.props.seoHandler,origin:this.props.origin,pathHelpers:{basePath:this._appendPathPrefix(this.props.pathHelpers.basePath)},selectCategories:this._SELECT_CATEGORIES,setFlaggedIds:this.setFlaggedIds,stickyBuffer:30,transition:this.handleTransition},t))}}])&&m(r.prototype,a),d&&m(r,d),t}();_.propTypes={currentUser:a.default.shape({avatar_url:a.default.string.isRequired,confirmed:a.default.bool,id:a.default.number,name:a.default.string,role:a.default.string,url:a.default.string}).isRequired,history:a.default.object.isRequired,origin:a.default.shape({admin_ids:a.default.arrayOf(a.default.number).isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,type:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,pathHelpers:a.default.shape({basePath:a.default.string.isRequired}).isRequired,pathPrefix:a.default.string,seoHandler:a.default.func.isRequired,stickyBuffer:a.default.number,store:a.default.shape({get:a.default.func.isRequired,set:a.default.func.isRequired}).isRequired,topAnchorId:a.default.string},_.defaultProps={pathPrefix:"",stickyBuffer:0,topAnchorId:null};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCategoryConfigs=void 0;var n=i(r(0)),a=r(862),o=i(r(349));function i(e){return e&&e.__esModule?e:{default:e}}var l=[{colorClass:"categoryGreenBG",enum:(0,a.getCategoryEnum)("Announcements"),path:(0,a.getCategoryEnum)("Announcements").toLowerCase(),text:"Announcements from the admin team",title:"Announcements"},{colorClass:"categoryYellowBG",enum:(0,a.getCategoryEnum)("General"),path:(0,a.getCategoryEnum)("General").toLowerCase(),text:"Share ideas, chat and interact with other members",title:"General"},{colorClass:"categoryOrangeBG",enum:(0,a.getCategoryEnum)("Technical help"),path:(0,a.getCategoryEnum)("Technical help").toLowerCase(),text:"Getting started, hardware troubleshooting and project help",title:"Technical help"}],u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.map(function(e){return{label:t&&"function"==typeof t?t(e):e.title,labelText:e.title,value:e.enum}})};t.createCategoryConfigs=function(){return{CATEGORY_CONFIGS:l,SELECT_CATEGORIES:u(l,function(e){return n.default.createElement(o.default,{categoryConfig:e})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(2168)),i=d(r(2171)),l=d(r(133)),u=d(r(2173)),s=r(2176),c=d(r(2));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?h(n):a).handleQuery=r.handleQuery.bind(h(r)),r.graphQLService=new u.default({history:e.history,type:e.graphQLServiceType}),r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"handleQuery",value:function(){this.props.seoHandler(this.props.path)}},{key:"render",value:function(){return n.default.createElement("div",{className:c.default.container},n.default.createElement("div",{className:"".concat(c.default.wrapper1170," ").concat(c.default.fullScreenHeight)},n.default.createElement(l.default,{currentHistoryData:this.props.currentHistoryData,filters:s.FILTERS,graphQLService:this.graphQLService,graphQLArguments:this.props.graphQLArguments,listComponent:i.default,listProps:{},loaderComponent:o.default,propagateQuery:this.handleQuery})))}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={currentHistoryData:a.default.shape({pathname:a.default.string,search:a.default.string}),graphQLArguments:a.default.object,graphQLServiceType:a.default.string.isRequired,history:a.default.object,path:a.default.string.isRequired,seoHandler:a.default.func.isRequired},g.defaultProps={currentHistoryData:null,graphQLArguments:{},history:{}};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(2169)),o=i(r(207));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){return n.default.createElement("div",null,n.default.createElement("div",{style:{height:30}}),n.default.createElement(o.default,{ItemComponent:a.default}))};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(2170)),o=i(r(475));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){return n.default.createElement(o.default,{avatarBorder:!1,avatarMargin:15,avatarSize:60},n.default.createElement("div",{className:a.default.dummyStats}),n.default.createElement("div",{className:a.default.dummyButton}))};t.default=l},function(e,t,r){e.exports={dummy:"platform_member_card__dummy__3qm7D cards__dummyText__18wTq",dummyButton:"platform_member_card__dummyButton__2LlxT platform_member_card__dummy__3qm7D cards__dummyText__18wTq",dummyStats:"platform_member_card__dummyStats__3YV1V platform_member_card__dummy__3qm7D cards__dummyText__18wTq"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(72)),i=l(r(2172));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){return n.default.createElement("div",{style:{fontSize:18,marginTop:30,textAlign:"center",width:"100%"}},"There are no members")},s=function(e){var t=e.isLoading,r=e.records;return n.default.createElement(o.default,{ItemComponent:i.default,isLoading:t,placeholder:u,records:r})};s.propTypes={isLoading:a.default.bool.isRequired,records:a.default.arrayOf(a.default.object)},s.defaultProps={records:[]};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(275)),i=d(r(89)),l=r(20),u=r(181),s=d(r(2)),c=d(r(3));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,h(t).call(this,e))}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"render",value:function(){var e=this.props.item,t=e.avatar_url,r=e.id,a=e.name,d=e.stats,f=e.url;return n.default.createElement(o.default,{avatarBorder:!1,avatarMargin:15,avatarSize:60,user:{avatar_url:t,id:r,name:a,url:f}},n.default.createElement("div",{className:"".concat(c.default.bodyS," ").concat(c.default.pebble," ").concat(s.default.marginBottom10)},"".concat((0,l.formatNumberLimit4Chars)(d.live_projects)," ").concat((0,l.pluralize)("project",d.live_projects)," • ").concat((0,l.formatNumberLimit4Chars)(d.followers)," ").concat((0,l.pluralize)("follower",d.followers))),n.default.createElement("div",null,n.default.createElement(i.default,{id:r,type:"followed_user_sm"}),n.default.createElement("a",{className:"".concat(c.default.linkBlue," ").concat(c.default.bold," ").concat(c.default.bodyS," ").concat(s.default.marginLeft15),href:(0,u.whitelabelUrlHelper)().appendToRootPath("/messages/new?recipient_id=".concat(r))},"Contact")))}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={item:a.default.shape({avatar_url:a.default.string,id:a.default.number.isRequired,name:a.default.string,stats:a.default.shape({followers:a.default.number,live_projects:a.default.number}),url:a.default.string}).isRequired};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(182)),a=i(r(2174)),o=i(r(2175));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d={community:o.default,platform:o.default,topic:o.default};function f(e){return d.hasOwnProperty(e)?d[e]:(errorHandler("GraphQLMembersService expected a known type, instead received: ".concat(e,".  Known types: ").concat(Object.keys(d))),function(){return""})}var p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.history,n=e.type;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,s(t).call(this,{history:r,queryBuilder:a.default,queryString:f(n)}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,n["default"]),t}();t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,r){t(function(e){var t=function(e,t){var r=Object.keys(e);return r.length?r.reduce(function(r,n){return t[n]&&(r[n]=t[n](e[n])),r},{}):{}}(e,a),r=function(e){var t=e.sort;return t&&o.hasOwnProperty(t)?"DEFAULT"===o[t]?{}:{sort:e.sort.toUpperCase()}:{}}(e);return Object.assign({},t,r,{per_page:n})}(e))})};var n=20,a={page:function(e){return parseInt(e,10)}},o={alpha:"alpha",top:"DEFAULT",followers:"followers",projects:"projects",recent:"recent",near:"near"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"\n    query membersForChannelQuery ($id: Int!, $page: Int, $per_page: Int, $sort: ChannelMemberSortEnum) {\n      channel(id: $id) {\n        members(page: $page, per_page: $per_page, sort: $sort) {\n          ...paginatedInfo\n        }\n      }\n    }\n    ".concat((0,n.createSimplePaginationFragment)("User","membersInfo"),"\n    ").concat(a,"\n  ")};var n=r(197),a="\n  fragment membersInfo on UserType {\n    avatar_url\n    id\n    name\n    stats {\n      followers\n      live_projects\n    }\n    url\n  }\n"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FILTERS=void 0;t.FILTERS=[{key:"sort",options:[{label:"Alphabetically",value:"alpha"},{default:!0,label:"Most active",value:null},{label:"Most followers",value:"followers"},{label:"Most projects",value:"projects"},{label:"Most recently joined",value:"recent"},{label:"Near me",value:"near"}]}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=m(r(1)),o=m(r(179)),i=m(r(941)),l=m(r(379)),u=m(r(134)),s=m(r(514)),c=r(942),d=r(65),f=m(r(7)),p=m(r(144));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=_(t).call(this,e))||"object"!==h(a)&&"function"!=typeof a?v(n):a).state={currentPinnedItemQuery:{},currentProjectsQuery:{},initialized:!1,isFetching:!0,projects:[],viewAllLinks:{}},r.fetchMoreProjects=r.fetchMoreProjects.bind(v(r)),r._isMounted,r}var r,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._isMounted=!0,this._initialize()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"_initialize",value:function(){var e=this;return Promise.all([this._fetchItem(),this._fetchInitProjects()]).then(function(e){return(0,d.setTimeoutPromise)(250,null,null,e)}).then(function(t){var r=y(t,2),n=r[0],a=r[1];if(e._isMounted){var o=n.hits[0];e.setState({currentPinnedItemQuery:n,currentProjectsQuery:a,initialized:!0,isFetching:!1,projects:a.hits,viewAllLinks:o&&Object.keys(o).length?e.props.viewAllLinksComposer(o):{external:"",internal:""}}),e.props.reportProjectsCount(a.hits.length,e.props.index)}}).catch(function(e){return(0,f.default)("AlgoliaPinnedItemViewAllList _initialize",e)})}},{key:"_fetchItem",value:function(){return this.props.algoliaPinnedItemService.searchWithNoEffects({},this.props.initPinnedItemFacet)}},{key:"_fetchInitProjects",value:function(){return this.props.algoliaProjectsService.searchWithNoEffects(this.props.queryMap,this.props.initProjectsFacet)}},{key:"_shouldRender",value:function(){return this.state.initialized&&this.state.currentPinnedItemQuery.hits&&this.state.currentPinnedItemQuery.hits.length>0&&this.state.currentProjectsQuery&&this.state.currentProjectsQuery.hits.length>0}},{key:"_shouldRenderLoader",value:function(){return!this.state.initialized&&this.state.isFetching}},{key:"fetchMoreProjects",value:function(){var e=this,t=(0,c.buildPaginatedQuery)({queryMap:this.props.queryMap,pagination:this.props.pagination,currentQuery:this.state.currentProjectsQuery});return this.props.algoliaProjectsService.searchWithNoEffects(t,this.props.initProjectsFacet).then(function(t){if(e._isMounted){var r=e.state.projects.concat(t.hits);e.setState({currentProjectsQuery:t,projects:r}),e.props.reportProjectsCount(r.length,e.props.index)}}).catch(function(e){return(0,f.default)(e)})}},{key:"_getLoaderView",value:function(){return n.default.createElement(s.default,{links:this.state.viewAllLinks,onClick:this.props.transition,title:this.props.title},n.default.createElement(o.default,{cardBorder:!0,classList:{card:p.default.dummyCard,wrapper:p.default.scrollerItemProject}}))}},{key:"_getNoHitsView",value:function(){return this.props.userCanManage?this._managerView():null}},{key:"_getPinnedCardComponent",value:function(){var e=this;return n.default.createElement("div",{className:p.default.scrollerItemProject},this.props.pinnedCardTemplateFn({item:this.state.currentPinnedItemQuery.hits?this.state.currentPinnedItemQuery.hits[0]:null,onClick:function(t){return e.props.transition(t,e.state.viewAllLinks,{type:"pinned_card"})}}))}},{key:"_managerView",value:function(){return n.default.createElement(i.default,{title:this.props.title})}},{key:"render",value:function(){var e=this;return this._shouldRenderLoader()?this._getLoaderView():this._shouldRender()?n.default.createElement(s.default,{links:this.state.viewAllLinks,onClick:this.props.transition,title:this.props.title},n.default.createElement(l.default,{fetchMore:this.fetchMoreProjects,recordsCount:this.state.projects.length,scrollDistance:this.props.scrollDistance,totalRecordsCount:Math.min(parseInt(this.state.currentProjectsQuery.nbHits)||0,this.props.pagination.maxCardCount-1)},this._getPinnedCardComponent(),this.state.projects.map(function(t,r){return n.default.createElement(u.default,{key:t.hid||t.id,classList:{wrapper:p.default.scrollerItemProject},imageProps:{captureScroll:!0},itemIndex:r,cardBorder:!0,overrideTracking:e.props.transition,project:t,usePortal:!0})}))):this._getNoHitsView()}}])&&g(r.prototype,a),m&&g(r,m),t}();O.propTypes={algoliaPinnedItemService:a.default.object.isRequired,algoliaProjectsService:a.default.object.isRequired,index:a.default.number.isRequired,initPinnedItemFacet:a.default.array,initProjectsFacet:a.default.array,pagination:a.default.shape({maxCardCount:a.default.number,type:a.default.string,length:a.default.number}).isRequired,pinnedCardTemplateFn:a.default.func.isRequired,queryMap:a.default.object,reportProjectsCount:a.default.func.isRequired,scrollDistance:a.default.number,title:a.default.string.isRequired,transition:a.default.func,userCanManage:a.default.bool,viewAllLinksComposer:a.default.func.isRequired},O.defaultProps={queryMap:{},scrollDistance:540,transition:function(){},userCanManage:null};var w=O;t.default=w},function(e,t,r){e.exports={itemsContainer:"horizontal_scroll__itemsContainer__2IETC",loader:"horizontal_scroll__loader__3fi9S",scrollButton:"horizontal_scroll__scrollButton__3x0m0",scrollContainer:"horizontal_scroll__scrollContainer__1iBHq",scrollLeft:"horizontal_scroll__scrollLeft__2qhna horizontal_scroll__scrollButton__3x0m0",scrollRight:"horizontal_scroll__scrollRight__3J1Bs horizontal_scroll__scrollButton__3x0m0",wrapper:"horizontal_scroll__wrapper__2RoY-"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(941)),i=d(r(514)),l=d(r(2180)),u=r(942),s=r(65),c=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?h(n):a).state={currentQuery:{},initialized:!1,isFetching:!0,records:[]},r.fetchMore=r.fetchMore.bind(h(r)),r._isMounted,r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._isMounted=!0,this._initialize()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"_initialize",value:function(){var e=this;return this.props.algoliaService.searchWithNoEffects(this.props.queryMap,this.props.initFacet).then(function(e){return(0,s.setTimeoutPromise)(250,null,null,e)}).then(function(t){e._isMounted&&(e.setState({currentQuery:t,initialized:!0,isFetching:!1,records:e._orderRecordsBy(e.props.section,t.hits)}),e.props.reportProjectsCount(t.hits.length,e.props.index))}).catch(function(e){return(0,c.default)("AlgoliaViewAllList _initialize",e)})}},{key:"_orderRecordsBy",value:function(e,t){switch(e.key){case"video":return this._orderVideoHitsBySection(e,t);default:return t}}},{key:"_orderVideoHitsBySection",value:function(e,t){return e.meta.content.map(function(e){return t.find(function(t){return t.id===e})}).filter(function(e){return e})}},{key:"_shouldRender",value:function(){return this.state.initialized&&this.state.currentQuery.hits&&this.state.currentQuery.hits.length>0}},{key:"_shouldRenderLoader",value:function(){return!this.state.initialized&&this.state.isFetching}},{key:"fetchMore",value:function(){var e=this,t=(0,u.buildPaginatedQuery)({queryMap:this.props.queryMap,pagination:this.props.pagination,currentQuery:this.state.currentQuery});return this.props.algoliaService.searchWithNoEffects(t,this.props.initFacet,this.state.records.length).then(function(t){if(e._isMounted){var r=e.state.records.concat(t.hits);e.setState({currentQuery:t,records:r}),e.props.reportProjectsCount(r.length,e.props.index)}}).catch(function(e){return(0,c.default)("AlgoliaViewAllList fetchMore",e)})}},{key:"_getLoaderView",value:function(){return n.default.createElement(i.default,{links:this.props.viewAllLinksComposer(),onClick:this.props.transition,title:this.props.title},this.props.loaderCardFn())}},{key:"_getNoHitsView",value:function(){return this.props.userCanManage?this._managerView():null}},{key:"_managerView",value:function(){return n.default.createElement(o.default,{title:this.props.title})}},{key:"render",value:function(){return this._shouldRenderLoader()?this._getLoaderView():this._shouldRender()?n.default.createElement(l.default,{cardTemplateFn:this.props.cardTemplateFn,fetchMore:this.fetchMore,links:this.props.viewAllLinksComposer(),onClick:this.props.transition,records:this.state.records,scrollDistance:this.props.scrollDistance,sectionIndex:this.props.sectionIndex,title:this.props.title,totalRecordsCount:Math.min(this.state.currentQuery.nbHits||0,this.props.pagination.maxCardCount)}):this._getNoHitsView()}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={algoliaService:a.default.object.isRequired,cardTemplateFn:a.default.func.isRequired,index:a.default.number.isRequired,initFacet:a.default.array,loaderCardFn:a.default.func,pagination:a.default.shape({maxCardCount:a.default.number,type:a.default.string,length:a.default.number}).isRequired,queryMap:a.default.object,reportProjectsCount:a.default.func.isRequired,scrollDistance:a.default.number,section:a.default.object.isRequired,sectionIndex:a.default.number,title:a.default.string.isRequired,transition:a.default.func,userCanManage:a.default.bool,viewAllLinksComposer:a.default.func.isRequired},g.defaultProps={initFacet:[],queryMap:{},loaderCardFn:function(){return n.default.createElement("div",null)},scrollDistance:540,sectionIndex:null,transition:function(){},userCanManage:null};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(379)),i=l(r(514));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.cardTemplateFn,r=e.fetchMore,a=e.links,l=e.onClick,u=e.records,s=e.scrollDistance,c=e.sectionIndex,d=e.title,f=e.totalRecordsCount;return n.default.createElement(i.default,{links:a,onClick:l,title:d},n.default.createElement(o.default,{fetchMore:r,scrollDistance:s,recordsCount:u.length,totalRecordsCount:f},n.default.Children.toArray(u.map(function(e,r){return t(e,r,{overrideTracking:l,sectionIndex:c})}))))};u.propTypes={cardTemplateFn:a.default.func.isRequired,fetchMore:a.default.func,links:a.default.shape({external:a.default.string,intrenal:a.default.string}),onClick:a.default.func,records:a.default.array,scrollDistance:a.default.number,sectionIndex:a.default.number,title:a.default.string,totalRecordsCount:a.default.number.isRequired},u.defaultProps={fetchMore:function(){},links:{},onClick:null,records:[],scrollDistance:540,sectionIndex:null,title:""};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(r,u){var d=(0,o.default)(e,t),f=function(e,t,r){return(0,l.doesQueryMapContainFeatured)(e)&&(0,l.doesInitFacetHavePlatform)(t)?c(t,"featured_platforms"===r?"featured_platform.id":"featured_platform_ids"):t}(e,t,d);return(0,i.default)(e).then(function(t){return function(e,t,r,o){return new Promise(function(i){var l=(0,a.default)(e),u=[s(r)].concat(s(l),s(t)).filter(function(e){return e.length>0}),c=e.facets||[],d=e.hasOwnProperty("hitsPerPage")?e:Object.assign({},e,{hitsPerPage:24});i({facets:c,facetFilters:u,sort:o,params:(0,n.default)(d),query:""})})}(e,f,t,d)}).then(function(e){return r(e)}).catch(function(e){return u(e)})})};var n=u(r(494)),a=u(r(2182)),o=u(r(2183)),i=u(r(2184)),l=r(945);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e,t){return e.reduce(function(e,r){var n="string"==typeof r?r.split(":"):[];return"platforms.id"===n[0]?e.concat("".concat(t,":").concat(n[1])):(e.push(r),e)},[])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e,o,i)};var n,a=(n=r(495))&&n.__esModule?n:{default:n};var o={by:function(e){return"toolbox"!==e},category_id:function(e){return"featured"!==e},category_ids:function(e){return"featured"!==e},content_type:function(){return!0},difficulty:function(){return!0},part_id:function(e){return"me"!==e},tag_id:function(e){return"featured"!==e},topic_id:function(e){return"featured"!==e}},i={by:function(e){return"featured"===e?"featured:true":"by:".concat(e)},category_id:function(e){return l("platforms.category_ids",e)},category_ids:function(e){return l("platforms.category_ids",e)},content_type:"content_type",difficulty:"difficulty",part_id:"parts.id",tag_id:"tag_ids",topic_id:"topic_ids"},l=function(e,t){return Array.isArray(t)?t.map(function(t){return"".concat(e,":").concat(t)}):["".concat(e,":").concat(t)]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.doesQueryMapContainFeatured)(e)&&(0,n.doesInitFacetHavePlatform)(t)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.keys(e).reduce(function(t,r){return t.length>0?t:o.hasOwnProperty(r)?o[r](e[r]):t},""),n=i(e,t),a=!e.hasOwnProperty("sort");return"trending"===n||a?r:n}(e,t):i(e,t)};var n=r(945),a={featured_date:function(){return"featured_date"},popular:function(){return""},published:function(e){return(0,n.doesInitFacetHavePlatform)(e)?"platforms_most_recent":"most_recent"},respected:function(){return"most_respected"},trending:function(){return"trending"},updated:function(){return"last_updated"}},o={category_id:function(e){return"featured"===e?"featured_platforms":""},tag_id:function(e){return"featured"===e?"featured_platforms":""},topic_id:function(e){return"featured"===e?"featured_platforms":""}};function i(e,t){return e.hasOwnProperty("sort")&&a[e.sort]?a[e.sort](t):"trending"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t,r){var i=Object.keys(e);if(!i.length)return t([]);var c=function(e,t){return t.reduce(function(t,r,a){return l[r]&&l[r](e[r])&&(t.promiseIndexToPropertyMap.push(r),t.promises.push((0,n.getLazyFilterPromise)(u[r])())),t},{promises:[],promiseIndexToPropertyMap:[]})}(e,i),d=c.promises,f=c.promiseIndexToPropertyMap;return Promise.all(d.map(a.reflectPromise)).then(function(e){t(e.reduce(function(e,t,r){if("resolved"===t.status&&t.data){var n=f[r];e=[].concat(o(e),o(s[n](t.data)))}return e},[]))}).catch(function(e){return r(e)})})};var n=r(946),a=r(65);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.map(function(e){return"parts_for_channels:".concat(e)}):["parts_for_channels:[]"]}var l={by:function(e){return"toolbox"===e},part_id:function(e){return"me"===e}},u={by:{user:"part_ids"},part_id:{user:"part_ids"}},s={by:i,part_id:i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(190)),a=i(r(2186)),o=r(124);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).call(this,e,"videos",a.default))}var r,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n["default"]),r=t,(i=[{key:"searchWithQueryString",value:function(e,t,r){var n=this;return new Promise(function(i,l){return(0,a.default)(t,r).then(function(t){return(0,o.searchIndexWithFacets)(Object.assign({index:n.algoliaIndex,query:e},t))}).then(function(e){return i(e)}).catch(function(e){return l(e)})})}}])&&u(r.prototype,i),l&&u(r,l),t}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(0,o.default)(e,t);return new Promise(function(o,i){return function(e,t,r){return new Promise(function(o,i){var c=(0,n.default)(e,u,s);o({facetFilters:[].concat(l(c),l(t)).filter(function(e){return e.length>0}),params:(0,a.default)(e),sort:r})})}(e,t,r).then(function(e){return o(e)}).catch(function(e){return i(e)})})};var n=i(r(495)),a=i(r(494)),o=i(r(2187));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u={},s={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(e,t){return e.hasOwnProperty("sort")&&n[e.sort]?n[e.sort](t):""}(e,t)};var n={popular:function(){return"most_popular"},published:function(){return""}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,r){t(function(e){var t=function(e,t){var r=Object.keys(e);return r.length?r.reduce(function(r,n){return t[n]&&(r[n]=t[n](e[n])),r},{}):{}}(e,a),r=function(e){var t=e.sort;return t&&o.hasOwnProperty(t)?"DEFAULT"===o[t]?{}:{sort:e.sort.toUpperCase()}:{}}(e);return Object.assign({},t,r,{per_page:t.hasOwnProperty("per_page")?t.per_page:n})}(e))})};var n=20,a={page:function(e){return parseInt(e,10)},per_page:function(e){return parseInt(e,10)}},o={date_desc:"DEFAULT",popularity:"popularity"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!s.hasOwnProperty(e))return(0,l.default)('Expected a known type but got, "'.concat(e,'". Known types: ').concat(Object.keys(s))),{};return s[e](t,r)};var n=u(r(2190)),a=u(r(2196)),o=u(r(2198)),i=u(r(2199)),l=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}var s={home:n.default,platform:a.default,topic:o.default,whitelabel:i.default}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(r(0)),a=y(r(477)),o=y(r(2191)),i=y(r(2193)),l=y(r(179)),u=y(r(950)),s=y(r(2194)),c=y(r(134)),d=y(r(515)),f=r(380),p=r(2195),m=r(8),h=y(r(144));function y(e){return e&&e.__esModule?e:{default:e}}var g={category_id:"_viewAllList",contest_id:"_pinnedItemProjectsListView",featured:"_viewAllList",platform_id:"_pinnedItemProjectsListView",platforms:"_viewAllList",sort:"_viewAllList",topic_id:"_pinnedItemProjectsListView",topics:"_viewAllList",video:"_viewAllList"},_=function(e){var t="featured_date"===e.value?"/projects?by=featured&sort=featured_date":"/projects?sort=".concat(e.value);return{external:t,internal:t}},v=function(e,t,r){return(0,p.negativeFacetsForList)(e,t,r,"platform_id","id").concat("model:Platform")},b=function(e,t,r){return(0,p.negativeFacetsForList)(e,t,r,"topic_id","id").concat("display_on_home:true").concat("model:TopicChannel")};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.doScroll,r=void 0!==t&&t,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{_getViewMethodNameForSectionKey:function(e){return g[e]||null},components:{contest_id:function(e){return n.default.createElement(o.default,e)},platform_id:function(e){return n.default.createElement(a.default,Object.assign({},e,{channelType:"platform"}))},platforms:function(e){return n.default.createElement(s.default,Object.assign({},e,{classList:{wrapper:h.default.scrollerItem}}))},sort:function(e){return n.default.createElement(c.default,Object.assign({itemIndex:e.i,overrideTracking:e.overrideTracking,project:e.record},f.projectProps))},topic_id:function(e){return n.default.createElement(a.default,Object.assign({},e,{channelType:"topic"}))},topics:function(e){return n.default.createElement(s.default,Object.assign({},e,{classList:{wrapper:h.default.scrollerItem}}))},video:function(e){return n.default.createElement(d.default,Object.assign({},e,{classList:{wrapper:h.default.scrollerItemProject},item:e.record,onClick:function(e,t,r,n){return e.preventDefault(),p?p.summonVideoDialog(t,r,n):console.warning("You forgot to bind a callback for homeCofig videos!")}}))}},links:{contest_id:function(e,t){return{external:t.url,internal:""}},platform_id:function(e,t){return{external:t.url?"".concat(t.url,"/projects"):"javascript:void(0);",internal:t.slug?"".concat(t.slug,"/projects"):"/"}},platforms:function(){return{external:"/channels/platforms",internal:"/channels/platforms"}},sort:function(e){return _(e)},topic_id:function(e,t){return{external:t.url?"".concat(t.url,"/projects"):"javascript:void(0);",internal:t.url?"".concat(t.url,"/projects"):"/"}},topics:function(){return{external:"/channels/topics",internal:"/channels/topics"}},video:function(){return{external:"/videos",internal:""}}},listFacet:{platforms:function(e,t,r){return v(e,t,r)},sort:function(e){return[]},topics:function(e,t,r){return b(e,t,r)},video:function(e,t,r){return[]}},loaderComponent:{platforms:function(){return n.default.createElement(i.default,{classList:{wrapper:"".concat(h.default.scrollerItem," ").concat(h.default.dummyCard)}})},sort:function(){return n.default.createElement(l.default,f.dummyProjectProps)},topics:function(){return n.default.createElement(i.default,{classList:{wrapper:"".concat(h.default.scrollerItem," ").concat(h.default.dummyCard)}})},video:function(){return n.default.createElement(u.default,{classList:{wrapper:"".concat(h.default.scrollerItemProject," ").concat(h.default.dummyCard)}})}},pagination:{contest_id:function(){return{maxCardCount:r?16:4,type:"offset",length:8}},platform_id:function(){return{maxCardCount:r?16:4,type:"offset",length:8}},platforms:function(){return{maxCardCount:r?32:8,type:"page"}},sort:function(){return{maxCardCount:r?16:4,type:"page"}},topic_id:function(){return{maxCardCount:r?16:4,type:"offset",length:8}},topics:function(){return{maxCardCount:r?32:8,type:"page"}},video:function(){return{maxCardCount:4,type:"page",length:4}}},pinnedItemFacet:{contest_id:function(e){return["id:".concat(e.value)]},platform_id:function(e){return["id:".concat(e.value)]},topic_id:function(e){return["id:".concat(e.value)]}},projectsFacet:{contest_id:function(e){return["contest_ids:".concat(e.value)]},platform_id:function(e){return["platforms.id:".concat(e.value)]},topic_id:function(e){return["topic_ids:".concat(e.value)]}},queryMap:{contest_id:function(e){return{length:r?7:3,offset:0,qlVars:{contest_id:e.value,approved:!0}}},platform_id:function(e){return{length:r?7:3,offset:0,sort:"trending",qlVars:{channel_id:e.value,approved:!0}}},platforms:function(e){return{hitsPerPage:r?16:8}},sort:function(e){return{hitsPerPage:r?8:4,sort:e.value,qlVars:{approved:!0}}},topic_id:function(e){return{length:r?7:3,offset:0,sort:"published",qlVars:{topic_id:e.value,approved:!0}}},topics:function(e){return{hitsPerPage:r?16:8}},video:function(e){return{qlVars:{ids:(0,m.getInObj)(["meta","content"],e)}}}},service:{contest_id:function(){return"contestsService"},platform_id:function(){return"platformsService"},platforms:function(){return"platformsService"},sort:function(){return"projectsService"},topic_id:function(){return"topicsService"},topics:function(){return"topicsService"},video:function(){return"videosService"}},serviceOverride:{sort:function(){return"graphQlProjectsService"},video:function(){return"graphQlVideosService"}},pinnedServiceOverride:{contest_id:function(){return"graphQlProjectsService"},platform_id:function(){return"graphQlProjectsService"},topic_id:function(){return"graphQlProjectsService"}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=p(r(6)),i=p(r(30)),l=p(r(948)),u=p(r(10)),s=p(r(50)),c=p(r(2)),d=p(r(3)),f=p(r(2192));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return n.default.createElement("a",{className:"".concat(d.default.link," ").concat(d.default.bold),href:e.url},e.name)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===e.length?null:n.default.createElement("span",{className:d.default.bodyS},"With ",function(e){return(0,l.default)(e.map(m))}(e))}var y=function(e){var t,r,a=e.classList,l=e.item,p=e.onClick;return n.default.createElement("div",{className:a.wrapper||s.default.wrapper},n.default.createElement("div",{className:s.default.cardWithBorder},n.default.createElement("a",{href:l.url,onClick:p},n.default.createElement(i.default,{alt:l.name,className:f.default.lazyImage,fit:"crop",ratio:"2:1",src:l.cover_image_url,width:270})),n.default.createElement("div",{className:f.default.contestBody},n.default.createElement("a",{className:"".concat(s.default.title," ").concat(d.default.bodyM," ").concat(d.default.linkCharcoal," ").concat(c.default.marginTop15," ").concat(c.default.marginBottom10),href:l.url,onClick:p},l.name),h(l.sponsors),n.default.createElement("div",{className:s.default.spacer}),(t=l.end_date,r=o.default.unix(t),(0,o.default)().isBefore(r)&&n.default.createElement("div",{className:f.default.daysLeft},"".concat(r.fromNow(!0)," Left"))),function(e,t){var r=function(e){var t=e.status,r=e.url,n=r+"/submissions";switch(t){case"in_progress":return{href:r,label:"Participate"};case"judging":return{href:n,label:"View all submissions"};case"judged":return{href:r,label:"View all winners"};default:return{href:r,label:"View contest"}}}(e),a=r.href,o=r.label;return n.default.createElement("a",{className:"".concat(u.default.sm),href:a,onClick:t},o)}(l,p))))};y.propTypes={classList:a.default.shape({wrapper:a.default.string}),item:a.default.shape({cover_image_url:a.default.string,id:a.default.number,logo_url:a.default.string,members_count:a.default.number,name:a.default.string,pitch:a.default.string,projects_count:a.default.number}).isRequired,onClick:a.default.func},y.defaultProps={classList:{},onClick:function(){}};var g=y;t.default=g},function(e,t,r){e.exports={contestBody:"contest_card__contestBody__2rl8M",daysLeft:"contest_card__daysLeft__Vmt4a",lazyImage:"contest_card__lazyImage__1H4a1"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(1)),o=i(r(949));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.classList;return n.default.createElement("div",{className:t.wrapper||o.default.wrapper},n.default.createElement("div",{className:o.default.card},n.default.createElement("div",{className:o.default.dummyImage}),n.default.createElement("div",{className:o.default.dummyTitle})))};l.propTypes={classList:a.default.shape({wrapper:a.default.string})},l.defaultProps={classList:{}};var u=l;t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(30)),i=c(r(50)),l=c(r(2)),u=c(r(3)),s=c(r(949));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t,r,n){t&&"function"==typeof t&&t(e,{external:r.url,internal:""},{id:r.id,index:n,type:"logo_card"})},f=function(e){var t=e.classList,r=e.i,a=e.overrideTracking,c=e.record;return n.default.createElement("div",{className:t.wrapper||s.default.wrapper},n.default.createElement("div",{className:s.default.card},n.default.createElement("div",{className:s.default.image},n.default.createElement("a",{href:c.url,onClick:function(e){return d(e,a,c,r)}},n.default.createElement(o.default,{alt:c.name,captureScroll:!0,className:i.default.lazyImage,fit:"fillmax",queryParams:{bg:"fff"},ratio:"1:1",src:c.avatar_url||c.logo_url||"",width:108}))),n.default.createElement("a",{className:"".concat(i.default.title," ").concat(u.default.bodyM," ").concat(u.default.linkCharcoal," ").concat(l.default.marginTop5),href:c.url,onClick:function(e){return d(e,a,c,r)}},c.name)))};f.propTypes={classList:a.default.shape({wrapper:a.default.string}),i:a.default.number,overrideTracking:a.default.func,record:a.default.shape({avatar_url:a.default.string,id:a.default.number,logo_url:a.default.string,name:a.default.string}).isRequired},f.defaultProps={classList:{},i:null,overrideTracking:null};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.negativeFacetsForList=function(e,t,r,n,a){return t.slice(0,r).reduce(function(e,t){return t.key===n?e.concat("".concat(a,":-").concat(t.value)):e},[])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(179)),o=s(r(951)),i=s(r(134)),l=r(380),u=s(r(144));function s(e){return e&&e.__esModule?e:{default:e}}var c={category_id:"_viewAllList",featured:"_viewAllList",part_id:"_pinnedItemProjectsListView",sort:"_viewAllList",topic_id:"_viewAllList"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.platform;return{_getViewMethodNameForSectionKey:function(e){return c[e]||null},components:{category_id:function(e){return n.default.createElement(i.default,Object.assign({project:e.record},l.projectProps))},part_id:function(e){return n.default.createElement(o.default,{part:e.item,onClick:e.onClick,classList:{wrapper:u.default.scrollerItemProject}})},sort:function(e){return n.default.createElement(i.default,Object.assign({project:e.record},l.projectProps))},topic_id:function(e){return n.default.createElement(i.default,Object.assign({project:e.record},l.projectProps))}},links:{category_id:function(e){return{external:"/".concat(t.user_name,"/projects?category_id=").concat(e.value),internal:"/projects?category_id=".concat(e.value)}},part_id:function(e,t){return{external:t.url,internal:"/products/".concat(t.slug)}},sort:function(e){return{external:"/".concat(t.user_name,"/projects?sort=").concat(e.value),internal:"/projects?sort=".concat(e.value)}},topic_id:function(e){return{external:"/".concat(t.user_name,"/projects?topic_id=").concat(e.value),internal:"/projects?topic_id=".concat(e.value)}}},listFacet:{category_id:function(e){return["platforms.id:".concat(t.id)]},sort:function(e){return["platforms.id:".concat(t.id)]},topic_id:function(e){return["platforms.id:".concat(t.id),"topic_ids:".concat(e.value)]}},loaderComponent:{category_id:function(){return n.default.createElement(a.default,l.dummyProjectProps)},sort:function(){return n.default.createElement(a.default,l.dummyProjectProps)},topic_id:function(){return n.default.createElement(a.default,l.dummyProjectProps)}},pagination:{category_id:function(){return{maxCardCount:4,type:"page"}},part_id:function(){return{maxCardCount:4,type:"offset",length:4}},sort:function(){return{maxCardCount:4,type:"page"}},topic_id:function(){return{maxCardCount:4,type:"page"}}},pinnedItemFacet:{part_id:function(e){return["id:".concat(e.value)]}},projectsFacet:{part_id:function(e){return["platforms.id:".concat(t.id),"parts_for_channels:".concat(e.value)]}},queryMap:{category_id:function(e){return{category_id:e.value,hitsPerPage:4,sort:"trending",qlVars:"featured"===e.value?{base_channel_id:t.id,featured:!0}:{base_channel_id:t.id,channel_category_id:e.value}}},part_id:function(e){return{hitsPerPage:3,sort:"trending",qlVars:{base_channel_id:t.id,part_id:e.value}}},sort:function(e){return{hitsPerPage:4,sort:e.value,qlVars:{base_channel_id:t.id}}},topic_id:function(e){return{topic_ids:e.value,hitsPerPage:4,sort:"trending",qlVars:"featured"===e.value?{base_channel_id:t.id,featured:!0}:{base_channel_id:t.id,topic_id:e.value}}}},service:{category_id:function(){return"projectsService"},part_id:function(){return"partsService"},sort:function(){return"projectsService"},topic_id:function(){return"projectsService"}},serviceOverride:{category_id:function(){return"graphQlProjectsService"},featured:function(){return"graphQlProjectsService"},sort:function(){return"graphQlProjectsService"},topic_id:function(){return"graphQlProjectsService"}},pinnedServiceOverride:{part_id:function(){return"graphQlProjectsService"}}}}},function(e,t,r){e.exports={pebble:"#767676",root:"part_card__root__1qCeA",info:"part_card__info__3xWMc",action:"part_card__action__9M-Sr",itemImage:"part_card__itemImage__1ct0a",lazyImage:"part_card__lazyImage__2UrWV",pitch:"part_card__pitch__2LKgp"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(179)),o=l(r(134)),i=r(380);function l(e){return e&&e.__esModule?e:{default:e}}var u={featured:"_viewAllList",sort:"_viewAllList",tag_id:"_viewAllList"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topic;return{_getViewMethodNameForSectionKey:function(e){return u[e]||null},components:{sort:function(e){return n.default.createElement(o.default,Object.assign({project:e.record},i.projectProps))},tag_id:function(e){return n.default.createElement(o.default,Object.assign({project:e.record},i.projectProps))}},links:{sort:function(e){return{external:"/".concat(t.user_name.toLowerCase(),"/projects?sort=").concat(e.value),internal:"/projects?sort=".concat(e.value)}},tag_id:function(e){return{external:"/".concat(t.user_name.toLowerCase(),"/projects?tag_id=").concat(e.value),internal:"/projects?tag_id=".concat(e.value)}}},listFacet:{sort:function(e){return["topic_ids:".concat(t.id)]},tag_id:function(e){return["topic_ids:".concat(t.id),"tag_ids:".concat(e.value)]}},loaderComponent:{sort:function(){return n.default.createElement(a.default,i.dummyProjectProps)},tag_id:function(){return n.default.createElement(a.default,i.dummyProjectProps)}},pagination:{sort:function(){return{maxCardCount:4,type:"page"}},tag_id:function(){return{maxCardCount:4,type:"page"}}},pinnedItemFacet:{},projectsFacet:{},queryMap:{sort:function(e){return{hitsPerPage:4,sort:e.value,qlVars:{approved:!0,topic_id:t.id}}},tag_id:function(e){return{tag_ids:e.value,hitsPerPage:4,sort:"trending",qlVars:"featured"===e.value?{topic_id:t.id,featured:!0}:{approved:!0,topic_id:t.id,tag_id:e.value}}}},service:{sort:function(){return"projectsService"},tag_id:function(){return"projectsService"}},serviceOverride:{featured:function(){return"graphQlProjectsService"},sort:function(){return"graphQlProjectsService"},tag_id:function(){return"graphQlProjectsService"}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(179)),o=s(r(951)),i=s(r(134)),l=r(380),u=s(r(144));function s(e){return e&&e.__esModule?e:{default:e}}var c={category_id:"_viewAllList",featured:"_viewAllList",part_id:"_pinnedItemProjectsListView",sort:"_viewAllList",topic_id:"_viewAllList"},d=function(e){return"/"===e?e:"".concat(e,"/")};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.platform,r=e.rootPath;return{_getViewMethodNameForSectionKey:function(e){return c[e]||null},components:{category_id:function(e){return n.default.createElement(i.default,Object.assign({project:e.record},l.projectProps))},part_id:function(e){return n.default.createElement(o.default,{part:Object.assign({},e.item,{url:"".concat(d(r),"products/").concat(e.item.slug)}),onClick:e.onClick,classList:{wrapper:u.default.scrollerItemProject}})},sort:function(e){return n.default.createElement(i.default,Object.assign({project:e.record},l.projectProps))},topic_id:function(e){return n.default.createElement(i.default,Object.assign({project:e.record},l.projectProps))}},links:{category_id:function(e){return{external:"".concat(d(r),"projects?category_id=").concat(e.value),internal:"".concat(d(r),"projects?category_id=").concat(e.value)}},part_id:function(e,t){return{external:"".concat(d(r),"products/").concat(t.slug),internal:"".concat(d(r),"products/").concat(t.slug)}},sort:function(e){return{external:"".concat(d(r),"projects?sort=").concat(e.value),internal:"".concat(d(r),"projects?sort=").concat(e.value)}},topic_id:function(e){return{external:"".concat(d(r),"projects?topic_id=").concat(e.value),internal:"".concat(d(r),"projects?topic_id=").concat(e.value)}}},listFacet:{category_id:function(e){return["platforms.id:".concat(t.id)]},sort:function(e){return["platforms.id:".concat(t.id)]},topic_id:function(e){return["platforms.id:".concat(t.id),"topic_ids:".concat(e.value)]}},loaderComponent:{category_id:function(){return n.default.createElement(a.default,l.dummyProjectProps)},sort:function(){return n.default.createElement(a.default,l.dummyProjectProps)},topic_id:function(){return n.default.createElement(a.default,l.dummyProjectProps)}},pagination:{category_id:function(){return{maxCardCount:4,type:"page"}},part_id:function(){return{maxCardCount:4,type:"offset",length:4}},sort:function(){return{maxCardCount:4,type:"page"}},topic_id:function(){return{maxCardCount:4,type:"page"}}},pinnedItemFacet:{part_id:function(e){return["id:".concat(e.value)]}},projectsFacet:{part_id:function(e){return["platforms.id:".concat(t.id),"parts_for_channels:".concat(e.value)]}},queryMap:{category_id:function(e){return{category_id:e.value,hitsPerPage:4,sort:"trending",qlVars:"featured"===e.value?{base_channel_id:t.id,featured:!0}:{base_channel_id:t.id,channel_category_id:e.value}}},part_id:function(e){return{hitsPerPage:3,sort:"trending",qlVars:{base_channel_id:t.id,part_id:e.value}}},sort:function(e){return{hitsPerPage:4,sort:e.value,qlVars:{base_channel_id:t.id}}},topic_id:function(e){return{topic_ids:e.value,hitsPerPage:4,sort:"trending",qlVars:"featured"===e.value?{base_channel_id:t.id,featured:!0}:{base_channel_id:t.id,topic_id:e.value}}}},service:{category_id:function(){return"projectsService"},part_id:function(){return"partsService"},sort:function(){return"projectsService"},topic_id:function(){return"projectsService"}},serviceOverride:{category_id:function(){return"graphQlProjectsService"},featured:function(){return"graphQlProjectsService"},sort:function(){return"graphQlProjectsService"},topic_id:function(){return"graphQlProjectsService"}},pinnedServiceOverride:{part_id:function(){return"graphQlProjectsService"}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(133)),i=d(r(227)),l=d(r(204)),u=d(r(255)),s=d(r(10)),c=d(r(2));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?h(n):a).reportPageView=r.reportPageView.bind(h(r)),r.qlService=new u.default({history:r.props.history}),r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"renderNewProjectButton",value:function(){var e=this.props.channel;if(e.moderation_level&&(!e.moderation_level||"readonly"!==e.moderation_level))return n.default.createElement("div",{className:c.default.marginBottom15},n.default.createElement("a",{href:"".concat(e.base_path,"/projects/new"),className:s.default.sm},"auto"===e.moderation_level?"Add a project":"Submit a project"))}},{key:"reportPageView",value:function(){this.props.seoHandler(this.props.path)}},{key:"render",value:function(){return n.default.createElement("div",{className:c.default.container},n.default.createElement("div",{className:"".concat(c.default.wrapper1170," ").concat(c.default.fullScreenHeight)},this.renderNewProjectButton(),n.default.createElement(o.default,{currentHistoryData:this.props.currentHistoryData,filters:this.props.filters,graphQLArguments:this.props.graphQLArguments,graphQLService:this.qlService,listComponent:i.default,listProps:{cardBorder:!0},loaderComponent:l.default,reportPageView:this.reportPageView})))}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={canManage:a.default.bool,channel:a.default.shape({base_path:a.default.string.isRequired,moderation_level:a.default.string}).isRequired,currentHistoryData:a.default.shape({pathname:a.default.string,search:a.default.string}),filters:a.default.arrayOf(a.default.shape({key:a.default.string.isRequired,options:a.default.array.isRequired})).isRequired,graphQLArguments:a.default.shape({base_channel_id:a.default.oneOfType([a.default.string,a.default.number])}),history:a.default.object,path:a.default.string.isRequired,seoHandler:a.default.func.isRequired},g.defaultProps={canManage:!1,currentHistoryData:null,graphQLArguments:{},history:{}};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(133)),i=d(r(227)),l=d(r(204)),u=d(r(952)),s=d(r(255)),c=d(r(381));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?h(n):a).state={part:null},r.reportPageView=r.reportPageView.bind(h(r)),r.qlService=new s.default({history:r.props.history}),r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"reportPageView",value:function(){this.props.seoHandler(this.props.path,this.state.part)}},{key:"render",value:function(){var e=this;return n.default.createElement(u.default,{canManage:this.props.canManage,graphQLArguments:this.props.graphQLArgumentsParts,history:this.props.history,path:this.props.path,platformId:this.props.platformId,propagatePart:function(t){return e.setState({part:t})},transition:this.props.transition},this.state.part&&n.default.createElement(o.default,{currentHistoryData:this.props.currentHistoryData,filters:this.props.filters,graphQLArguments:Object.assign({},this.props.graphQLArgumentsProjects,{part_id:this.state.part.id,per_page:9}),graphQLService:this.qlService,listComponent:i.default,listProps:{cardBorder:!0,className:c.default.listWrapper,maxCols:3},loaderComponent:l.default,reportPageView:this.reportPageView}))}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={canManage:a.default.bool,currentHistoryData:a.default.shape({pathname:a.default.string,search:a.default.string}),filters:a.default.arrayOf(a.default.shape({key:a.default.string.isRequired,options:a.default.array.isRequired})).isRequired,graphQLArgumentsParts:a.default.shape({platform_id:a.default.oneOfType([a.default.string,a.default.number]),platform_user_name:a.default.string}),graphQLArgumentsProjects:a.default.shape({platform_id:a.default.oneOfType([a.default.string,a.default.number])}),history:a.default.object,path:a.default.string.isRequired,platformId:a.default.number.isRequired,seoHandler:a.default.func.isRequired,transition:a.default.func.isRequired},g.defaultProps={canManage:!1,currentHistoryData:null,history:{},initFacets:[]};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(89)),i=u(r(10)),l=u(r(2));function u(e){return e&&e.__esModule?e:{default:e}}var s="".concat(i.default.md," ").concat(i.default.secondary," ").concat(l.default.marginRight10),c=function(e){var t=e.partId;return n.default.createElement(o.default,{config:{className:[s,s]},id:t,type:"part"})};c.propTypes={partId:a.default.number.isRequired},c.defaultProps={};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(88)),i=f(r(9)),l=f(r(22)),u=f(r(2204)),s=f(r(10)),c=f(r(262)),d=f(r(2));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?y(n):a).trackBuyClick=r.trackBuyClick.bind(y(r)),r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),r=t,(a=[{key:"_getDropdownLabel",value:function(e){return n.default.createElement(i.default,{className:e,name:"arrow-down",size:16})}},{key:"trackBuyClick",value:function(e){l.default.recordEvent({eventName:"Clicked part buy link"},e).catch(function(e){return errorHandler(e)})}},{key:"render",value:function(){var e=this;if(!this.props.stores.length)return null;var t=this.props.stores;return n.default.createElement("div",{className:"".concat(u.default.root," ").concat(d.default.marginRight10)},n.default.createElement("a",{className:s.default.md,href:t[0].trackable_link,onClick:function(){return e.trackBuyClick({part_id:e.props.partId,link_id:t[0].id,retailer_id:t[0].retailer&&t[0].retailer.id,link_position:0})},rel:"noopener nofollow",target:"_blank"},"Buy now"),t.length>1&&n.default.createElement(n.Fragment,null,n.default.createElement("span",{className:u.default.divider}),n.default.createElement(o.default,{alignRight:!0,classList:{button:"".concat(s.default.md," ").concat(u.default.dropdownButton)},closeOnSelect:!0,label:this._getDropdownLabel(),labelOpen:this._getDropdownLabel(u.default.arrowUp)},n.default.createElement("ul",{className:c.default.list},t.map(function(t,r){return n.default.createElement("li",{key:t.id,className:c.default.listItem},n.default.createElement("a",{className:c.default.link,href:t.trackable_link,onClick:function(){return e.trackBuyClick({part_id:e.props.partId,link_id:t.id,retailer_id:t.retailer&&t.retailer.id?t.retailer.id:null,link_position:r+1})},rel:"noopener nofollow",target:"_blank"},t.name))})))))}}])&&m(r.prototype,a),f&&m(r,f),t}();_.propTypes={partId:a.default.number.isRequired,stores:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,retailer:a.default.shape({id:a.default.number}),trackable_link:a.default.string.isRequired})).isRequired};var v=_;t.default=v},function(e,t,r){e.exports={root:"buy_button__root__2Rhgn",arrowUp:"buy_button__arrowUp__34_1l",divider:"buy_button__divider__AAZW_",dropdownButton:"buy_button__dropdownButton__2_BI6"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(9)),i=r(68),l=r(175),u=r(67),s=d(r(3)),c=d(r(381));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return(0,i.arePathsEqual)(e,t)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,l.appendToPath)((0,l.getPathUpTilPart)("products"),e)}function m(e,t,r,n){e.preventDefault(),n(r,t.slug)}var h=[{label:"Getting started",slug:"get_started"},{label:"Official page",slug:"product_page"},{label:"Documentation",slug:"documentation"},{label:"Libraries",slug:"libraries"},{label:"Data sheet",slug:"datasheet"}].map(function(e){return{href:function(t){return r=t.links,n=e.slug,r[n]||"";var r,n},icon:n.default.createElement(o.default,{className:"".concat(c.default.externalLink," ").concat(s.default.iconBaselineFix),name:"external-link"}),internal:!1,label:e.label,onClick:function(){},shouldDisplay:function(t){return(0,u.objHasPropertyOfLength)(t.links,e.slug)},shouldHighlight:function(){return!1}}}),y=[{href:function(e){return p([e.slug])},icon:null,internal:!0,label:"Projects",onClick:function(e,t,r){return m(e,t,"projects",r)},shouldDisplay:function(e){return e.hasOwnProperty("name")},shouldHighlight:function(e){return f("products/*",e)}},{href:function(e){return p([e.slug,"specs"])},icon:null,internal:!0,label:"Features and specs",onClick:function(e,t,r){return m(e,t,"specs",r)},shouldDisplay:function(e){return e.hasOwnProperty("name")},shouldHighlight:function(e){return f("products/*/specs",e)}}].concat(h),g=function(e){var t=e.currentPath,r=e.part,a=e.transition;return n.default.createElement("ul",{className:c.default.navbar},y.filter(function(e){return e.shouldDisplay(r)}).map(function(e,o){return n.default.createElement("li",{key:o,className:c.default.navbarItem},n.default.createElement("a",{className:"".concat(c.default.navbarLink," ").concat(e.shouldHighlight(t)?c.default.navbarLinkHighlight:""),href:e.href(r),onClick:function(t){return e.onClick(t,r,a)},rel:"noopener nofollow",target:"_blank"},n.default.createElement("span",null,e.label),e.icon&&n.default.createElement("span",null,e.icon)))}))};g.propTypes={currentPath:a.default.string.isRequired,part:a.default.shape({name:a.default.string,links:a.default.shape({datasheet:a.default.string,documentation:a.default.string,get_started:a.default.string,libraries:a.default.string,product_page:a.default.string})}),transition:a.default.func.isRequired},g.defaultProps={part:{name:"",links:{datasheet:"",documentation:"",get_started:"",libraries:"",product_page:""}}};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,r){t(a(e))})};var n={mpn:function(e){return e},part_id:function(e){return parseInt(e)},page:function(e){return parseInt(e,10)},per_page:function(e){return parseInt(e,10)},platform_id:function(e){return parseInt(e)},platform_user_name:function(e){return e},slug:function(e){return e}},a=function(e){var t=o(e,n);return Object.assign({},t)},o=function(e,t){var r=Object.keys(e);return r.length?r.reduce(function(r,n){return t[n]&&(r[n]=t[n](e[n])),r},{}):{}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=u(r(952)),i=u(r(49)),l=u(r(381));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=d(this,f(t).call(this,e))).state={part:null},r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n.Component),r=t,(a=[{key:"_updateSEOHeaders",value:function(e){this.props.seoHandler(this.props.path,e)}},{key:"render",value:function(){var e=this;return n.default.createElement(o.default,{graphQLArguments:this.props.graphQLArguments,history:this.props.history,path:this.props.path,platformId:this.props.platformId,propagatePart:function(t){return e.setState({part:t},function(){return e._updateSEOHeaders(t)})},transition:this.props.transition},this.state.part&&this.state.part.html_description&&n.default.createElement("div",{className:l.default.description,dangerouslySetInnerHTML:{__html:i.default.unescape(this.state.part.html_description)}}))}}])&&c(r.prototype,a),u&&c(r,u),t}();m.propTypes={graphQLArguments:a.default.shape({platform_id:a.default.oneOfType([a.default.string,a.default.number])}),history:a.default.object,path:a.default.string.isRequired,platformId:a.default.number.isRequired,seoHandler:a.default.func.isRequired,transition:a.default.func.isRequired},m.defaultProps={history:{}};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(133)),i=c(r(953)),l=c(r(2209)),u=c(r(955)),s=c(r(2));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).reportPageView=r.reportPageView.bind(m(r)),r.qlService=new u.default({history:r.props.history}),r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"reportPageView",value:function(){this.props.seoHandler(this.props.path)}},{key:"render",value:function(){return n.default.createElement("div",{className:s.default.container},n.default.createElement("div",{className:s.default.wrapper1170},n.default.createElement(o.default,{graphQLArguments:this.props.graphQLArguments,graphQLService:this.qlService,listComponent:l.default,listProps:{canManage:this.props.canManage,manageProductsLink:this.props.manageProductsLink,platformId:this.props.platformId},loaderComponent:i.default,reportPageView:this.reportPageView,transition:this.props.transition})))}}])&&f(r.prototype,a),c&&f(r,c),t}();y.propTypes={canManage:a.default.bool,graphQLArguments:a.default.shape({platform_id:a.default.number.isRequired}).isRequired,history:a.default.object,manageProductsLink:a.default.string,path:a.default.string.isRequired,platformId:a.default.number.isRequired,seoHandler:a.default.func.isRequired,transition:a.default.func.isRequired},y.defaultProps={canManage:!1,history:{},manageProductsLink:""};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(76)),i=s(r(954)),l=s(r(10)),u=s(r(2210));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.canManage,r=e.manageProductsLink,a=e.platformId,s=e.records,c=e.transition;return s.length>0?function(e){var t=e.canManage,r=e.platformId,a=e.records,o=e.transition;return n.default.createElement("div",null,a.map(function(e){return n.default.createElement(i.default,{key:e.id,canManage:t,part:e,platformId:r,transition:o})}))}({canManage:t,platformId:a,records:s,transition:c}):function(e){var t=e.canManage,r=e.manageProductsLink;return n.default.createElement(o.default,{classList:{content:u.default.placeholderContent,placeholderLink:l.default.md,placeholderText:u.default.placeholderLabel},templateArgs:{canManage:t,manageProductsLink:r},type:"no-products"})}({canManage:t,manageProductsLink:r})}var d=function(e){return c(e)};d.propTypes={canManage:a.default.bool,manageProductsLink:a.default.string,platformId:a.default.number.isRequired,records:a.default.array,transition:a.default.func.isRequired},d.defaultProps={canManage:!1,manageProductsLink:"",records:[]};var f=d;t.default=f},function(e,t,r){e.exports={placeholderContent:"horizontal_parts_list__placeholderContent__2c8h1",placeholderLabel:"horizontal_parts_list__placeholderLabel__2p5mL"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={"/":function(e){return{title:"".concat(e.name," community hub"),meta_desc:"Explore the ".concat(e.name," community hub to learn and share about their products! Join ").concat(e.stats.members," hardware developers who follow ").concat(e.name," on Hackster.io."),pageType:"community#show",entity_id:e.id}},"/discussion":function(e){return{title:"".concat(e.name,"'s discussion"),meta_desc:"Discuss with other ".concat(e.name," developers to find answers to your questions! Join ").concat(e.stats.members," hardware developers who follow ").concat(e.name," on Hackster.io."),pageType:"community#discussion",entity_id:e.id}},"/members":function(e){return{title:"".concat(e.name," community"),meta_desc:"Join ".concat(e.stats.members," hardware developers in the ").concat(e.name," community on Hackster.io."),pageType:"community#members",entity_id:e.id}},"/projects":function(e){return{title:"".concat(e.name," projects"),meta_desc:"Explore ".concat(e.stats.projects," ").concat(e.name," projects, and share your own! Join ").concat(e.stats.members," hardware developers who follow ").concat(e.name," on Hackster.io."),pageType:"community#projects",entity_id:e.id}}};t.default=function(e){return n[e]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(20),a={"/":function(e){return{title:"".concat(e.name," Community - Hackster.io"),meta_desc:"Learn about ".concat(e.name," and get inspiration from other developers. Find out where to buy, how to get started, project ideas, tutorials and tips & tricks. Discover all of ").concat(e.name,"'s products and specs. Ask questions on the discussion board."),pageType:"platforms#show",entity_id:e.id,canonical:e.url}},"/analytics":function(e){return{title:"".concat(e.name,"'s analytics - Hackster.io"),meta_desc:"Analytics for ".concat(e.name,"."),pageType:"platforms#analytics",entity_id:e.id}},"/discussion":function(e){return{title:"".concat(e.name," Discussion - Hackster.io"),meta_desc:"Discuss with other ".concat(e.name," developers to find answers to your questions! Join ").concat((0,n.formatNumberWithCommas)(e.stats.members)," hardware developers who follow ").concat(e.name,"."),pageType:"platforms#discussion",entity_id:e.id,canonical:e.url+"/discussion"}},"/members":function(e){return{title:"".concat(e.name," Developers - Hackster.io"),meta_desc:"Join ".concat((0,n.formatNumberWithCommas)(e.stats.members)," hardware developers in ").concat(e.name,"'s community on Hackster.io."),pageType:"platforms#members",entity_id:e.id,canonical:e.url+"/members"}},"/projects":function(e){return{title:"".concat(e.stats.projects>4?"".concat((0,n.formatNumberWithCommas)(e.stats.projects)," "):"").concat(e.name," Projects & Tutorials for Beginners and Up - Hackster.io"),meta_desc:"Explore ".concat(e.stats.projects>4?"".concat((0,n.formatNumberWithCommas)(e.stats.projects)," "):"").concat(e.name," projects and tutorials with instructions, code and schematics. New projects for beginners and up posted every day. Get inspired with ideas and build your own."),pageType:"platforms#projects",entity_id:e.id,canonical:e.url+"/projects"}},"/products":function(e){return{title:"".concat(e.name," Products - Hackster.io"),meta_desc:"Discover all the ".concat(e.name," products, where to buy, and their related hardware projects."),pageType:"platforms/parts#index",entity_id:e.id,canonical:e.url+"/products"}},"/products/*":function(e){var t=e.part,r=e.platform;return{title:"".concat(t.stats.projects>4?"".concat((0,n.formatNumberWithCommas)(t.stats.projects)," "):"").concat(t.name.includes(r.name)?t.name:"".concat(r.name," ").concat(t.name)," Projects & Tutorials for Beginners and Up - Hackster.io"),meta_desc:"Explore ".concat(t.stats.projects>4?"".concat((0,n.formatNumberWithCommas)(t.stats.projects)," "):"").concat(t.name.includes(r.name)?t.name:"".concat(r.name," ").concat(t.name)," projects and tutorials with instructions, code and schematics. New projects for beginners and up posted every day. Get inspired with ideas and build your own."),pageType:"platforms/parts#show",entity_id:t.id,canonical:t.url}},"/products/*/specs":function(e){var t=e.part,r=e.platform;return{title:"".concat(t.name.includes(r.name)?t.name:"".concat(r.name," ").concat(t.name)," Specifications and Features - Hackster.io"),meta_desc:"What is ".concat(t.name.includes(r.name)?t.name:"".concat(r.name," ").concat(t.name)," and how does it work? Where can I buy it?"),pageType:"platforms/parts#specs",entity_id:t.id,canonical:t.url+"/specs"}}},o=function(e){return a[e]};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(20),a={"/":function(e){return{title:"".concat(e.name," Community - Hackster.io"),meta_desc:"Learn about ".concat(e.name," and get inspiration from other developers. Find out how to get started, what to buy, project ideas, tutorials and tips & tricks. Ask questions on the discussion board."),pageType:"topics#show",entity_id:e.id,canonical:e.url}},"/discussion":function(e){return{title:"".concat(e.name," Discussion - Hackster.io"),meta_desc:"Discuss with other ".concat(e.name," developers to find answers to your questions! Join ").concat((0,n.formatNumberWithCommas)(e.stats.members)," hardware developers who follow ").concat(e.name,"."),pageType:"topics#discussion",entity_id:e.id,canonical:e.url+"/discussion"}},"/members":function(e){return{title:"".concat(e.name," Developers"),meta_desc:"Join ".concat((0,n.formatNumberWithCommas)(e.stats.members)," hardware developers in the ").concat(e.name," Community on Hackster.io."),pageType:"topics#members",entity_id:e.id,canonical:e.url+"/members"}},"/projects":function(e){return{title:"".concat(e.stats.projects>4?"".concat((0,n.formatNumberWithCommas)(e.stats.projects)," "):"").concat(e.name," Projects & Tutorials for Beginners and Up "),meta_desc:"Explore ".concat(e.stats.projects>4?"".concat((0,n.formatNumberWithCommas)(e.stats.projects)," "):"").concat(e.name," projects and tutorials with instructions, code and schematics. New projects for beginners and up posted every day. Get inspired with ideas and build your own."),pageType:"topics#projects",entity_id:e.id,canonical:e.url+"/projects"}}};t.default=function(e){return a[e]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=u(r(9)),i=u(r(2)),l=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=["tutorial","showcase","wip","protip","getting_started","teardown"],h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?f(n):a).handleChange=r.handleChange.bind(f(r)),r.state=r.computeState(r.props.initialContentType,r.props.initialHasError),r}var r,n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a.Component),r=t,(n=[{key:"computeState",value:function(e,t){var r=e?["protip","getting_started","teardown"].indexOf(e)>-1:null,n=!1!==r||"select_wip"===e?null:"wip"===e,a=!1!==n||"select_tutorial"===e?null:"tutorial"===e;return{contentType:m.indexOf(e)>-1?e:"",hasError:t,isProtip:r,isWip:n,isTutorial:a}}},{key:"handleChange",value:function(e){var t=this.computeState(e.target.value,!1);this.setState(t)}},{key:"_renderProjectType",value:function(){var e=["form-group"],t=null;return this.state.hasError&&null===this.state.isProtip&&(e.push("has-error"),t=a.default.createElement("p",{className:"help-block"},"is required for publication")),a.default.createElement("div",{className:e.join(" ")},a.default.createElement("div",{className:"col-md-4"},a.default.createElement("label",{className:"control-label"},"Project type")),a.default.createElement("div",{className:"col-md-8"},a.default.createElement("div",{className:"radio small"},a.default.createElement("label",null,a.default.createElement("input",{type:"radio",value:"select_wip",checked:!1===this.state.isProtip,onChange:this.handleChange,name:"protip"}),a.default.createElement("div",null,a.default.createElement(o.default,{name:"protip",className:"".concat(l.default.iconBaselineFix," ").concat(i.default.marginRight5)}),a.default.createElement("span",null,"I am documenting how I built a project")),a.default.createElement("div",{className:"small text-muted"},"Examples: a weather station, a smart thermostat"))),a.default.createElement("div",{className:"radio small"},a.default.createElement("label",null,a.default.createElement("input",{type:"radio",value:"protip",checked:!0===this.state.isProtip,onChange:this.handleChange,name:"protip"}),a.default.createElement("div",null,a.default.createElement(o.default,{name:"showcase",className:"".concat(l.default.iconBaselineFix," ").concat(i.default.marginRight5)}),a.default.createElement("span",null,"I am solely describing how to use a component or application")),a.default.createElement("div",{className:"small text-muted"},"Examples: how to control a motor with Arduino Uno, get started with Raspberry Pi"))),t))}},{key:"_renderProgress",value:function(){if(!1===this.state.isProtip){var e=["form-group"],t=null;return this.state.hasError&&null===this.state.isWip&&(e.push("has-error"),t=a.default.createElement("p",{className:"help-block"},"is required for publication")),a.default.createElement("div",{className:e.join(" ")},a.default.createElement("div",{className:"col-md-4"},a.default.createElement("label",{className:"control-label"},"Progress")),a.default.createElement("div",{className:"col-md-8"},a.default.createElement("div",{className:"radio small"},a.default.createElement("label",null,a.default.createElement("input",{type:"radio",value:"wip",name:"wip",checked:!0===this.state.isWip,onChange:this.handleChange}),a.default.createElement(o.default,{name:"wip",className:"".concat(l.default.iconBaselineFix," ").concat(i.default.marginRight5)}),a.default.createElement("span",null,"I am still working on my project"))),a.default.createElement("div",{className:"radio small"},a.default.createElement("label",null,a.default.createElement("input",{type:"radio",value:"select_tutorial",name:"wip",checked:!1===this.state.isWip,onChange:this.handleChange}),a.default.createElement(o.default,{name:"thumbs-up",className:"".concat(l.default.iconBaselineFix," ").concat(i.default.marginRight5)}),a.default.createElement("span",null,"My project is complete"))),t))}}},{key:"_renderInstructions",value:function(){if(!1===this.state.isWip){var e=["form-group"],t=null;return this.state.hasError&&null===this.state.isTutorial&&(e.push("has-error"),t=a.default.createElement("p",{className:"help-block"},"is required for publication")),a.default.createElement("div",{className:e.join(" ")},a.default.createElement("div",{className:"col-md-4"},a.default.createElement("label",{className:"control-label"},"Instructions")),a.default.createElement("div",{className:"col-md-8"},a.default.createElement("div",{className:"radio small"},a.default.createElement("label",null,a.default.createElement("input",{type:"radio",value:"tutorial",name:"instructions",checked:!0===this.state.isTutorial,onChange:this.handleChange}),a.default.createElement(o.default,{name:"full-instructions",className:"".concat(l.default.iconBaselineFix," ").concat(i.default.marginRight5)}),a.default.createElement("span",null,"My project provides full instructions"))),a.default.createElement("div",{className:"radio small"},a.default.createElement("label",null,a.default.createElement("input",{type:"radio",value:"showcase",name:"instructions",checked:!1===this.state.isTutorial,onChange:this.handleChange}),a.default.createElement(o.default,{name:"file",className:"".concat(l.default.iconBaselineFix," ").concat(i.default.marginRight5)}),a.default.createElement("span",null,"My project provides no or partial instructions"))),t))}}},{key:"render",value:function(){return a.default.createElement("div",null,this._renderProjectType(),this._renderProgress(),this._renderInstructions(),a.default.createElement("input",{type:"hidden",value:this.state.contentType,name:"project[content_type]"}))}}])&&c(r.prototype,n),u&&c(r,u),t}();t.default=h,h.propTypes={initialContentType:n.default.string,initialHasError:n.default.bool.isRequired},h.defaultProps={initialContentType:""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=E(r(1)),o=r(14),i=E(r(2216)),l=E(r(42)),u=E(r(120)),s=E(r(2227)),c=E(r(48)),d=E(r(7)),f=E(r(22)),p=r(60),m=r(71),h=r(101),y=r(2230),g=r(2231),_=r(517),v=r(20),b=r(67),O=r(18),w=r(12);function E(e){return e&&e.__esModule?e:{default:e}}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e,t){return"".concat(e," could not be ").concat(t,", try again.")},M=N("Project","added"),A=N("Project","withdrawn"),I=N("Idea","withdrawn"),x=N("Project","resubmitted"),D=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=j(t).call(this,e))||"object"!==P(a)&&"function"!=typeof a?R(n):a).state={contestStatus:(0,g.formatStatus)(e.challenge),dialog:{data:null,open:!1,view:null},fetchedUserProjects:!1,initialized:!1,isBusy:!1,prompt:{data:null,open:!1,view:null},serverErrors:{createEntry:null,deleteEntry:null,deleteIdea:null,deleteRegistration:null},timelineEvents:(0,g.formatEvents)(e.challenge),user:{entries:[],ideas:[],isRegistered:!1,projects:[],registration:null}},r.createEntry=r.createEntry.bind(R(r)),r.createRegistration=r.createRegistration.bind(R(r)),r.deleteEntry=r.deleteEntry.bind(R(r)),r.deleteIdea=r.deleteIdea.bind(R(r)),r.deleteRegistration=r.deleteRegistration.bind(R(r)),r.getUserProjects=r.getUserProjects.bind(R(r)),r.handleExternalRegisterButtonClick=r.handleExternalRegisterButtonClick.bind(R(r)),r.resubmitEntry=r.resubmitEntry.bind(R(r)),r._refreshTimeout,r}var r,a,E;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._init(),this._initRefreshTimeout(),(0,y.addRegisterButtonClickHandler)(this.handleExternalRegisterButtonClick)}},{key:"componentWillUnmount",value:function(){this._refreshTimeout&&window.clearTimeout(this._refreshTimeout)}},{key:"_init",value:function(){var e=this;return(0,o.graphQueryWithUserNoSigninDialog)({t:"get_contest_dashboard_index"},{id:this.props.challenge.id}).then(function(t){var r=t.current_user,n=e._initCurrentUser(r);e.setState({dialog:e._initDialog(n),initialized:!0,user:n})}).catch(function(t){e.setState({initialized:!0}),(0,d.default)("ContestBriefPage _init",t)})}},{key:"_initCurrentUser",value:function(e){if(!e||!e.hasOwnProperty("challenge_participation"))return this.state.user;var t=e.challenge_participation,r=t.entries,n=t.ideas,a=t.registration;return{entries:r,ideas:n,isRegistered:(0,b.objHasPropertyWithValue)(a,"id"),projects:[],registration:a}}},{key:"_initDialog",value:function(e){return e.isRegistered&&(0,w.doesWindowLocationHaveParam)("reg_modal")?{data:this.props.challenge,open:!0,view:"PostRegistrationDialog"}:this.state.dialog}},{key:"_initRefreshTimeout",value:function(){var e=(0,_.timeTilEndDateMs)(this.props.challenge.end_date);e>0&&(this._refreshTimeout=setTimeout(function(){return(0,w.windowLocationReload)(!0)},e))}},{key:"createEntry",value:function(e,t){var r=this;return this.setState({isBusy:!0}),(0,o.graphMutate)({t:"create_contest_entry"},{challenge_id:this.props.challenge.id,project_id:e}).then(function(n){var a=n.created;r.setState({isBusy:!1,serverErrors:Object.assign({},r.state.serverErrors,{createEntry:null}),user:Object.assign({},r.state.user,{entries:[a.entry].concat(r.state.user.entries),projects:r.state.user.projects.filter(function(t){return t.id!==e})})},function(){return t()}),f.default.reportEventWithObj((0,p.getCreateContestEntryArgs)({id:r.props.challenge.id,project_id:e}))}).catch(function(e){r.setState({isBusy:!1,serverErrors:Object.assign({},r.state.serverErrors,{createEntry:M})}),(0,d.default)("ContestBriefPage createEntry",e)})}},{key:"createRegistration",value:function(){var e=this;return c.default.has("id")?(this.setState({isBusy:!0}),(0,o.graphMutate)({t:"create_contest_registration"},{challenge_id:this.props.challenge.id}).then(function(t){var r=t.current_user;e.setState({dialog:{data:e.props.challenge,open:!0,view:"PostRegistrationDialog"},fetchedUserProjects:!1,isBusy:!1,serverErrors:Object.assign({},e.state.serverErrors,{createRegistration:null}),user:e._initCurrentUser(r)}),f.default.reportEventWithObj((0,p.getCreateContestRegistrationArgs)({id:e.props.challenge.id})),(0,y.updateDOMRegisteredState)(!0),(0,y.scrollToNav)()}).catch(function(t){e.setState({isBusy:!1}),(0,d.default)("ContestBriefPage createRegistration",t)})):(0,O.summonLoginPanel)({detail:{redirect_to:this.props.registrationPath,state:{currentPanel:"signup",simplified:!0}}})}},{key:"deleteEntry",value:function(e){var t=this;return this.setState({isBusy:!0}),(0,o.graphMutate)({t:"delete_contest_entry"},{id:e.id}).then(function(){return t.setState({isBusy:!1,prompt:{data:null,open:!1,view:null},serverErrors:Object.assign({},t.state.serverErrors,{deleteEntry:null}),user:Object.assign({},t.state.user,{entries:t.state.user.entries.filter(function(t){return t.id!==e.id}),projects:t.state.user.projects.concat({id:e.project.id,name:e.project.name})})})}).catch(function(e){t.setState({isBusy:!1,serverErrors:Object.assign({},t.state.serverErrors,{deleteEntry:A})}),(0,d.default)("ContestBriefPage deleteEntry",e)})}},{key:"deleteIdea",value:function(e){var t=this;return this.setState({isBusy:!0}),(0,o.graphMutate)({t:"delete_contest_idea"},{id:e.id}).then(function(){return t.setState({prompt:{data:null,open:!1,view:null},isBusy:!1,serverErrors:Object.assign({},t.state.serverErrors,{deleteIdea:null}),user:Object.assign({},t.state.user,{ideas:t.state.user.ideas.filter(function(t){return t.id!==e.id})})})}).catch(function(e){t.setState({isBusy:!1,serverErrors:Object.assign({},t.state.serverErrors,{deleteIdeas:I})}),(0,d.default)("ContestBriefPage deleteIdea",e)})}},{key:"deleteRegistration",value:function(){var e=this;return this.setState({isBusy:!0}),(0,o.graphMutate)({t:"delete_contest_registration"},{id:this.state.user.registration.id}).then(function(){e.setState({fetchedUserProjects:!1,isBusy:!1,prompt:{data:null,open:!1,view:null},serverErrors:Object.assign({},e.state.serverErrors,{deleteRegistration:null}),user:Object.assign({},e.state.user,{isRegistered:!1,registration:null})}),f.default.reportEventWithObj((0,p.getDeleteContestRegistrationArgs)({id:e.props.challenge.id})),(0,y.updateDOMRegisteredState)(!1)}).catch(function(t){e.setState({isBusy:!1,serverErrors:Object.assign({},e.state.serverErrors,{deleteRegistration:"Could not unregister, please try again"})}),(0,d.default)("ContestBriefPage deleteRegistration",t)})}},{key:"getUserProjects",value:function(){var e=this;return this.state.fetchedUserProjects?Promise.resolve():(this.setState({isBusy:!0}),(0,o.graphQueryWithUser)({t:"get_user_projects_for_contests"},{challenge_id:this.props.challenge.id}).then(function(t){var r=t.current_user;return e.setState({fetchedUserProjects:!0,isBusy:!1,user:Object.assign({},e.state.user,{projects:r.projects})})}).catch(function(t){e.setState({isBusy:!1}),(0,d.default)("ContestBriefPage getUserProjects",t)}))}},{key:"resubmitEntry",value:function(e){var t=this;return this.setState({isBusy:!0}),(0,o.graphMutate)({t:"submit_contest_entry"},{id:e.id}).then(function(){return t.setState({prompt:{data:null,open:!1,view:null},isBusy:!1,serverErrors:Object.assign({},t.state.serverErrors,{resubmitEntry:null}),user:Object.assign({},t.state.user,{entries:t.state.user.entries.map(function(r){return r.id===e.id?t._updateEntryStatus(r,h.RESUBMITTED):r})})})}).catch(function(e){t.setState({isBusy:!1,serverErrors:Object.assign({},t.state.serverErrors,{deleteEntry:x})}),(0,d.default)("ContestBriefPage resubmitEntry",e)})}},{key:"handleExternalRegisterButtonClick",value:function(e){e.preventDefault(),this.createRegistration()}},{key:"_getEditSubmissionPermissions",value:function(){var e;return S(e={},h.ENTRY,this.props.challenge.status===h.IN_PROGRESS),S(e,h.IDEA,this.props.challenge.free_hardware_status===h.OPEN),e}},{key:"_summonPrompt",value:function(e,t){var r,n=(S(r={},h.ENTRY,"deleteEntry"),S(r,h.IDEA,"deleteIdea"),S(r,"resubmit","resubmitEntry"),S(r,"unregister","deleteRegistration"),r);n.hasOwnProperty(t)&&this.setState({prompt:{data:e,open:!0,view:n[t]}})}},{key:"_updateEntryStatus",value:function(e,t){return Object.assign({},e,{status:t})}},{key:"_getDialogBody",value:function(){switch(this.state.dialog.view){case"PostRegistrationDialog":var e=this.state.dialog.data?this.state.dialog.data:{};return n.default.createElement(s.default,k({challengeId:this.props.challenge.id},e));default:return null}}},{key:"_getUnregisterPromptIdeasSection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.some(function(e){return e.status===h.APPROVED})?n.default.createElement("div",null,"You’ve been awarded a piece of hardware. According to our ",n.default.createElement("a",{href:this.props.rulesPath},"contest rules"),", participants who receive free hardware and do not submit a project may be ineligible for future giveaways unless the hardware is returned."):e.length>0?n.default.createElement("div",null,"Your ".concat((0,v.pluralize)("idea",e.length)," will be withdrawn and will not be considered for free hardware.")):null}},{key:"_getUnregisterPromptBody",value:function(){var e=this.state.user.entries.length;return n.default.createElement(n.Fragment,null,this._getUnregisterPromptIdeasSection(this.state.user.ideas),e>0&&n.default.createElement("div",null,"Your ".concat((0,v.pluralize)("submission",e)," will be withdrawn and will not be considered for prizes.")))}},{key:"_getPromptCopy",value:function(e){switch(e){case"deleteEntry":return{action:"Withdraw",title:"Are you sure you want to withdraw your submission?",body:"If you withdraw you can resubmit later."};case"deleteIdea":return{action:"Withdraw",title:"Are you sure you want to withdraw your idea?",body:"Once you withdraw your idea, it cannot be undone."};case"resubmitEntry":return{action:"Resubmit",title:"Are you sure you want to resubmit your entry?",body:"Please confirm you've made updates according to the moderators' feedback."};case"deleteRegistration":return{body:this._getUnregisterPromptBody(),title:"Are you sure you want to unregister?"};default:return{}}}},{key:"_getPromptProps",value:function(e){var t=this,r=this._getPromptCopy(e),n=r.action,a=r.body,o=r.title;return{action:n,body:a,message:(0,m.getErrorHelperView)(this.state.serverErrors[e]),okay:function(){t.hasOwnProperty(e)&&t[e](t.state.prompt.data)},title:o}}},{key:"render",value:function(){var e=this;return n.default.createElement("div",null,n.default.createElement(i.default,{allowMultipleEntries:this.props.challenge.allow_multiple_entries,canEditSubmission:this._getEditSubmissionPermissions(),contestStatus:this.state.contestStatus,createEntry:this.createEntry,createRegistration:this.createRegistration,editNotificationsPath:this.props.editNotificationsPath,faqPath:this.props.faqPath,deleteRegistration:function(){return e._summonPrompt(null,"unregister")},getUserProjects:this.getUserProjects,initialized:this.state.initialized,isBusy:this.state.isBusy,newProjectPath:this.props.newProjectPath,resubmitEntry:function(t){return e._summonPrompt(t,"resubmit")},serverErrors:this.state.serverErrors,timelineEvents:this.state.timelineEvents,user:this.state.user,withdrawEntryOrIdea:function(t,r){return e._summonPrompt(t,r)}}),n.default.createElement(l.default,{dismiss:function(){return e.setState({dialog:{data:null,open:!1,view:null}})},open:this.state.dialog.open},this._getDialogBody()),n.default.createElement(u.default,k({dismiss:function(){return e.setState({prompt:{data:null,open:!1,view:null}})},isBusy:this.state.isBusy,open:this.state.prompt.open},this._getPromptProps(this.state.prompt.view))))}}])&&C(r.prototype,a),E&&C(r,E),t}();D.propTypes={challenge:a.default.shape({allow_multiple_entries:a.default.bool.isRequired,end_date:a.default.string,free_hardware_end_date:a.default.string,free_hardware_winners_announced_date:a.default.string,id:a.default.number.isRequired,ready:a.default.bool,start_date:a.default.string,status:a.default.string.isRequired,winners_announced_date:a.default.string}).isRequired,editNotificationsPath:a.default.string.isRequired,faqPath:a.default.string.isRequired,newProjectPath:a.default.string.isRequired,registrationPath:a.default.string.isRequired,rulesPath:a.default.string.isRequired,user_signed_in:a.default.bool.isRequired};var q=D;t.default=q},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=y(r(0)),o=y(r(1)),i=y(r(305)),l=y(r(956)),u=y(r(15)),s=y(r(2218)),c=y(r(2219)),d=y(r(2226)),f=r(101),p=y(r(2)),m=y(r(3)),h=y(r(230));function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=function(e){var t,r=e.contestStatus;return t=r.status,[f.PRE_REGISTRATION,f.IN_PROGRESS].includes(t)},v=function(e){return a.default.createElement(c.default,{allowMultipleEntries:e.allowMultipleEntries,canEditSubmission:e.canEditSubmission,contestStatus:e.contestStatus.status,createEntry:e.createEntry,faqPath:e.faqPath,getUserProjects:e.getUserProjects,initialized:e.initialized,isBusy:e.isBusy,newProjectPath:e.newProjectPath,resubmitEntry:e.resubmitEntry,serverErrors:e.serverErrors,user:e.user,withdrawEntryOrIdea:e.withdrawEntryOrIdea})},b=function(e){var t=e.user.isRegistered&&_(e);return e.initialized&&t?function(e){return a.default.createElement("div",null,a.default.createElement("h5",{className:"".concat(h.default.rowHeader," ").concat(m.default.h5)},"Registration"),a.default.createElement("div",{className:h.default.registrationRow},a.default.createElement("div",null,"You are registered!"),_(e)&&a.default.createElement(u.default,{colorStyle:"secondary",disabled:e.isBusy,onClick:e.deleteRegistration,size:"sm"},"Unregister")),a.default.createElement("div",{className:p.default.marginTop15},a.default.createElement("a",{className:"".concat(m.default.link," ").concat(m.default.bodyM),href:e.editNotificationsPath},"Edit notification preferences")))}(e):null},O=function(e){return a.default.createElement("div",null,function(e){return e.initialized?v(e):null}(e),function(e){var t=b(e);return a.default.createElement(i.default,{appear:!0},!!t&&a.default.createElement(l.default,{maxHeight:75},a.default.createElement("div",{className:h.default.rowContainer},t)))}(e),a.default.createElement(s.default,e.contestStatus),e.timelineEvents.challengeEvents.length>0&&a.default.createElement(d.default,e.timelineEvents))};O.propTypes={allowMultipleEntries:o.default.bool.isRequired,canEditSubmission:o.default.shape((n={},g(n,f.ENTRY,o.default.bool.isRequired),g(n,f.IDEA,o.default.bool.isRequired),n)).isRequired,contestStatus:o.default.shape({date:o.default.string,status:o.default.string,text:o.default.arrayOf(o.default.string).isRequired,timeRemaining:o.default.string}).isRequired,createEntry:o.default.func.isRequired,createRegistration:o.default.func.isRequired,deleteRegistration:o.default.func.isRequired,editNotificationsPath:o.default.string.isRequired,faqPath:o.default.string.isRequired,getUserProjects:o.default.func.isRequired,initialized:o.default.bool.isRequired,isBusy:o.default.bool.isRequired,newProjectPath:o.default.string.isRequired,resubmitEntry:o.default.func.isRequired,serverErrors:o.default.shape({createEntry:o.default.string,deleteEntry:o.default.string}),timelineEvents:o.default.shape({challengeEvents:o.default.arrayOf(o.default.shape({date:o.default.string.isRequired,headerText:o.default.string.isRequired,isPast:o.default.bool.isRequired,ms:o.default.number.isRequired,name:o.default.string.isRequired})).isRequired,nowMs:o.default.number.isRequired}).isRequired,user:o.default.shape({entries:o.default.arrayOf(o.default.shape({can_be_resubmitted:o.default.bool,id:o.default.number,moderator_feedback:o.default.string,project:o.default.shape({id:o.default.number,name:o.default.string,url:o.default.string}),status:o.default.string,updated_at:o.default.string})).isRequired,ideas:o.default.arrayOf(o.default.shape({id:o.default.number,name:o.default.string,status:o.default.string,updated_at:o.default.string,url:o.default.string})).isRequired,isRegistered:o.default.bool.isRequired,projects:o.default.arrayOf(o.default.shape({id:o.default.number,name:o.default.string})),registration:o.default.shape({challenge:o.default.shape({activate_email_sharing:o.default.bool,after_registration_tweet:o.default.string,email_sharing_label:o.default.string,facebook_url:o.default.string,reddit_url:o.default.string,twitter_url:o.default.string})})}).isRequired,withdrawEntryOrIdea:o.default.func.isRequired},O.defaultProps={serverErrors:null};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNMOUNTED=t.EXITED=t.EXITING=t.EXIT=t.ENTERED=t.ENTERING=t.ENTER=t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=i(r(1)),o=i(r(434));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m,h,y,g=function(e){function t(e,r){var n,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(o=d(t).call(this,e,r))||"object"!==l(o)&&"function"!=typeof o?f(a):o).state={style:e.getStyle(null,n._initStatus(e,r))},n.onEnter=n.onEnter.bind(f(n)),n.onEntering=n.onEntering.bind(f(n)),n.onEntered=n.onEntered.bind(f(n)),n.onExit=n.onExit.bind(f(n)),n.onExiting=n.onExiting.bind(f(n)),n.onExited=n.onExited.bind(f(n)),n}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n.Component),r=t,(a=[{key:"_initStatus",value:function(e,t){var r=t.transitionGroup,n=r&&!r.isMounting?e.enter:e.appear;return e.in?n?P:O:e.unmountOnExit||e.mountOnEnter?k:P}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"onEnter",value:function(e,t){this._safelySetState({style:this.props.getStyle(e,v,t)}),this.props.onEnter&&this.props.onEnter(e,t)}},{key:"onEntering",value:function(e,t){this._forceReflow(e),this._safelySetState({style:this.props.getStyle(e,b,t)}),this.props.onEntering&&this.props.onEntering(e,t)}},{key:"onEntered",value:function(e,t){this._safelySetState({style:this.props.getStyle(e,O,t)}),this.props.onEntered&&this.props.onEntered(e,t)}},{key:"onExit",value:function(e){this._safelySetState({style:this.props.getStyle(e,w)}),this.props.onExit&&this.props.onExit(e)}},{key:"onExiting",value:function(e){this._forceReflow(e),this._safelySetState({style:this.props.getStyle(e,E)}),this.props.onExiting&&this.props.onExiting(e)}},{key:"onExited",value:function(e){this._safelySetState({style:this.props.getStyle(e,P)}),this.props.onExited&&this.props.onExited(e)}},{key:"_forceReflow",value:function(e){return e&&e.scrollTop}},{key:"_safelySetState",value:function(e,t){this._isMounted&&this.setState(e,t)}},{key:"render",value:function(){var e=this.props,t=(e.getStyle,s(e,["getStyle"]));return n.default.createElement(o.default,u({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited,style:this.state.style}))}}])&&c(r.prototype,a),i&&c(r,i),t}();m=g,h="contextTypes",y={transitionGroup:a.default.object},h in m?Object.defineProperty(m,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[h]=y,g.propTypes=Object.assign({},o.default.propTypes,{getStyle:a.default.func.isRequired}),g.defaultProps=o.default.defaultProps;var _=g;t.default=_;var v="enter";t.ENTER=v;var b="entering";t.ENTERING=b;var O="entered";t.ENTERED=O;var w="exit";t.EXIT=w;var E="exiting";t.EXITING=E;var P="exited";t.EXITED=P;var k="unmounted";t.UNMOUNTED=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=r(101),i=u(r(3)),l=u(r(230));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=d(this,f(t).call(this,e))).state={shouldShowStatusView:!1},r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this.setState({shouldShowStatusView:!0})}},{key:"isPreRegistrationOrInProgress",value:function(e){return[o.PRE_REGISTRATION,o.IN_PROGRESS].includes(e)}},{key:"getSingleLineStatus",value:function(e){var t=e.text,r=e.date;return n.default.createElement("p",{className:i.default.bodyL},t[0]," ",r&&n.default.createElement("b",null,r))}},{key:"getStatusWithTimeRemaining",value:function(e){var t=e.date,r=e.text,a=e.timeRemaining;return n.default.createElement("span",null,n.default.createElement("div",{className:i.default.bodyL},r[0]," ",n.default.createElement("b",null,a)),n.default.createElement("div",{className:i.default.bodyS},r[1]," ",t))}},{key:"getStatusView",value:function(e){return this.isPreRegistrationOrInProgress(e.status)?this.getStatusWithTimeRemaining(e):this.getSingleLineStatus(e)}},{key:"render",value:function(){return n.default.createElement("div",{className:l.default.rowContainer},n.default.createElement("h5",{className:"".concat(l.default.rowHeader," ").concat(i.default.h5)},"Contest Status"),this.state.shouldShowStatusView?this.getStatusView(this.props):n.default.createElement("div",{className:l.default.statusDummy}))}}])&&c(r.prototype,a),u&&c(r,u),t}();m.propTypes={date:a.default.string,status:a.default.string,text:a.default.arrayOf(a.default.string).isRequired,timeRemaining:a.default.string},m.defaultProps={date:null,status:null,timeRemaining:null};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=y(r(1)),i=y(r(305)),l=y(r(2220)),u=y(r(245)),s=y(r(2221)),c=y(r(956)),d=y(r(2222)),f=r(8),p=r(101),m=y(r(2)),h=y(r(230));function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=b(t).call(this,e))||"object"!==_(a)&&"function"!=typeof a?O(n):a).state={showProjectPanel:!1},r.__dismissAddProjectPanelHook=r.__dismissAddProjectPanelHook.bind(O(r)),r.createEntry=r.createEntry.bind(O(r)),r.dismissAddProjectPanel=r.dismissAddProjectPanel.bind(O(r)),r.summonAddProjectPanel=r.summonAddProjectPanel.bind(O(r)),r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,a.Component),r=t,(n=[{key:"__dismissAddProjectPanelHook",value:function(){this.dismissAddProjectPanel()}},{key:"createEntry",value:function(e){return this.props.createEntry(e,this.__dismissAddProjectPanelHook)}},{key:"dismissAddProjectPanel",value:function(){this.setState({showProjectPanel:!1})}},{key:"summonAddProjectPanel",value:function(){var e=this;this.state.showProjectPanel||this.setState({showProjectPanel:!0},function(){return e.props.getUserProjects()})}},{key:"_shouldShowAddProjectButtons",value:function(){var e=this.props,t=e.allowMultipleEntries,r=e.contestStatus,n=e.user,a=r===p.IN_PROGRESS,o=0===n.entries.length||t;return a&&o}},{key:"_getRegisteredView",value:function(){var e=this.props,t=e.canEditSubmission,r=e.faqPath,n=e.isBusy,o=e.newProjectPath,y=e.resubmitEntry,g=e.serverErrors,_=e.user,v=e.withdrawEntryOrIdea;return a.default.createElement(i.default,{appear:!0},this._shouldShowAddProjectButtons()&&a.default.createElement(c.default,{key:"addProjectButtons",className:h.default.panelRow,maxHeight:200},a.default.createElement("div",{className:m.default.flex},a.default.createElement(s.default,{anchor:!0,className:h.default.addProjectButton,href:o,icon:a.default.createElement(u.default,{name:"new-project"}),text:"Create new project"}),a.default.createElement(s.default,{className:h.default.addProjectButton,disabled:this.state.showProjectPanel,icon:a.default.createElement(u.default,{name:"existing-project"}),onClick:this.summonAddProjectPanel,text:"Add existing project"}))),this.state.showProjectPanel&&a.default.createElement(c.default,{key:"addProjectPanel",className:h.default.panelRow,maxHeight:250},a.default.createElement(l.default,{createEntry:this.createEntry,dismiss:this.dismissAddProjectPanel,isBusy:n,projects:_.projects,serverError:(0,f.getInObj)(["createEntry"],g)})),_.entries.map(function(e){return a.default.createElement(c.default,{key:"".concat(p.ENTRY,"-").concat(e.id),className:h.default.panelRow,maxHeight:250},a.default.createElement(d.default,{canEdit:t[p.ENTRY],faqPath:r,isBusy:n,item:e,resubmitEntry:y,type:p.ENTRY,withdraw:v}))}),_.ideas.map(function(e){return a.default.createElement(c.default,{key:"".concat(p.IDEA,"-").concat(e.id),className:h.default.panelRow,maxHeight:250},a.default.createElement(d.default,{canEdit:t[p.IDEA],faqPath:r,item:e,type:p.IDEA,withdraw:v}))}))}},{key:"render",value:function(){return this.props.user.isRegistered?this._getRegisteredView():a.default.createElement(i.default,null)}}])&&v(r.prototype,n),o&&v(r,o),t}();E.propTypes={allowMultipleEntries:o.default.bool.isRequired,canEditSubmission:o.default.shape((n={},g(n,p.ENTRY,o.default.bool.isRequired),g(n,p.IDEA,o.default.bool.isRequired),n)).isRequired,contestStatus:o.default.string,createEntry:o.default.func.isRequired,faqPath:o.default.string.isRequired,getUserProjects:o.default.func.isRequired,initialized:o.default.bool.isRequired,isBusy:o.default.bool.isRequired,newProjectPath:o.default.string.isRequired,resubmitEntry:o.default.func.isRequired,serverErrors:o.default.shape({createEntry:o.default.string,deleteEntry:o.default.string}),user:o.default.shape({entries:o.default.arrayOf(o.default.shape({can_be_resubmitted:o.default.bool,id:o.default.number,moderator_feedback:o.default.string,project:o.default.shape({id:o.default.number,name:o.default.string,url:o.default.string}),status:o.default.string,updated_at:o.default.string})).isRequired,ideas:o.default.arrayOf(o.default.shape({id:o.default.number,name:o.default.string,status:o.default.string,updated_at:o.default.string,url:o.default.string})).isRequired,isRegistered:o.default.bool.isRequired,projects:o.default.arrayOf(o.default.shape({id:o.default.number,name:o.default.string})),registration:o.default.shape({challenge:o.default.shape({activate_email_sharing:o.default.bool,after_registration_tweet:o.default.string,email_sharing_label:o.default.string,facebook_url:o.default.string,reddit_url:o.default.string,twitter_url:o.default.string}),id:o.default.number})}).isRequired,withdrawEntryOrIdea:o.default.func.isRequired},E.defaultProps={contestStatus:null,serverErrors:null};var P=E;t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=p(r(1)),o=p(r(15)),i=p(r(9)),l=p(r(377)),u=r(43),s=r(71),c=p(r(2)),d=p(r(3)),f=p(r(230));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=y(t).call(this,e))||"object"!==m(a)&&"function"!=typeof a?g(n):a).state={error:null,value:""},r.validate=r.validate.bind(g(r)),r}var r,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.Component),r=t,(a=[{key:"validate",value:function(){var e=(0,u.isRequired)(this.state.value,"Please select a project to add.");e?this.setState({error:e}):this.props.createEntry(this.state.value.value)}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:f.default.panel},n.default.createElement("p",{className:"".concat(d.default.bodyM," ").concat(d.default.bold," ").concat(c.default.marginBottom10)},"Add existing project"),n.default.createElement("div",{className:c.default.marginBottom15},n.default.createElement(l.default,{classList:{arrow:"",formGroup:c.default.marginBottom0,inputControl:f.default.selectInput},clearable:!1,controlledValue:!0,dropdownIcon:n.default.createElement(i.default,{name:"arrow-down"}),errors:[],onChange:function(t){return e.setState({value:t})},options:this.props.projects.map(function(e){return{label:e.name,value:e.id}}),placeholder:"Select a project",searchable:!1,simpleValue:!1,showDropdownArrow:!0,value:this.state.value}),(0,s.getErrorHelperView)(this.state.error)),n.default.createElement("div",null,n.default.createElement(o.default,{disabled:this.props.isBusy,onClick:this.validate},"Add project"),n.default.createElement(o.default,{colorStyle:"cancel",disabled:this.props.isBusy,onClick:this.props.dismiss},"Cancel"),(0,s.getErrorHelperView)(this.props.serverError)))}}])&&h(r.prototype,a),p&&h(r,p),t}();v.propTypes={createEntry:a.default.func.isRequired,dismiss:a.default.func.isRequired,isBusy:a.default.bool.isRequired,projects:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string})).isRequired,serverError:a.default.string},v.defaultProps={serverError:null};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(131)),i=s(r(15)),l=s(r(10)),u=s(r(2));function s(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var f=function(e){var t=e.anchor,r=e.icon,a=e.text,s=d(e,["anchor","icon","text"]),f=t?o.default:i.default;return n.default.createElement(f,c({},s,{size:"jumbo"}),n.default.createElement("div",{className:l.default.jumboInner},n.default.createElement("div",{className:l.default.jumboIcon},r),n.default.createElement("div",{className:u.default.marginTop5},a)))};f.propTypes={anchor:a.default.bool,icon:a.default.element,text:a.default.string},f.defaultProps={anchor:!1};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=_(r(0)),a=_(r(1)),o=_(r(131)),i=_(r(9)),l=_(r(203)),u=_(r(2223)),s=_(r(2224)),c=_(r(948)),d=r(101),f=r(16),p=r(11),m=_(r(2)),h=_(r(3)),y=_(r(230)),g=_(r(957));function _(e){return e&&e.__esModule?e:{default:e}}var v=function(e,t){return e.status===d.DRAFT?function(e){return e===d.ENTRY?"Not submitted yet":"In progress"}(t):"Last updated: ".concat((0,f.formatTimestampPreserveTZ)(e.updated_at_pt,f.CONTEST_DATE_AT_TIME_FORMAT))},b=function(e){var t=e.canEdit,r=e.isBusy,a=e.item,i=e.resubmitEntry,l=e.type===d.ENTRY?function(e,t,r){switch(t.status){case d.DRAFT:return e?{href:t.submit_url,text:"Review and submit project"}:null;case d.INCOMPLETE:case d.REJECTED:return e?function(e,t){return e.can_be_resubmitted?{href:"javascript:void(0)",onClick:function(){return t(e)},text:"Resubmit project"}:{href:e.project.edit_url,text:"Update project"}}(t,r):null;case d.WON:return function(e){return e.prize_requires_shipping&&!e.is_prize_address_present?{href:e.edit_address_url,text:"Enter shipping address"}:null}(t);default:return null}}(t,a,i):function(e,t){return t.status===d.DRAFT&&e?{href:"".concat(t.url,"/edit"),text:"Finish idea submission"}:null}(t,a);return l?n.default.createElement(o.default,{className:"".concat(m.default.fullWidth," ").concat(m.default.marginTop15),disabled:r,href:l.href,onClick:l.onClick},l.text):null},O=function(e){var t=e.canEdit,r=e.item,a=e.type,o=e.withdraw,l=function(e,t){return t===d.ENTRY?e.status===d.WON&&e.prize_requires_shipping&&e.is_prize_address_present:e.status===d.APPROVED||e.status===d.PENDING_REVIEW}(r,a)?{href:r.edit_address_url,text:"Edit shipping address"}:null;return t||!(0,p.isBlank)(l)?n.default.createElement(u.default,{canEdit:t,editAddress:l,item:r,type:a,withdraw:o}):n.default.createElement(i.default,{name:"locked"})},w=function(e){var t,r=e.canEdit,a=e.faqPath,o=e.isBusy,i=e.item,u=e.resubmitEntry,f=e.type,p=e.withdraw;return n.default.createElement("div",{className:y.default.panel},n.default.createElement("div",{className:g.default.cardBody},n.default.createElement("div",null,n.default.createElement("div",{className:m.default.marginBottom5},n.default.createElement("h5",{className:h.default.h5},"".concat(function(e){return e===d.ENTRY?"Project":"Idea"}(f)," submission"))),n.default.createElement(l.default,{className:m.default.marginTop5,bold:!0,href:f===d.ENTRY?i.project.url:i.url},f===d.ENTRY?i.project.name:i.name),!!i.categories&&i.categories.length>0&&(t=i.categories,n.default.createElement("div",{className:"".concat(h.default.bodyS," ").concat(m.default.marginBottom10)},"In ",(0,c.default)(t.map(function(e){return n.default.createElement("span",{className:h.default.bold},e)})))),n.default.createElement("div",{className:"".concat(h.default.bodyS," ").concat(m.default.marginTop5)},v(i,f)),n.default.createElement(s.default,{faqPath:a,item:i,type:f})),O({canEdit:r,item:i,type:f,withdraw:p})),b({canEdit:r,isBusy:o,item:i,resubmitEntry:u,type:f}))};w.propTypes={canEdit:a.default.bool.isRequired,faqPath:a.default.string.isRequired,isBusy:a.default.bool,item:a.default.oneOfType([a.default.shape({can_be_resubmitted:a.default.bool.isRequired,categories:a.default.arrayOf(a.default.string).isRequired,edit_address_url:a.default.string,id:a.default.number.isRequired,is_prize_address_present:a.default.bool,moderator_feedback:a.default.string,prize_requires_shipping:a.default.bool,project:a.default.shape({edit_url:a.default.string.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}),status:a.default.string.isRequired,submit_url:a.default.string,updated_at:a.default.string}),a.default.shape({edit_address_url:a.default.string.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,status:a.default.string.isRequired,updated_at:a.default.string,url:a.default.string.isRequired})]),resubmitEntry:a.default.func,type:a.default.oneOf([d.ENTRY,d.IDEA]).isRequired,withdraw:a.default.func},w.defaultProps={isBusy:!1,resubmitEntry:function(){},withdraw:function(){}};var E=w;t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(88)),i=f(r(9)),l=r(101),u=r(11),s=f(r(10)),c=f(r(118)),d=f(r(3));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.canEdit,r=e.editAddress,a=e.item,f=e.type,p=e.withdraw;return n.default.createElement(o.default,{alignRight:!0,classList:{button:s.default.blank,dropdown:c.default.dropdown},closeOnSelect:!0,label:n.default.createElement(i.default,{name:"view-more"})},n.default.createElement("ul",null,t&&!function(e,t){return t===l.ENTRY&&e.status===l.REJECTED}(a,f)&&n.default.createElement("li",null,n.default.createElement("a",{className:"".concat(c.default.option," ").concat(d.default.bodyS," ").concat(d.default.link," ").concat(d.default.bold," ").concat(d.default.anchorNoUnderlineOnFocus," ").concat(d.default.anchorNoUnderlineOnHover),href:f===l.ENTRY?a.project.edit_url:"".concat(a.url,"/edit")},"Edit")),t&&n.default.createElement("li",{className:c.default.option,onClick:function(){return p(a,f)}},"Withdraw"),!(0,u.isBlank)(r)&&n.default.createElement("li",null,n.default.createElement("a",{className:"".concat(c.default.option," ").concat(d.default.bodyS," ").concat(d.default.link," ").concat(d.default.bold," ").concat(d.default.anchorNoUnderlineOnFocus," ").concat(d.default.anchorNoUnderlineOnHover),href:r.href},r.text))))};p.propTypes={canEdit:a.default.bool.isRequired,editAddress:a.default.shape({href:a.default.string,text:a.default.string}),item:a.default.oneOfType([a.default.shape({can_be_resubmitted:a.default.bool.isRequired,id:a.default.number.isRequired,is_prize_address_present:a.default.bool,moderator_feedback:a.default.string,prize_requires_shipping:a.default.bool,project:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,edit_url:a.default.string.isRequired,url:a.default.string.isRequired}),status:a.default.string.isRequired,submit_url:a.default.string,updated_at:a.default.string.isRequired}),a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,status:a.default.string.isRequired,updated_at:a.default.string.isRequired,url:a.default.string.isRequired})]),type:a.default.oneOf([l.ENTRY,l.IDEA]).isRequired,withdraw:a.default.func},p.defaultProps={editAddress:null,withdraw:function(){}};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=p(r(9)),i=p(r(824)),l=p(r(2225)),u=p(r(122)),s=p(r(2)),c=p(r(3)),d=p(r(957)),f=r(101);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){return{backgroundColor:u.default.asphalt,text:e===f.ENTRY?"Non-winning submission":"Not awarded hardware"}},h=function(e){return{backgroundColor:"#FFDCD5",iconColor:"#E6735C",icon:"exclamation",text:e?"Not eligible":"Missing requirements"}},y=function(e){return{backgroundColor:"#DEF4EA",iconColor:"#65A887",icon:"checkmark",text:e?"Resubmitted":"Submitted"}},g=function(e){return{backgroundColor:"#E1F4FF",text:e===f.ENTRY?"Winning submission":"Awarded hardware"}},_=function(e){e.closeTooltip;var t=e.faqPath,r=e.item,a=(e.summonTooltip,e.type),u=function(e,t){switch(e.status){case f.APPROVED:return t===f.ENTRY?y():g(t);case f.INCOMPLETE:return h();case f.LOST:return m(t);case f.PENDING_REVIEW:return y();case f.REJECTED:return t===f.ENTRY?h(!0):m(t);case f.RESUBMITTED:return y(!0);case f.WON:return g(t);case f.WON_OTHER_CONTEST:return{backgroundColor:"#FFDCD5",iconColor:"#E6735C",icon:"exclamation",text:"Disqualified"};case f.DRAFT:default:return null}}(r,a);return u?n.default.createElement("div",{className:"".concat(s.default.marginTop10," ").concat(s.default.flexCenterItems)},n.default.createElement("div",{className:"".concat(d.default.statusPill," ").concat(c.default.textWithIcon),style:{background:u.backgroundColor}},u.icon&&n.default.createElement(o.default,{className:s.default.marginRight5,name:u.icon,size:"12",style:{color:u.iconColor}}),n.default.createElement("span",{className:c.default.bodyS},u.text)),n.default.createElement("div",{className:s.default.marginLeft5,style:{lineHeight:0}},n.default.createElement(i.default,{position:"bottom",tooltip:n.default.createElement(l.default,{faqPath:t,item:r,type:a}),theme:"dark"}))):null};_.propTypes={closeTooltip:a.default.func,faqPath:a.default.string.isRequired,item:a.default.oneOfType([a.default.shape({can_be_resubmitted:a.default.bool.isRequired,id:a.default.number.isRequired,is_prize_address_present:a.default.bool,moderator_feedback:a.default.string,prize_requires_shipping:a.default.bool,project:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,edit_url:a.default.string.isRequired,url:a.default.string.isRequired}),status:a.default.string.isRequired,submit_url:a.default.string,updated_at:a.default.string}),a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,status:a.default.string.isRequired,updated_at:a.default.string,url:a.default.string.isRequired})]),summonTooltip:a.default.func,type:a.default.oneOf([f.ENTRY,f.IDEA]).isRequired},_.defaultProps={closeTooltip:function(){},summonTooltip:function(){}};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(203)),i=c(r(9)),l=c(r(2)),u=c(r(3)),s=r(101);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return"We received your ".concat(e?"resubmitted ":"","project. We will review it to determine if it meets our guidelines and decide if it is a prize winner.")},f=function(e){return"Your project has ".concat(e?"not ":"","won a prize").concat(e?".":"!")},p=function(e){return"Your idea was ".concat(e?"not ":"","chosen to receive free hardware").concat(e?".":"!")},m=function(e){var t=e.item,r=e.type,a=e.faqPath;return n.default.createElement("div",null,n.default.createElement("div",null,function(e,t){switch(e.status){case s.APPROVED:return t===s.ENTRY?d(!1):p(!1);case s.INCOMPLETE:return"Your project is missing one or more requirements. Please update it and resubmit.";case s.LOST:return f(!0);case s.REJECTED:return t===s.ENTRY?"Your project is ineligible for submission.":p(!0);case s.PENDING_REVIEW:return t===s.ENTRY?d(!1):"We received your idea. We will review it to determine if it meets our guidelines and if you will receive free hardware.";case s.RESUBMITTED:return d(!0);case s.WON:return f(!1);case s.WON_OTHER_CONTEST:return"Your entry was automatically disqualified because it won another contest.";case s.DRAFT:default:return""}}(t,r),n.default.createElement(o.default,{className:l.default.marginLeft5,color:"White",href:a,target:"_blank"},n.default.createElement(i.default,{name:"external-link",className:u.default.iconBaselineFix}))),!!t.moderator_feedback&&n.default.createElement("div",{className:l.default.marginTop5},t.moderator_feedback))};m.propTypes={faqPath:a.default.string.isRequired,item:a.default.oneOfType([a.default.shape({can_be_resubmitted:a.default.bool.isRequired,id:a.default.number.isRequired,is_prize_address_present:a.default.bool,moderator_feedback:a.default.string,prize_requires_shipping:a.default.bool,project:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,edit_url:a.default.string.isRequired,url:a.default.string.isRequired}),status:a.default.string.isRequired,submit_url:a.default.string,updated_at:a.default.string.isRequired}),a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,status:a.default.string.isRequired,updated_at:a.default.string.isRequired,url:a.default.string.isRequired})]),type:a.default.oneOf([s.ENTRY,s.IDEA])},m.defaultProps={type:s.IDEA};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=l(r(3)),i=l(r(230));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=c(this,d(t).call(this,e))).state={shouldShowTimeIndicatorLine:!1},r}var r,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this.setState({shouldShowTimeIndicatorLine:!0})}},{key:"_eventRowStyle",value:function(e){return e?i.default.pastEvent:i.default.event}},{key:"_getBaseLineHeight",value:function(e){return"".concat(74*(e-1),"px")}},{key:"_getProgressLineHeight",value:function(e,t){var r=e.length,n=e[0],a=e[r-1];return 1!==r&&n.isPast?a.isPast?this._getBaseLineHeight(r):74*this._getProgressSegmentsCount(e,t)+"px":"0px"}},{key:"_getProgressSegmentsCount",value:function(e,t){return e.reduce(function(r,n,a){var o=e[a+1];return o?o.isPast?r+1:n.isPast&&!o.isPast?r+(t-n.ms)/(o.ms-n.ms):r:r},0)}},{key:"_getEventRow",value:function(e){var t=e.date,r=e.headerText,a=e.isPast,i=e.name;return n.default.createElement("div",{key:i,className:this._eventRowStyle(a)},n.default.createElement("p",{className:"".concat(o.default.bodyL," ").concat(o.default.bold)},r),n.default.createElement("p",{className:o.default.bodyS},t))}},{key:"_getEventsView",value:function(e){var t=this,r=e.challengeEvents;return n.default.createElement("div",{className:i.default.eventsContainer},r.map(function(e){return t._getEventRow(e)}))}},{key:"_getTimeIndicatorLine",value:function(e){var t=e.challengeEvents,r=e.nowMs,a=t.length,o=this._getBaseLineHeight(a),l=this._getProgressLineHeight(t,r);return n.default.createElement("div",{className:i.default.baseLine,style:{height:o}},n.default.createElement("div",{className:i.default.progressLine,style:{height:l}}))}},{key:"render",value:function(){return n.default.createElement("div",null,n.default.createElement("h5",{className:"".concat(i.default.rowHeader," ").concat(o.default.h5)},"Timeline"),n.default.createElement("div",{className:i.default.timelineContainer},this.state.shouldShowTimeIndicatorLine&&this._getTimeIndicatorLine(this.props),this._getEventsView(this.props)))}}])&&s(r.prototype,a),l&&s(r,l),t}();p.propTypes={challengeEvents:a.default.arrayOf(a.default.shape({date:a.default.string.isRequired,headerText:a.default.string.isRequired,isPast:a.default.bool.isRequired,ms:a.default.number.isRequired,name:a.default.string.isRequired})).isRequired,nowMs:a.default.number.isRequired};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(751)),i=r(2228),l=c(r(2)),u=c(r(3)),s=c(r(2229));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.activate_email_sharing,r=e.after_registration_tweet,a=e.challengeId,c=e.email_sharing_label,d=e.facebook_url,f=e.reddit_url,p=e.twitter_url;return n.default.createElement("div",{className:s.default.prPrompt},n.default.createElement("h2",{className:"".concat(u.default.h2," ").concat(l.default.marginBottom15)},"You're registered!"),t&&n.default.createElement("div",{className:"".concat(l.default.marginBottom15," ").concat(l.default.flexJustifyCenter," ").concat(u.default.textLeft)},n.default.createElement(o.default,{classList:{label:u.default.bold},checkboxPosition:"top",label:c,request:i.updateChallengeRegistration,requestArgs:function(e){return{challenge_id:a,challenge_registration:{receive_sponsor_news:e}}},successMsg:"You're subscribed"})),n.default.createElement("p",{className:"".concat(u.default.bodyM," ").concat(l.default.marginBottom15)},"Now don't forget to submit your entry!"),n.default.createElement("p",{className:"".concat(u.default.bodyM," ").concat(l.default.marginBottom15)},"In the meantime, tell your friends:"),n.default.createElement("div",{className:s.default.prTweetContainer},n.default.createElement("div",{className:s.default.prTweet},r),n.default.createElement("div",{className:s.default.triangleDown})),n.default.createElement("div",null,n.default.createElement("div",{className:s.default.socialBtnWrapper},n.default.createElement("a",{className:"".concat(s.default.socialBtn," ").concat(s.default.socialBtnF),href:d,target:"_blank"},n.default.createElement("i",{className:"fa fa-facebook"}),n.default.createElement("span",null,"Facebook"))),n.default.createElement("div",{className:s.default.socialBtnWrapper},n.default.createElement("a",{className:"".concat(s.default.socialBtn," ").concat(s.default.socialBtnT),href:p,target:"_blank"},n.default.createElement("i",{className:"fa fa-twitter"}),n.default.createElement("span",null,"Twitter"))),n.default.createElement("div",{className:s.default.socialBtnWrapper},n.default.createElement("a",{className:"".concat(s.default.socialBtn," ").concat(s.default.socialBtnR),href:f,target:"_blank"},n.default.createElement("i",{className:"fa fa-reddit-alien"}),n.default.createElement("span",null,"Reddit")))))};d.propTypes={activate_email_sharing:a.default.bool,after_registration_tweet:a.default.string.isRequired,challengeId:a.default.number.isRequired,email_sharing_label:a.default.string,facebook_url:a.default.string.isRequired,reddit_url:a.default.string.isRequired,twitter_url:a.default.string.isRequired};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateChallengeRegistration=function(e){return a.default.apiRequest(n.default.patch("".concat(a.default.getApiPath(),"/private/challenge_registrations")).send(e),!0,!1)};var n=o(r(35)),a=o(r(40));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){e.exports={small:"(max-width: 480px)",prPrompt:"post_registration_dialog__prPrompt__25kA6",prTweetContainer:"post_registration_dialog__prTweetContainer__GDF7G",prTweet:"post_registration_dialog__prTweet__3ikvi",socialBtnWrapper:"post_registration_dialog__socialBtnWrapper__1ep7B",socialBtn:"post_registration_dialog__socialBtn__-CxCB",socialBtnF:"post_registration_dialog__socialBtnF__3j34q",socialBtnR:"post_registration_dialog__socialBtnR__4nRVf",socialBtnT:"post_registration_dialog__socialBtnT__KTOG7",triangleDown:"post_registration_dialog__triangleDown__nPVk4"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addRegisterButtonClickHandler=function(e){[].slice.call(document.getElementsByClassName(i)).forEach(function(t){t.addEventListener("click",e,!0)})},t.scrollToNav=function(){var e=document.getElementsByClassName(u)[0];e&&(0,n.default)(e,300)},t.updateDOMRegisteredState=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];[].slice.call(document.querySelectorAll("[".concat(l,"]"))).forEach(function(t){var r=!!parseInt(t.getAttribute(l));r===e&&t.classList.contains(a.default.displayNone)&&t.classList.remove(a.default.displayNone),r===e||t.classList.contains(a.default.displayNone)||t.classList.add(a.default.displayNone)})};var n=o(r(28)),a=o(r(5));function o(e){return e&&e.__esModule?e:{default:e}}var i="challenge-registration-btn",l="data-show-registered",u="challenge-nav-placeholder"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatEvents=function(e){var t=Object.keys(e).filter(function(e){return!!u[e]}),r=Date.now();if(t.length>0){return{challengeEvents:t.reduce(function(t,n){var a=e[n];if(!a)return t;var i,s=Date.parse(a);return[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(i=t)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),[{date:(0,o.formatTimestampPreserveTZ)(a,l(n)),headerText:u[n],isPast:r>s,ms:s,name:n}])},[]).sort(function(e,t){return e.ms-t.ms}),nowMs:r}}return{challengeEvents:[],nowMs:r}},t.formatStatus=function(e){var t=e.ready,r=e.status,i=e.start_date,l=e.end_date,u=e.winners_announced_date,s=u&&Date.parse(u)>Date.now();switch(r){case a.DRAFT:var c=t?"Launch scheduled for ".concat((0,o.formatTimestampPreserveTZ)(i,o.CONTEST_DATE_AT_TIME_FORMAT)):'Please mark the challenge as "ready to launch" when ready.';return{status:r,text:[c]};case a.PRE_REGISTRATION:return{date:(0,o.formatTimestampPreserveTZ)(i,o.CONTEST_DATE_AT_TIME_FORMAT),status:r,text:["Project submissions open in","Opens on"],timeRemaining:(0,n.timeRemaining)(i)};case a.IN_PROGRESS:return{date:(0,o.formatTimestampPreserveTZ)(l,o.CONTEST_DATE_AT_TIME_FORMAT),status:r,text:["Submissions close in","Ends on"],timeRemaining:(0,n.timeRemaining)(l)};case a.JUDGING:return s?{date:(0,o.formatTimestampPreserveTZ)(u,o.CONTEST_DATE_FORMAT),status:r,text:["Winners will be announced by"]}:{status:r,text:["Winners will be announced soon."]};case a.JUDGED:return{status:r,text:["🎉 Prizes awarded! 🎉"]};default:return{status:null,text:["Contest status is currently unavailable."]}}};var n=r(517),a=r(101),o=r(16);var i={winners_announced_date:o.CONTEST_DATE_FORMAT},l=function(e){return i[e]||o.CONTEST_DATE_AT_TIME_FORMAT},u={end_date:"Submissions close",free_hardware_end_date:"Applications for hardware close",free_hardware_winners_announced_date:"Hardware recipients announced",start_date:"Contest begins",winners_announced_date:"Winners announced by"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=w(r(1)),o=w(r(38)),i=w(r(15)),l=w(r(106)),u=w(r(100)),s=w(r(203)),c=r(14),d=r(2233),f=r(71),p=r(958),m=r(85),h=r(11),y=r(12),g=w(r(7)),_=w(r(10)),v=w(r(2)),b=w(r(3)),O=w(r(2234));function w(e){return e&&e.__esModule?e:{default:e}}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=k(t).call(this,e))||"object"!==E(a)&&"function"!=typeof a?S(n):a).state={errors:{},fields:(0,d.buildFields)(e),isBusy:!1,serverError:null},r.getErrorForField=m.getErrorForField.bind(S(r)),r.getFieldValuesAsObject=m.getFieldValuesAsObject.bind(S(r)),r.handleSubmit=r.handleSubmit.bind(S(r)),r.setStateOrError=m.setStateOrError.bind(S(r)),r.validate=m.validateFields.bind(S(r)),r}var r,a,w;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,n.Component),r=t,(a=[{key:"handleSubmit",value:function(){if(this.validate())return this._submitChallengeEntry()}},{key:"_submitChallengeEntry",value:function(){var e=this;return this.setState({isBusy:!0,serverError:null}),(0,c.graphMutate)({t:"submit_contest_entry"},this._formatEntrySubmissionOut()).then(function(){return e._redirectToContest()}).catch(function(t){e.setState({isBusy:!1,serverError:"There was a issue saving your entry, please try again."}),(0,g.default)("ContestEntrySubmitForm _submitChallengeEntry",t)})}},{key:"_formatEntrySubmissionOut",value:function(){var e=this,t=this.getFieldValuesAsObject(),r=Object.keys(t),n=t.hasOwnProperty("prize_category_ids")?{prize_category_ids:t.prize_category_ids}:{},a=t.hasOwnProperty("full_name")?{user_full_name:t.full_name}:{},o=r.filter(function(e){return e.includes("question")}).reduce(function(r,n){return r.concat({answer:t[n],id:e.state.fields[n].id})},[]),i=o.length>0?{submission_questions:o}:{};return Object.assign({id:this.props.challenge_entry.id},n,a,i)}},{key:"_redirectToContest",value:function(){(0,y.windowLocationRedirect)(this.props.challenge.url)}},{key:"_getErrorMsgForForm",value:function(){return Object.keys(this.state.errors).filter(function(e){return"agree"!==e}).length>0?"There seems to be errors on the form. Please fill out the required fields.":this.state.serverError?this.state.serverError:null}},{key:"_getOptionalInputsView",value:function(){var e=this;return n.default.Children.toArray(Object.keys(this.state.fields).filter(function(e){return!["agree"].includes(e)}).reduce(function(t,r){return t.concat(e._getViewForInputType(e.state.fields[r],r))},[]))}},{key:"_getViewForInputType",value:function(e,t){switch(e.inputType){case"multi":case"select":return this._getFormSelectView(e,t);default:return this._getBasicFormInputView(e,t,e.inputType)}}},{key:"_getBasicFormInputView",value:function(e,t,r){var a=this;return n.default.createElement("div",{key:"vf".concat(t)},n.default.createElement(o.default,{element:r,errors:this.getErrorForField(t),label:e.label,onChange:function(e){return a.setStateOrError(null,t,e.target.value)},value:e.value}))}},{key:"_getFormSelectView",value:function(e,t){var r=this;return n.default.createElement("div",{id:"vf".concat(t)},n.default.createElement(u.default,{errors:this.getErrorForField(t),label:e.label,onSelectedChange:function(e){return r.setStateOrError(null,t,e)},options:e.options,placeholder:e.placeholder,type:(0,p.getTypeForFormSelect)(e.inputType),value:e.value}))}},{key:"_getRequirementsList",value:function(){var e=[n.default.createElement("li",null,"Your project must meet all the ",n.default.createElement("a",{href:"".concat(this.props.challenge.rules_url,"#requirements"),target:"_blank"},"submission requirements"),"."),n.default.createElement("li",null,"Your project must make use of ",n.default.createElement("span",{className:b.default.bold},this.props.challenge.technology_requirement),"."),n.default.createElement("li",null,"Any licensed content (open source or otherwise) used in your submission must properly credit original authors as well as follow the original license terms. ",n.default.createElement("a",{href:"/copyright-guidelines",target:"_blank"},"Read more"),"."),n.default.createElement("li",null,"Your project must be ",n.default.createElement("span",{className:b.default.bold},"100% complete"),". Do not submit your project if it is still a work in progress.")];return this.props.challenge.technology_requirement?e:[e[0],e[2],e[3]]}},{key:"_getSubmissionForm",value:function(){var e=this;return n.default.createElement("div",null,this._getOptionalInputsView(),n.default.createElement("p",{className:"".concat(b.default.bodyM," ").concat(b.default.bold," ").concat(v.default.marginBottom10)},"Submission requirements"),n.default.createElement("p",{className:"".concat(b.default.bodyM," ").concat(v.default.marginBottom15)},"Review your submission to make sure it meets all the following requirements. Projects that fail to meet the requirements will be disqualified."),n.default.createElement("ol",{className:"".concat(b.default.ol," ").concat(b.default.bodyM," ").concat(v.default.marginBottom30)},n.default.Children.toArray(this._getRequirementsList())),n.default.createElement("div",{className:v.default.marginBottom30,id:"vfagree"},n.default.createElement(l.default,{error:this.getErrorForField("agree"),label:"I have reviewed my submission and made sure it meets all the requirements above.",isChecked:this.state.fields.agree.value,onChange:function(t){return e.setStateOrError(null,"agree",t)}}),(0,f.getErrorHelperView)(this.getErrorForField("agree"))),n.default.createElement("div",null,n.default.createElement(i.default,{disabled:this.state.isBusy,onClick:this.handleSubmit,size:"lg"},"Submit project"),n.default.createElement(i.default,{colorStyle:"cancel",disabled:this.state.isBusy,onClick:function(){return e._redirectToContest()},size:"lg"},"Cancel"),(0,f.getErrorHelperView)(this._getErrorMsgForForm())))}},{key:"_getChecklistView",value:function(){var e=this.props.challenge_entry,t=e.edit_url,r=e.missing_fields;return n.default.createElement("div",null,n.default.createElement("p",{className:"".concat(b.default.bodyM," ").concat(b.default.bold," ").concat(v.default.marginBottom10)},"Submission requirements"),n.default.createElement("p",{className:"".concat(b.default.bodyM," ").concat(v.default.marginBottom15)},"Please ensure that the following fields are filled before submitting:"),n.default.createElement("ul",{className:"".concat(b.default.ul," ").concat(b.default.bodyM," ").concat(v.default.marginBottom30)},r.map(function(e){return n.default.createElement("li",{className:b.default.li,key:e},e)})),n.default.createElement("div",null,n.default.createElement("a",{href:t,className:"".concat(_.default.lg)},"Add missing fields")))}},{key:"render",value:function(){return n.default.createElement("div",{className:"".concat(v.default.marginLeft10," ").concat(v.default.marginRight10)},n.default.createElement("h3",{className:"".concat(b.default.h3," ").concat(v.default.marginBottom15)},this.props.challenge.name),this.props.challenge.free_hardware_applications_open&&n.default.createElement("div",{className:"".concat(b.default.bodyM," ").concat(v.default.marginBottom15," ").concat(O.default.info)},"Trying to submit an idea for free hardware? Ideas submitted in project format will not be considered. ",n.default.createElement(s.default,{color:"Blue",href:this.props.challenge.ideas_url},"Fill out an application here.")),(0,h.isBlank)(this.props.challenge_entry.missing_fields)?this._getSubmissionForm():this._getChecklistView())}}])&&P(r.prototype,a),w&&P(r,w),t}();j.propTypes={challenge:a.default.shape({free_hardware_applications_open:a.default.bool.isRequired,ideas_url:a.default.string.isRequired,name:a.default.string.isRequired,rules_url:a.default.string.isRequired,submission_categories:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired})).isRequired,submission_questions:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,input_type:a.default.string.isRequired,label:a.default.string.isRequired,options:a.default.arrayOf(a.default.string),required:a.default.bool.isRequired})),technology_requirement:a.default.string,url:a.default.string.isRequired}).isRequired,challenge_entry:a.default.shape({edit_url:a.default.string.isRequired,id:a.default.number.isRequired,missing_fields:a.default.arrayOf(a.default.string).isRequired}).isRequired,user:a.default.shape({has_full_name:a.default.bool.isRequired}).isRequired};var R=j;t.default=R},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildFields=function(e){var t=e.challenge,r=e.user,s=r.has_full_name?{}:{full_name:{order:0,validate:function(e){return(0,a.maxLength)(155,e)},inputType:"input",label:"Enter your full name",value:""}},c=r.has_full_name?0:1,d=t.submission_categories.length>0?{prize_category_ids:{order:c,validate:function(e){return null},inputType:"multi",label:"Choose categories for your submission",placeholder:"Select categories",options:t.submission_categories.map(function(e){return{label:e.name,value:e.id}}),value:[],formatOut:function(e){return e.map(function(e){return e.value})}}}:{},f=t.submission_categories.length>0?c+1:c,p=t.submission_questions.length>0?t.submission_questions.reduce(function(e,t,r){return e["question_".concat(t.id)]=Object.assign({order:r+f,validate:function(e){return(0,a.maxLength)(255,e)},value:"",id:t.id,inputType:(0,o.resolveInputType)(t.input_type),label:l(t),notRequired:!t.required},u(t)),e},{}):{},m={agree:{order:Object.keys(s).length+Object.keys(d).length+Object.keys(p).length,validate:i,value:!1,customRequired:function(e){return null},formatOut:n.boolOrNullOut}};return Object.assign({},s,d,p,m)};var n=r(123),a=r(43),o=r(958),i=function(e){return(0,a.agreeTo)(e,n.boolOrNullOut,"You must review your project before submitting.")},l=function(e){return e.required?"".concat(e.label," (is required)"):e.label},u=function(e){return(0,o.isInputTypeSelect)(e.input_type)?{formatOut:function(e){return e.value},options:e.options.map(function(e){return{label:e,value:e}}),placeholder:"Select an option"}:{}}},function(e,t,r){e.exports={standardBorderRadius:"4px",fog:"#F7F7F7",info:"submit_form__info__3qgql"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=O(r(1)),o=O(r(2236)),i=O(r(502)),l=O(r(959)),u=O(r(2237)),s=O(r(97)),c=O(r(960)),d=r(65),f=O(r(68)),p=O(r(7)),m=r(279),h=r(8),y=r(14),g=r(12),_=O(r(2)),v=O(r(327)),b=O(r(278));function O(e){return e&&e.__esModule?e:{default:e}}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=P(t).call(this,e))||"object"!==w(a)&&"function"!=typeof a?k(n):a).state={error:!1,idea:null,isBusy:!0},r.goToBasePath=r.goToBasePath.bind(k(r)),r.handleBreadcrumbClick=r.handleBreadcrumbClick.bind(k(r)),r.handleLocationChange=r.handleLocationChange.bind(k(r)),r.basePath=e.pathHelpers.basePath,r.history=(0,f.default)(r.basePath),r.seoHandler=new s.default({config:c.default}),r._activePromise,r.unlisten,r}var r,a,O;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.unlisten=this.history.listen(this.handleLocationChange),this._fetchIdea(this.props.initIdeaID,"replace")}},{key:"componentWillUnmount",value:function(){this._cancelActivePromise(),this.unlisten()}},{key:"_fetchIdea",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.setState({isBusy:!0}),this._cancelActivePromise(),this._activePromise=(0,d.cancelablePromise)((0,y.graphQuery)((0,m.challengeIdeaQuery)(),{id:parseInt(e),judging:!0})),this._activePromise.promise.then(function(e){if(!e.promiseCanceled){var n=e.paginated_challenge_idea;if(!n)return t._showErrorPage();t._showIdea(n),r&&t.history[r]("/".concat(n.id),{idea:n})}}).catch(function(e){(0,p.default)(e),e.promiseCanceled||t._showErrorPage()})}},{key:"goToBasePath",value:function(){(0,g.windowLocationRedirect)(this.basePath)}},{key:"handleBreadcrumbClick",value:function(e,t){return e.preventDefault(),this._fetchIdea(t,"push")}},{key:"handleLocationChange",value:function(e,t){if("/"===e.pathname)return(0,g.windowLocationReload)();if("REPLACE"!==t){var r=(0,h.getInObj)(["state","idea"],e);this.seoHandler.reportView({path:"/ideas/*",data:r}),"POP"===t&&(this._cancelActivePromise(),this._showIdea(r))}}},{key:"_canCurrentUserJudgeIdea",value:function(){return!0===(0,h.getInObj)(["current_user_permissions","admin"],this.state.idea)||!0===(0,h.getInObj)(["current_user_permissions","moderate"],this.state.idea)}},{key:"_cancelActivePromise",value:function(){this._activePromise&&this._activePromise.cancel()}},{key:"_showErrorPage",value:function(){this.setState({error:!0,idea:null,isBusy:!1})}},{key:"_showIdea",value:function(e){this.setState({error:!1,idea:e,isBusy:!1})}},{key:"render",value:function(){var e=this.props,t=e.dashboardURL,r=e.hardwareName,a=this.state,s=a.error,c=a.idea,d=a.isBusy;return n.default.createElement("div",{className:b.default.root}," ",null!==this.state.idea&&n.default.createElement(n.Fragment,null,n.default.createElement("div",{className:_.default.container},n.default.createElement("div",{className:b.default.ideaWrapper},n.default.createElement(o.default,{basePath:this.basePath,nextID:c.next_id,onClick:this.handleBreadcrumbClick,prevID:c.prev_id}),n.default.createElement(l.default,{key:c.id,idea:this.state.idea,fullPage:!0,hardwareName:r}))),this._canCurrentUserJudgeIdea()&&n.default.createElement("div",{className:b.default.judgingPanel},n.default.createElement(u.default,{key:c.id,dashboardURL:t,idea:c}))),s&&n.default.createElement("div",{className:_.default.fullWidth},n.default.createElement(i.default,{basePath:this.basePath,history:this.history,transition:this.goToBasePath})),d&&n.default.createElement("div",{className:v.default.overlay},n.default.createElement("i",{className:"fa fa-3x fa-circle-o-notch fa-spin"})))}}])&&E(r.prototype,a),O&&E(r,O),t}();C.propTypes={dashboardURL:a.default.string.isRequired,hardwareName:a.default.string.isRequired,initIdeaID:a.default.number.isRequired,pathHelpers:a.default.shape({basePath:a.default.string.isRequired,fullPath:a.default.string.isRequired,rootPath:a.default.string.isRequired}).isRequired};var j=C;t.default=j},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(57)),i=l(r(278));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.basePath,r=e.nextID,a=e.prevID,l=e.onClick;return n.default.createElement("div",{className:i.default.breadcrumbs},null===a?n.default.createElement("div",null):n.default.createElement(o.default,{color:"Pebble",href:"".concat(t).concat(a),onClick:function(e){return l(e,a)},size:"S",text:"Prev submission"}),null===r?n.default.createElement("div",null):n.default.createElement(o.default,{color:"Pebble",direction:"right",href:"".concat(t).concat(r),onClick:function(e){return l(e,r)},size:"S",text:"Next submission"}))};u.propTypes={basePath:a.default.string.isRequired,nextID:a.default.oneOfType([a.default.number,a.default.string]),onClick:a.default.func,prevID:a.default.oneOfType([a.default.number,a.default.string])},u.defaultProps={nextID:null,onClick:function(){},prevID:null};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=E(r(1)),o=E(r(6)),i=E(r(131)),l=E(r(57)),u=E(r(15)),s=E(r(9)),c=E(r(120)),d=E(r(66)),f=E(r(119)),p=E(r(2238)),m=E(r(7)),h=r(279),y=r(14),g=r(12),_=E(r(21)),v=E(r(2)),b=E(r(3)),O=E(r(5)),w=E(r(278));function E(e){return e&&e.__esModule?e:{default:e}}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=[{key:"registrations",label:"Participated"},{key:"ideas_submitted",label:"Submitted idea"},{key:"ideas_awarded",label:"Awarded hardware"},{key:"entries_submitted",label:"Submitted projects"},{key:"entries_won",label:"Won"}],T=[{label:"Needs review",value:"PENDING_REVIEW"},{label:"Approved",value:"APPROVED"},{label:"Rejected",value:"REJECTED"}],N={AVERAGE:"60%",BLACKLISTED:"20%",PROMISING:"80%",SUPER:"99%",WORRISOME:"40%"},M=function(){return n.default.createElement(d.default,{size:16})},A=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=S(t).call(this,e))||"object"!==P(a)&&"function"!=typeof a?C(n):a).state={approvalUpdateState:null,approvalStatus:e.idea.status,dates:{userAge:r._getUserAge(e.idea.user)},deleteState:null,dialog:{open:!1,indexes:[],records:[]},isBusy:!1},r.dismissDialog=r.dismissDialog.bind(C(r)),r.openDialog=r.openDialog.bind(C(r)),r.handleDelete=r.handleDelete.bind(C(r)),r.handleStatusChange=r.handleStatusChange.bind(C(r)),r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,n.Component),r=t,(a=[{key:"dismissDialog",value:function(){this.setState({deleteState:null,dialog:{open:!1,indexes:[],records:[]}})}},{key:"handleDelete",value:function(e){var t=this;return e.preventDefault(),this.setState({isBusy:!0,deleteState:"WORKING"}),(0,y.graphMutate)({t:"delete_contest_idea"},{id:this.props.idea.id}).then(function(){return(0,g.windowLocationRedirect)(t.props.dashboardURL)}).catch(function(e){(0,m.default)(e),t.setState({isBusy:!1,deleteState:"ERROR"})})}},{key:"handleStatusChange",value:function(e){var t=this,r=e.value,n=this.state.approvalStatus;return this.setState({approvalStatus:r,approvalUpdateState:"SAVING",isBusy:!0}),(0,y.graphMutate)((0,h.updateChallengeIdeaStatus)(),{id:this.props.idea.id,status:r}).then(function(){return t.setState({approvalUpdateState:"SAVED",isBusy:!1})}).catch(function(e){t.setState({approvalUpdateState:"ERROR",approvalStatus:n,isBusy:!1}),(0,m.default)(e)})}},{key:"openDialog",value:function(){this.setState({dialog:{open:!0,indexes:[],records:[]}})}},{key:"_getChallengeHistoryRows",value:function(e){return R.map(function(t){var r=t.key;return[t.label,e.challenge_stats[r]]})}},{key:"_getUpdatedStatusOptions",value:function(){var e=this;return T.map(function(t){return t.value===e.state.approvalStatus?Object.assign({},t,{active:!0}):t})}},{key:"_getUserAccountRows",value:function(e){return[["# of projects",e.stats.live_projects],["Signed up",this.state.dates.userAge]]}},{key:"_getUserAge",value:function(e){return(0,o.default)(e.created_at).fromNow()}},{key:"_getApprovalUpdateStateViews",value:function(e){switch(e){case"SAVING":return{approvalError:null,approvalLabel:n.default.createElement("span",null,"Saving changes ",n.default.createElement(M,null))};case"SAVED":return{approvalError:null,approvalLabel:n.default.createElement("span",null,"Changes saved ",n.default.createElement(s.default,{name:"checkmark",size:12}))};case"ERROR":return{approvalError:this._getErrorView(),approvalLabel:null};default:return{approvalError:null,approvalLabel:null}}}},{key:"_getErrorView",value:function(){return n.default.createElement("div",{className:_.default.msgWrapper},n.default.createElement("div",{className:_.default.error},"Something went wrong. Please try again"))}},{key:"render",value:function(){var e=this.props,t=e.dashboardURL,r=e.idea,a=this.state,o=a.deleteState,s=a.dialog,d=a.isBusy,m=this._getApprovalUpdateStateViews(this.state.approvalUpdateState),h=m.approvalError,y=m.approvalLabel;return n.default.createElement("div",{className:"".concat(b.default.bodyM," ").concat(v.default.fullWidth)},n.default.createElement(l.default,{color:"Pebble",size:"S",href:t,text:"Back to moderation dashboard"}),n.default.createElement("div",{className:w.default.flexSwitch},n.default.createElement("div",{className:"".concat(_.default.inputWrapper," ").concat(w.default.flexSwitchChild)},n.default.createElement("div",{className:v.default.marginBottom10},n.default.createElement("span",{className:"".concat(b.default.bodyM," ").concat(b.default.bold)},"Submission status"),n.default.createElement("span",{className:"".concat(v.default.marginLeft15," ").concat(b.default.bodyS," ").concat(b.default.pebble)},y)),n.default.createElement(f.default,{disabled:this.state.isBusy,onSelection:this.handleStatusChange,options:this._getUpdatedStatusOptions()}),h),r.current_user_permissions.admin&&n.default.createElement("div",{className:w.default.flexSwitchChild},n.default.createElement("p",{className:"".concat(b.default.bodyM," ").concat(b.default.bold," ").concat(v.default.marginBottom10)},"Manage submission"),n.default.createElement("div",{className:v.default.flexCenterItems},n.default.createElement(i.default,{className:v.default.marginRight15,colorStyle:"secondary",href:"".concat(r.url,"/edit")},"Edit idea"),n.default.createElement(u.default,{colorStyle:"danger",disabled:this.state.isBusy,onClick:this.openDialog},"Delete idea")))),n.default.createElement("div",{className:"".concat(O.default.borderTop," ").concat(v.default.fullWidth," ").concat(v.default.marginTop45," ").concat(v.default.marginBottom45)}),n.default.createElement("div",{className:"".concat(_.default.inputWrapper," ").concat(b.default.bodyM)},n.default.createElement("h3",{className:"".concat(b.default.h3," ").concat(v.default.marginBottom10)},"User info"),n.default.createElement("div",{className:v.default.marginBottom10inBottom5},n.default.createElement("span",{className:b.default.bold},"Likelihood of submitting a project: "),n.default.createElement("span",null,N[r.user.challenge_stats.status])),n.default.createElement("div",null,n.default.createElement("span",{className:b.default.bold},"Country: "),n.default.createElement("span",null,null!==r.user.country?r.user.country:"Not available"))),n.default.createElement("div",{className:w.default.flexSwitch},n.default.createElement(p.default,{header:"Contest history",rows:this._getChallengeHistoryRows(r.user)}),n.default.createElement(p.default,{header:"Hackster account",rows:this._getUserAccountRows(r.user)})),n.default.createElement(c.default,{action:"WORKING"===o?n.default.createElement(M,null):"Delete",actionColor:"danger",body:"Once you delete this idea submission it cannot be undone.",dismiss:this.dismissDialog,isBusy:d,message:"ERROR"===o?this._getErrorView():null,okay:this.handleDelete,open:s.open,title:"Are you sure you want to delete this idea submission?"}))}}])&&k(r.prototype,a),d&&k(r,d),t}();A.propTypes={dashboardURL:a.default.string,idea:a.default.shape({application:a.default.shape({build:a.default.string,components:a.default.string,hours_total:a.default.number,hours_weekly:a.default.number,owned:a.default.string,problem:a.default.string,skills:a.default.string,solution:a.default.string}),created_at:a.default.string.isRequired,current_user_permissions:a.default.shape({admin:a.default.bool.isRequired,edit:a.default.bool.isRequired,moderate:a.default.bool.isRequired}).isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,old_html_description:a.default.string,project:a.default.shape({cover_image_url:a.default.string,hid:a.default.string,name:a.default.string,url:a.default.string}),user:a.default.shape({avatar_url:a.default.string.isRequired,challenge_stats:a.default.shape({entries_submitted:a.default.number,entries_won:a.default.number,ideas_awarded:a.default.number,ideas_submitted:a.default.number,registrations:a.default.number,status:a.default.string}),country:a.default.string,created_at:a.default.string,id:a.default.number.isRequired,name:a.default.string.isRequired,stats:a.default.shape({live_projects:a.default.number}),url:a.default.string.isRequired}).isRequired,status:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired},A.defaultProps={dashboardURL:""};var I=A;t.default=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(2)),i=c(r(78)),l=c(r(3)),u=c(r(5)),s=c(r(278));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.header,r=e.rows;return n.default.createElement("div",{className:s.default.statTable},n.default.createElement("h5",{className:"".concat(o.default.marginBottom10," ").concat(l.default.h5)},t),n.default.createElement("table",{className:"".concat(i.default.table," ").concat(u.default.bgWhite)},n.default.createElement("tbody",{className:i.default.body},r.map(function(e,t){return n.default.createElement("tr",{key:t,className:i.default.row},n.default.createElement("td",{className:"".concat(i.default.cell," ").concat(l.default.bold)},e[0]),n.default.createElement("td",{className:i.default.cell},e[1]))}))))};d.propTypes={header:a.default.string,rows:a.default.arrayOf(a.default.array)},d.defaultProps={header:"",rows:[]};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=A(r(1)),o=A(r(252)),i=A(r(6)),l=A(r(382)),u=A(r(2241)),s=A(r(38)),c=A(r(57)),d=A(r(15)),f=A(r(2253)),p=A(r(2254)),m=A(r(108)),h=r(14),y=r(279),g=A(r(22)),_=r(60),v=r(71),b=r(8),O=r(18),w=r(123),E=r(85),P=r(43),k=r(12),S=A(r(48)),C=A(r(7)),j=A(r(52)),R=A(r(21)),T=A(r(2)),N=A(r(3)),M=A(r(964));function A(e){return e&&e.__esModule?e:{default:e}}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=[{label:"Yes, I agree",value:"true"},{label:"No (Cannot submit if no)",value:"false"}],F=[{label:"Yes",value:"yes"},{label:"I have some parts",value:"some"},{label:"No",value:"no"}],U="You must agree in order to be considered for free hardware",V=function(e){return(0,P.agreeTo)(e,w.boolOrNullOut,U)},W="x_field",H={address_id:{order:9,validate:function(e){return(0,P.minLength)(1,e)},value:null},build:{order:2,validate:function(e){return(0,P.minLength)(1,e)},value:""},components:{order:4,validate:function(e){return(0,P.minLength)(1,e)},value:""},hours_weekly:{order:6,validate:function(e){return(0,P.isInt)(e)},value:"",formatOut:w.numOrNullOut},hours_total:{order:7,validate:function(e){return(0,P.isInt)(e)},value:"",formatOut:w.numOrNullOut},i_agree_submit:{order:10,validate:V,value:"",formatIn:w.boolOrNullIn,formatOut:w.boolOrNullOut},i_agree_ship_back:{order:11,validate:V,value:"",formatIn:w.boolOrNullIn,formatOut:w.boolOrNullOut},owned:{order:5,validate:function(e){return(0,P.minLength)(1,e)},value:"",formatIn:w.lowerCaseIn,formatOut:w.stringOrNullOut,customRequired:P.optionIsRequired},problem:{order:1,validate:function(e){return(0,P.minLength)(1,e)},value:""},skills:{order:8,validate:function(e){return(0,P.minLength)(1,e)},value:""},solution:{order:3,validate:function(e){return(0,P.minLength)(1,e)},value:""},title:{order:0,validate:function(e){return(0,P.maxLength)(140,e)},value:""}},z=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this;var o=(r=!(a=D(t).call(this,e))||"object"!==I(a)&&"function"!=typeof a?q(n):a)._formatIdeaIn(e.idea),l=(0,E.initFieldsWithOptionalFields)(H,o,e.challenge.free_hardware_custom_fields,{key:W,insertOptsAtIndex:10});return r.state={currentUserId:null,dates:{endDate:i.default.parseZone(e.challenge.end_date).format("MMMM DD, YYYY [at] h:mm [PST]"),shipBack:i.default.parseZone(e.challenge.end_date).subtract(15,"days").format("MMMM DD, YYYY")},errors:{},formError:null,initialized:!1,initAddress:(0,b.getInObj)(["address"],e.idea),isBusy:!0,lastSaveState:(0,E.getFieldValuesAsObject)(l),fields:l},r.getErrorForField=E.getErrorForField.bind(q(r)),r.getFieldValuesAsObject=E.getFieldValuesAsObject.bind(q(r)),r.handleBeforeUnload=r.handleBeforeUnload.bind(q(r)),r.handleSubmit=r.handleSubmit.bind(q(r)),r.handleSaveForLater=r.handleSaveForLater.bind(q(r)),r.removeInitAddress=r.removeInitAddress.bind(q(r)),r.setStateOrError=E.setStateOrError.bind(q(r)),r.validate=E.validateFields.bind(q(r)),r._REDIRECT_PATH="".concat(e.challenge.url,"/ideas"),r}var r,a,A;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.handleBeforeUnload),this._initialize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleBeforeUnload)}},{key:"_formatIdeaIn",value:function(e){return e?Object.assign({address_id:(0,b.getInObj)(["id"],e.address),build:(0,b.getInObj)(["build"],e.application),components:(0,b.getInObj)(["components"],e.application),hours_weekly:(0,b.getInObj)(["hours_weekly"],e.application),hours_total:(0,b.getInObj)(["hours_total"],e.application),i_agree_submit:(0,b.getInObj)(["i_agree_submit"],e.application),i_agree_ship_back:(0,b.getInObj)(["i_agree_ship_back"],e.application),owned:(0,b.getInObj)(["owned"],e.application),problem:(0,b.getInObj)(["problem"],e.application),skills:(0,b.getInObj)(["skills"],e.application),solution:(0,b.getInObj)(["solution"],e.application),title:(0,b.getInObj)(["name"],e)},this._formatExtraFieldsIn(e.extra_fields)):null}},{key:"_formatExtraFieldsIn",value:function(e){return!e||e&&!e.length?{}:e.reduce(function(e,t){return e["".concat(W,"_").concat(t.id)]=t.answer,e},{})}},{key:"_initialize",value:function(){var e=this;return S.default.getAsync("id").then(function(t){return e.setState({currentUserId:t,initialized:!0,isBusy:!1})}).catch(function(e){return(0,C.default)("ContestIdeaForm _fetchCurrentUser",e)})}},{key:"handleBeforeUnload",value:function(e){if(this._hasUnsavedChanges()){var t="Changes you made may not be saved.";return(e||window.event).returnValue=t,t}}},{key:"handleSubmit",value:function(e){if(this.validate())return this._postIdea("PENDING_REVIEW",e)}},{key:"handleSaveForLater",value:function(e){return this._postIdea("DRAFT",e)}},{key:"removeInitAddress",value:function(){this.setState({initAddress:null,fields:Object.assign({},this.state.fields,{address_id:Object.assign({},this.state.fields.address_id,{value:null})})})}},{key:"_postIdea",value:function(e,t){var r=this,n="default"===this.props.mode?y.createChallengeIdea:y.updateChallengeIdea;return this.setState({isBusy:!0}),(0,h.graphMutate)(n(),this._formatIdeaOut(e)).then(function(e){var n=e.record;"default"===r.props.mode?r._recordCreationAndRedirect(n,t):r._removeUnloadListenerAndRedirect()}).catch(function(e){var t=(0,b.getInObj)(["response","body","form_error"],e);r.setState({isBusy:!1,formError:t}),t||(0,O.summonGlobalMessenger)({msg:"Sorry, there was an error saving your idea",type:"error"}),(0,C.default)("ContestIdeaForm _postIdea",e)})}},{key:"_formatIdeaOut",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DRAFT",r=this.getFieldValuesAsObject(),n=this.props.idea&&this.props.idea.id?{id:this.props.idea.id}:{},a=Object.assign({},r),o=Object.keys(r).filter(function(e){return e.includes(W)}),i=o.reduce(function(t,n){return t.concat({id:e.state.fields[n].id,answer:r[n]})},[]),l=i.length>0?{extra_fields:i}:{};return o.length>0&&o.forEach(function(e){delete a[e]}),delete a.address_id,delete a.title,Object.assign({},n,{address_id:r.address_id,challenge_id:this.props.challenge.id,name:r.title,application:a,status:t},l)}},{key:"_hasUnsavedChanges",value:function(){var e=this.getFieldValuesAsObject(),t=this.state.lastSaveState;return!(0,o.default)(e,t)}},{key:"_recordCreationAndRedirect",value:function(e,t){window.removeEventListener("beforeunload",this.handleBeforeUnload),g.default.reportEventWithDelayedRedirectWithObj((0,_.getCreateContestIdeaArgs)({id:this.props.challenge.id,idea_id:e.id}),this._REDIRECT_PATH,t)}},{key:"_removeUnloadListenerAndRedirect",value:function(){window.removeEventListener("beforeunload",this.handleBeforeUnload),(0,k.windowLocationRedirect)(this._REDIRECT_PATH)}},{key:"_getCustomFieldsViews",value:function(){var e=this,t=this.props.challenge.free_hardware_custom_fields;if(t&&(!t||t.length))return n.default.Children.toArray(t.map(function(t){var r="".concat(W,"_").concat(t.id),a=e.state.fields[r];return n.default.createElement("div",{id:"vf".concat(r)},n.default.createElement(s.default,{element:a.type,errors:e.getErrorForField(r),label:a.label,onChange:function(t){return e.setStateOrError(null,r,t.target.value)},value:a.value}))}))}},{key:"_getTitleForMode",value:function(){return"default"===this.props.mode?this._getDefaultTitle():this._getEditTitle()}},{key:"_getDefaultTitle",value:function(){return n.default.createElement("div",{className:T.default.marginBottom60},n.default.createElement("h2",{className:"".concat(N.default.h2," ").concat(T.default.marginBottom15)},"Tell us about what you’re planning to build and your level of commitment"),n.default.createElement("p",{className:"".concat(N.default.bodyL," ").concat(T.default.marginBottom15)},"Because we have a limited supply of hardware, we want to make sure we send them to people who are committed to building meaningful projects."),n.default.createElement("p",{className:N.default.bodyL},n.default.createElement("strong",null,"Please only apply for free hardware if you plan on building and submitting a project. "),n.default.createElement("span",null,"Participants who receive free hardware and do not submit a project will be flagged by our team and possibly ineligible for future giveaways (up to our discretion).")))}},{key:"_getEditTitle",value:function(){return n.default.createElement("div",{className:T.default.marginBottom60},n.default.createElement("h2",{className:N.default.h2},"Edit your idea"))}},{key:"_getAddressField",value:function(){if(!this.state.initialized)return null;if(!this.props.idea&&"default"===this.props.mode)return this._getAddressButton();var e=this.state.currentUserId===(0,b.getInObj)(["user","id"],this.props.idea);return!0===(0,b.getInObj)(["deleted"],this.state.initAddress)?e?this._getDeletedAddress():this._getAddress():e?this._getAddressButton():this._getAddress()}},{key:"_getAddress",value:function(){return(0,b.getInObj)(["id"],this.state.initAddress)?n.default.createElement(l.default,{address:this.state.initAddress,view:"full"}):null}},{key:"_getAddressButton",value:function(){var e=this;return n.default.createElement(u.default,{initAddressId:(0,b.getInObj)(["id"],this.state.initAddress),onSelection:function(t){return e.setStateOrError(null,"address_id",t.id)}})}},{key:"_getActionButtons",value:function(){return this.props.idea?"DRAFT"===this.props.idea.status?this._getSubAndSaveButtons():this._getSaveChangesButton():this._getSubAndSaveButtons()}},{key:"_getDeletedAddress",value:function(){return n.default.createElement(f.default,{address:this.state.initAddress,remove:this.removeInitAddress})}},{key:"_getSaveChangesButton",value:function(){return n.default.createElement(d.default,{disabled:this.state.isBusy,onClick:this.handleSubmit,size:"lg"},"Save changes")}},{key:"_getSubAndSaveButtons",value:function(){return n.default.createElement(n.Fragment,null,n.default.createElement(d.default,{disabled:this.state.isBusy,onClick:this.handleSubmit,size:"lg"},"Submit idea"),n.default.createElement(d.default,{disabled:this.state.isBusy,colorStyle:"cancel",onClick:this.handleSaveForLater,size:"lg"},"Save for later"))}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:T.default.container},n.default.createElement("div",{className:T.default.wrapper1170},n.default.createElement(c.default,{classList:{root:T.default.marginBottom60,link:N.default.bodyS},href:this._REDIRECT_PATH,text:"Back to ".concat(this.props.challenge.name)}),n.default.createElement("div",{className:M.default.contentWrapper},n.default.createElement("div",{className:"".concat(T.default.wrapper960)},this._getTitleForMode(),n.default.createElement("div",{className:M.default.formWrapper},n.default.createElement("form",{className:j.default.container},n.default.createElement("div",{id:"vftitle"},n.default.createElement(s.default,{charCount:this.state.fields.title.value.length,errors:this.state.errors.title,label:"Title of your idea",maxVal:140,onChange:function(t){return e.setStateOrError((0,P.maxLength)(140,t.target.value),"title",t.target.value)},value:this.state.fields.title.value})),n.default.createElement("div",{id:"vfproblem"},n.default.createElement(s.default,{element:"textarea",errors:this.state.errors.problem,label:"What problem are you going to solve?",onChange:function(t){return e.setStateOrError(null,"problem",t.target.value)},value:this.state.fields.problem.value})),n.default.createElement("div",{id:"vfbuild"},n.default.createElement(s.default,{element:"textarea",errors:this.state.errors.build,label:"What are you going to build to solve this problem? How is it different from existing solutions? Why is it useful?",onChange:function(t){return e.setStateOrError(null,"build",t.target.value)},value:this.state.fields.build.value})),n.default.createElement("div",{id:"vfsolution"},n.default.createElement(s.default,{element:"textarea",errors:this.state.errors.solution,label:"How does your solution work? What are the main features? Please specify how you will use the ".concat(this.props.challenge.free_hardware_name," in your solution."),onChange:function(t){return e.setStateOrError(null,"solution",t.target.value)},value:this.state.fields.solution.value})),n.default.createElement("div",{id:"vfcomponents"},n.default.createElement(s.default,{element:"textarea",errors:this.state.errors.components,label:"List the hardware and software you will use to build this (in addition to the required hardware and/or software).",onChange:function(t){return e.setStateOrError(null,"components",t.target.value)},value:this.state.fields.components.value})),n.default.createElement("div",{id:"vfowned"},n.default.createElement(m.default,{buttons:F,errors:this.state.errors.owned,label:"Except for the ".concat(this.props.challenge.free_hardware_name,", do you already have the parts you need to build this project?"),name:"owned",onChange:function(t){return e.setStateOrError(null,"owned",t.target.value)},value:this.state.fields.owned.value})),n.default.createElement("div",{id:"vfhours_weekly"},n.default.createElement(s.default,{errors:this.state.errors.hours_weekly,label:"How many hours will you be able to spend on this project per week?",onChange:function(t){return e.setStateOrError(null,"hours_weekly",t.target.value)},type:"number",value:this.state.fields.hours_weekly.value})),n.default.createElement("div",{id:"vfhours_total"},n.default.createElement(s.default,{errors:this.state.errors.hours_total,label:"How many total hours do you estimate this will take you to build?",onChange:function(t){return e.setStateOrError(null,"hours_total",t.target.value)},type:"number",value:this.state.fields.hours_total.value})),n.default.createElement("div",{id:"vfskills"},n.default.createElement(s.default,{element:"textarea",errors:this.state.errors.skills,label:"Tell us about yourself. What do you spend most of your time doing? What skills or experience do you have that will enable you to be successful in building this project?",onChange:function(t){return e.setStateOrError(null,"skills",t.target.value)},value:this.state.fields.skills.value})),n.default.createElement("div",{id:"vfaddress",className:T.default.marginBottom30},n.default.createElement("label",{className:R.default.label},"Where should we ship the hardware if your idea is selected?"),this._getAddressField(),(0,v.getErrorHelperView)(this.getErrorForField("address_id"))),this._getCustomFieldsViews(),n.default.createElement("div",{id:"vfi_agree_submit"},n.default.createElement(m.default,{buttons:B,errors:this.state.errors.i_agree_submit,label:"I agree that if I am selected to receive free hardware, I will submit a project to the ".concat(this.props.challenge.name," contest by ").concat(this.state.dates.endDate,"."),name:"i_agree_submit",onChange:function(t){return e.setStateOrError((0,P.agreeTo)(t.target.value,w.boolOrNullOut,U),"i_agree_submit",t.target.value)},value:this.state.fields.i_agree_submit.value})),n.default.createElement("div",{id:"vfi_agree_ship_back"},n.default.createElement("label",{className:R.default.label},n.default.createElement("span",null,"If I am not able to submit for any reason, I will contact the contest admins at "),n.default.createElement("a",{href:"mailto:".concat(this.props.challenge.support_email),rel:"noopener nofollow",target:"_blank"},this.props.challenge.support_email),n.default.createElement("span",null," by ".concat(this.state.dates.shipBack," in order to arrange a possible hardware return."))),n.default.createElement(m.default,{buttons:B,errors:this.state.errors.i_agree_ship_back,name:"i_agree_ship_back",onChange:function(t){return e.setStateOrError((0,P.agreeTo)(t.target.value,w.boolOrNullOut,U),"i_agree_ship_back",t.target.value)},value:this.state.fields.i_agree_ship_back.value})),n.default.createElement("div",{className:T.default.marginTop60},this._getActionButtons(),this.state.formError&&(0,v.getFormErrorView)(this.state.formError))),n.default.createElement(p.default,{hardware:{name:this.props.challenge.free_hardware_name,remaining:this.props.challenge.free_hardware_quantity_remaining},supportEmail:this.props.challenge.support_email}))))))}}])&&x(r.prototype,a),A&&x(r,A),t}();z.propTypes={challenge:a.default.shape({free_hardware_custom_fields:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,label:a.default.string.isRequired,required:a.default.bool.isRequired})).isRequired,free_hardware_name:a.default.string.isRequired,free_hardware_quantity:a.default.number.isRequired,free_hardware_quantity_remaining:a.default.number.isRequired,end_date:a.default.string.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,support_email:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,idea:a.default.shape({address:a.default.shape({address_line1:a.default.string,address_line2:a.default.string,city:a.default.string,company:a.default.string,country:a.default.string,country_iso2:a.default.string,cpf:a.default.string,default:a.default.bool,id:a.default.number,first_name:a.default.string,last_name:a.default.string,phone:a.default.string,state:a.default.string,zip:a.default.string}),application:a.default.shape({build:a.default.string,components:a.default.string,hours_total:a.default.number,hours_weekly:a.default.number,i_agree_ship_back:a.default.bool,i_agree_submit:a.default.bool,owned:a.default.string,problem:a.default.string,skills:a.default.string,solution:a.default.string}),id:a.default.number,name:a.default.string,status:a.default.string,url:a.default.string,user:a.default.shape({id:a.default.number})}),mode:a.default.oneOf(["default","edit"])},z.defaultProps={idea:null,mode:"default"};var G=z;t.default=G},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"diff":"default";if(l.includes(e.country_iso2))return n[t];if(u.includes(e.country_iso2))return a[t];return s(["city","state","zip"],e)?o[t]:i[t]};var n={default:["city","<>,<>","<> <>","state","<> <>","zip"],diff:["city","<>,<>","<> <>","state","<> <>","zip"]},a={default:["city","<> <>","state","<> <>","zip"],diff:["city","<> <>","state","<> <>","zip"]},o={default:["zip","<> <>","city","<> <>","state"],diff:["zip","<> <>","city","<> <>","state"]},i={default:["zip","<> <>","city"],diff:["zip","<> <>","city"]},l=["US"],u=["CA","IN"],s=function(e,t){return e.every(function(e){return t.hasOwnProperty(e)&&t[e]&&t[e].length>0})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=b(r(1)),o=b(r(382)),i=b(r(2242)),l=b(r(2244)),u=b(r(15)),s=b(r(963)),c=b(r(42)),d=b(r(2247)),f=b(r(48)),p=b(r(7)),m=b(r(2248)),h=r(2251),y=r(2252),g=r(14),_=r(11),v=b(r(2));function b(e){return e&&e.__esModule?e:{default:e}}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=E(t).call(this,e))||"object"!==O(a)&&"function"!=typeof a?P(n):a).state={activeAddress:null,addresses:[],dialog:{open:!1,data:null,ref:null,view:"default"},initialized:!1,isBusy:!1,view:"default"},r.addOrUpdateAddress=r.addOrUpdateAddress.bind(P(r)),r.makeAddressDefault=r.makeAddressDefault.bind(P(r)),r.saveVerifiedAddress=r.saveVerifiedAddress.bind(P(r)),r}var r,a,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._fetchUserAddresses()}},{key:"_fetchUserAddresses",value:function(){var e=this;return f.default.fetchProperty("addresses",h.addressesQL).then(function(t){var r=e._getActiveAddress(t,e.props.initAddressId),n=null===e.props.initAddressId||e.props.initAddressId&&r;e.setState({activeAddress:r,addresses:e._sortAddresses(t),initialized:!0,view:n?t.length>0?"edit":"default":"error"}),n||(0,p.default)("AddressButton got a initAddressId for the wrong current user! Unmount AddressButton from its parent.",{initAddressId:e.props.initAddressId})}).catch(function(e){return(0,p.default)("AddressButton _fetchUserAddresses",e)})}},{key:"_getActiveAddress",value:function(e,t){if(!e.length)return null;var r=e.reduce(function(e,r,n,a){return null!==e?e:t?r.id===t?r:e:r.default?r:n===a.length-1?a[0]:e},null);return r&&this.props.onSelection(r),r}},{key:"_sortAddresses",value:function(e){return e.reduce(function(e,t){return t.default?[t].concat(e):e.concat(t)},[])}},{key:"addOrUpdateAddress",value:function(e){var t=this;return this.setState({isBusy:!0}),(0,m.default)(e).then(function(e){return e.originIsVerified?t._createOrUpdateAddress(Object.assign({},e.address,{verified:!0})):t._toggleToVerificationView(e)}).then(function(e){return e()}).catch(function(e){(0,p.default)("AddressButton addOrUpdateAddress: ",e),t.setState({isBusy:!1})})}},{key:"makeAddressDefault",value:function(e){var t=this,r=this.state.addresses,n=this._swapDefaultAddress(r,e);return this.setState({addresses:n,isBusy:!0}),(0,g.graphMutate)((0,y.updateAddressMutation)(),Object.assign({},e,{default:!0})).then(function(){t.setState({isBusy:!1})}).catch(function(e){t.setState({addresses:r,isBusy:!1})})}},{key:"saveVerifiedAddress",value:function(e){var t=this;return this.setState({isBusy:!0}),this._createOrUpdateAddress(e).then(function(e){return e()}).catch(function(e){(0,p.default)("AddressButton saveVerifiedAddress",e),t.setState({isBusy:!1})})}},{key:"_createOrUpdateAddress",value:function(e){var t=this;return new Promise(function(r,n){var a=e.hasOwnProperty("id")&&!(0,_.isBlank)(e.id),o=a?(0,y.updateAddressMutation)():(0,y.createAddressMutation)();return(0,g.graphMutate)(o,e).then(function(n){var o=n.record;r(function(){var r=a?e:Object.assign({},e,{id:parseInt(o.id)}),n=a?t.state.addresses.map(function(t){return t.id===e.id?e:t}):t.state.addresses.concat(r),i=a&&t.state.activeAddress.id===r.id||!a&&!t.state.activeAddress?r:t.state.activeAddress;t._propagateAddressIfNewlySelected(i,t.state.activeAddress,a),t.setState({addresses:n,activeAddress:i,dialog:t._getDialogShape(!1,"default",null,null,!0),isBusy:!1,view:"edit"})})}).catch(function(e){return n(e)})})}},{key:"_getDialogShape",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=!(!a||!this.state.dialog.ref)||e,i=a&&this.state.dialog.ref?this.state.dialog.ref:t;return{open:o,view:i,data:r,ref:n}}},{key:"_propagateAddressIfNewlySelected",value:function(e,t,r){t||r||this.props.onSelection(e)}},{key:"_swapDefaultAddress",value:function(e,t){return e.reduce(function(e,r){return e=r.default?e.concat(Object.assign({},r,{default:!1})):r.id===t.id?e.concat(Object.assign({},r,{default:!0})):e.concat(r)},[])}},{key:"_toggleToVerificationView",value:function(e){var t=this;return function(){return t.setState({dialog:t._getDialogShape(!0,"verify",e,t.state.dialog.ref),isBusy:!1})}}},{key:"_getMainView",value:function(){if(!this.state.initialized)return n.default.createElement(s.default,{width:145});switch(this.state.view){case"edit":return this._getEditView();case"error":return n.default.createElement("div",null,"AddressButton Error (check your console)");default:return this._getDefaultView()}}},{key:"_getDefaultView",value:function(){var e=this;return n.default.createElement(u.default,{colorStyle:"secondary",disabled:!1===this.state.initialized,onClick:function(){return e.setState({dialog:e._getDialogShape(!0,"default")})},size:"md"},"Add an address")}},{key:"_getEditView",value:function(){var e=this;return n.default.createElement("div",null,n.default.createElement(o.default,{address:this.state.activeAddress,view:"brief"}),n.default.createElement(u.default,{className:v.default.marginTop15,colorStyle:"secondary",disabled:!1===this.state.initialized,onClick:function(){return e.setState({dialog:e._getDialogShape(!0,"book")})},size:"md"},"Use another address"))}},{key:"_getDialogView",value:function(){switch(this.state.dialog.view){case"book":return this._getAddressBookView();case"verify":return this._getVerifyView();default:return this._getAddressFormView()}}},{key:"_getAddressBookView",value:function(){var e=this;return n.default.createElement(i.default,{activeAddress:this.state.activeAddress,addNewAddress:function(){return e.setState({dialog:e._getDialogShape(!0,"default",null,"book")})},addresses:this.state.addresses,editAddress:function(t){return e.setState({dialog:e._getDialogShape(!0,"edit",t,"book")})},isBusy:this.state.isBusy,makeDefault:this.makeAddressDefault,selectActive:function(t){e.props.onSelection(t),e.setState({activeAddress:t,dialog:e._getDialogShape(!1,e.state.dialog.view)})}})}},{key:"_getAddressFormView",value:function(){var e=this;return n.default.createElement(l.default,{addOrUpdateAddress:this.addOrUpdateAddress,dismiss:function(){return e.setState({dialog:e._getDialogShape(!1,"default",null,null,!0)})},initData:this.state.dialog.data,isBusy:this.state.isBusy,view:this.state.dialog.view})}},{key:"_getVerifyView",value:function(){var e=this;return n.default.createElement(d.default,{editAddress:function(t){return e.setState({dialog:e._getDialogShape(!0,"edit",t,e.state.dialog.ref)})},isBusy:this.state.isBusy,saveAddress:this.saveVerifiedAddress,verificationData:this.state.dialog.data})}},{key:"render",value:function(){var e=this;return n.default.createElement("div",null,this._getMainView(),n.default.createElement(c.default,{dismiss:function(){return e.setState({dialog:e._getDialogShape(!1,e.state.dialog.view,e.state.dialog.data)})},open:this.state.dialog.open},this._getDialogView()))}}])&&w(r.prototype,a),b&&w(r,b),t}();S.propTypes={initAddressId:a.default.number,onSelection:a.default.func},S.defaultProps={initAddressId:null,onSelection:function(){}};var C=S;t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(15)),i=c(r(961)),l=c(r(2)),u=c(r(52)),s=c(r(3));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=p(this,m(t).call(this,e))).state={selected:e.activeAddress},r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:u.default.container},n.default.createElement("h2",{className:s.default.h2},"Choose an address"),n.default.createElement("div",{className:l.default.flexRowWrap},this.props.addresses.map(function(t){return n.default.createElement(i.default,{key:t.id,address:t,disabled:e.props.isBusy,edit:e.props.editAddress,isChecked:e.state.selected.id===t.id,makeDefault:e.props.makeDefault,onChange:function(t){return e.setState({selected:t})}})})),n.default.createElement("div",{className:l.default.marginTop45},n.default.createElement(o.default,{colorStyle:"secondary",onClick:function(){return e.props.selectActive(e.state.selected)},size:"md"},"Use this address"),n.default.createElement(o.default,{className:l.default.marginLeft15,colorStyle:"tertiary",onClick:this.props.addNewAddress,size:"md"},"Add a new address")))}}])&&f(r.prototype,a),c&&f(r,c),t}();y.propTypes={activeAddress:a.default.object.isRequired,addNewAddress:a.default.func.isRequired,addresses:a.default.arrayOf(a.default.shape({address_line1:a.default.string.isRequired,address_line2:a.default.string,city:a.default.string.isRequired,company:a.default.string,country:a.default.string.isRequired,country_iso2:a.default.string,cpf:a.default.string,default:a.default.boolean,id:a.default.number.isRequired,first_name:a.default.string.isRequired,last_name:a.default.string.isRequired,phone:a.default.string.isRequired,state:a.default.string.isRequired,zip:a.default.string.isRequired})).isRequired,editAddress:a.default.func.isRequired,isBusy:a.default.bool,makeDefault:a.default.func.isRequired,selectActive:a.default.func.isRequired},y.defaultProps={isBusy:!1};var g=y;t.default=g},function(e,t,r){e.exports={charcoal:"#111",hackster:"#2E9FE6",hacksterHover:"#1B7DBB",address:"address__address__ahoz-",btnWrapper:"address__btnWrapper__1RKme",btn:"address__btn__1jRkQ",editBtn:"address__editBtn__3a9ZO address__btn__1jRkQ",makeDefaultBtn:"address__makeDefaultBtn__3c8a0 address__btn__1jRkQ",radio:"address__radio__2xtzf",selectable:"address__selectable__OYqUH"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=_(r(1)),o=r(43),i=_(r(28)),l=_(r(38)),u=_(r(15)),s=_(r(2245)),c=_(r(2246)),d=r(218),f=r(8),p=_(r(52)),m=_(r(21)),h=_(r(2)),y=_(r(3)),g=_(r(962));function _(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function w(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C={address_line1:{order:4,validate:function(e){return(0,o.maxLength)(255,e)},value:""},address_line2:{order:5,validate:function(e){return(0,o.maxLength)(255,e)},value:"",notRequired:!0},city:{order:6,validate:function(e){return(0,o.maxLength)(50,e)},value:""},company:{order:3,validate:function(e){return(0,o.maxLength)(100,e)},value:"",notRequired:!0},country:{order:0,validate:function(e){return(0,o.maxLength)(100,e)},value:"",formatOut:function(e){var t=(0,f.getInObj)(["data","alpha2"],e);return t?{country:e.data.name,country_iso2:t}:{country:e.label,country_iso2:e.value}}},first_name:{order:1,validate:function(e){return(0,o.maxLength)(100,e)},value:""},last_name:{order:2,validate:function(e){return(0,o.maxLength)(100,e)},value:""},phone:{order:9,validate:function(e){return(0,o.maxLength)(50,e)},value:""},state:{order:7,validate:function(e){return(0,o.maxLength)(100,e)},value:"",notRequired:!0,formatOut:function(e,t){var r=t.country.value.data;return{state:(0,d.getStateForCountry)(e,r)}}},zip:{order:8,validate:function(e){return(0,o.maxLength)(50,e)},value:""}},j=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=P(t).call(this,e))||"object"!==v(a)&&"function"!=typeof a?k(n):a).state={errors:{},hiddenInputsConfig:null,fields:r._initFields(e),view:e.view},r.handleCountrySelect=r.handleCountrySelect.bind(k(r)),r.handleSubmit=r.handleSubmit.bind(k(r)),r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,n.Component),r=t,(a=[{key:"_initFields",value:function(e){if(!e.initData)return C;var t=e.initData;return Object.keys(C).reduce(function(e,r){if("country"===r){var n=(0,d.getCountryDataForAddress)(t);e[r]=Object.assign({},C[r],{value:{data:n,label:n.name,value:n.alpha2}})}else"phone"===r?e[r]=Object.assign({},C[r],{value:t[r].replace(/[^0-9+-]/g,"")}):t.hasOwnProperty(r)?e[r]=Object.assign({},C[r],{value:t[r]}):e[r]=C[r];return e},{})}},{key:"handleCountrySelect",value:function(e){if(""!==e){var t=(0,c.default)(e.data),r=this.props.resetFieldsOnCountryChange?Object.assign({},this._initFields({initData:null}),{country:Object.assign({},this.state.fields.country,{value:e})}):Object.assign({},this.state.fields,{country:Object.assign({},this.state.fields.country,{value:e})});if(t){var n=Object.keys(this.state.fields).length;this.setState({errors:{},hiddenInputsConfig:t({order:n}),fields:r})}else this.setState({errors:{},hiddenInputsConfig:null,fields:r})}}},{key:"handleSubmit",value:function(){this._validate()&&this.props.addOrUpdateAddress(this._getAddressToPropagate())}},{key:"_getAddressToPropagate",value:function(){var e=this.props.initData&&this.props.initData.id?{id:this.props.initData.id}:{};return Object.assign({},e,this._getFieldValuesAsObject(),{default:!(!this.props.initData||!this.props.initData.default)&&this.props.initData.default})}},{key:"_getFieldValuesAsObject",value:function(){var e=this,t=this.state.hiddenInputsConfig?Object.assign({},this.state.fields,this.state.hiddenInputsConfig.fields):this.state.fields;return Object.keys(t).reduce(function(r,n){var a=t[n];return a.hasOwnProperty("formatOut")?r=Object.assign({},r,a.formatOut(a.value,e.state.fields)):r[n]=a.value,r},{})}},{key:"_scrollToError",value:function(e){var t=this.state.hiddenInputsConfig?Object.assign({},this.state.fields,this.state.hiddenInputsConfig.fields):this.state.fields,r=Object.keys(t).sort(function(e,r){return t[e].order-t[r].order}).reduce(function(t,r){return null!==t?t:e.hasOwnProperty(r)?document.getElementById("vf".concat(r)):t},null);if(r){var n=this.props.dialogRef?document.querySelector('[data-ref="'.concat(this.props.dialogRef,'"]')):window;(0,i.default)(r,200,null,n)}}},{key:"_setStateOrError",value:function(e,t,r){if(null===e){var n=this.state.errors,a=(n[t],O(n,[t].map(w)));this.setState({errors:a,fields:Object.assign({},this.state.fields,b({},t,Object.assign({},this.state.fields[t],{value:r})))})}else this.setState({errors:Object.assign({},this.state.errors,b({},t,e)),fields:Object.assign({},this.state.fields,b({},t,Object.assign({},this.state.fields[t],{value:r})))})}},{key:"_setStateForHiddenField",value:function(e,t){this.setState({hiddenInputsConfig:Object.assign({},this.state.hiddenInputsConfig,{fields:Object.assign({},this.state.hiddenInputsConfig.fields,b({},e,Object.assign({},this.state.hiddenInputsConfig.fields[e],{value:t})))})})}},{key:"_validate",value:function(){var e=this,t=this.state.hiddenInputsConfig?Object.assign({},this.state.fields,this.state.hiddenInputsConfig.fields):this.state.fields,r=Object.keys(t).reduce(function(e,r){var n=t[r],a=n.hasOwnProperty("customRequired")?n.customRequired:o.isRequired,i=(n.notRequired?[n.validate]:[a,n.validate]).reduce(function(e,t){return null!==e?e:t(n.value)},null);return i&&i.length&&(e[r]=i),e},{});return!Object.keys(r).length||(this.setState({errors:Object.assign({},this.state.errors,r)},function(){return e._scrollToError(e.state.errors)}),!1)}},{key:"_getErrorViewForType",value:function(e,t){return n.default.createElement("div",{className:m.default.msgWrapper},n.default.createElement("div",null,this.state.errors.hasOwnProperty(e)&&n.default.createElement("div",{className:m.default.error},this.state.errors[e]),t&&n.default.createElement("div",{className:m.default.help},t)))}},{key:"_getTitle",value:function(){var e="edit"===this.props.view?"Edit your address":"Whats your address?";return n.default.createElement("div",{className:g.default.title},n.default.createElement("h2",{className:y.default.h2},e))}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:p.default.container},this._getTitle(),n.default.createElement("div",{id:"vfcountry",className:h.default.marginBottom30},n.default.createElement("label",{className:m.default.label},"Country"),n.default.createElement(s.default,{onChange:this.handleCountrySelect,value:this.state.fields.country.value}),this._getErrorViewForType("country")),n.default.createElement("div",{id:"vffirst_name"},n.default.createElement(l.default,{errors:this.state.errors.first_name,label:"First name",name:"first_name",onChange:function(t){return e._setStateOrError(null,"first_name",t.target.value)},value:this.state.fields.first_name.value})),n.default.createElement("div",{id:"vflast_name"},n.default.createElement(l.default,{errors:this.state.errors.last_name,label:"Last name",name:"last_name",onChange:function(t){return e._setStateOrError(null,"last_name",t.target.value)},value:this.state.fields.last_name.value})),n.default.createElement("div",{id:"vfcompany"},n.default.createElement(l.default,{errors:this.state.errors.company,label:"Company (optional)",name:"company",onChange:function(t){return e._setStateOrError(null,"company",t.target.value)},value:this.state.fields.company.value})),n.default.createElement("div",{id:"vfaddress_line1"},n.default.createElement(l.default,{errors:this.state.errors.address_line1,label:"Address Line 1",name:"address_line1",onChange:function(t){return e._setStateOrError(null,"address_line1",t.target.value)},value:this.state.fields.address_line1.value})),n.default.createElement("div",{id:"vfaddress_line2"},n.default.createElement(l.default,{errors:this.state.errors.address_line2,label:"Address Line 2 (if neccessary)",name:"address_line2",onChange:function(t){return e._setStateOrError(null,"address_line2",t.target.value)},value:this.state.fields.address_line2.value})),n.default.createElement("div",{id:"vfcity"},n.default.createElement(l.default,{errors:this.state.errors.city,label:"City",name:"city",onChange:function(t){return e._setStateOrError(null,"city",t.target.value)},value:this.state.fields.city.value})),n.default.createElement("div",{id:"vfstate"},n.default.createElement(l.default,{errors:this.state.errors.state,label:"State",name:"state",onChange:function(t){return e._setStateOrError(null,"state",t.target.value)},value:this.state.fields.state.value})),n.default.createElement("div",{id:"vfzip"},n.default.createElement(l.default,{errors:this.state.errors.zip,label:"Zip",name:"zip",onChange:function(t){return e._setStateOrError(null,"zip",t.target.value)},value:this.state.fields.zip.value})),n.default.createElement("div",{id:"vfphone"},n.default.createElement(l.default,{errors:this.state.errors.phone,label:"Phone",name:"phone",onChange:function(t){return e._setStateOrError(null,"phone",t.target.value.replace(/[^0-9+-]/g,""))},value:this.state.fields.phone.value})),this.state.hiddenInputsConfig&&n.default.Children.toArray(this.state.hiddenInputsConfig.components.map(function(t){return t(e)})),n.default.createElement("div",{className:h.default.marginTop30},n.default.createElement(u.default,{disabled:this.props.isBusy,onClick:this.handleSubmit,size:"lg"},this.props.isBusy?"Saving address":"Save address"),n.default.createElement(u.default,{colorStyle:"cancel",disabled:this.props.isBusy,onClick:function(){return e.props.dismiss()},size:"lg"},"Cancel")))}}])&&E(r.prototype,a),f&&E(r,f),t}();j.propTypes={addOrUpdateAddress:a.default.func.isRequired,dialogRef:a.default.string,dismiss:a.default.func,initData:a.default.shape({address_line1:a.default.string.isRequired,address_line2:a.default.string,city:a.default.string.isRequired,company:a.default.string,country:a.default.string.isRequired,country_iso2:a.default.string,cpf:a.default.string,default:a.default.boolean,id:a.default.number,first_name:a.default.string.isRequired,last_name:a.default.string.isRequired,phone:a.default.string.isRequired,state:a.default.string.isRequired,zip:a.default.string.isRequired}),isBusy:a.default.bool,resetFieldsOnCountryChange:a.default.bool,view:a.default.oneOf(["default","edit"])},j.defaultProps={dialogRef:null,dismiss:function(){},initData:null,isBusy:!1,resetFieldsOnCountryChange:!1,view:"default"};var R=j;t.default=R},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(9)),i=s(r(377)),l=r(218),u=s(r(2));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,l.getCountryListForSelect)(),d=function(e){var t=e.onChange,r=e.value;return n.default.createElement(i.default,{classList:{arrow:"",formGroup:u.default.marginBottom0},clearable:!1,controlledValue:!0,dropdownIcon:n.default.createElement(o.default,{name:"arrow-down"}),errors:[],onChange:t,options:c,placeholder:" ",searchable:!0,simpleValue:!1,showDropdownArrow:!0,value:r})};d.propTypes={onChange:a.default.func.isRequired,value:a.default.oneOfType([a.default.string,a.default.number,a.default.object,a.default.bool])};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(38)),o=r(43),i=l(r(2));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return n.default.createElement("div",{id:"vfcpf"},n.default.createElement(a.default,{classList:{root:i.default.marginBottom15},errors:e.state.errors.cpf,label:"Cpf",name:"cpf",onChange:function(t){return e._setStateForHiddenField("cpf",t.target.value)},value:e.state.hiddenInputsConfig.fields.cpf.value}))},s={BR:function(e){var t=e.order;return{components:[u],fields:{cpf:{order:t,validate:function(e){return(0,o.maxLength)(100,e)},value:""}},iso2:"BR",name:"Brazil"}}},c=function(e){return s.hasOwnProperty(e.alpha2)?s[e.alpha2]:null};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(15)),i=d(r(961)),l=d(r(2)),u=d(r(52)),s=d(r(3)),c=d(r(962));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g="We couldn't verify your address as a known deliverable address. Please review it before saving.",_=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=m(this,h(t).call(this,e))).state={selected:0},r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"_getAddressForSelectedIndex",value:function(){var e=0===this.state.selected?this.props.verificationData.address:this._getAddressFromVerificationObject(),t=1===this.state.selected&&this.props.verificationData.verified.isDeliverable;return Object.assign({},e,{verified:t})}},{key:"_getAddressToPropagate",value:function(e,t){return Object.assign({},e,{verified:t})}},{key:"_getAddressFromVerificationObject",value:function(){var e=this.props.verificationData.verified.address;return Object.keys(e).reduce(function(t,r){return t[r]=e[r].value,t},{})}},{key:"_getHelperText",value:function(){var e=this.props.verificationData.verified;if(!e)return g;if(e.isDeliverable)return"There seems to be a problem with the address provided. We've made corrections to your address to ensure it is accurate. Please confirm or edit your address.";var t=e.invalidMsgs;return t.length?n.default.createElement("span",null,n.default.createElement("span",null,"We couldn't verify the address you provided as deliverable. Please review the items below for potential problems."),n.default.createElement("span",{className:"".concat(c.default.footnoteMsgs," ").concat(l.default.marginTop15," ").concat(s.default.bodyL," ").concat(s.default.error)},t.map(function(e,t){return n.default.createElement("span",{key:t,className:c.default.footnoteMsg},"• ",e)}))):g}},{key:"render",value:function(){var e=this,t=this.props.verificationData.verified;return n.default.createElement("div",{className:u.default.container},n.default.createElement("h2",{className:"".concat(s.default.h2," ").concat(l.default.marginBottom10)},"Verify your address"),n.default.createElement("p",{className:s.default.bodyL},this._getHelperText()),n.default.createElement("div",{className:l.default.flexRowWrap},n.default.createElement(i.default,{address:this.props.verificationData.address,addressView:t?"verifiedDiff":"select",diffingAddress:t?this.props.verificationData.verified.address:null,disabled:this.props.isBusy,edit:function(t){return e.props.editAddress(e._getAddressToPropagate(t,!1))},isChecked:0===this.state.selected,onChange:function(){return e.setState({selected:0})},showDefaultView:!1}),t&&this.props.verificationData.verified.isDeliverable&&n.default.createElement(i.default,{address:this._getAddressFromVerificationObject(),addressView:"verified",disabled:this.props.isBusy,edit:function(t){return e.props.editAddress(e._getAddressToPropagate(t,e.props.verificationData.verified.isDeliverable))},isChecked:1===this.state.selected,onChange:function(){return e.setState({selected:1})},showDefaultView:!1})),n.default.createElement("div",{className:l.default.marginTop45},n.default.createElement(o.default,{colorStyle:"secondary",disabled:this.props.isBusy,onClick:function(){return e.props.saveAddress(e._getAddressForSelectedIndex())},size:"md"},this.props.isBusy?"Saving address":"Save address")))}}])&&p(r.prototype,a),d&&p(r,d),t}();_.propTypes={editAddress:a.default.func.isRequired,isBusy:a.default.bool.isRequired,saveAddress:a.default.func.isRequired,verificationData:a.default.shape({address:a.default.object.isRequired,originIsVerified:a.default.bool.isRequired,verified:a.default.shape({address:a.default.object,invalidMsgs:a.default.arrayOf(a.default.string),isDeliverable:a.default.bool})}).isRequired},_.defaultProps={verificationData:{verified:null}};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,r){var a="US"===e.country_iso2,o=a?l:u;return(0,n.default)(o).query(d(e)).then(function(t){return p(e,t.body,a)}).then(function(e){return t(e)}).catch(function(e){return r(e)})})};var n=i(r(35)),a=i(r(2249)),o=r(2250);function i(e){return e&&e.__esModule?e:{default:e}}var l="https://api.smartystreets.com/street-address?auth-id=".concat("15000391262539876"),u="https://international-street.api.smartystreets.com/verify?auth-id=".concat("15000391262539876"),s={address_line1:"street",address_line2:"secondary",city:"city",state:"state",zip:"zipcode"},c={address_line1:"address1",address_line2:"address2",city:"locality",country:"country",state:"administrative_area",zip:"postal_code"},d=function(e){var t="US"===e.country_iso2?s:c;return Object.keys(e).reduce(function(r,n){return t.hasOwnProperty(n)&&e[n].length>0&&("country"===n&&e.hasOwnProperty("country_iso2")&&e.country_iso2.length>0?r[t[n]]=e.country_iso2:r[t[n]]=e[n]),r},{})},f=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=(0,o.isAddressedVerified)(t,r,!0,e),i=!1===n||null===t?null:{address:(0,o.getDiffingAddress)(e,t,r),invalidMsgs:(0,a.default)(t,r),isDeliverable:(0,o.isAddressedVerified)(t,r,!1,e)};return{address:e,originIsVerified:n,verified:i}},p=function(e,t,r){if(!t||!t.length)return f(e,null,r);var n=(0,o.getBestRecommendation)(t,r);return f(e,n,r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?t?l(e):i(e):[]};var n=r(8),a={A:"Corrected zip code.",B:"Fixed city/state spelling.",C:"Invalid city/state/zip.",F:"Address not found.",H:"Missing apartment, suite (etc) number.",I:"Insufficient address data.",J:"Dual address.",K:"Invalid cardinal direction (North, South, East, West).",L:"Changed part of address.",M:"Fixed street spelling.",N:"Fixed abbreviations (i.e. STEET to ST).",O:"More than one zipcode found",S:"Secondary information is bad (apartment, suite, etc).",V:"Unverifiable city / state.",W:"Invalid delivery address."},o={None:"Address not known, possibly because this address is invalid.",AdministrativeArea:"Address is only verified down to the state or province.",Locality:"Address is only verified down to the city or town.",Thoroughfare:"Address is only verified down to the street.",Premise:"Address is only verified down to the property or building."},i=function(e){var t=(0,n.getInObj)(["analysis","address_precision"],e);return t&&o.hasOwnProperty(t)?[o[t]]:[]},l=function(e){var t=(0,n.getInObj)(["analysis","footnotes"],e);return!t||t&&!t.length?[]:t.split("#").reduce(function(e,t){return a.hasOwnProperty(t)?e.concat(a[t]):e},[])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBestRecommendation=function(e,t){if(1===e.length)return e[0];var r=t?["active","Y"]:["verification_status","Verified"];return e.reduce(function(e,t,n,a){return null!==e?e:(null===e&&n===a.length-1?e=a[0]:t.analysis&&t.analysis[r[0]]&&t.analysis[r[0]]===r[1]&&(e=t),e)},null)},t.getDiffingAddress=function(e,t,r){return r?a(e,t):l(e,t)},t.isAddressedVerified=function(e,t,r,n){return!!e&&(t?o(e,r):u(e,r,n))};var n=r(8),a=function(e,t){var r=(0,n.getInObj)(["components","primary_number"],t),a=(0,n.getInObj)(["components","street_name"],t),o=(0,n.getInObj)(["components","street_suffix"],t),i=r&&a&&o?"".concat(r," ").concat(a," ").concat(o):"",l=function(e){var t=e.components,r=t.secondary_designator||t.extra_secondary_designator||null,n=t.secondary_number||t.extra_secondary_number||null;return r&&n?"".concat(r," ").concat(n):""}(t),u=(0,n.getInObj)(["components","city_name"],t)||"",s=(0,n.getInObj)(["components","state_abbreviation"],t)||"",c=(0,n.getInObj)(["components","zipcode"],t)||"";return{address_line1:{matchesInput:e.address_line1===i,value:i},address_line2:{matchesInput:e.address_line2===l,value:l},city:{matchesInput:e.city===u,value:u},company:{matchesInput:!0,value:e.company},country:{matchesInput:!0,value:e.country},country_iso2:{matchesInput:!0,value:e.country_iso2},cpf:{matchesInput:!0,value:e.cpf},default:{matchesInput:!0,value:e.default},id:{matchesInput:!0,value:e.id},first_name:{matchesInput:!0,value:e.first_name},last_name:{matchesInput:!0,value:e.last_name},phone:{matchesInput:!0,value:e.phone},state:{matchesInput:e.state===s,value:s},zip:{matchesInput:e.zip===c,value:c}}},o=function(e,t){return t?e.analysis.hasOwnProperty("active")&&"Y"===e.analysis.active&&!e.analysis.hasOwnProperty("footnotes"):e.analysis.hasOwnProperty("active")&&"Y"===e.analysis.active},i=function(e,t,r,n){return e.reduce(function(e,a){return e.length>0?e:(a.split(" ").forEach(function(a){r.includes(a)&&!n.includes(a)&&(e=e.concat(t[a]))}),e)},[]).join(" ")},l=function(e,t){var r=t.hasOwnProperty("organization")?{organization:t.organization}:{},n=Object.assign({},t.components,{organization:r}),a=t.metadata.address_format,o=a.replace(/,/g,"").split("|"),l=["administrative_area","locality","postal_code"],u=i(o,n,o[0],l),s=i(o,n,o[1],l),c=a.includes("locality")?n.locality:"",d=a.includes("administrative_area")?n.administrative_area:"",f=n.postal_code||"";return{address_line1:{matchesInput:e.address_line1.toLowerCase()===u.toLowerCase(),value:u},address_line2:{matchesInput:e.address_line2.toLowerCase()===s.toLowerCase(),value:s},city:{matchesInput:e.city.toLowerCase()===c.toLowerCase(),value:c},company:{matchesInput:!0,value:e.company},country:{matchesInput:!0,value:e.country},country_iso2:{matchesInput:!0,value:e.country_iso2},cpf:{matchesInput:!0,value:e.cpf},default:{matchesInput:!0,value:e.default},id:{matchesInput:!0,value:e.id},first_name:{matchesInput:!0,value:e.first_name},last_name:{matchesInput:!0,value:e.last_name},phone:{matchesInput:!0,value:e.phone},state:{matchesInput:e.state.toLowerCase()===d.toLowerCase(),value:d},zip:{matchesInput:e.zip.toLowerCase()===f.toLowerCase(),value:f}}},u=function(e,t,r){return t?e.analysis.hasOwnProperty("verification_status")&&"Verified"===e.analysis.verification_status&&function(e,t){var r=e.metadata.address_format||[],n=e.components||{},a={address_line1:["premise","thoroughfare"].filter(function(e){return r.includes(e)}).map(function(e){return n[e]}).join(" "),address_line2:["building","sub_building"].filter(function(e){return r.includes(e)}).map(function(e){return n[e]}).join(" "),city:r.includes("locality")?n.locality:"",state:r.includes("administrative_area")?n.administrative_area:"",zip:r.includes("postal_code")?n.postal_code:""};return Object.keys(a).every(function(e){return a[e]===t[e]})}(e,r):e.analysis.hasOwnProperty("verification_status")&&"Verified"===e.analysis.verification_status}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addressesQL=void 0;t.addressesQL="\n  addresses {\n    address_line1\n    address_line2\n    city\n    company\n    country\n    country_iso2\n    cpf\n    default\n    id\n    first_name\n    last_name\n    phone\n    state\n    verified\n    zip\n  }\n"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAddressMutation=function(){return"\n    mutation createAddressMutation($address_line1: String!, $address_line2: String, $city: String!, $company: String, $country_iso2: String!, $cpf: String, $default: Boolean!, $first_name: String!, $last_name: String!, $phone: String!, $state: String, $verified: Boolean!, $zip: String!) {\n      record: createAddress(address_line1: $address_line1, address_line2: $address_line2, city: $city, company: $company, country_iso2: $country_iso2, cpf: $cpf, default: $default, first_name: $first_name, last_name: $last_name, phone: $phone, state: $state, verified: $verified, zip: $zip) {\n        id\n      }\n    }\n  "},t.deleteAddressMutation=function(){return"\n    mutation deleteAddressMutation($id: Int!) {\n      record: deleteAddress(id: $id) {\n        id\n      }\n    }\n  "},t.updateAddressMutation=function(){return"\n    mutation updateAddressMutation($address_line1: String!, $address_line2: String, $city: String!, $company: String, $country_iso2: String!, $cpf: String, $default: Boolean!, $id: Int!, $first_name: String!, $last_name: String!, $phone: String!, $state: String, $verified: Boolean!, $zip: String!) {\n      record: updateAddress(address_line1: $address_line1, address_line2: $address_line2, city: $city, company: $company, country_iso2: $country_iso2, cpf: $cpf, default: $default, id: $id, first_name: $first_name, last_name: $last_name, phone: $phone, state: $state, verified: $verified, zip: $zip) {\n        id\n      }\n    }\n  "}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(382)),i=l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.address,r=e.remove;return n.default.createElement("div",null,n.default.createElement(o.default,{address:t,type:"full"}),n.default.createElement("p",{className:"".concat(i.default.bodyS," ").concat(i.default.error)},n.default.createElement("span",null,"This address has been deleted. "),n.default.createElement("a",{className:"".concat(i.default.link," ").concat(i.default.error),href:"javascript:void(0);",onClick:r},"Click to select another.")))};u.propTypes={address:a.default.shape({address_line1:a.default.string.isRequired,address_line2:a.default.string,city:a.default.string.isRequired,company:a.default.string,country:a.default.string.isRequired,country_iso2:a.default.string,cpf:a.default.string,default:a.default.bool,id:a.default.number.isRequired,first_name:a.default.string.isRequired,last_name:a.default.string.isRequired,phone:a.default.string,state:a.default.string.isRequired,zip:a.default.string.isRequired}).isRequired,remove:a.default.func.isRequired},u.defaultProps={};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=r(20),i=s(r(2)),l=s(r(3)),u=s(r(964));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.hardware,r=e.supportEmail;return n.default.createElement("div",{className:u.default.faqContainer},n.default.createElement("p",{className:"".concat(l.default.bodyM," ").concat(l.default.bold," ").concat(i.default.marginBottom10)},"Frequently Asked Questions"),n.default.createElement("div",{className:"".concat(u.default.faqBox," ").concat(l.default.bodyM)},n.default.createElement("div",{className:i.default.marginBottom30},n.default.createElement("strong",null,"What kind of idea is more likely to win free hardware?"),n.default.createElement("p",{className:i.default.marginTop10},"We encourage creative ideas. For instance, pet feeders and home automation systems are very common nowadays and less creative. We also encourage realistic ideas. While solving world hunger is a great goal, it may not be realistic.")),n.default.createElement("div",{className:i.default.marginBottom30},n.default.createElement("strong",null,"Do I have to submit a project entry if I receive free hardware?"),n.default.createElement("p",{className:i.default.marginTop10},"Yes, all free hardware recipients must submit a project entry by the contest deadline. Free hardware recipients who do not submit a project entry will become ineligible to receive free hardware in future giveaways.")),n.default.createElement("div",{className:i.default.marginBottom30},n.default.createElement("strong",null,"What happens if I receive free hardware and do not submit a project entry?"),n.default.createElement("p",{className:i.default.marginTop10},"Participants who receive free hardware and do not submit a project may be ineligible for future giveaways unless the hardware is returned."),n.default.createElement("p",{className:i.default.marginTop10},n.default.createElement("span",null,"If you receive free hardware and become unable to submit a project, please contact us at "),n.default.createElement("a",{href:"mailto:".concat(r),rel:"noopener nofollow",target:"_blank"},r),n.default.createElement("span",null," and let us know as soon as possible. We may choose to arrange for the hardware to be shipped to another participant."))),n.default.createElement("div",{className:i.default.marginBottom30},n.default.createElement("strong",null,"How many ".concat(t.name," are available?")),n.default.createElement("p",{className:i.default.marginTop10},"".concat(t.remaining," ").concat((0,o.pluralize)(t.name,t.remaining)," are available. One device maximum per person."))),n.default.createElement("div",null,n.default.createElement("strong",null,"How many ideas can I submit?"),n.default.createElement("p",{className:i.default.marginTop10},"Each user is allowed to submit one idea."))))};c.propTypes={hardware:a.default.shape({name:a.default.string.isRequired,remaining:a.default.number.isRequired}).isRequired,supportEmail:a.default.string.isRequired};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=w(r(1)),o=w(r(894)),i=w(r(2256)),l=w(r(2258)),u=w(r(97)),s=w(r(960)),c=w(r(68)),d=r(279),f=r(517),p=r(16),m=r(8),h=r(14),y=r(18),g=r(101),_=w(r(48)),v=w(r(7)),b=w(r(28)),O=w(r(2));function w(e){return e&&e.__esModule?e:{default:e}}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=k(t).call(this,e))||"object"!==E(a)&&"function"!=typeof a?S(n):a).state={currentHistoryData:null,currentUser:null,currentUserIdea:null,formattedDates:{hardwareEndDate:(0,p.formatTimestampPreserveTZ)(e.challenge.free_hardware_end_date,p.CONTEST_DATE_AT_TIME_FORMAT),hardwareTimeRemaining:(0,f.timeRemaining)(e.challenge.free_hardware_end_date),hardwareWinnersAnnouncementDate:(0,p.formatTimestampPreserveTZ)(e.challenge.free_hardware_winners_announced_date,p.CONTEST_DATE_AT_TIME_FORMAT)},initialized:!1},r.getPaginatorHook=r.getPaginatorHook.bind(S(r)),r.handleClickPerUserStatus=r.handleClickPerUserStatus.bind(S(r)),r.handleLocationChange=r.handleLocationChange.bind(S(r)),r.scrollToSubmissions=r.scrollToSubmissions.bind(S(r)),r.basePath=e.pathHelpers.basePath,r.history=(0,c.default)(r.basePath),r.seoHandler=new u.default({config:s.default}),r.requestPageForSubmissions,r}var r,a,w;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.unlisten=this.history.listen(this.handleLocationChange),this._fetchCurrentUserIdea()}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"_fetchCurrentUserIdea",value:function(){var e=this;return _.default.fetchProperty("id").then(function(t){return e._fetchUserIdea(t)}).then(function(t){return e.setState(Object.assign({},t,{initialized:!0}))}).catch(function(e){return(0,v.default)("ContestIdeasPage _fetchCurrentUserData",e)})}},{key:"_fetchUserIdea",value:function(e){var t=this;return new Promise(function(r,n){return"number"!=typeof e?r({currentUser:null,currentUserIdea:null}):(0,h.graphQueryWithUser)((0,d.currentUserIdeaQuery)(t.props.challenge.id)).then(function(t){var n=t.user,a={currentUser:{id:e},currentUserIdea:n.challenge_ideas.length>0?n.challenge_ideas[0]:null};r(a)}).catch(function(e){return n(e)})})}},{key:"handleClickPerUserStatus",value:function(e){this.state.currentUser||(e.preventDefault(),(0,y.summonLoginPanel)())}},{key:"handleLocationChange",value:function(e,t){var r=(0,m.getInObj)(["state","entity"],e);r?this.seoHandler.reportView({path:"/ideas/*",data:r}):this.seoHandler.reportView({path:"/ideas",data:this.props.challenge});var n=Object.assign({},e,{action:t});this.setState({currentHistoryData:n})}},{key:"getPaginatorHook",value:function(e){this.requestPageForSubmissions=e}},{key:"scrollToSubmissions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.preventDefault(),t===g.WINNERS_ANNOUNCED)this._paginateToPageOne();else{var r=document.getElementById("ideasSubmissions");r&&(0,b.default)(r)}}},{key:"_paginateToPageOne",value:function(){"function"==typeof this.requestPageForSubmissions&&this.requestPageForSubmissions(1)}},{key:"validatePaginatorRefetch",value:function(e,t){return!(0,m.getInObj)(["currentHistoryData","state","entity"],e)}},{key:"render",value:function(){return n.default.createElement("div",{className:O.default.container},n.default.createElement("div",{className:"".concat(O.default.wrapper1170," ").concat(O.default.fullScreenHeight)},n.default.createElement(i.default,{basePath:this.basePath,challenge:this.props.challenge,currentUserIdea:this.state.currentUserIdea,formattedDates:this.state.formattedDates,handleClickPerUserStatus:this.handleClickPerUserStatus,initialized:this.state.initialized,scrollToSubmissions:this.scrollToSubmissions}),n.default.createElement(o.default,null,n.default.createElement(l.default,{id:"ideasSubmissions",basePath:this.basePath,challenge:this.props.challenge,currentHistoryData:this.state.currentHistoryData,getPaginatorHook:this.getPaginatorHook,history:this.history,validatePaginatorRefetch:this.validatePaginatorRefetch}))))}}])&&P(r.prototype,a),w&&P(r,w),t}();j.propTypes={challenge:a.default.shape({end_date:a.default.string.isRequired,free_hardware_end_date:a.default.string,free_hardware_image_url:a.default.string.isRequired,free_hardware_name:a.default.string.isRequired,free_hardware_quantity:a.default.number.isRequired,free_hardware_quantity_remaining:a.default.number.isRequired,free_hardware_status:a.default.string.isRequired,free_hardware_winners_announced_date:a.default.string,free_hardware_url:a.default.string.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,show_submissions_before_judged:a.default.bool,status:a.default.string.isRequired,support_email:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,pathHelpers:a.default.shape({basePath:a.default.string.isRequired,fullPath:a.default.string.isRequired,rootPath:a.default.string.isRequired}).isRequired},j.defaultProps={};var R=j;t.default=R},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(0)),a=h(r(1)),o=h(r(131)),i=h(r(963)),l=h(r(30)),u=h(r(203)),s=r(116),c=r(101),d=h(r(2)),f=h(r(3)),p=h(r(5)),m=h(r(2257));function h(e){return e&&e.__esModule?e:{default:e}}var y="".concat(m.default.container," ").concat(d.default.flex," ").concat(d.default.marginTop10," ").concat(d.default.marginBottom45," ").concat(d.default.paddingBottom45," ").concat(p.default.borderBottom),g="".concat(m.default.infoColumn," ").concat(d.default.flexColumnWrap," ").concat(d.default.marginRight60),_=function(e){var t=e.basePath,r=e.challenge,n=e.currentUserIdea,a=e.handleClickPerUserStatus,o=e.scrollToSubmissions;switch(r.free_hardware_status){case c.OPEN:var i=function(e,t){return t&&t.status===c.IDEA_EDITING_STATUS?{href:"".concat(t.url,"/edit"),text:"Edit your idea"}:t?{href:t.url,text:"View your application"}:{href:"".concat(e,"/new"),text:"Submit an application"}}(t,n),l=i.href;return{text:i.text,buttonProps:{href:l,onClick:a}};case c.WINNERS_ANNOUNCED:return{text:"View winning ideas",buttonProps:{onClick:function(e){return o(e,c.WINNERS_ANNOUNCED)}}};default:return{text:"View submitted ideas",buttonProps:{onClick:o}}}},v=function(e){return e===c.OPEN||e===c.LAUNCH_PENDING},b={info:{header:function(e){var t=e.hardwareName,r=e.hardwareUrl;return n.default.createElement("span",null,"Win a ",n.default.createElement("a",{className:f.default.linkBlue,href:(0,s.appendProtocol)(r),rel:"noopener",target:"_blank"},t)," to build your contest submission!")},body:function(e){var t=e.challengeUrl;return n.default.createElement("span",null,"Need hardware to complete your submission? Submit an application to be considered for free hardware. One device maximum per person. Read our ",n.default.createElement(u.default,{color:"Blue",href:"".concat(t,"/faq#").concat("faq_g_3")},"FAQs")," for more details.")}},prizesRemaining:{header:function(e){var t=e.hardwareQuantity,r=e.hardwareQuantityRemaining;return e.hardwareStatus!==c.WINNERS_ANNOUNCED&&r>0?"".concat(r.toString()," of ").concat(t.toString()):"0"},body:function(){return n.default.createElement("span",null,"devices remaining")}},timeRemaining:{header:function(e){var t=e.hardwareStatus,r=e.hardwareTimeRemaining;return t===c.LAUNCH_PENDING?"Applications are not open yet":t===c.CLOSED?"Applications are closed":t===c.WINNERS_ANNOUNCED?"Winners announced":"string"==typeof r?n.default.createElement("span",null,"0"===r?"0 days":r," remaining"):"Applications are open"},body:function(e){var t=e.hardwareStatus,r=e.hardwareEndDate,a=e.hardwareWinnersAnnouncementDate;return t===c.CLOSED&&null!==a?n.default.createElement("span",null,"winners announced on ".concat(a)):t===c.CLOSED&&null===a?r?n.default.createElement("span",null,"submissions closed on ".concat(r)):"Devices have been awarded on a first-come, first-served basis":r?n.default.createElement("span",null,"submissions ",v(t)?"close":"closed"," on ",r):v(t)?"Devices will be awarded on a first-come, first-served basis":"Devices have been awarded on a first-come, first-served basis"}}},O=function(e){return"info"===e?"".concat(f.default.bodyL," ").concat(d.default.marginTop10):"".concat(f.default.bodyM," ").concat(d.default.marginTop5)},w=function(e,t){return n.default.createElement("div",{className:d.default.marginBottom15},n.default.createElement("h2",{className:f.default.h2},b[e].header(t)),n.default.createElement("p",{className:O(e)},b[e].body(t)))},E=function(e){var t=Object.assign({hardwareName:e.challenge.free_hardware_name,hardwareQuantity:e.challenge.free_hardware_quantity,hardwareQuantityRemaining:e.challenge.free_hardware_quantity_remaining,hardwareStatus:e.challenge.free_hardware_status,hardwareUrl:e.challenge.free_hardware_url,challengeUrl:e.challenge.url},e.formattedDates);return n.default.createElement("div",{className:y},n.default.createElement("div",{className:g},w("info",t),n.default.createElement("div",{className:d.default.marginTop15},w("prizesRemaining",t),w("timeRemaining",t)),n.default.createElement("div",{className:d.default.marginTop15},function(e){if(!e.initialized)return n.default.createElement(i.default,{width:"50%"});if(e.challenge.free_hardware_status===c.LAUNCH_PENDING)return null;var t=_(e),r=t.text,a=t.buttonProps;return n.default.createElement(o.default,a,r)}(e))),n.default.createElement("div",{className:m.default.imageContainer},n.default.createElement(l.default,{className:m.default.image,fit:"fill",queryParams:{bg:"fff"},src:e.challenge.free_hardware_image_url,width:740,ratio:"16:9",setStyle:!1})))};E.propTypes={basePath:a.default.string.isRequired,challenge:a.default.shape({end_date:a.default.string.isRequired,free_hardware_end_date:a.default.string,free_hardware_image_url:a.default.string.isRequired,free_hardware_name:a.default.string.isRequired,free_hardware_quantity:a.default.number.isRequired,free_hardware_quantity_remaining:a.default.number.isRequired,free_hardware_status:a.default.string.isRequired,free_hardware_url:a.default.string.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,status:a.default.string.isRequired,support_email:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,currentUserIdea:a.default.shape({id:a.default.number,status:a.default.string,url:a.default.string}),formattedDates:a.default.shape({hardwareEndDate:a.default.string,hardwareTimeRemaining:a.default.string,hardwareWinnersAnnouncementDate:a.default.string}).isRequired,handleClickPerUserStatus:a.default.func.isRequired,initialized:a.default.bool.isRequired,scrollToSubmissions:a.default.func.isRequired},E.defaultProps={currentUserIdea:null};var P=E;t.default=P},function(e,t,r){e.exports={asphalt:"#D8D8D8",med:"(max-width: 768px)",container:"header__container__2aT8B",image:"header__image__1aCjt",imageContainer:"header__imageContainer__2yHtT",infoColumn:"header__infoColumn__2mYag"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=v(r(1)),o=v(r(2259)),i=v(r(2260)),l=v(r(207)),u=v(r(2261)),s=v(r(133)),c=v(r(72)),d=v(r(959)),f=v(r(966)),p=r(117),m=r(8),h=r(101),y=v(r(2)),g=v(r(3)),_=v(r(2263));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=E(t).call(this,e))||"object"!==b(a)&&"function"!=typeof a?P(n):a).state={totalRecords:null},r.buildPath=r.buildPath.bind(P(r)),r.handleQuery=r.handleQuery.bind(P(r)),r.renderIdeaCard=r.renderIdeaCard.bind(P(r)),r.renderDialogBody=r.renderDialogBody.bind(P(r)),r.renderPlaceholder=r.renderPlaceholder.bind(P(r)),r.summonDialog=r.summonDialog.bind(P(r)),r.graphQLService=new u.default({history:r.props.history}),r}var r,a,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,n.Component),r=t,(a=[{key:"buildPath",value:function(e){return"/".concat(e.id)}},{key:"handleQuery",value:function(e){var t=(0,m.getInObj)(["metadata","total_records"],e);t!==this.state.totalRecords&&this.setState({totalRecords:t})}},{key:"renderDialogBody",value:function(e){var t=e.entity;return n.default.createElement(d.default,{hardwareName:this.props.challenge.free_hardware_name,idea:t})}},{key:"renderDummyList",value:function(){return n.default.createElement(l.default,{ItemComponent:i.default,maxCols:3})}},{key:"renderIdeaCard",value:function(e){var t=this.props.challenge.free_hardware_status===h.WINNERS_ANNOUNCED;return n.default.createElement(o.default,O({},e,{challengeState:this.props.challenge.status,showProjectsBeforeJudged:this.props.challenge.show_submissions_before_judged,winnersAnnounced:t}))}},{key:"renderPlaceholder",value:function(){return n.default.createElement("div",{className:g.default.bodyM},"There are no submissions yet. ",this.props.challenge.free_hardware_status===h.OPEN&&n.default.createElement("a",{className:"".concat(g.default.linkBlue," ").concat(g.default.bold),href:"".concat(this.props.basePath,"/new")},"Be the first to submit an application"))}},{key:"summonDialog",value:function(e,t){this._dialog&&!(0,p.clickEventHasModifierKey)(e)&&(e.preventDefault(),this._dialog._summonDialog(t))}},{key:"_getListProps",value:function(){return{ItemComponent:this.renderIdeaCard,maxCols:3,itemProps:{onClick:this.summonDialog},placeholder:this.renderPlaceholder}}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{id:this.props.id},n.default.createElement("h2",{className:"".concat(g.default.h2," ").concat(y.default.marginBottom30)},"Submissions",null!==this.state.totalRecords&&" (".concat(this.state.totalRecords,")")),n.default.createElement(s.default,{currentHistoryData:this.props.currentHistoryData,getPaginatorHook:this.props.getPaginatorHook,graphQLService:this.graphQLService,graphQLArguments:{id:this.props.challenge.id},listComponent:c.default,listProps:this._getListProps(),loaderComponent:this.renderDummyList,propagateQuery:this.handleQuery,scrollId:this.props.id,validateRefetch:this.props.validatePaginatorRefetch}),n.default.createElement(f.default,{ref:function(t){return e._dialog=t},BodyComponent:this.renderDialogBody,buildPath:this.buildPath,history:this.props.history,wrapperClassName:_.default.dialogWrapper}))}}])&&w(r.prototype,a),v&&w(r,v),t}();S.propTypes={basePath:a.default.string.isRequired,challenge:a.default.shape({end_date:a.default.string.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,free_hardware_name:a.default.string.isRequired,free_hardware_quantity:a.default.number.isRequired,free_hardware_status:a.default.string.isRequired,show_submissions_before_judged:a.default.bool,status:a.default.string.isRequired,support_email:a.default.string.isRequired}).isRequired,currentHistoryData:a.default.object,getPaginatorHook:a.default.func,history:a.default.object.isRequired,id:a.default.string.isRequired},S.defaultProps={currentHistoryData:null,getPaginatorHook:null};var C=S;t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(504)),i=d(r(275)),l=d(r(50)),u=d(r(3)),s=d(r(2)),c=d(r(965));function d(e){return e&&e.__esModule?e:{default:e}}var f=["JUDGING","JUDGED"],p=function(e){var t=e.challengeState,r=f.includes(t)?"No project was submitted":"No project submitted yet";return n.default.createElement("div",{className:c.default.placeholderOuter},n.default.createElement("div",{className:c.default.placeholderInner},n.default.createElement("div",{className:"".concat(u.default.bodyS," ").concat(u.default.pebble)},r)))},m=function(e){var t=e.classList,r=e.challengeState,a=e.item,d=e.onClick,f=e.showProjectsBeforeJudged,m=e.winnersAnnounced,h=m&&"APPROVED"===a.status;return n.default.createElement("div",{className:"".concat(l.default.wrapper," ").concat(t.wrapper)},n.default.createElement("div",{className:l.default.cardWithBorder},n.default.createElement("div",{className:c.default.body},h&&n.default.createElement("div",{className:"".concat(u.default.h5," ").concat(l.default.corner)},"Winner"),n.default.createElement("a",{className:c.default.linkWrapper,href:a.url,onClick:function(e){return d(e,a)}},n.default.createElement("p",{className:"".concat(u.default.bodyL," ").concat(u.default.bold," ").concat(u.default.link," ").concat(h?s.default.marginRight15:""," ").concat(c.default.title)},a.name),n.default.createElement("p",{className:"".concat(s.default.marginTop5," ").concat(u.default.bodyM)},function(e){var t=e.old_html_description?e.old_html_description.replace(/(<[^>]+>)/g,"").replace(/&nbsp;/g," "):e.application.problem;return t.length>143?"".concat(t.substr(0,140),"..."):t}(a)),n.default.createElement("div",{className:l.default.spacer}))),n.default.createElement("div",{className:c.default.user},n.default.createElement(i.default,{avatarSize:30,titleSize:"L",user:a.user})),(f&&m||"JUDGED"===r)&&n.default.createElement("div",{className:c.default.project},n.default.createElement("h5",{className:"".concat(u.default.h5," ").concat(c.default.projectHeader)},"contest submission"),a.project?n.default.createElement(o.default,{lazy:!0,location:"challenge_idea",project:a.project}):n.default.createElement(p,{challengeState:r}))))};m.propTypes={classList:a.default.shape({wrapper:a.default.string}),item:a.default.shape({application:a.default.shape({build:a.default.string,components:a.default.string,problem:a.default.string,solution:a.default.string}),created_at:a.default.string.isRequired,current_user_permissions:a.default.shape({admin:a.default.bool.isRequired,edit:a.default.bool.isRequired}).isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,old_html_description:a.default.string,project:a.default.shape({cover_image_url:a.default.string,hid:a.default.string,name:a.default.string,url:a.default.string}),user:a.default.shape({avatar_url:a.default.string.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,status:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,onClick:a.default.func,showProjectsBeforeJudged:a.default.bool,winnersAnnounced:a.default.bool},m.defaultProps={classList:{wrapper:""},onClick:function(){},showProjectsBeforeJudged:!1,winnersAnnounced:!1};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(475)),i=s(r(50)),l=s(r(2)),u=s(r(965));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.classList;return n.default.createElement("div",{className:"".concat(i.default.wrapper," ").concat(t.wrapper)},n.default.createElement("div",{className:i.default.cardWithBorder},n.default.createElement("div",{className:u.default.body},n.default.createElement("div",{className:u.default.dummyTitle}),n.default.createElement("div",{className:u.default.dummyBody}),n.default.createElement("div",{className:u.default.dummyBody}),n.default.createElement("div",{className:u.default.dummyBody}),n.default.createElement("div",{className:i.default.spacer}),n.default.createElement("div",{className:"".concat(l.default.flexCenterItems," ").concat(l.default.marginTop30)},n.default.createElement(o.default,{avatarSize:30,titleSize:"L"}))),n.default.createElement("div",{className:u.default.project},n.default.createElement("div",{className:u.default.dummyTitle}),n.default.createElement("div",{className:u.default.placeholderOuter},n.default.createElement("div",{className:u.default.dummyPlaceholderInner})))))};c.propTypes={classList:a.default.shape({wrapper:a.default.string})},c.defaultProps={classList:{wrapper:""}};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(182)),a=i(r(2262)),o=r(279);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).history;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,s(t).call(this,{history:e,queryBuilder:a.default,queryString:o.challengeIdeasQuery}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,n["default"]),t}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,r){t(function(e){return Object.assign({},n,function(e,t){var r=Object.keys(e);return r.length?r.reduce(function(r,n){return t[n]&&(r[n]=t[n](e[n])),r},{}):{}}(e,a))}(e))})};var n={page:1,per_page:15},a={page:function(e){return parseInt(e,10)},per_page:function(e){return parseInt(e,10)}}},function(e,t,r){e.exports={small:"(max-width: 480px)",dialogWrapper:"submissions__dialogWrapper__37PuJ"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(1)),a=y(r(0)),o=y(r(94)),i=g(r(2265)),l=g(r(2270)),u=g(r(2274)),s=g(r(2288)),c=g(r(2289)),d=g(r(2290)),f=g(r(2299)),p=g(r(97)),m=g(r(2303)),h=g(r(51));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var P=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=b(t).call(this,e))||"object"!==_(a)&&"function"!=typeof a?O(n):a).state={basePath:e.pathHelpers.basePath,initPath:(0,o.initCurrentPath)(e.pathHelpers.fullPath,e.pathHelpers.basePath)},r.handleLocationChange=r.handleLocationChange.bind(O(r)),r.seoHandler=new p.default({config:m.default}),h.default.setRootPath(e.pathHelpers.rootPath),r}var r,n,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){this.seoHandler.reportView({path:this.state.initPath})}},{key:"handleLocationChange",value:function(e,t){this.seoHandler.reportView({path:e.pathname})}},{key:"render",value:function(){var e=function(e){return[{href:"/",name:"Dashboard"},{href:"/profile",name:"Edit Profile"},{href:"/projects",name:"Projects",dropdown:[{href:"/projects/drafts",name:"Drafts"},{href:"/projects/public",name:"Public Projects"},{href:"/projects/guest",name:"Guest Projects"},{href:"/projects/new",name:"Create a new project",redirect:!0}]},{href:"/events",name:"Events"},{href:"/bookmarks",name:"Bookmarks"},{href:"/users/workshops",name:"Workshops",redirect:!0},{href:"/users/preferences",name:"Toolbox",redirect:!0},{href:"/notifications",name:"Notifications"},{href:"/users/edit",name:"Account",redirect:!0}].reduce(function(t,r){return r.dropdown?[].concat(E(t),[Object.assign({},r,{dropdown:r.dropdown.filter(function(t){return!e[t.href]})})]):e[r.href]?t:[].concat(E(t),[r])},[])}({"/projects/guest":this.props.hide_guest_projects,"/events":this.props.isWhitelabel,"/users/workshops":this.props.isWhitelabel});return a.default.createElement(o.default,{basePath:this.state.basePath,initPath:this.state.initPath,initializeStoreFn:function(e){return e.store.set("showPrompt",!1)},onUpdate:this.handleLocationChange},a.default.createElement(s.default,{basePath:this.state.basePath,initPath:this.state.initPath,rootPath:this.props.pathHelpers.rootPath,routes:e,store:{},transition:function(e,t){return(0,o.transition)(o.history,e,t.get("showPrompt"))}}),a.default.createElement(o.Route,{component:u.default,routerProps:{currentUser:this.props.currentUser,isWhitelabel:this.props.isWhitelabel},path:"/"}),a.default.createElement(o.Route,{component:d.default,routerProps:{currentUser:this.props.currentUser,imageResources:this.props.imageResources},path:"profile"}),a.default.createElement(o.Route,{component:f.default,routerProps:{currentUser:this.props.currentUser,isRoot:!0},path:"projects"}),a.default.createElement(o.Route,{component:f.default,routerProps:{currentUser:this.props.currentUser},path:"projects/drafts"}),a.default.createElement(o.Route,{component:f.default,routerProps:{currentUser:this.props.currentUser},path:"projects/public"}),a.default.createElement(o.Route,{component:f.default,routerProps:{currentUser:this.props.currentUser},path:"projects/guest"}),a.default.createElement(o.Route,{component:l.default,routerProps:{currentUser:this.props.currentUser},path:"events"}),a.default.createElement(o.Route,{component:i.default,routerProps:{currentUser:this.props.currentUser,imageURLs:this.props.imageURLs},path:"bookmarks"}),a.default.createElement(o.Route,{component:c.default,routerProps:{currentUser:this.props.currentUser},path:"notifications"}))}}])&&v(r.prototype,n),y&&v(r,y),t}();P.propTypes={currentUser:n.default.shape({available_for_hire:n.default.bool,avatar:n.default.shape({file:n.default.shape({url:n.default.string}),id:n.default.number}),bio:n.default.string,city:n.default.string,country_iso2:n.default.string,email:n.default.string,hourly_rate:n.default.number,id:n.default.number,interest:n.default.array,name:n.default.string,skills:n.default.array,state:n.default.string,stats:n.default.shape({projects:n.default.number}),user_name:n.default.string,website:n.default.string}),imageResources:n.default.shape({aws_key:n.default.string,s3_url:n.default.string}),imageURLs:n.default.shape({bookmarkCoverDefault:n.default.shape({x1:n.default.string.isRequired,x2:n.default.string.isRequired}).isRequired}).isRequired,isWhitelabel:n.default.bool,pathHelpers:n.default.shape({basePath:n.default.string.isRequired,fullPath:n.default.string.isRequired,rootPath:n.default.string.isRequired}).isRequired},P.defaultProps={currentUser:{},imageResources:{},isWhitelabel:!1};var k=P;t.default=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=k(r(1)),o=k(r(449)),i=k(r(88)),l=k(r(207)),u=k(r(72)),s=k(r(2266)),c=k(r(2267)),d=k(r(180)),f=k(r(2268)),p=k(r(248)),m=k(r(7)),h=k(r(51)),y=r(18),g=r(12),_=r(202),v=k(r(326)),b=k(r(10)),O=k(r(332)),w=k(r(2)),E=k(r(3)),P=k(r(5));function k(e){return e&&e.__esModule?e:{default:e}}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N={widget_src:"bookmarks_page"},M=function(){return n.default.createElement(l.default,{ItemComponent:c.default,gutterSize:30})},A=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=j(t).call(this,e))||"object"!==S(a)&&"function"!=typeof a?R(n):a).state={initialized:!1,isBusy:!0,metadata:{},records:[]},r.qlService=new f.default({history:e.history}),r.handleLocationChange=r.handleLocationChange.bind(R(r)),r.handleNewList=r.handleNewList.bind(R(r)),r.paginateTo=r.paginateTo.bind(R(r)),r._isMounted,r.unlisten,r._buttonDropdown,r}var r,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._isMounted=!0,this.unlisten=this.props.history.listen(this.handleLocationChange),this._initFromURL()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,"function"==typeof this.unlisten&&this.unlisten()}},{key:"_initFromURL",value:function(){var e=this;return this.qlService.initializeFromUrl({}).then(function(t){return e._resolveGraphQLResponse(t)}).catch(function(t){return e._handleError(t)})}},{key:"handleLocationChange",value:function(e,t){"POP"===t&&e.pathname==="/".concat(this.props.path)&&(this.setState({isBusy:!0}),this._initFromURL())}},{key:"handleNewList",value:function(e){this._buttonDropdown&&this._buttonDropdown.__toggleDropdownHook(!1),(0,y.summonGlobalMessenger)({msg:"Created new list '".concat(e.name,"'"),type:"success"}),this._updateStore(e),1===this.state.metadata.current_page?this._prependList(this._createListForDisplay(e)):this.paginateTo(1)}},{key:"paginateTo",value:function(e){var t=this;return this.setState({isBusy:!0}),this.qlService.searchWithFilterString("page=".concat(e)).then(function(e){return t._resolveGraphQLResponse(e)}).catch(function(e){return t._handleError(e)})}},{key:"_createListForDisplay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},e,{projects_count:0,url:h.default.url("/".concat(this._getCurrentUserName(),"/bookmarks/").concat(e.id))})}},{key:"_getCurrentUserName",value:function(){var e=this.props.store.get("profile");return e?e.fields.user_name.value:this.props.currentUser.user_name}},{key:"_handleError",value:function(e){(0,m.default)(e),(0,y.summonGlobalMessenger)({msg:_.GENERIC_ERROR,type:"error"}),this._setStateIfMounted({isBusy:!1})}},{key:"_prependList",value:function(e){var t=this.state,r=t.records,n=t.metadata,a=r.length<20?null:n.current_page+1,o=[e].concat(r).slice(0,20);this._setStateIfMounted({metadata:Object.assign({},n,{next_page:a}),records:o})}},{key:"_resolveGraphQLResponse",value:function(e){var t=e.metadata,r=e.records;(0,g.windowScrollTo)(0,0),this._setStateIfMounted({metadata:t,records:r,initialized:!0,isBusy:!1})}},{key:"_setStateIfMounted",value:function(e,t){this._isMounted&&this.setState(e,t)}},{key:"_updateStore",value:function(e){return p.default.initialize().then(p.default.addList(e))}},{key:"render",value:function(){var e=this,t=this.state,r=t.initialized,a=t.isBusy,l=t.metadata,c=t.records,f=l.current_page,p=l.next_page,m=l.prev_page;return n.default.createElement("div",{className:"".concat(w.default.container," ").concat(P.default.bgWhite)},n.default.createElement("div",{className:"".concat(w.default.wrapper1170," ").concat(w.default.marginBottom30)},n.default.createElement("div",{className:"".concat(O.default.headerInner," ").concat(w.default.marginBottom30)},n.default.createElement("h2",{className:"".concat(E.default.h2," ").concat(w.default.flex10Auto)},"My bookmarks"),n.default.createElement(i.default,{ref:function(t){return e._buttonDropdown=t},alignRight:!0,classList:{button:"".concat(b.default.md," ").concat(E.default.whitespaceNowrap),dropdown:"".concat(v.default.dropdown," ").concat(P.default.boxShadow2)},label:"Create new list"},n.default.createElement("div",{className:w.default.padding15},n.default.createElement(o.default,{analytics:N,componentSize:"sm",onSubmit:this.handleNewList})))),r?n.default.createElement(u.default,{ItemComponent:s.default,gutterSize:30,isLoading:a,itemKey:"list",itemProps:{imageURLs:this.props.imageURLs},records:c}):n.default.createElement(M,null),!!f&&!(!m&&!p)&&n.default.createElement(d.default,{classList:{root:w.default.marginTop30},currentPage:f,currentQuery:this.props.history.location.search,disabled:a,nextPage:p,onClick:this.paginateTo,prevPage:m})))}}])&&C(r.prototype,a),l&&C(r,l),t}();A.propTypes={currentUser:a.default.shape({user_name:a.default.string.isRequired}).isRequired,history:a.default.object.isRequired,imageURLs:a.default.shape({bookmarkCoverDefault:a.default.shape({x1:a.default.string.isRequired,x2:a.default.string.isRequired}).isRequired}).isRequired,path:a.default.string.isRequired,store:a.default.shape({get:a.default.func.isRequired}).isRequired};var I=A;t.default=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(30)),i=r(249),l=c(r(2)),u=c(r(3)),s=c(r(5));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.list,r=e.imageURLs;return n.default.createElement("div",{className:l.default.fullWidth},n.default.createElement("a",{href:t.url},n.default.createElement("div",{className:"".concat(s.default.absolutePlaceholderParent," ").concat(s.default.aspectRatioPadding4_3)},t.cover_image_url?n.default.createElement(o.default,{alt:t.name,className:"".concat(s.default.border," ").concat(s.default.borderRadius," ").concat(s.default.absolutePlaceholderChild),ratio:"4:3",setStyle:!1,src:t.cover_image_url,width:270}):n.default.createElement("img",{className:"".concat(s.default.border," ").concat(s.default.borderRadius," ").concat(s.default.absolutePlaceholderChild),alt:t.name,src:r.bookmarkCoverDefault.x1,srcSet:"".concat(r.bookmarkCoverDefault.x1," 1x, ").concat(r.bookmarkCoverDefault.x2," 2x")}))),n.default.createElement("div",{className:"".concat(u.default.bodyL," ").concat(u.default.bold," ").concat(u.default.textWithIcon," ").concat(u.default.overflowBreakWord," ").concat(l.default.marginTop10," ").concat(l.default.fullWidth)},n.default.createElement("a",{className:"".concat(u.default.linkCharcoal," ").concat(l.default.fullWidth),href:t.url},t.name)),n.default.createElement("div",{className:u.default.bodyM},(0,i.getProjectsCount)(t.projects_count)))};d.propTypes={imageURLs:a.default.shape({bookmarkCoverDefault:a.default.shape({x1:a.default.string.isRequired,x2:a.default.string.isRequired}).isRequired}).isRequired,list:a.default.shape({cover_image_url:a.default.string,id:a.default.number,name:a.default.string.isRequired,private:a.default.bool.isRequired,projects_count:a.default.number.isRequired,url:a.default.string.isRequired}).isRequired};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(99)),o=s(r(2)),i=s(r(50)),l=s(r(205)),u=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){return n.default.createElement("div",{className:o.default.fullWidth},n.default.createElement("div",{className:"".concat(a.default.loader," ").concat(l.default.itemImage,"  ").concat(u.default.border," ").concat(u.default.borderRadius)}),n.default.createElement("div",{className:"".concat(i.default.dummyTextL," ").concat(o.default.marginTop15)}),n.default.createElement("div",{className:"".concat(i.default.dummyTextS," ").concat(o.default.marginTop10)}))};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(182)),a=o(r(2269));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(){return{t:"current_user_bookmark_lists"}},d=function(e){function t(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).history;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).call(this,{history:e,queryBuilder:a.default,queryString:c}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,n["default"]),t}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,r){t(function(e){return Object.assign({},n,function(e,t){var r=Object.keys(e);return r.length?r.reduce(function(r,n){return t[n]&&(r[n]=t[n](e[n])),r},{}):{}}(e,a))}(e))})};var n={page:1,per_page:20},a={page:function(e){return parseInt(e,10)},per_page:function(e){return parseInt(e,10)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=b(r(1)),o=b(r(131)),i=b(r(207)),l=b(r(351)),u=b(r(519)),s=b(r(969)),c=b(r(72)),d=b(r(2272)),f=b(r(133)),p=b(r(48)),m=b(r(7)),h=r(18),y=b(r(280)),g=b(r(332)),_=b(r(2)),v=b(r(3));function b(e){return e&&e.__esModule?e:{default:e}}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(){return n.default.createElement(i.default,{ItemComponent:function(){return n.default.createElement(u.default,{imageAspectRatio:"3:2"})}})},C=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=E(t).call(this,e))||"object"!==O(a)&&"function"!=typeof a?P(n):a).state={currentHistoryData:null,currentUser:null},r.handleNewEventClick=r.handleNewEventClick.bind(P(r)),r.handleLocationChange=r.handleLocationChange.bind(P(r)),r.qlService=new d.default({history:e.history}),r._isMounted,r.unlisten,r}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._isMounted=!0,this.unlisten=this.props.history.listen(this.handleLocationChange),this._initCurrentUser()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,"function"==typeof this.unlisten&&this.unlisten()}},{key:"_initCurrentUser",value:function(){var e=this;return p.default.getStoreAsync().then(function(t){return e._setStateIfMounted({currentUser:t})}).catch(function(e){return(0,m.default)(e)})}},{key:"handleLocationChange",value:function(e,t){this._setStateIfMounted({currentHistoryData:Object.assign({},e,{action:t})})}},{key:"handleNewEventClick",value:function(e){if(!this.state.currentUser.isConfirmed)return e.preventDefault(),(0,h.summonGlobalDialog)({getChildren:function(){return n.default.createElement(l.default,{actionText:"create an event"})}})}},{key:"_getNewEventHref",value:function(){return this.state.currentUser?"/events/new?redirect_to=dashboard":"#"}},{key:"_setStateIfMounted",value:function(e,t){this._isMounted&&this.setState(e,t)}},{key:"_getNoResultsPlaceholder",value:function(){return n.default.createElement("span",{className:v.default.bodyM},"You have no events. ",n.default.createElement("a",{className:"".concat(v.default.linkBlue," ").concat(this.state.currentUser?"":v.default.linkDisabled),href:this._getNewEventHref(),onClick:this.handleNewEventClick},"Create one")," now.")}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:_.default.container},n.default.createElement("div",{className:"".concat(_.default.wrapper1170," ").concat(_.default.marginBottom30)},n.default.createElement("header",{className:_.default.marginBottom22},n.default.createElement("h2",{className:"".concat(g.default.pageHeader," ").concat(_.default.marginTop0," ").concat(_.default.marginBottom15)},"Events"),n.default.createElement(o.default,{disabled:!this.state.currentUser,href:this._getNewEventHref(),onClick:this.handleNewEventClick},"Create a new event")),n.default.createElement("section",null,n.default.createElement("header",{className:"".concat(y.default.sectionHeader," ").concat(y.default.headerTitle)},"Published events"),n.default.createElement(f.default,{currentHistoryData:this.state.currentHistoryData,graphQLArguments:{by_current_user:"true"},graphQLService:this.qlService,listComponent:c.default,listProps:{ItemComponent:s.default,gutterSize:30,itemProps:{editable:!0,redirectTo:"dashboard"},placeholder:function(){return e._getNoResultsPlaceholder()}},loaderComponent:S}))))}}])&&w(r.prototype,a),i&&w(r,i),t}();C.propTypes={history:a.default.object.isRequired,path:a.default.string.isRequired,store:a.default.shape({get:a.default.func.isRequired}).isRequired};var j=C;t.default=j},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(491)),i=u(r(970)),l=u(r(383));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.editLink;return n.default.createElement("div",{className:(0,o.default)()?l.default.actionsOverlayAlwaysOn:l.default.actionsOverlay},n.default.createElement("div",{className:l.default.transparency}),n.default.createElement("div",{className:l.default.actions},n.default.createElement("a",{className:l.default.action,href:t},n.default.createElement(i.default,{className:l.default.buttonIcon}))))};s.propTypes={editLink:a.default.string.isRequired};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(182)),a=l(r(2273)),o=r(12),i=r(44);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t,r){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(){return{t:"events_with_simple_pagination"}},h=function(e){function t(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).history;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,f(t).call(this,{history:e,queryBuilder:a.default,queryString:m}))}var r,l,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n["default"]),r=t,(l=[{key:"_appendFilterStringToQueryMap",value:function(e,t,r){var n=(0,i.mapifyStringQuery)(t);return Object.keys(n).forEach(function(t){"null"===n[t]&&e.hasOwnProperty(t)?delete e[t]:"page"===t&&"1"===n[t]&&e.hasOwnProperty("page")?delete e.page:"null"!==n[t]&&(e[t]=n[t])}),r&&e.page&&delete e.page,Promise.resolve(e)}},{key:"search",value:function(e,r){var n=this;return new Promise(function(a,o){return n._shouldBypassRequest(r)?n._bypassRequest().then(function(e){return a(e)}).catch(function(e){return o(e)}):a(d(f(t.prototype),"search",n).call(n,e,r))})}},{key:"_bypassRequest",value:function(){return this.setCurrentHistoryAndClearNext(this._resolveQLResponse(this._getEmptyResult()))}},{key:"_shouldBypassRequest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!e.by_current_user&&null===(0,o.getUserIdFromBody)()}},{key:"_getEmptyResult",value:function(){return{metadata:{current_page:1,next_page:null,per_page:20,prev_page:null},records:[]}}}])&&s(r.prototype,l),u&&s(r,u),t}();t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,r){t(function(e){return Object.assign({},n,function(e,t){var r=Object.keys(e);return r.length?r.reduce(function(r,n){return t[n]&&(r[n]=t[n](e[n])),r},{}):{}}(e,a))}(e))})};var n={page:1,per_page:20},a={by_current_user:function(e){return!0===e||"true"===e||"t"===e||null},by_event_type:function(e){return e.toUpperCase()},city:function(e){return e},country_iso2:function(e){return e},state:function(e){return e},page:function(e){return parseInt(e,10)},per_page:function(e){return parseInt(e,10)},search:function(e){return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=r(385),i=r(14),l=p(r(7)),u=p(r(2276)),s=p(r(192)),c=p(r(386)),d=p(r(2282)),f=p(r(2));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=y(t).call(this,e))||"object"!==m(a)&&"function"!=typeof a?g(n):a).state={drafts:null,user:r.getUpdatedUser()},r.getExistingDrafts=r.getExistingDrafts.bind(g(r)),r.getUpdatedUser=r.getUpdatedUser.bind(g(r)),r.getDrafts=r.getDrafts.bind(g(r)),r}var r,n,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){this.getDrafts()}},{key:"getExistingDrafts",value:function(){var e=this.props.store.get("projects/drafts");return e?e.projects.drafts:null}},{key:"getDrafts",value:function(){var e=this,t=this.getExistingDrafts();if(t)return this.setState({drafts:t});var r={category:"drafts",author_id:this.props.currentUser.id};return(0,i.graphQuery)((0,o.getProjectsByCategory)(r),r).then(function(t){e.setState({drafts:t.drafts}),e.props.store.set("projects/drafts",{projects:{drafts:e.state.drafts}})}).catch(function(e){return(0,l.default)(e)})}},{key:"getUpdatedUser",value:function(){var e=this.props.store.get("profile"),t=e?{name:e.fields.name.value,user_name:e.fields.user_name.value}:{};return Object.assign({},this.props.currentUser,t)}},{key:"render",value:function(){var e=this.state.user,t=e.name,r=e.user_name;return a.default.createElement("div",{className:f.default.container},a.default.createElement("div",{className:f.default.wrapper960},a.default.createElement(c.default,{type:"home",typeArgs:{name:t,user_name:r}}),this.state.drafts?a.default.createElement(u.default,{drafts:this.state.drafts,currentUser:this.state.user}):a.default.createElement(s.default,null),a.default.createElement(d.default,{currentUser:this.props.currentUser})))}}])&&h(r.prototype,n),p&&h(r,p),t}();v.propTypes={currentUser:n.default.shape({id:n.default.number,stats:n.default.shape({projects:n.default.number})}).isRequired,isWhitelabel:n.default.bool,store:n.default.object},v.defaultProps={isWhitelabel:!1,store:{}};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.objToArgString=function(e){return Object.keys(e).map(function(t){return"".concat(t,": ").concat(e[t])}).join(" ")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(76)),i=u(r(521)),l=u(r(280));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.currentUser,r=e.drafts;return r&&r.records.length?n.default.createElement(i.default,{cardBorder:!0,category:"drafts",currentUser:t,projects:r.records,singleCategory:!1,totalRecords:r.metadata.total_records}):n.default.createElement("section",{className:l.default.section},n.default.createElement(o.default,{type:t.stats.projects?"with-public-without-drafts":"no-projects"}))};s.propTypes={currentUser:a.default.shape({id:a.default.number,stats:a.default.shape({projects:a.default.number})}).isRequired,drafts:a.default.shape({metadata:a.default.shape({current_page:a.default.number,per_page:a.default.number,total_pages:a.default.number,total_records:a.default.number}),records:a.default.arrayOf(a.default.shape({content_type:a.default.string,cover_image_url:a.default.string,difficulty:a.default.string,edit_url:a.default.string,guest_name:a.default.string,hid:a.default.string,id:a.default.number,name:a.default.string,one_liner:a.default.string,position:a.default.number,project_type:a.default.string,published_state:a.default.string,stats:a.default.shape({respects:a.default.number,views:a.default.number}),team:a.default.shape({members:a.default.arrayOf(a.default.shape({avatar_url:a.default.string,id:a.default.number,name:a.default.string,stats:a.default.shape({live_projects:a.default.number}),url:a.default.string})),name:a.default.string,user_name:a.default.string}),url:a.default.string}))})},s.defaultProps={drafts:null};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(2278)),i=u(r(134)),l=u(r(383));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.cardBorder,r=e.isTouchDevice,a=e.project,u=e.sortable,s=e.toggleRespect;return n.default.createElement("div",{className:"".concat(l.default.item," ").concat(l.default.overlayParent)},n.default.createElement(i.default,{cardBorder:t,enableOverlay:!1,project:a,toggleRespect:s}),n.default.createElement(o.default,{isTouchDevice:r,project:a,sortable:u}))};s.propTypes={cardBorder:a.default.bool,isTouchDevice:a.default.bool,project:a.default.shape({cover_image_url:a.default.string,difficulty:a.default.string,edit_url:a.default.string,hid:a.default.string,name:a.default.string,one_liner:a.default.string,stats:a.default.object,url:a.default.string}).isRequired,sortable:a.default.bool,toggleRespect:a.default.func},s.defaultProps={cardBorder:!1,isTouchDevice:!1,orderable:!0,toggleRespect:function(){return Promise.resolve()}};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=r(69),i=c(r(2279)),l=c(r(970)),u=r(330),s=c(r(383));function c(e){return e&&e.__esModule?e:{default:e}}var d=(0,o.sortableHandle)(function(){return n.default.createElement("div",{className:s.default.action},n.default.createElement(i.default,{className:s.default.buttonIcon}))}),f=function(e){var t=e.isTouchDevice,r=e.project,a=e.sortable;return n.default.createElement("div",{className:t?s.default.actionsOverlayAlwaysOn:s.default.actionsOverlay},n.default.createElement("a",{className:s.default.transparency,href:(0,u.getProjectLink)(r,"url")}),n.default.createElement("div",{className:s.default.actions},a&&n.default.createElement(d,null),(0,u.isEditable)(r)&&n.default.createElement("a",{className:s.default.action,href:r.edit_url},n.default.createElement(l.default,{className:s.default.buttonIcon}))))};f.propTypes={isTouchDevice:a.default.bool,project:a.default.shape({edit_url:a.default.string,project_type:a.default.string,type_label:a.default.string,url:a.default.string}).isRequired,sortable:a.default.bool},f.defaultProps={isTouchDevice:!1,sortable:!0};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n};var o=function(e){var t=e.className;return a.default.createElement("svg",{className:t,viewBox:"5 4 23 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(16.647042, 15.980375) rotate(45.000000) translate(-16.647042, -15.980375) translate(8.647042, 7.980375)"},a.default.createElement("path",{d:"M9.6,15.1428571 C9.6,15.5428571 9.94285714,15.8285714 10.2857143,15.8285714 L14.9142857,15.8285714 C15.0285714,15.8285714 15.0857143,15.8285714 15.2,15.7714286 C15.3714286,15.7142857 15.4857143,15.5428571 15.6,15.3714286 C15.6571429,15.2571429 15.6571429,15.2 15.6571429,15.0857143 L15.6571429,10.4571429 C15.6571429,10.0571429 15.3142857,9.77142857 14.9714286,9.77142857 C14.6285714,9.77142857 14.2857143,10.1142857 14.2857143,10.4571429 L14.2857143,13.3714286 L10.8571429,9.94285714 C10.5714286,9.65714286 10.1142857,9.65714286 9.82857143,9.94285714 C9.54285714,10.2285714 9.54285714,10.6857143 9.82857143,10.9714286 L13.2571429,14.4 L10.3428571,14.4 C9.94285714,14.4571429 9.6,14.7428571 9.6,15.1428571 L9.6,15.1428571 Z",id:"Shape",fill:"#4A4A4A"}),a.default.createElement("path",{d:"M0.742857143,15.8285714 C0.857142857,15.8857143 0.914285714,15.8857143 1.02857143,15.8857143 L5.65714286,15.8857143 C6.05714286,15.8857143 6.34285714,15.5428571 6.34285714,15.2 C6.34285714,14.8571429 6,14.5142857 5.65714286,14.5142857 L2.74285714,14.5142857 L6.17142857,11.0857143 C6.45714286,10.8 6.45714286,10.3428571 6.17142857,10.0571429 C5.88571429,9.77142857 5.42857143,9.77142857 5.14285714,10.0571429 L1.71428571,13.4857143 L1.71428571,10.5714286 C1.71428571,10.1714286 1.37142857,9.88571429 1.02857143,9.88571429 C0.685714286,9.88571429 0.342857143,10.2285714 0.342857143,10.5714286 L0.342857143,15.2 C0.342857143,15.3142857 0.342857143,15.3714286 0.4,15.4857143 C0.457142857,15.6 0.571428571,15.7714286 0.742857143,15.8285714 L0.742857143,15.8285714 Z",id:"Shape",fill:"#4A4A4A"}),a.default.createElement("path",{d:"M1.02857143,6.57142857 C1.42857143,6.57142857 1.71428571,6.22857143 1.71428571,5.88571429 L1.71428571,2.97142857 L5.14285714,6.4 C5.25714286,6.51428571 5.48571429,6.62857143 5.65714286,6.62857143 C5.82857143,6.62857143 6,6.57142857 6.17142857,6.4 C6.45714286,6.11428571 6.45714286,5.65714286 6.17142857,5.37142857 L2.74285714,1.94285714 L5.65714286,1.94285714 C6.05714286,1.94285714 6.34285714,1.6 6.34285714,1.25714286 C6.34285714,0.914285714 6,0.571428571 5.65714286,0.571428571 L1.02857143,0.571428571 L1.02857143,0.571428571 C0.914285714,0.571428571 0.857142857,0.571428571 0.742857143,0.628571429 C0.571428571,0.685714286 0.457142857,0.857142857 0.342857143,1.02857143 C0.285714286,1.14285714 0.285714286,1.2 0.285714286,1.31428571 L0.285714286,1.31428571 L0.285714286,5.94285714 C0.285714286,6.22857143 0.628571429,6.57142857 1.02857143,6.57142857 L1.02857143,6.57142857 Z",id:"Shape",fill:"#4A4A4A"}),a.default.createElement("path",{d:"M10.3428571,0.457142857 C9.94285714,0.457142857 9.65714286,0.8 9.65714286,1.14285714 C9.65714286,1.48571429 10,1.82857143 10.3428571,1.82857143 L13.2571429,1.82857143 L9.82857143,5.25714286 C9.54285714,5.54285714 9.54285714,6 9.82857143,6.28571429 C9.94285714,6.4 10.1714286,6.51428571 10.3428571,6.51428571 C10.5142857,6.51428571 10.6857143,6.45714286 10.8571429,6.28571429 L14.2857143,2.85714286 L14.2857143,5.77142857 C14.2857143,6.17142857 14.6285714,6.45714286 14.9714286,6.45714286 C15.3142857,6.45714286 15.6571429,6.11428571 15.6571429,5.77142857 L15.6571429,1.14285714 L15.6571429,1.14285714 C15.6571429,1.02857143 15.6571429,0.971428571 15.6,0.857142857 C15.5428571,0.685714286 15.3714286,0.571428571 15.2,0.457142857 C15.0857143,0.4 15.0285714,0.4 14.9142857,0.4 L10.3428571,0.4 L10.3428571,0.457142857 Z",id:"Shape",fill:"#4A4A4A"})))};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(51)),i=l(r(2281));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.links,r=e.classList,a=Object.assign({},i.default,r);return n.default.createElement("div",{className:a.linkContainer},t.map(function(e,t,r){return n.default.createElement("span",{key:t,className:a.link},e.href?n.default.createElement("a",{href:o.default.url(e.href)},e.text):e.callback&&!e.isCurrentView?n.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.callback()}},e.text):e.isCurrentView?n.default.createElement("span",{className:a.current},e.text):n.default.createElement("span",null,e.text),t!==r.length-1&&n.default.createElement("span",{className:a.arrow},">"))}))};u.propTypes={classList:a.default.shape({linkContainer:a.default.string,link:a.default.string,arrow:a.default.string,current:a.default.string}),links:a.default.array},u.defaultProps={classList:{},links:[]};var s=u;t.default=s},function(e,t,r){e.exports={pebble:"#767676",charcoal:"#111",graphite:"#4A4A4A",linkContainer:"breadcrumbs__linkContainer__1cxzk",link:"breadcrumbs__link__1fy9e",arrow:"breadcrumbs__arrow__1I6Fd",current:"breadcrumbs__current__30SDe"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=g(r(1)),o=g(r(192)),i=g(r(522)),l=g(r(7)),u=g(r(523)),s=g(r(51)),c=r(524),d=r(14),f=r(94),p=g(r(10)),m=g(r(2)),h=g(r(3)),y=g(r(280));function g(e){return e&&e.__esModule?e:{default:e}}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=b(t).call(this,e))||"object"!==_(a)&&"function"!=typeof a?O(n):a).state={notifications:null},r.getUnreads=r.getUnreads.bind(O(r)),r.handleOptimisticAll=r.handleOptimisticAll.bind(O(r)),r.handleOptimisticSingle=r.handleOptimisticSingle.bind(O(r)),r.subscriptions=[],r}var r,a,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.getUnreads(),this._subscribeToStore()}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"_subscribeToStore",value:function(){this.subscriptions=[u.default.getChannel().subscribe("notifications.markRead.all.optimistic",this.handleOptimisticAll),u.default.getChannel().subscribe("notifications.markRead.single.optimistic",this.handleOptimisticSingle),u.default.getChannel().subscribe("notifications.markRead.single.success",this.getUnreads),u.default.getChannel().subscribe("notifications.markRead.#.failure",this.getUnreads)]}},{key:"dismiss",value:function(e){return u.default.markRead(e).catch(function(e){return(0,l.default)(e)})}},{key:"handleOptimisticSingle",value:function(e){var t=e.receipt_id;this.state.notifications.records.findIndex(function(e){return e.receipt_id===t})>-1&&this.setState({notifications:Object.assign({},this.state.notifications,{metadata:Object.assign({},this.state.notifications.metadata,{total_unread:this.state.notifications.metadata.total_unread-1}),records:this.state.notifications.records.filter(function(e){return e.receipt_id!==t})})})}},{key:"handleOptimisticAll",value:function(){this.setState({notifications:{metadata:Object.assign({},this.state.notifications.metadata,{total_unread:0}),records:[]}})}},{key:"getUnreads",value:function(){var e=this;return(0,d.graphQueryWithUser)((0,c.getNotifications)(!1),{page:1,per_page:5,read:!1,created_before:u.default.initializedAt()}).then(function(t){e.setState({notifications:t.notifications})}).catch(function(e){return(0,l.default)(e)})}},{key:"render",value:function(){var e=this.state.notifications;return n.default.createElement("section",{className:y.default.section},n.default.createElement("header",{className:y.default.sectionHeader},n.default.createElement("a",{className:"".concat(y.default.headerTitle," ").concat(h.default.bodyM," ").concat(h.default.bold),href:s.default.url("/dashboard/notifications"),onClick:function(e){return(0,f.goTo)(e,"notifications")}},"Unread Notifications"),null!==e&&n.default.createElement("span",{className:"".concat(y.default.headerCount," ").concat(h.default.bodyL)},e.metadata.total_unread.toString())),null===e?n.default.createElement(o.default,null):0===e.records.length?n.default.createElement("span",{className:h.default.bodyM},"You have no unread notifications"):n.default.createElement(i.default,{className:m.default.marginBottom15,currentUser:this.props.currentUser,individualTransitions:!0,markRead:this.dismiss,notifications:e.records.slice(0,5)}),null!==e&&n.default.createElement("a",{href:s.default.url("/dashboard/notifications"),className:"".concat(p.default.sm," ").concat(p.default.tertiary," ").concat(p.default.pill," ").concat(m.default.flexAlignSelfEnd),onClick:function(e){return(0,f.goTo)(e,"notifications")}},"View all"))}}])&&v(r.prototype,a),g&&v(r,g),t}();E.propTypes={currentUser:a.default.shape({id:a.default.number}).isRequired};var P=E;t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(1)),a=f(r(0)),o=f(r(348)),i=f(r(2284)),l=r(16),u=f(r(10)),s=f(r(3)),c=f(r(5)),d=f(r(2285));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.currentUser,r=e.markRead,n=e.notification,f=function(){return r(n.receipt_id)},p=(0,i.default)({currentUserId:t.id,event:n.event,fields:n.message_fields,onClick:f,type:n.notifiable_type});return p?a.default.createElement("li",{className:n.read?d.default.listItem:d.default.unreadItem},a.default.createElement("div",{className:d.default.itemInner},a.default.createElement("div",{className:s.default.bodyS},a.default.createElement("div",null,p),a.default.createElement("div",{className:s.default.pebble},(0,l.timeFromNow)(n.created_at))),a.default.createElement("div",{className:d.default.buttonContainer},n.read?a.default.createElement("div",{className:d.default.markReadPlaceholder}):a.default.createElement(o.default,{tooltip:"Mark as Read",position:"left",offsetY:-2.5},a.default.createElement("button",{onClick:f,className:"".concat(u.default.blank," ").concat(d.default.markRead," ").concat(c.default.circle)}))))):null};p.propTypes={currentUser:n.default.shape({id:n.default.number}).isRequired,markRead:n.default.func,notification:n.default.shape({notifiable_type:n.default.string,created_at:n.default.string,deleted:n.default.bool,event:n.default.string,notification_id:n.default.number,receipt_id:n.default.number,read:n.default.bool,message_fields:n.default.string}).isRequired},p.defaultProps={markRead:function(){return Promise.resolve()}};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.type,r=e.event,n=e.fields,a=e.currentUserId,o=e.onClick;return m[t]?m[t](r,(0,l.tryJSONParse)(n,{}),o,a):null};var n=s(r(0)),a=s(r(51)),o=r(16),i=r(11),l=r(238),u=s(r(3));function s(e){return e&&e.__esModule?e:{default:e}}var c={completed:function(e,t,r){return n.default.createElement("span",null,"The challenge ",p(t,e,r)," is now closed for submissions. Time to award prizes!")},ending_soon:function(e,t,r){return n.default.createElement("span",null,p(t,e,r)," is ending soon, time to submit your project!")},free_hardware_complete:function(e,t,r){return n.default.createElement("span",null,"Free hardware winners for ",p(t,e,r)," have been selected!")},free_hardware_end_soon:function(e,t,r){return n.default.createElement("span",null,"Free hardware applications for ",p(t,e,r)," are closing soon, time to submit yours!")},half_way:function(e,t,r){return n.default.createElement("span",null,p(t,e,r)," is half-way through, how is your submission going?")},judged:function(e,t,r){return n.default.createElement("span",null,"The results for ",p(t,e,r)," are out!")},launched_pre_contest:function(e,t,r){return n.default.createElement("span",null,p(t,e,r)," is now accepting ideas!")},launched_contest:function(e,t,r){return n.default.createElement("span",null,p(t,e,r)," is now open for submissions!")},pre_contest_awarded:function(e,t,r){return n.default.createElement("span",null,"Winners for the pre-contest of ",p(t,e,r)," have been announced.")},pre_contest_ending_soon:function(e,t,r){return n.default.createElement("span",null,"The precontest of ",p(t,e,r)," is ending soon, time to submit your idea!")},pre_contest_winners:function(e,t,r){return n.default.createElement("span",null,"Your idea has been selected as a winner for the pre-contest of ",p(t,e,r),". Congrats!")}};function d(e,t){return!!(0,i.isObjectWithLength)(e)&&Object.keys(e).some(function(r){return e[r].id===t&&"user"===e[r].type})}function f(e,t,r){return t&&e?p(e,t,r):"Someone"}function p(e,t,r){return n.default.createElement("a",{href:a.default.url(e),className:"".concat(u.default.link," ").concat(u.default.bold),onClick:r},t)}var m={Assignment:function(e,t,r){var a=t.assignment_name,i=t.assignment_path,l=t.submit_by_date;return n.default.createElement("span",null,"Reminder: the assignment ",p(i,a,r)," is due for submission on ".concat((0,o.timestampToPrettyDate)(l,o.DATE_AT_TIME_FORMAT)))},Challenge:function(e,t,r){var n=t.name,a=t.path,o=c[e];return"function"==typeof o?o(n,a,r):null},ChallengeEntry:function(e,t,r){var a=t.name,o=t.path;return n.default.createElement("span",null,"".concat("awarded"===e?"Congratulations! ":"","Your entry for "),p(o,a,r),"".concat("awarded"===e?" has been awarded a prize. Follow instructions sent to your email to claim it.":" has been approved."))},ChallengeIdea:function(e,t,r){t.comm;var a=t.challenge_name,o=t.challenge_path,i=t.idea_name;return n.default.createElement("span",null,"Your idea ".concat(i," for "),p(o,a,r),"".concat("approved"===e?" has been approved.":" has won."))},ChannelMember:function(e,t,r,a){var o=t.group_name,i=t.group_path,l=t.user_name,u=t.user_path;return n.default.createElement("span",null,p(u,l,r)," joined ",p(i,o,r),".")},Comment:function(e,t,r,a){var o=t.author_name,i=t.author_path,l=(t.commentable_id,t.commentable_name),u=t.commentable_path,s=t.commentable_type,c=t.origin_name,m=t.parent_comment_author_id,h=t.post_author_id,y=t.post_author_name,g=t.relations;return n.default.createElement("span",null,f(i,o,r),function(e){var t=e.currentUserId,r=e.parent_comment_author_id;return d(e.relations,t)?" mentioned you in a".concat(r===t?" reply to your":" "," comment on "):r===t?" replied to your comment on ":" commented on "}({currentUserId:a,parent_comment_author_id:m,relations:g}),function(e,t){var r=e.commentable_name;return p(e.commentable_path,function(e){var t=e.commentable_name,r=e.commentable_type,n=e.currentUserId,a=e.post_author_id,o=e.post_author_name;switch(r){case"Project":return t;case"FeedPost":return a===n?"your post":"".concat(o,"'s post");default:return""}}({commentable_name:r,commentable_type:e.commentable_type,currentUserId:e.currentUserId,post_author_id:e.post_author_id,post_author_name:e.post_author_name}),t)}({commentable_name:l,commentable_path:u,commentable_type:s,currentUserId:a,post_author_id:h,post_author_name:y},r),c?" in ".concat(c):".")},FeedPost:function(e,t,r,a){var o=t.author_name,i=t.author_path,l=t.post_path,u=t.origin_name,s=t.relations;return n.default.createElement("span",null,f(i,o,r),d(s,a)?" mentioned you in a ":" created a ",p(l,"new post",r),u?" in ".concat(u,"."):".")},FollowRelation:function(e,t,r,a){var o=t.followed_id,i=t.followed_name,l=t.followed_path,u=t.follower_name,s=t.follower_path;return n.default.createElement("span",null,p(s,u,r)," followed ",o===a?"you":p(l,i,r),".")},GlobalAnnouncement:function(e,t,r){var a=t.body_elements,o=void 0===a?[]:a;return n.default.createElement("span",null,o.map(function(e,t){return n.default.createElement("span",{key:t},"link"===e.type?p(e.href,e.text,r):e.text)}))},Grade:function(e,t,r){var a=t.name,o=t.path;return n.default.createElement("span",null,"You've received a new grade for ",p(o,a,r),". ",p("/grades","Click here",r)," to see it.")},Issue:function(e,t,r){var a=t.issue_path,o=t.project_name,i=t.project_path,l=t.user_name,u=t.user_path;return n.default.createElement("span",null,p(u,l,r),"posted",p(a,"an issue",r),"in",p(i,o,r),".")},Member:function(e,t,r,a){var o=t.group_name,i=t.group_path,l=t.user_name,u=t.user_path;return n.default.createElement("span",null,p(u,l,r),"accepted"===e?" has accepted your invitation to join ":" has invited you to join ",p(i,o,r),".")},Project:function(e,t,r){return function(e,t,r){var a=t.made_public_at,i=t.name,l=t.path;return n.default.createElement("span",null,p(l,i,r)," has been approved and will show on the home page and related platform pages ",(0,o.timeIsPast)(a)?"immediately":"on ".concat((0,o.timestampToPrettyDate)(a,o.DATE_AT_TIME_FORMAT),"."))}(0,{made_public_at:t.made_public_at,name:t.name,path:t.path},r)},Receipt:function(e,t,r){var a=t.user_name,o=t.user_path,i=t.conversation_path;return n.default.createElement("span",null,p(o,a,r)," has sent you ",p(i,"a message",r),".")},Respect:function(e,t,r){var a=t.user_name,o=t.user_path,i=t.respectable_name,l=t.respectable_path,u=t.respectable_type,s="Comment"===u?"one of your comments":"FeedPost"===u?"one of your posts":i;return n.default.createElement("span",null,p(o,a,r)," respected ",p(l,s,r),".")},User:function(e,t,r){var a=t.name,o=t.path;return n.default.createElement("span",null,p(o,a,r)," has accepted your invitation to join Hackster.")}}},function(e,t,r){e.exports={asphalt:"#D8D8D8",fog:"#F7F7F7",hackster:"#2E9FE6",hacksterHover:"#1B7DBB",pebble:"#767676",buttonContainer:"notifications__buttonContainer__2MFjC",itemInner:"notifications__itemInner__3eDOK",listItem:"notifications__listItem__1s5Nt",markRead:"notifications__markRead__1euqt notifications__markReadPlaceholder__UFWwU",markReadPlaceholder:"notifications__markReadPlaceholder__UFWwU",unreadItem:"notifications__unreadItem__1gBgu notifications__listItem__1s5Nt"}},function(e,t,r){e.exports={appear:"fade_in_not_out__appear__13aBF",appearActive:"fade_in_not_out__appearActive__3V5Zg",enter:"fade_in_not_out__enter__1GX00",enterActive:"fade_in_not_out__enterActive__1OK1W",exit:"fade_in_not_out__exit__1d0su",exitActive:"fade_in_not_out__exitActive__2RsJr"}},function(e,t,r){e.exports={enter:"notification_transitions__enter__eXEE9",enterActive:"notification_transitions__enterActive__26oXF",exit:"notification_transitions__exit__22CyL",exitActive:"notification_transitions__exitActive__ztKae"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=r(94),i=s(r(51)),l=s(r(2)),u=s(r(328));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r){return e.redirect?i.default.url(e.href):"".concat(t).concat(e.href)}var d=function(e){var t=e.basePath,r=e.initPath,a=(e.rootPath,e.routes),i=e.store,s=e.transition;return n.default.createElement("div",{className:"".concat(u.default.themeDark," ").concat(u.default.fullWidth," ").concat(l.default.flexJustifyCenter)},n.default.createElement("ul",{className:"".concat(u.default.list," ").concat(l.default.noScrollBar," ").concat(l.default.wrapper1170)},a.map(function(e,a){return n.default.createElement("li",{key:a,className:u.default.listItem},n.default.createElement(o.Link,{classList:{anchor:(0,o.isCurrentPath)(o.history,e,r)?u.default.linkFocused:u.default.link,root:(0,o.isCurrentPath)(o.history,e,r)?u.default.linkWrapperFocused:u.default.linkWrapper},href:c(e,t),onClick:function(){return s(e.href,i)},name:e.name,redirect:e.redirect},e.dropdown&&n.default.createElement("div",{className:u.default.dropdown},e.dropdown.map(function(e,r){return n.default.createElement(o.Link,{key:r,classList:{anchor:u.default.link,root:u.default.subLinkWrapper},href:c(e,t),onClick:function(){return s(e.href,i)},name:e.name,redirect:e.redirect})}))))})))};d.propTypes={basePath:a.default.string.isRequired,initPath:a.default.string.isRequired,rootPath:a.default.string.isRequired,routes:a.default.array.isRequired,store:a.default.object.isRequired,transition:a.default.func.isRequired};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=p(r(180)),i=p(r(192)),l=p(r(522)),u=p(r(386)),s=p(r(7)),c=p(r(523)),d=p(r(28)),f=p(r(2));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=y(t).call(this,e))||"object"!==m(a)&&"function"!=typeof a?g(n):a).state={currentPage:1,loading:!0,notifications:c.default.get("notifications")},r.handleChange=r.handleChange.bind(g(r)),r.paginateTo=r.paginateTo.bind(g(r)),r.updateSub=c.default.getChannel().subscribe("notifications.markRead.#",r.handleChange),r}var r,n,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){this.paginateTo(1),(0,d.default)(0,300)}},{key:"componentWillUnmount",value:function(){this.updateSub.unsubscribe()}},{key:"handleChange",value:function(e){this.setState({notifications:c.default.get("notifications")})}},{key:"paginateTo",value:function(e){var t=this;return this.setState({loading:!0}),c.default.fetchPage(e).then(function(){t.setState({currentPage:e,loading:!1,notifications:c.default.get("notifications")}),(0,d.default)(0,0)}).catch(function(e){t.setState({loading:!1}),(0,s.default)("Error changing page:",e)})}},{key:"render",value:function(){var e=this.state,t=e.notifications,r=e.currentPage,n=c.default.getPageKey(r);return a.default.createElement("div",{className:f.default.container},a.default.createElement("div",{className:f.default.wrapper960},a.default.createElement(u.default,{showProjectButton:!1,type:"notifications",typeArgs:{count:t&&t.metadata?t.metadata.total_records:null}}),Array.isArray(t.records[n])?a.default.createElement("div",null,a.default.createElement(l.default,{className:f.default.marginBottom30,notifications:t.records[n],currentUser:this.props.currentUser,markRead:c.default.markRead,pageKey:n,loading:this.state.loading}),t.metadata.total_pages>1&&a.default.createElement(o.default,{currentPage:r,onClick:this.paginateTo,totalPages:t.metadata.total_pages})):a.default.createElement(i.default,null)))}}])&&h(r.prototype,n),p&&h(r,p),t}();v.propTypes={currentUser:n.default.shape({id:n.default.number}).isRequired,notifications:n.default.array},v.defaultProps={notifications:[]};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=j(r(1)),o=j(r(143)),i=j(r(2291)),l=j(r(38)),u=j(r(2295)),s=j(r(869)),c=j(r(100)),d=j(r(108)),f=j(r(7)),p=j(r(51)),m=r(123),h=r(11),y=r(45),g=r(85),_=r(8),v=r(43),b=j(r(40)),O=r(18),w=r(44),E=r(973),P=j(r(52)),k=j(r(2)),S=j(r(3)),C=j(r(2298));function j(e){return e&&e.__esModule?e:{default:e}}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x={avatar:{order:0,validate:function(e){return(0,v.imageV)(e)},value:{},formatIn:m.imageWithNestedFileIn,formatOut:m.imageWithNestedFileOut},available_for_hire:{order:7,validate:function(){return null},value:null,formatIn:m.boolOrNullIn,formatOut:m.boolOrNullOut,notRequired:!0},bio:{order:4,validate:function(e){return(0,v.maxLength)(140,e)},value:"",notRequired:!0},hourly_rate:{order:8,validate:function(e){return(0,v.isDecimal)(e)},value:"",notRequired:!0},location:{order:3,validate:function(e){return null},value:{},notRequired:!0,formatIn:m.locationSelectIn,formatOut:m.locationSelectOut},name:{order:1,validate:function(e){return null},value:"",notRequired:!0},skills:{order:6,validate:function(e){return null},value:[],notRequired:!0,formatIn:function(e){return(0,m.arrayToMultiSelectIn)(e)},formatOut:function(e){return(0,m.multiSelectToArrayOut)(e)}},user_name:{order:2,validate:function(e){return(0,v.minLength)(3,e)},value:""},website:{order:5,validate:function(e){return null},value:"",notRequired:!0}},D=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=!(a=M(t).call(this,e))||"object"!==R(a)&&"function"!=typeof a?A(n):a;var o=e.store.has(e.path)?r._getStoredFields():null,i=o||(0,g.initFields)(x,r._nestLocation(e.currentUser));return o||r._setStoredFields(i),r.state={errors:{},fields:i,hasUnsavedChanges:!1,isBusy:!1,warnings:{},workers:[]},r.getErrorForField=g.getErrorForField.bind(A(r)),r.getFieldValuesAsObject=g.getFieldValuesAsObject.bind(A(r)),r.setIsBusy=g.setIsBusy.bind(A(r)),r.setStateOrError=g.setStateOrError.bind(A(r)),r.validate=g.validateFields.bind(A(r)),r.setStateAndFlagUnsaved=r.setStateAndFlagUnsaved.bind(A(r)),r.discardChanges=r.discardChanges.bind(A(r)),r.handleSubmit=r.handleSubmit.bind(A(r)),r}var r,a,j;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,n.Component),r=t,(a=[{key:"discardChanges",value:function(){this.setState({fields:this._getStoredFields(),errors:{},warnings:{}}),this._flagUnsaved(!1),(0,O.summonGlobalMessenger)({msg:"Your changes have been discarded!"})}},{key:"handleSubmit",value:function(){this.state.hasUnsavedChanges&&this.validate()&&this._submitForm()}},{key:"setStateAndFlagUnsaved",value:function(e,t,r){this.setStateOrError(e,t,r),this._flagUnsaved(!0)}},{key:"_flagUnsaved",value:function(e){this.state.hasUnsavedChanges!==e&&(this.setState({hasUnsavedChanges:e}),this.props.store.set("showPrompt",e))}},{key:"_flattenForSubmission",value:function(e){return Object.assign({},e,e.location,{avatar_id:e.avatar.id})}},{key:"_getFieldErrorsFromServerError",value:function(e){var t=this,r=(0,y.filterObject)(b.default.processApiRequestError(e),function(e,r){return t.state.fields.hasOwnProperty(r)});return(0,w.transformObjValues)(r,_.getFirstString)}},{key:"_getProfilePath",value:function(){return p.default.url("/".concat(this.state.fields.user_name.value))}},{key:"_getStoredFields",value:function(){return this.props.store.get(this.props.path).fields}},{key:"_isSubmitting",value:function(){return this.state.workers.includes("submit")}},{key:"_nestLocation",value:function(e){var t=e.city,r=e.country_iso2,n=e.state,a=T(e,["city","country_iso2","state"]);return Object.assign({},a,{location:{city:t,country_iso2:r,state:n}})}},{key:"_setStoredFields",value:function(e){this.props.store.set(this.props.path,{fields:e})}},{key:"_submitForm",value:function(){var e=this;this.setIsBusy(!0,"submit"),this.setState({warnings:{}});var t=Object.assign({},this.state.fields),r=this._flattenForSubmission(this.getFieldValuesAsObject(t));return(0,E.updateUserProfile)(r).then(function(r){e.setIsBusy(!1,"submit"),e._setStoredFields(t),e._flagUnsaved(!1),(0,O.summonGlobalMessenger)({msg:e._getSavedMsg()})}).catch(function(t){e.setIsBusy(!1,"submit");var r=e._getFieldErrorsFromServerError(t);(0,h.isBlank)(r)?((0,O.summonGlobalMessenger)({msg:"Unable to save changes, please try again.",type:"error"}),(0,f.default)(t)):e.setState({errors:r},function(){return(0,g.scrollToError)(r,e.state.fields)})})}},{key:"_getSavedMsg",value:function(){return n.default.createElement("span",null,"Your changes have been saved. ",n.default.createElement("a",{href:this._getProfilePath()},"View your profile."))}},{key:"render",value:function(){var e=this,t=this._isSubmitting();return n.default.createElement("div",{className:"".concat(k.default.container," ").concat(k.default.marginTop60," ").concat(this.props.classNames.root)},n.default.createElement("div",{className:"".concat(k.default.wrapper960," ").concat(k.default.flexRowWrap," ").concat(this.props.classNames.container)},n.default.createElement("div",{className:C.default.rowOne},n.default.createElement("div",{id:"vfavatar"},n.default.createElement(i.default,{aspectRatio:1,disabled:t,errors:this.state.errors.avatar,imageData:this.state.fields.avatar.value,propagateUpload:function(t){return e.setStateAndFlagUnsaved(null,"avatar",t)},propagateStatus:function(t){return e.setIsBusy(t,"avatar")},reportError:function(t){return e.setState({warnings:Object.assign({},e.state.warnings,{avatar:t})})},warningText:this.state.warnings.avatar})),n.default.createElement("a",{className:"".concat(S.default.bodyM," ").concat(S.default.bold," ").concat(S.default.linkPebble," ").concat(k.default.marginTop15),href:this._getProfilePath()},"View Profile")),n.default.createElement("div",{className:C.default.rowTwo},n.default.createElement("div",{className:"".concat(P.default.container," ").concat(k.default.marginBottom60)},n.default.createElement("div",{id:"vfname"},n.default.createElement(l.default,{disabled:t,errors:this.state.errors.name,label:"Name",name:"name",onChange:function(t){return e.setStateAndFlagUnsaved(null,"name",t.target.value)},value:this.state.fields.name.value})),n.default.createElement("div",{id:"vfuser_name"},n.default.createElement(l.default,{disabled:t,errors:this.state.errors.user_name,helperText:"Pick a username. This will be used as your profile url.",label:"Username",name:"user_name",onChange:function(t){return e.setStateAndFlagUnsaved(null,"user_name",t.target.value)},value:this.state.fields.user_name.value})),n.default.createElement("div",{id:"vflocation"},n.default.createElement(s.default,{disabled:t,errors:this.state.errors.location,label:"Location",onChange:function(t){return e.setStateAndFlagUnsaved(null,"location",t)},placeholder:"E.g. Seattle, WA, USA",renderDistanceInput:!1,value:this.state.fields.location.value})),n.default.createElement("div",{id:"vfbio"},n.default.createElement(l.default,{disabled:t,charCount:this.state.fields.bio.value.length,classList:{help:k.default.paddingRight45},element:"textarea",errors:this.state.errors.bio,helperText:"What do you do for a living? How long have you been developing for? How did you get started in hardware?",label:"Bio",maxVal:140,name:"bio",onChange:function(t){return e.setStateAndFlagUnsaved((0,v.maxLength)(140,t.target.value),"bio",t.target.value)},value:this.state.fields.bio.value})),n.default.createElement("div",{id:"vfwebsite"},n.default.createElement(l.default,{disabled:t,errors:this.state.errors.website,helperText:"Add a link to your personal website or social profiles.",label:"Website",name:"website",onChange:function(t){return e.setStateAndFlagUnsaved(null,"website",t.target.value)},value:this.state.fields.website.value})),n.default.createElement("div",{id:"vfskills"},n.default.createElement(c.default,{creatableOpts:{creatable:!0},disabled:t,errors:this.state.errors.skills,helperText:"List your top skills and areas of expertise. This helps us connect you with other developers and job opportunities. What languages do you develop in?",label:"Skills",onSelectedChange:function(t){return e.setStateAndFlagUnsaved(null,"skills",t)},placeholder:"3D Printing",searchOpts:{rule:"absolute"},type:"multi",value:this.state.fields.skills.value})),n.default.createElement("div",{id:"vfavailable_for_hire"},n.default.createElement(d.default,{buttons:[{label:"Available for hire",value:"true"},{label:"Not available",value:"false"}],disabled:t,errors:this.state.errors.available_for_hire,label:"Jobs",name:"available_for_hire",onChange:function(t){return e.setStateAndFlagUnsaved(null,"available_for_hire",t.target.value)},value:this.state.fields.available_for_hire.value})),(0,m.boolOrNullOut)(this.state.fields.available_for_hire.value)&&n.default.createElement("div",{id:"vfhourly_rate"},n.default.createElement(u.default,{disabled:t,errors:this.state.errors.hourly_rate,helperText:"This is used as a reference point for potential employers. Compensation should be negotiated on a per project basis.",icon:"$",label:"Rate per hour",name:"hourly_rate",onChange:function(t){return e.setStateAndFlagUnsaved(null,"hourly_rate",t)},value:this.state.fields.hourly_rate.value})),n.default.createElement(o.default,{isBusy:t,disabled:this.state.isBusy||!this.state.hasUnsavedChanges,primaryBtnConfig:{onClick:this.handleSubmit,text:"Save changes"},secondaryBtnConfig:{onClick:this.discardChanges}})))))}}])&&N(r.prototype,a),j&&N(r,j),t}();D.propTypes={classNames:a.default.shape({root:a.default.string,container:a.default.string}),currentUser:a.default.shape({available_for_hire:a.default.bool,avatar:a.default.shape({file:a.default.shape({url:a.default.string}),id:a.default.number}),bio:a.default.string,city:a.default.string,country_iso2:a.default.string,email:a.default.string,hourly_rate:a.default.number,id:a.default.number,name:a.default.string,skills:a.default.array,state:a.default.string,user_name:a.default.string,website:a.default.string}),history:a.default.object,path:a.default.string.isRequired,store:a.default.object.isRequired},D.defaultProps={classNames:{root:"",container:""},currentUser:{avatar:{},user_name:""},enableMessenger:!0,history:{}};var q=D;t.default=q},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(2292)),o=l(r(822)),i=r(45);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e,t){return a.default.propTypes.hasOwnProperty(t)},c=function(e){return n.default.createElement(a.default,function(e){return(0,i.filterObject)(e,s)}(e))},d=function(e){return n.default.createElement(o.default,u({},e,{renderView:c}))};t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(2293)),i=r(71),l=s(r(3)),u=s(r(2294));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,p(t).apply(this,arguments))}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.PureComponent),r=t,(a=[{key:"render",value:function(){var e=this.props,t=e.disabled,r=e.errors,a=e.handleUploadBtnClick,s=e.imageData,c=e.isBusy,d=e.warningText;return n.default.createElement("div",{className:u.default.columnCenter},n.default.createElement("div",{className:u.default.image,onClick:t?null:a,style:{backgroundImage:"url(".concat(s.url,")")}},n.default.createElement(o.default,{className:u.default.camera}),n.default.createElement("p",{className:u.default.text},c?"Updating":"Update"),n.default.createElement("p",{className:u.default.text},"photo".concat(c?"...":""))),n.default.createElement("div",{className:l.default.textCenter},(0,i.getErrorHelperViewWithoutWrapper)(r,null,d)))}}])&&d(r.prototype,a),s&&d(r,s),t}();h.propTypes={disabled:a.default.bool,errors:a.default.string,handleUploadBtnClick:a.default.func,imageData:a.default.shape({url:a.default.string}).isRequired,isBusy:a.default.bool},h.defaultProps={disabled:!1,errors:"",handleUploadBtnClick:function(){},imageData:{},isBusy:!1};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n};var o=function(e){var t=e.className;return a.default.createElement("svg",{className:t,viewBox:"3 0 38 29",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.default.createElement("defs",null,a.default.createElement("path",{d:"M11.0833333,4 L2.00285922,4 C0.90185079,4 0,4.89703997 0,6.00359486 L0,26.9964051 C0,28.1102368 0.896710617,29 2.00285922,29 L35.9971408,29 C37.0981492,29 38,28.10296 38,26.9964051 L38,6.00359486 C38,4.88976324 37.1032894,4 35.9971408,4 L26.9166667,4 L25.6371916,0.929259896 C25.4208741,0.410097957 24.80148,0 24.2482026,0 L13.7517974,0 C13.1948816,0 12.5766484,0.416043827 12.3628084,0.929259896 L11.0833333,4 Z",id:"path-1"}),a.default.createElement("mask",{id:"mask-2",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:"0",y:"0",width:"38",height:"29",fill:"white"},a.default.createElement("use",{xlinkHref:"#path-1"}))),a.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(3.000000, 0.000000)"},a.default.createElement("use",{id:"Combined-Shape",stroke:"#FFFFFF",mask:"url(#mask-2)",strokeWidth:"4",xlinkHref:"#path-1"}),a.default.createElement("circle",{id:"Oval-2",stroke:"#FFFFFF",strokeWidth:"2",cx:"19",cy:"16",r:"6"})))};t.default=o},function(e,t,r){e.exports={camera:"avatar__camera__2e6GV",columnCenter:"avatar__columnCenter__MjHU8",image:"avatar__image__12bQA avatar__columnCenter__MjHU8",text:"avatar__text__29D8B"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=f(r(1)),o=f(r(132)),i=p(r(2296)),l=f(r(21)),u=f(r(2)),s=f(r(5)),c=f(r(2297)),d=r(11);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=(0,i.getDecimalSeparator)(),b=(0,i.default)(),O=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=y(t).call(this,e))||"object"!==m(a)&&"function"!=typeof a?g(n):a).state={value:b.format(e.value)},r.handleChange=r.handleChange.bind(g(r)),r}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.Component),r=t,(a=[{key:"handleChange",value:function(e){var t=e.target.value;this.setState({value:t}),this.props.onChange(this._formatForOutput(t))}},{key:"_formatForOutput",value:function(e){return"."===v?e:e.replace(new RegExp(v,"g"),".")}},{key:"render",value:function(){var e=this.props,t=e.errors,r=e.helperText,a=e.icon,i=e.id,f=e.label,p=e.name,m=e.onBlur,h=e.onFocus,y=e.placeholder;return n.default.createElement(o.default,{errors:t,helperText:r,label:f,name:p,value:""},n.default.createElement("div",{className:s.default.posRelative},!!a&&n.default.createElement("div",{className:c.default.icon},a),n.default.createElement("input",{className:"".concat((0,d.isBlank)(t)?l.default.input:l.default.inputError," ").concat(a?u.default.paddingLeft30:""),id:i,name:p,onBlur:m,onChange:this.handleChange,onFocus:h,placeholder:y,type:"number",value:this.state.value})))}}])&&h(r.prototype,a),i&&h(r,i),t}();O.propTypes={errors:a.default.array,icon:a.default.oneOfType([a.default.string,a.default.element]),id:a.default.string,label:a.default.oneOfType([a.default.string,a.default.element]),name:a.default.string,onBlur:a.default.func,onChange:a.default.func,onFocus:a.default.func,required:a.default.bool,value:a.default.oneOfType([a.default.number,a.default.string])},O.defaultProps={errors:null,icon:null,label:"",onBlur:function(){},onChange:function(){},onFocus:function(){},value:""};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDecimalSeparator=function(){return a().format(1.1).substring(1,2)||"."},t.default=a;var n="en-US";function a(){if("undefined"!=typeof window&&window.Intl){var e=function(){if(navigator)return navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage}()||n;return new Intl.NumberFormat(e,{minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!1})}return{format:function(e){return"number"==typeof e?e.toString():e}}}},function(e,t,r){e.exports={asphalt:"#D8D8D8",icon:"decimal_input__icon__3DBL1"}},function(e,t,r){e.exports={rowOne:"profile_form__rowOne__WR9OX",rowTwo:"profile_form__rowTwo__1aDUl"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=m(r(2300)),i=m(r(2301)),l=m(r(7)),u=m(r(28)),s=r(385),c=r(14),d=r(2302),f=r(18),p=r(973);function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=_(t).call(this,e))||"object"!==h(a)&&"function"!=typeof a?v(n):a).getExistingProjects=r.getExistingProjects.bind(v(r)),r.getMissingProjects=r.getMissingProjects.bind(v(r)),r.handleReorder=r.handleReorder.bind(v(r)),r.loadMore=r.loadMore.bind(v(r)),r.toggleRespect=r.toggleRespect.bind(v(r));var o=r.props.path.split("/").pop(),i=e.isRoot?["drafts","public","guest"]:[o],l=r.getExistingProjects(i);return r.state={category:o,projects:l},r}var r,n,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){(0,u.default)(0,300),this.getMissingProjects(this.props.isRoot?["drafts","public","guest"]:[this.state.category])}},{key:"getExistingProjects",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["drafts","public","guest"];return t.reduce(function(t,r){var n=e.props.store.get("projects/".concat(r)),a=n?n.projects[r]:null;return Object.assign({},t,y({},r,a))},{})}},{key:"getMissingProjects",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["drafts","public","guest"],r=t.filter(function(t){return null===e.state.projects[t]}),n={categories:r,author_id:this.props.currentUser.id};return r.length>0?(0,c.graphQuery)((0,s.getProjectsByCategory)(n),n).then(function(t){var r=Object.assign({},e.state.projects,t);(0,d.setStore)(e.props.store,r),e.setState({projects:r})}).catch(function(e){(0,f.summonGlobalMessenger)({msg:"There was a problem loading projects. Please try again.",type:"error"}),(0,l.default)("Error fetching projects ".concat(e))}):Promise.resolve()}},{key:"handleReorder",value:function(e){var t=this,r=this.state.projects,n=(0,d.updateRecords)(e,r);return this.setState({projects:n}),(0,p.updateProjectPositions)(e).then(function(e){return(0,d.setStore)(t.props.store,n)}).catch(function(e){t.setState({projects:r}),(0,f.summonGlobalMessenger)({msg:"Could not reorder projects. Please try again.",type:"error"}),(0,l.default)("Dashboard Projects",e)})}},{key:"loadMore",value:function(e){var t=this,r=this.state.projects[e].metadata,n=r.current_page,a=r.per_page,o={category:e,author_id:this.props.currentUser.id,page:n+1,per_page:a};return(0,c.graphQuery)((0,s.getProjectsByCategory)(o),o).then(function(r){var n=Object.assign({},t.state.projects,y({},e,{metadata:r[e].metadata,records:t.state.projects[e].records.concat(r[e].records)}));(0,d.setStore)(t.props.store,n),t.setState({projects:n})}).catch(function(e){(0,f.summonGlobalMessenger)({msg:"There was a problem loading more projects. Please try again.",type:"error"}),(0,l.default)("Project Load Error:",e)})}},{key:"toggleRespect",value:function(e,t,r){var n=this.state.projects,a=n[r].records.map(function(r){return r.hid===e?Object.assign({},r,{stats:Object.assign({},r.stats,{respects:t?r.stats.respects+1:Math.max(r.stats.respects-1,0)})}):r}),o=Object.assign({},n,y({},r,{metadata:n[r].metadata,records:a}));this.setState({projects:o})}},{key:"render",value:function(){var e=this,t=this.state,r=t.category,n=t.projects;return this.props.isRoot?a.default.createElement(i.default,{currentUser:this.props.currentUser,handleReorder:this.handleReorder,projects:n,toggleRespect:function(t,r,n){return e.toggleRespect(t,r,n)}}):a.default.createElement(o.default,{category:r,currentUser:this.props.currentUser,handleReorder:this.handleReorder,loadMore:function(){return e.loadMore(r)},projects:n[r],toggleRespect:function(t,n){return e.toggleRespect(t,n,r)}})}}])&&g(r.prototype,n),m&&g(r,m),t}();O.propTypes={currentUser:n.default.shape({id:n.default.number}),isRoot:n.default.bool,path:n.default.string.isRequired,store:n.default.object.isRequired},O.defaultProps={currentUser:{},isRoot:!1};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(1)),a=d(r(0)),o=d(r(213)),i=d(r(192)),l=d(r(386)),u=d(r(972)),s=d(r(2)),c=d(r(280));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.category,r=(e.currentUser,e.handleReorder),n=e.loadMore,d=e.projects,f=e.toggleRespect,p=!d,m=p?null:d.metadata.total_records;return a.default.createElement("div",{className:s.default.container,key:t},a.default.createElement("div",{className:s.default.wrapper960},a.default.createElement(l.default,{type:"projects",typeArgs:{numProjects:m,category:t,singleCategory:!0}}),p?a.default.createElement(i.default,null):a.default.createElement(o.default,{classList:{container:c.default.projectList},fetchMore:n,recordsCount:d.records.length,totalRecordsCount:m},a.default.createElement(u.default,{cardBorder:!0,maxCols:3,handleReorder:r,orderable:"public"===t,records:d.records,toggleRespect:f}))))};f.propTypes={category:n.default.string.isRequired,currentUser:n.default.shape({id:n.default.number}),handleReorder:n.default.func,loadMore:n.default.func,projects:n.default.shape({records:n.default.array,metadata:n.default.object}),toggleRespect:n.default.func},f.defaultProps={currentUser:{},handleReorder:function(){return Promise.resolve()},loadMore:function(){return Promise.resolve()},projects:{records:[],metadata:{total_records:0}},toggleRespect:function(){return Promise.resolve()}};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(1)),a=s(r(0)),o=s(r(192)),i=s(r(386)),l=s(r(521)),u=s(r(2));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.currentUser,r=e.handleReorder,n=e.projects,s=e.toggleRespect,c=!(n.drafts&&n.public&&n.guest),d=c?null:["drafts","public","guest"].reduce(function(e,t){return e+n[t].metadata.total_records},0);return a.default.createElement("div",{className:u.default.container},a.default.createElement("div",{className:u.default.wrapper960},a.default.createElement(i.default,{type:"projects",typeArgs:{category:"all",numProjects:d}}),c?a.default.createElement(o.default,null):["drafts","public","guest"].map(function(e){return a.default.createElement(l.default,{key:e,cardBorder:!0,category:e,currentUser:t,handleReorder:r,projects:n[e].records,toggleRespect:function(t,r){return s(t,r,e)},totalRecords:n[e].metadata.total_records})})))};c.propTypes={currentUser:n.default.shape({id:n.default.number}),projects:n.default.shape({drafts:n.default.shape({records:n.default.array,metadata:n.default.object}),public:n.default.shape({records:n.default.array,metadata:n.default.object}),guest:n.default.shape({records:n.default.array,metadata:n.default.object})})},c.defaultProps={currentUser:{},projects:{drafts:{records:[],metadata:{total_records:0}},public:{records:[],metadata:{total_records:0}},guest:{records:[],metadata:{total_records:0}}}};var d=c;t.default=d},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.setStore=function(e,t){["drafts","public","guest"].forEach(function(r){t[r]&&e.set("projects/".concat(r),{projects:n({},r,t[r])})})},t.updateRecords=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"public",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=t[r].records.slice(0,a).concat(e).concat(t[r].records.slice(a+e.length));return Object.assign({},t,n({},r,Object.assign({},t[r],{records:o})))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return function(){var t="Your dashboard - Hackster.io";switch(e){case"/bookmarks":return{title:t,pageType:"bookmarks#index"};default:return{title:t,pageType:"users#dashboard"}}}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=b(r(1)),o=b(r(2305)),i=b(r(2311)),l=b(r(2314)),u=b(r(2324)),s=b(r(57)),c=b(r(120)),d=b(r(161)),f=b(r(226)),p=r(14),m=b(r(7)),h=b(r(28)),y=r(8),g=r(18),_=r(45),v=b(r(2));function b(e){return e&&e.__esModule?e:{default:e}}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C={open:!1,meta:{action:null,type:null},record:null},j={action:"",body:"",okFn:function(){},title:""},R=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=P(t).call(this,e))||"object"!==O(a)&&"function"!=typeof a?k(n):a).state={currentEditableAd:null,currentEditableCampaign:null,currentEditableCampaignAds:null,currentSearch:null,currentSort:null,dialog:C,isBusy:!1,pagination:e.campaigns.metadata,records:e.campaigns.records,view:"default"},r.createOrUpdateAd=r.createOrUpdateAd.bind(k(r)),r.createOrUpdateCampaign=r.createOrUpdateCampaign.bind(k(r)),r.deleteCampaignOrAd=r.deleteCampaignOrAd.bind(k(r)),r.handleAdAction=r.handleAdAction.bind(k(r)),r.handleBreadcrumbClick=r.handleBreadcrumbClick.bind(k(r)),r.handleCampaignAction=r.handleCampaignAction.bind(k(r)),r.handlePagination=r.handlePagination.bind(k(r)),r.handleSearch=r.handleSearch.bind(k(r)),r.handleSort=r.handleSort.bind(k(r)),r.algoliaPlatformsService=new d.default,r.algoliaTagsService=new f.default,r}var r,a,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,n.Component),r=t,(a=[{key:"createOrUpdateAd",value:function(e){return this.setState({isBusy:!0}),this.state.currentEditableAd&&this.state.currentEditableAd.hasOwnProperty("id")?this._updateAd(Object.assign({},e,{id:this.state.currentEditableAd.id})):this._createAd(e)}},{key:"createOrUpdateCampaign",value:function(e){return this.state.currentEditableCampaign&&this.state.currentEditableCampaign.hasOwnProperty("id")?this._updateCampaignProxy(Object.assign({},e,{id:this.state.currentEditableCampaign.id})):this._createCampaign(e)}},{key:"deleteCampaignOrAd",value:function(){this.setState({isBusy:!0});var e=this.state.dialog,t=e.meta,r=e.record;switch(t.type){case"ad":return this._deleteAd(r);case"campaign":return this._deleteCampaign(r);default:return this.setState({isBusy:!1})}}},{key:"handleAdAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.state.isBusy)return this._summonBusyToast();switch(e){case"active":return this._updateAdActive(t);case"create":return this.setState({currentEditableAd:{ad_type:r},view:"createOrEditAd"});case"delete":return this._summonPrompt(t,{action:"delete",type:"ad"});case"edit":return this.setState({currentEditableAd:t,view:"createOrEditAd"});default:return}}},{key:"handleCampaignAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.state.isBusy)return this._summonBusyToast();switch(e){case"active":return this._toggleCampaignActive(t);case"create":return this.setState({view:e});case"delete":return this._summonPrompt(t,{action:"delete",type:"campaign"});case"edit":return this.setState({currentEditableCampaign:t,isBusy:!0,view:"edit"},this._getAds);case"view":return this.setState({currentEditableCampaign:t,isBusy:!0,view:"view"},this._getAds);default:return}}},{key:"handleBreadcrumbClick",value:function(e,t){t&&t.hasOwnProperty("action")&&"function"==typeof t.action&&(e.preventDefault(),t.action())}},{key:"handlePagination",value:function(e){var t=this;return this.setState({isBusy:!0}),this._getPaginatedAdCampaigns({page:e}).then(function(e){return t._getPaginatedAdCampaignsResolver(e,{},t._scrollToTop)}).catch(function(e){(0,m.default)("EditAds handlePagination",e),t.setState({isBusy:!1})})}},{key:"handleSearch",value:function(e){var t=this;return this.setState({isBusy:!0}),this._getPaginatedAdCampaigns({search:e}).then(function(r){return t._getPaginatedAdCampaignsResolver(r,{currentSearch:e})}).catch(function(e){(0,m.default)("EditAds handleSearch",e),t.setState({isBusy:!1})})}},{key:"handleSort",value:function(e){var t=this;return this.setState({isBusy:!0}),this._getPaginatedAdCampaigns({sort:e,page:1}).then(function(r){return t._getPaginatedAdCampaignsResolver(r,{currentSort:e})}).catch(function(e){(0,m.default)("EditAds handleSort",e),t.setState({isBusy:!1})})}},{key:"_getCurrentOrPreviousPagePostDeletion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=parseInt(this.state.pagination.per_page)-e;return t>0||null!==this.state.pagination.next_page?this.state.pagination.current_page:Math.max(parseInt(this.state.pagination.current_page)-1,1)}},{key:"_scrollToAdsList",value:function(){this._scrollToEl("adListScrollAnchor")}},{key:"_scrollToEl",value:function(e){var t=document.getElementById(e);t&&(0,h.default)(t,0)}},{key:"_scrollToTop",value:function(e){(0,h.default)(document.body),e&&(0,g.summonGlobalMessenger)(e)}},{key:"_summonBusyToast",value:function(){(0,g.summonGlobalMessenger)({msg:"Things are happening, please wait a second and try again.",type:"error"})}},{key:"_summonPrompt",value:function(e,t){this.setState({dialog:{open:!0,meta:t,record:e}})}},{key:"_toggleCampaignActive",value:function(e){var t=this;return!0===e.active?this._summonPrompt(Object.assign({},e,{active:!e.active}),{action:"update",type:"campaign"}):this._updateCampaign(Object.assign({},e,{active:!e.active}),function(){return t._scrollToTop({msg:"Campaign was activated!",type:"success"})})}},{key:"_translateAdRecordForRequest",value:function(e){var t=(0,_.removeFromObject)(e,["cover_image","mobile_cover_image","platforms","tags"]);return Object.assign({},t,{ad_campaign_id:this.state.currentEditableCampaign.id,cover_image_id:e.cover_image.id,mobile_cover_image_id:(0,y.getInObj)(["mobile_cover_image","id"],e),platform_ids:e.platforms,tag_ids:e.tags})}},{key:"_updateCampaignProxy",value:function(e){return!1===e.active&&!0===this.state.currentEditableCampaign.active?this._summonPrompt(e,{action:"update",type:"campaign"}):this._updateCampaign(e)}},{key:"_createAd",value:function(e){var t=this;return(0,p.graphMutate)({t:"create_ad"},this._translateAdRecordForRequest(e)).then(function(){return t._getAdsForCampaign()}).then(function(e){return t._getAdsForCampaignResolver(e,{view:"edit"},t._scrollToAdsList)}).catch(function(e){(0,g.summonGlobalMessenger)({msg:"Sorry, creating your ad failed.",type:"error"}),(0,m.default)("EditAds _createAd",e),t.setState({isBusy:!1})})}},{key:"_createCampaign",value:function(e){var t=this;return this.setState({isBusy:!0}),(0,p.graphMutate)({t:"create_ad_campaign"},e).then(function(r){var n=r.campaign;t.setState({currentEditableCampaign:Object.assign({active:!1},e,n)})}).then(function(){return t._getPaginatedAdCampaigns({page:1})}).then(function(e){return t._getPaginatedAdCampaignsResolver(e,{view:"edit"})}).catch(function(e){(0,g.summonGlobalMessenger)({msg:"Sorry, creating your ad campaign failed.",type:"error"}),(0,m.default)("EditAds _createCampaign",e),t.setState({isBusy:!1})})}},{key:"_deleteAd",value:function(e){var t=this;return(0,p.graphMutate)({t:"delete_ads"},{id:e.id}).then(function(){return t._getAdsForCampaign()}).then(function(e){return t._getAdsForCampaignResolver(e,{},t._scrollToAdsList)}).catch(function(e){(0,g.summonGlobalMessenger)({msg:"Sorry, delete failed.",type:"error"}),(0,m.default)("EditAds _deleteAd",e),t.setState({dialog:C,isBusy:!1})})}},{key:"_deleteCampaign",value:function(e){var t=this;return(0,p.graphMutate)({t:"delete_ad_campaign"},{id:e.id}).then(function(){return t._getPaginatedAdCampaigns({page:t._getCurrentOrPreviousPagePostDeletion(1)})}).then(function(e){return t._getPaginatedAdCampaignsResolver(e)}).catch(function(e){(0,g.summonGlobalMessenger)({msg:"Sorry, delete failed.",type:"error"}),(0,m.default)("EditAds _deleteCampaign",e),t.setState({dialog:C,isBusy:!1})})}},{key:"_getAds",value:function(){var e=this;return this._getAdsForCampaign().then(function(t){return e._getAdsForCampaignResolver(t)}).catch(function(t){(0,g.summonGlobalMessenger)({msg:"Sorry, we couldnt retrieve the ads, try reloading the page.",type:"error"}),(0,m.default)("EditAds _getAds",t),e.setState({isBusy:!1})})}},{key:"_getAdsForCampaign",value:function(){var e=this;return new Promise(function(t,r){return(0,p.graphQuery)({t:"get_ad_campaign_ads"},{campaign_id:e.state.currentEditableCampaign.id}).then(function(e){var r=e.ads;return t(r)}).catch(function(e){return r(e)})})}},{key:"_getAdsForCampaignResolver",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};this.setState(Object.assign({},t,{dialog:C,currentEditableCampaignAds:e,isBusy:!1}),r)}},{key:"_getPaginatedAdCampaigns",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.page,n=void 0===r?this.state.pagination.current_page:r,a=t.search,o=void 0===a?this.state.currentSearch:a,i=t.sort,l=void 0===i?this.state.currentSort:i;return new Promise(function(t,r){return(0,p.graphQuery)({t:"get_ad_campaigns"},{page:n,per_page:e.state.pagination.per_page,search:o,sort:l}).then(function(e){var r=e.campaigns;return t(r)}).catch(function(e){return r(e)})})}},{key:"_getPaginatedAdCampaignsResolver",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.metadata,r=e.records,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};this.setState(Object.assign({},n,{dialog:C,isBusy:!1,pagination:t,records:r}),a)}},{key:"_updateAd",value:function(e){var t=this;return(0,p.graphMutate)({t:"update_ad"},this._translateAdRecordForRequest(e)).then(function(){return t._getAdsForCampaign()}).then(function(e){return t._getAdsForCampaignResolver(e,{view:"edit"},t._scrollToAdsList)}).catch(function(e){(0,g.summonGlobalMessenger)({msg:"Sorry, update failed.",type:"error"}),(0,m.default)("EditAds _updateAd",e),t.setState({isBusy:!1})})}},{key:"_updateAdActive",value:function(e){var t=this;return this.setState({isBusy:!0}),(0,p.graphMutate)({t:"update_ad_active"},{active:!e.active,id:e.id}).then(function(){return t._getAdsForCampaign()}).then(function(e){return t._getAdsForCampaignResolver(e,{},t._scrollToAdsList)}).catch(function(e){var r=(0,y.getInObjWithPrototypeAccess)(["response","body","errors"],e);(0,g.summonGlobalMessenger)({msg:r?r[0].replace("Unauthorized Mutation: ",""):"Sorry, update failed",type:"error"}),(0,m.default)("EditAds _updateAdActive",e),t.setState({dialog:C,isBusy:!1})})}},{key:"_updateCampaign",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.setState({isBusy:!0}),(0,p.graphMutate)({t:"update_ad_campaign"},e).then(function(){return t._getPaginatedAdCampaigns()}).then(function(r){return Promise.all([r,t._updateCampaignGetAdsProxy(e)])}).then(function(n){var a=w(n,2),o=a[0],i=a[1];return t._updateCampaignResolver(o,e,i,r)}).catch(function(e){(0,g.summonGlobalMessenger)({msg:"Sorry, update failed.",type:"error"}),(0,m.default)("EditAds _updateCampaign",e),t.setState({dialog:C,isBusy:!1})})}},{key:"_updateCampaignGetAdsProxy",value:function(e){return"edit"===this.state.view&&e.active!==this.state.currentEditableCampaign.active?this._getAdsForCampaign():Promise.resolve(this.state.currentEditableCampaignAds)}},{key:"_updateCampaignResolver",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,g.summonGlobalMessenger)({msg:"Campaign was updated!",type:"success"});this._getPaginatedAdCampaignsResolver(e,{currentEditableCampaign:Object.assign({},this.state.currentEditableCampaign,t),currentEditableCampaignAds:r},n)}},{key:"_getBreadcrumbForView",value:function(e){var t=this;switch(e){case"create":return{action:function(){return t.setState({view:"default"})},href:"/admin/ads",msg:"Back to campaigns"};case"createOrEditAd":return{action:function(){return t.setState({currentEditableAd:null,view:"edit"},t._scrollToAdsList)},href:"/admin/ads",msg:"Back to campaign: ".concat(this.state.currentEditableCampaign.name)};case"edit":case"view":return{action:function(){return t.setState({currentEditableCampaign:null,currentEditableCampaignAds:null,view:"default"})},href:"/admin/ads",msg:"Back to campaigns"};default:return{action:null,href:"/admin",msg:"Admin panel"}}}},{key:"_getPromptCopy",value:function(){var e=this;if(!this.state.dialog.open)return j;switch(this.state.dialog.meta.action){case"delete":return{action:"Delete",body:"Keep in mind that deleted ad and campaigns cannot be retrieved again. If you need to make a change to an existing ad or campaign, consider editing it instead.",okFn:this.deleteCampaignOrAd,title:"You are about to delete: ".concat((0,y.getInObj)(["name"],this.state.dialog.record)||"")};case"update":return{action:"Deactivate",body:"When you deactivate a campaign, all of its ads are also deactivated. Are you sure?",okFn:function(){return e._updateCampaign(e.state.dialog.record)},title:"You are about to deactivate: ".concat((0,y.getInObj)(["name"],this.state.dialog.record)||"")};default:return j}}},{key:"_getRenderedView",value:function(){switch(this.state.view){case"create":return this._getAddOrEditAdCampaignView("default");case"createOrEditAd":return this._getAddOrEditAdFormView();case"edit":return this._getAddOrEditAdCampaignView("edit");case"view":return this._getCampaignDashboard();default:return this._getListView()}}},{key:"_getAddOrEditAdCampaignView",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return n.default.createElement(o.default,{createOrUpdateCampaign:this.createOrUpdateCampaign,currentEditableCampaignAds:this.state.currentEditableCampaignAds,dismiss:function(){return e.setState({currentEditableCampaign:null,currentEditableCampaignAds:null,view:"default"},e._scrollToTop)},initRecord:this.state.currentEditableCampaign,isBusy:this.state.isBusy,mode:t,onActionable:this.handleAdAction})}},{key:"_getAddOrEditAdFormView",value:function(){var e=this;return n.default.createElement(l.default,{algoliaServices:{platforms:this.algoliaPlatformsService,tags:this.algoliaTagsService},dismiss:function(){return e.setState({currentEditableAd:null,view:"edit"},e._scrollToAdsList)},isBusy:this.state.isBusy,mode:this.state.currentEditableAd.hasOwnProperty("id")?"edit":"default",record:this.state.currentEditableAd,saveContent:this.createOrUpdateAd})}},{key:"_getCampaignDashboard",value:function(){var e=this;return n.default.createElement(u.default,{ads:this.state.currentEditableCampaignAds,campaign:this.state.currentEditableCampaign,goToAdEdit:function(t){return e.setState({currentEditableAd:t,view:"createOrEditAd"})},isBusy:this.state.isBusy})}},{key:"_getListView",value:function(){var e=this;return n.default.createElement(i.default,{currentSort:this.state.currentSort,isBusy:this.state.isBusy,onActionable:this.handleCampaignAction,onPagination:this.handlePagination,onSearch:this.handleSearch,onSort:this.handleSort,pagination:this.state.pagination,records:this.state.records,toggleCurrentView:function(t){return e.setState({view:t})}})}},{key:"render",value:function(){var e=this,t=this._getBreadcrumbForView(this.state.view),r=this._getPromptCopy();return n.default.createElement("div",{className:v.default.container},n.default.createElement("div",{className:"".concat(v.default.wrapper1170," ").concat(v.default.marginTop15)},n.default.createElement(s.default,{href:t.href,onClick:function(r){return e.handleBreadcrumbClick(r,t)},text:t.msg}),this._getRenderedView()),n.default.createElement(c.default,{action:r.action,actionColor:"danger",body:r.body,dismiss:function(){return e.setState({dialog:C})},isBusy:this.state.isBusy,okay:r.okFn,open:this.state.dialog.open,title:r.title}))}}])&&E(r.prototype,a),b&&E(r,b),t}();R.propTypes={campaigns:a.default.shape({metadata:a.default.shape({current_page:a.default.integer,next_page:a.default.integer,per_page:a.default.integer,prev_page:a.default.integer}).isRequired,records:a.default.arrayOf(a.default.shape({active:a.default.bool.isRequired,client:a.default.string.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,updated_at:a.default.string.isRequired})).isRequired}).isRequired};var T=R;t.default=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(2306)),i=s(r(2307)),l=s(r(2)),u=s(r(3));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return n.default.createElement("div",null,n.default.createElement("h1",{className:"".concat(u.default.h1," ").concat(l.default.marginBottom60)},"default"===e.mode?"Create ad campaign":"Edit campaign"),"default"===e.mode?(r=(t=e).createOrUpdateCampaign,a=t.dismiss,s=t.isBusy,n.default.createElement(o.default,{dismiss:a,isBusy:s,saveContent:r})):function(e){var t=e.createOrUpdateCampaign,r=e.currentEditableCampaignAds,a=e.dismiss,o=e.initRecord,l=e.isBusy,u=e.onActionable;return n.default.createElement(i.default,{campaignAds:r,dismiss:a,initRecord:o,isBusy:l,onActionable:u,saveContent:t})}(e));var t,r,a,s};c.propTypes={createOrUpdateCampaign:a.default.func.isRequired,currentEditableCampaignAds:a.default.arrayOf(a.default.object),dismiss:a.default.func.isRequired,initRecord:a.default.shape({active:a.default.bool.isRequired,client:a.default.string.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,updated_at:a.default.string.isRequired}),isBusy:a.default.bool.isRequired,mode:a.default.oneOf(["edit","default"]),onActionable:a.default.func.isRequired},c.defaultProps={currentEditableCampaignAds:null,mode:"default"};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(38)),i=f(r(15)),l=r(85),u=r(43),s=r(12),c=f(r(52)),d=f(r(2));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _={client:{order:1,validate:function(e){return(0,u.minLength)(1,e)},value:""},name:{order:0,validate:function(e){return(0,u.minLength)(1,e)},value:""}},v=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?y(n):a).state={errors:{},fields:(0,l.initFields)(_,null)},r.createCampaign=r.createCampaign.bind(y(r)),r.getErrorForField=l.getErrorForField.bind(y(r)),r.getFieldValuesAsObject=l.getFieldValuesAsObject.bind(y(r)),r.setStateOrError=l.setStateOrError.bind(y(r)),r.validate=l.validateFields.bind(y(r)),r}var r,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){(0,s.windowScrollTo)(0,0)}},{key:"createCampaign",value:function(){this.validate()&&this.props.saveContent(this.getFieldValuesAsObject())}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:c.default.container},n.default.createElement("div",null,n.default.createElement("div",{id:"vfname"},n.default.createElement(o.default,{errors:this.state.errors.name,label:"Name",onChange:function(t){return e.setStateOrError(null,"name",t.target.value)},placeholder:"i.e. Product launch campaign",value:this.state.fields.name.value})),n.default.createElement("div",{id:"vfclient"},n.default.createElement(o.default,{errors:this.state.errors.client,label:"Client",onChange:function(t){return e.setStateOrError(null,"client",t.target.value)},placeholder:"i.e. Raspberry Pi",value:this.state.fields.client.value}))),n.default.createElement("div",{className:"".concat(d.default.marginTop60)},n.default.createElement(i.default,{disabled:this.props.isBusy,onClick:function(){return e.createCampaign()},size:"lg"},"Create campaign"),n.default.createElement(i.default,{colorStyle:"cancel",disabled:this.props.isBusy,onClick:this.props.dismiss,size:"lg"},"Cancel")))}}])&&m(r.prototype,a),u&&m(r,u),t}();v.propTypes={dismiss:a.default.func.isRequired,isBusy:a.default.bool.isRequired,saveContent:a.default.func.isRequired};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=y(r(1)),o=y(r(2308)),i=y(r(38)),l=y(r(15)),u=y(r(106)),s=y(r(132)),c=r(8),d=r(85),f=r(43),p=r(12),m=y(r(52)),h=y(r(2));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w={active:{order:2,validate:function(e){return null},value:!1,notRequired:!0},client:{order:1,validate:function(e){return(0,f.minLength)(1,e)},value:""},name:{order:0,validate:function(e){return(0,f.minLength)(1,e)},value:""}},E=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=v(t).call(this,e))||"object"!==g(a)&&"function"!=typeof a?b(n):a).state={errors:{},fields:(0,d.initFields)(w,e.initRecord)},r.addOrUpdateContent=r.addOrUpdateContent.bind(b(r)),r.getErrorForField=d.getErrorForField.bind(b(r)),r.getFieldValuesAsObject=d.getFieldValuesAsObject.bind(b(r)),r.setStateOrError=d.setStateOrError.bind(b(r)),r.validate=d.validateFields.bind(b(r)),r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){(0,p.windowScrollTo)(0,0)}},{key:"addOrUpdateContent",value:function(){this.validate()&&this.props.saveContent(this.getFieldValuesAsObject())}},{key:"_hasChanges",value:function(){return this.props.initRecord.name!==this.state.fields.name.value||this.props.initRecord.client!==this.state.fields.client.value||this.props.initRecord.active!==this.state.fields.active.value}},{key:"render",value:function(){var e=this;return n.default.createElement("div",null,n.default.createElement("div",{className:m.default.container},n.default.createElement("div",{id:"vfname"},n.default.createElement(i.default,{errors:this.state.errors.name,label:"Name",onChange:function(t){return e.setStateOrError(null,"name",t.target.value)},placeholder:"i.e. Product launch campaign",value:this.state.fields.name.value})),n.default.createElement("div",{id:"vfclient"},n.default.createElement(i.default,{errors:this.state.errors.client,label:"Client",onChange:function(t){return e.setStateOrError(null,"client",t.target.value)},placeholder:"i.e. Raspberry Pi",value:this.state.fields.client.value})),n.default.createElement("div",{id:"vfactive"},n.default.createElement(s.default,{errors:this.state.errors.active,helperText:"When a campaign is activated, all qualifiable ads will be published immediately and all scheduled ads will be published on their date. When not active, all ads always remain unpublished.",label:"Activate",value:""},n.default.createElement(u.default,{errors:this.state.errors.active,label:this.state.fields.active.value?"Active":"Not active",isChecked:this.state.fields.active.value,onChange:function(t){return e.setStateOrError(null,"active",t)},value:this.state.fields.active.value}))),n.default.createElement("div",{className:"".concat(h.default.marginTop60)},n.default.createElement(l.default,{disabled:this.props.isBusy||!this._hasChanges(),onClick:this.addOrUpdateContent,size:"lg"},"Save changes"),n.default.createElement(l.default,{colorStyle:"cancel",disabled:this.props.isBusy,onClick:this.props.dismiss,size:"lg"},"Back to campaigns"))),n.default.createElement("hr",{id:"adListScrollAnchor",className:"".concat(h.default.marginTop45," ").concat(h.default.marginBottom45)}),n.default.createElement(o.default,{campaignAds:this.props.campaignAds,isBusy:this.props.isBusy,isCampaignActive:(0,c.getInObj)(["active"],this.props.initRecord)||!1,onActionable:this.props.onActionable}))}}])&&_(r.prototype,a),f&&_(r,f),t}();E.propTypes={campaignAds:a.default.arrayOf(a.default.object),dismiss:a.default.func.isRequired,initRecord:a.default.shape({active:a.default.bool.isRequired,client:a.default.string.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,updated_at:a.default.string}),isBusy:a.default.bool.isRequired,onActionable:a.default.func.isRequired,saveContent:a.default.func.isRequired},E.defaultProps={campaignAds:null,initRecord:null};var P=E;t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=m(r(1)),o=m(r(2309)),i=m(r(975)),l=m(r(2310)),u=m(r(274)),s=m(r(119)),c=m(r(2)),d=m(r(3)),f=m(r(5)),p=m(r(140));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=[{key:"all",default:!0,label:"All",value:null}],O=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,_(t).call(this,e))}var r,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,n.Component),r=t,(a=[{key:"_getEmptyListView",value:function(){return n.default.createElement("p",{className:"".concat(c.default.marginTop30," ").concat(c.default.marginBottom30," ").concat(c.default.marginLeft15)},"This campaign has no ads.")}},{key:"_getListView",value:function(){var e=this;return this.props.isBusy?n.default.createElement(i.default,null):this.props.campaignAds&&this.props.campaignAds.length?this.props.campaignAds.map(function(t){return n.default.createElement(o.default,{key:t.id,ad:t,isCampaignActive:e.props.isCampaignActive,onActionable:e.props.onActionable})}):this._getEmptyListView()}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:c.default.marginBottom60},n.default.createElement("div",{className:p.default.header},n.default.createElement("h1",{className:d.default.h1},"Ads"),n.default.createElement("div",{className:p.default.actionsWrapper},n.default.createElement(l.default,{onSelection:function(t){return e.props.onActionable("create",null,t)}}))),n.default.createElement("div",null,n.default.createElement(u.default,{classList:{wrapper:f.default.borderBottom}},n.default.createElement(s.default,{onSelection:function(e){},options:b,tabbedViewUnderline:!1,view:"tabbed"}))),n.default.createElement("div",{style:{minHeight:200}},this._getListView()))}}])&&y(r.prototype,a),m&&y(r,m),t}();O.propTypes={campaignAds:a.default.arrayOf(a.default.shape({activate_at:a.default.string,active:a.default.bool.isRequired,ad_campaign_id:a.default.number.isRequired,ad_type:a.default.string.isRequired,cached_impressions:a.default.number,cover_image:a.default.shape({id:a.default.number.isRequired,url:a.default.string.isRequired}).isRequired,id:a.default.number.isRequired,is_activatable:a.default.bool.isRequired,limit:a.default.number,link:a.default.string.isRequired,mobile_cover_image:a.default.shape({id:a.default.number.isRequired,url:a.default.string.isRequired}),name:a.default.string.isRequired,platforms:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired})),regions:a.default.arrayOf(a.default.string),tags:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired})),text:a.default.string,updated_at:a.default.string.isRequired})),isBusy:a.default.bool.isRequired,isCampaignActive:a.default.bool.isRequired,onActionable:a.default.func.isRequired},O.defaultProps={campaignAds:null};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(974)),i=r(75),l=r(16),u=f(r(2)),s=f(r(3)),c=f(r(5)),d=f(r(140));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t){var r=function(e,t){return t?e.active?{statusClass:c.default.statusCircleGreen,titleText:"Active"}:e.activate_at&&(0,l.timeIsFuture)(e.activate_at,!0)?{statusClass:c.default.statusCircleGold,titleText:"Scheduled"}:{statusClass:c.default.statusCircleRed,titleText:"Inactive"}:{statusClass:c.default.statusCircleRed,titleText:"Inactive"}}(e,t),a=r.statusClass,o=r.titleText;return n.default.createElement("div",{className:u.default.flexCenterItems,title:o},n.default.createElement("div",{className:"".concat(a," ").concat(d.default.statusColorBlock," ").concat(u.default.marginRight10)}),n.default.createElement("div",{className:u.default.flexColumn},e.active?m(e):h(e),function(e){return n.default.createElement("span",{className:"".concat(s.default.bodyS)},"Impressions: ".concat(e.cached_impressions||0," / ").concat(e.limit||"∞"))}(e),e.regions.length>0&&function(e){return n.default.createElement("span",{className:"".concat(s.default.bodyS)},"Regions: ".concat(e.regions.map(i.adRegionEnumToHumanAbbr).join(", ")))}(e)))},m=function(e){return e.activate_at?n.default.createElement("span",{className:"".concat(s.default.bodyS)},"Activated on: ".concat((0,l.timestampToPrettyDate)(e.activate_at,"MM/DD/YYYY",!1))):null},h=function(e){return n.default.createElement(n.Fragment,null,e.activate_at&&(0,l.timeIsFuture)(e.activate_at,!0)&&n.default.createElement("span",{className:"".concat(s.default.bodyS)},"Scheduled for: ".concat((0,l.timestampToPrettyDate)(e.activate_at,"MM/DD/YYYY",!1))),!e.activate_at&&n.default.createElement("span",{className:"".concat(s.default.bodyS)},"Last updated: ".concat((0,l.timestampToPrettyDate)(e.updated_at,"MM/DD/YYYY",!1))))},y=function(e){var t=e.ad,r=e.isCampaignActive,a=e.onActionable;return n.default.createElement("div",{className:d.default.listItem},n.default.createElement("div",{className:d.default.listItemTitleCell},n.default.createElement("div",{className:d.default.listItemData},n.default.createElement("p",{className:"".concat(s.default.graphite," ").concat(s.default.bodyM," ").concat(s.default.bold)},t.name),n.default.createElement("div",{className:d.default.listItemMobileAuthorStatus},n.default.createElement("p",{className:"".concat(s.default.bodyS," ").concat(u.default.marginBottom5)},(0,i.adTypeEnumToHuman)(t.ad_type)),p(t,r)))),n.default.createElement("div",{className:d.default.listItemAuthorCell},n.default.createElement("p",{className:s.default.bodyS},(0,i.adTypeEnumToHuman)(t.ad_type))),n.default.createElement("div",{className:d.default.listItemDateCell},p(t,r)),n.default.createElement(o.default,{isCampaignActive:r,onActionable:a,record:t,renderForType:"ad"}))};y.propTypes={ad:a.default.shape({activate_at:a.default.string,active:a.default.bool.isRequired,ad_campaign_id:a.default.number.isRequired,ad_type:a.default.string.isRequired,cached_impressions:a.default.number,cover_image:a.default.shape({id:a.default.number.isRequired,url:a.default.string.isRequired}).isRequired,id:a.default.number.isRequired,is_activatable:a.default.bool.isRequired,limit:a.default.number,link:a.default.string.isRequired,mobile_cover_image:a.default.shape({id:a.default.number.isRequired,url:a.default.string.isRequired}),name:a.default.string.isRequired,platforms:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired})),regions:a.default.arrayOf(a.default.string),tags:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired})),text:a.default.string,updated_at:a.default.string.isRequired}).isRequired,isCampaignActive:a.default.bool.isRequired,onActionable:a.default.func.isRequired},y.defaultProps={};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(88)),i=d(r(9)),l=r(75),u=d(r(10)),s=d(r(2)),c=d(r(262));function d(e){return e&&e.__esModule?e:{default:e}}var f=[{label:"Content Page",value:l.CONTENT_PAGE},{label:"Home Page Banner",value:l.HOME_PAGE_BANNER},{label:"News Gallery",value:l.NEWS_GALLERY},{label:"News Page Hero",value:l.NEWS_PAGE_HERO}],p=function(e){var t=e.onSelection;return n.default.createElement(o.default,{classList:{button:"".concat(u.default.md," ").concat(u.default.hackster)},closeOnSelect:!0,label:n.default.createElement("span",null,n.default.createElement("span",null,"Create ad"),n.default.createElement(i.default,{className:s.default.marginLeft15,name:"arrow-down",size:"12"}))},n.default.createElement("ul",{className:c.default.list},f.map(function(e,r){return n.default.createElement("li",{key:r,className:c.default.listItem,onClick:function(){return t(e.value)}},e.label)})))};p.propTypes={onSelection:a.default.func.isRequired};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=b(r(1)),o=b(r(2312)),i=b(r(975)),l=b(r(223)),u=b(r(57)),s=b(r(15)),c=b(r(274)),d=b(r(9)),f=b(r(180)),p=b(r(119)),m=r(2313),h=b(r(10)),y=b(r(2)),g=b(r(3)),_=b(r(5)),v=b(r(140));function b(e){return e&&e.__esModule?e:{default:e}}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=[{key:"all",default:!0,label:"All",value:m.ACTIVE_UPDATED_DESC},{key:"active",label:"Active",value:m.ACTIVE},{key:"inactive",label:"Inactive",value:m.INACTIVE}],C=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,P(t).call(this,e))}var r,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,n.PureComponent),r=t,(a=[{key:"_getSimpleSelectOpts",value:function(){var e=this;return S.map(function(t){return e.props.currentSort===t.value?Object.assign({},t,{active:!0}):Object.assign({},t,{active:!1})})}},{key:"_getEmptyView",value:function(){return n.default.createElement("p",{className:"".concat(g.default.bodyM," ").concat(y.default.paddingTop30)},"No campaigns found")}},{key:"_getLayoutBreadCrumb",value:function(){return n.default.createElement(u.default,{direction:"left",href:"/admin",text:"Admin panel",size:"M"})}},{key:"_getListView",value:function(){var e=this;return this.props.isBusy?n.default.createElement(i.default,null):this.props.records.length?this.props.records.map(function(t){return n.default.createElement(o.default,{key:t.id,campaign:t,onActionable:e.props.onActionable})}):this._getEmptyView()}},{key:"_getPaginatorView",value:function(){var e=this;return this.props.pagination.next_page||this.props.pagination.prev_page?n.default.createElement(f.default,{classList:{root:y.default.marginTop30},currentPage:this.props.pagination.current_page,currentQuery:this.props.currentQuery,disabled:this.props.isBusy,nextPage:this.props.pagination.next_page,onClick:function(t){return e.props.onPagination(t)},prevPage:this.props.pagination.prev_page}):null}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:y.default.container},n.default.createElement("div",{className:y.default.wrapper1170},n.default.createElement("div",{className:v.default.header},n.default.createElement("h1",{className:g.default.h1},"Ad Campaigns"),n.default.createElement("div",{className:v.default.actionsWrapper},n.default.createElement(l.default,{classList:{wrapper:v.default.inputWrapper},enableX:!0,onEnter:this.props.onSearch,placeholder:"Search by campaign name or client"}),n.default.createElement(s.default,{className:"".concat(h.default.inputPairedRight," ").concat(y.default.flex10Auto),onClick:function(){return e.props.onActionable("create")},size:"md"},n.default.createElement("span",{className:v.default.addBtnDefault},"New campaign"),n.default.createElement(d.default,{className:v.default.addBtnPlus,name:"plus",size:"16"})))),n.default.createElement("div",null,n.default.createElement(c.default,{classList:{wrapper:_.default.borderBottom}},n.default.createElement(p.default,{onSelection:function(t){return e.props.onSort(t.value)},options:this._getSimpleSelectOpts(),tabbedViewUnderline:!1,view:"tabbed"}))),n.default.createElement("div",{className:v.default.listWrapper},this._getListView(),this._getPaginatorView())))}}])&&w(r.prototype,a),m&&w(r,m),t}();C.propTypes={currentSort:a.default.string,isBusy:a.default.bool.isRequired,onActionable:a.default.func.isRequired,onPagination:a.default.func.isRequired,onSearch:a.default.func.isRequired,onSort:a.default.func.isRequired,pagination:a.default.shape({current_page:a.default.number.isRequired,next_page:a.default.number,prev_page:a.default.number}).isRequired,records:a.default.arrayOf(a.default.shape({active:a.default.bool.isRequired,client:a.default.string.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,updated_at:a.default.string.isRequired})).isRequired};var j=C;t.default=j},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(974)),i=r(16),l=d(r(2)),u=d(r(3)),s=d(r(5)),c=d(r(140));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,h(t).call(this,e))}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.PureComponent),r=t,(a=[{key:"_getStatusView",value:function(){var e=this.props.campaign.active?s.default.statusCircleGreen:s.default.statusCircleRed,t=this.props.campaign.active?"Active":"Inactive";return n.default.createElement("div",{className:l.default.flexCenterItems,title:t},n.default.createElement("div",{className:"".concat(e," ").concat(c.default.statusColorBlock," ").concat(l.default.marginRight10)}),n.default.createElement("span",{className:"".concat(u.default.bodyS)},"Last updated: ".concat((0,i.timestampToPrettyDate)(this.props.campaign.updated_at,"MM/DD/YYYY",!1))))}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:c.default.listItem},n.default.createElement("div",{className:c.default.listItemTitleCell},n.default.createElement("div",{className:c.default.listItemData},n.default.createElement("p",{className:"".concat(u.default.linkGraphite," ").concat(u.default.bodyM," ").concat(u.default.bold),onClick:function(){return e.props.onActionable("view",e.props.campaign)}},this.props.campaign.name),n.default.createElement("div",{className:c.default.listItemMobileAuthorStatus},this._getStatusView(),n.default.createElement("p",{className:"".concat(u.default.bodyS," ").concat(l.default.marginBottom5)},this.props.campaign.client)))),n.default.createElement("div",{className:c.default.listItemAuthorCell},n.default.createElement("p",{className:u.default.bodyS},this.props.campaign.client)),n.default.createElement("div",{className:c.default.listItemDateCell},this._getStatusView()),n.default.createElement(o.default,{onActionable:this.props.onActionable,record:this.props.campaign,renderForType:"campaign"}))}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={campaign:a.default.shape({active:a.default.bool.isRequired,client:a.default.string.isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired,updated_at:a.default.string.isRequired}).isRequired,onActionable:a.default.func.isRequired};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INACTIVE=t.ACTIVE_UPDATED_DESC=t.ACTIVE=void 0;t.ACTIVE="ACTIVE_ONLY";t.ACTIVE_UPDATED_DESC="ACTIVE_UPDATED_DESC";t.INACTIVE="INACTIVE_ONLY"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(281)),i=f(r(2319)),l=f(r(2320)),u=f(r(2321)),s=f(r(2322)),c=r(2323),d=r(75);function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var m={allowGifs:!0,attachmentType:"CoverImage",label:"Image"},h=function(e){return n.default.createElement("div",null,function(e){switch(e.record.ad_type){case d.CONTENT_PAGE:return n.default.createElement(i.default,p({COVER_IMAGE_PROPS:Object.assign({aspectRatio:4/3,dimensionMins:{width:270},helperText:"This image should have a ratio of 4:3 and be at least 270x202px for the best quality."},m),FIELDS_TEMPLATE:c.DEFAULT_FIELDS_TEMPLATE,PREVIEW_VIEW:function(e){return n.default.createElement(o.default,e)},TITLE:"".concat("default"===e.mode?"Create":"Edit"," content page ad")},e));case d.HOME_PAGE_BANNER:return n.default.createElement(i.default,p({FIELDS_TEMPLATE:c.HOME_PAGE_BANNER_FIELDS_TEMPLATE,RENDER_OVERRIDE:l.default},e));case d.NEWS_GALLERY:return n.default.createElement(i.default,p({FIELDS_TEMPLATE:c.NEWS_GALLERY_FIELDS_TEMPLATE,RENDER_OVERRIDE:u.default},e));case d.NEWS_PAGE_HERO:return n.default.createElement(i.default,p({FIELDS_TEMPLATE:c.NEWS_PAGE_HERO_FIELDS_TEMPLATE,RENDER_OVERRIDE:s.default},e));default:return null}}(e))};h.propTypes={algoliaServices:a.default.shape({platforms:a.default.object.isRequired,tags:a.default.object.isRequired}).isRequired,dismiss:a.default.func.isRequired,isBusy:a.default.bool.isRequired,mode:a.default.oneOf(["default","edit"]).isRequired,record:a.default.shape({ad_type:a.default.string.isRequired}).isRequired,saveContent:a.default.func.isRequired};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=r(8),i=r(11),l=u(r(387));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.ad,r=(0,o.getInObj)(["cover_image","url"],t);return(0,i.isBlank)(r)?n.default.createElement("div",{className:l.default.cpaPreview}):n.default.createElement("img",{className:l.default.cpa,src:r})};s.propTypes={ad:a.default.shape({cover_image:a.default.shape({url:a.default.string})})};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(162)),i=r(8),l=r(11),u=f(r(976)),s=f(r(2)),c=f(r(3)),d=f(r(387));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.default.createElement("div",{className:u.default.imageContainer},n.default.createElement(o.default,{className:t?d.default.hpbaMobile:d.default.hpba,ratio:"364:45",setStyle:!1,src:e,width:t?345:1170}))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.default.createElement("div",{className:e?d.default.hpbaMobilePreview:d.default.hpbaPreview})},h=function(e){var t=e.ad,r=(0,i.getInObj)(["cover_image","url"],t);return n.default.createElement("div",{className:"".concat(s.default.marginBottom30," ").concat(s.default.fullWidth)},n.default.createElement("p",{className:"".concat(s.default.marginBottom10," ").concat(c.default.bold," ").concat(c.default.h5," ").concat(c.default.charcoal)},"Desktop"),(0,l.isBlank)(r)?m():p(r),n.default.createElement("p",{className:"".concat(s.default.marginBottom10," ").concat(s.default.marginTop15," ").concat(c.default.bold," ").concat(c.default.h5," ").concat(c.default.charcoal)},"Mobile"),(0,l.isBlank)(r)?m(!0):p(r,!0))};h.propTypes={ad:a.default.shape({cover_image:a.default.shape({url:a.default.string})})};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=r(8),i=r(11),l=c(r(2)),u=c(r(3)),s=c(r(387));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.default.createElement("div",{className:e?s.default.newsGalMobileImagePreview:s.default.newsGalImagePreview})},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.default.createElement("div",{className:t?s.default.newsGalMobileImage:s.default.newsGalImage,style:{backgroundImage:"url(".concat(e,")")}})},p=function(){return n.default.createElement("div",{className:l.default.flex},n.default.createElement("div",{style:{minWidth:86}},"Sponsored by"),n.default.createElement("div",{className:"".concat(l.default.marginLeft5," ").concat(u.default.dummyM," ").concat(s.default.client)}))},m=function(){return n.default.createElement("div",null,n.default.createElement("div",{className:"".concat(l.default.marginBottom5," ").concat(u.default.dummyM)}),n.default.createElement("div",{className:"".concat(l.default.marginBottom5," ").concat(u.default.dummyM)}),n.default.createElement("div",{className:"".concat(l.default.marginBottom5," ").concat(u.default.dummyM)}))},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.default.createElement("div",{className:"".concat(t?s.default.newsGalMobileText:s.default.newsGalText," ").concat(u.default.bodyM," ").concat(u.default.bold," ").concat(u.default.breakWord," ").concat(u.default.link," ").concat(u.default.linkCharcoal)},e)},y=function(e){var t=e.ad,r=(0,o.getInObj)(["cover_image","url"],t),a=t.text;return n.default.createElement("div",{className:s.default.previewContainer},function(e,t){return n.default.createElement("div",null,n.default.createElement("p",{className:"".concat(l.default.marginBottom10," ").concat(u.default.bold," ").concat(u.default.h5," ").concat(u.default.charcoal)},"Desktop"),n.default.createElement("div",{className:s.default.newsGalPreview},(0,i.isBlank)(e)?d():f(e),n.default.createElement("div",{className:l.default.marginTop22},(0,i.isBlank)(t)?m():h(t),p())))}(r,a),function(e,t){return n.default.createElement("div",{className:s.default.previewMobileContainer},n.default.createElement("p",{className:"".concat(l.default.marginBottom10," ").concat(u.default.bold," ").concat(u.default.h5," ").concat(u.default.charcoal)},"Mobile"),n.default.createElement("div",{className:"".concat(s.default.newsGalMobilePreview," ").concat(l.default.flex)},(0,i.isBlank)(e)?d(!0):f(e,!0),n.default.createElement("div",{className:"".concat(s.default.newsGalMobileText," ").concat(l.default.marginLeft15," ").concat(l.default.flexColumn," ").concat(l.default.flexJustifyCenter)},(0,i.isBlank)(t)?m():h(t,!0),p())))}(r,a))};y.propTypes={ad:a.default.shape({cover_image:a.default.shape({url:a.default.string}),text:a.default.string})};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(162)),i=r(8),l=r(11),u=f(r(2)),s=f(r(3)),c=f(r(5)),d=f(r(387));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.default.createElement(o.default,{className:c.default.borderRadius,ratio:t?"4:1":"27:50",setStyle:!1,src:e,width:t?480:270})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.default.createElement("div",{className:e?d.default.nphaMobilePreview:d.default.nphaPreview})},h=function(e){var t=e.ad,r=(0,i.getInObj)(["cover_image","url"],t),a=(0,i.getInObj)(["mobile_cover_image","url"],t);return n.default.createElement("div",{className:"".concat(d.default.previewContainer," ").concat(u.default.marginBottom30," ").concat(u.default.fullWidth)},n.default.createElement("div",{className:d.default.nphaDesktopContainer},n.default.createElement("p",{className:"".concat(u.default.marginBottom10," ").concat(s.default.bold," ").concat(s.default.h5," ").concat(s.default.charcoal)},"Desktop"),(0,l.isBlank)(r)?m():p(r)),n.default.createElement("div",{className:"".concat(d.default.previewMobileContainer," ").concat(d.default.nphaMobileContainer)},n.default.createElement("p",{className:"".concat(u.default.marginBottom10," ").concat(s.default.bold," ").concat(s.default.h5," ").concat(s.default.charcoal)},"Mobile"),(0,l.isBlank)(a)?m(!0):p(a,!0)))};h.propTypes={ad:a.default.shape({cover_image:a.default.shape({url:a.default.string}),mobile_cover_image:a.default.shape({url:a.default.string})})};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=v(r(1)),o=v(r(358)),i=v(r(38)),l=v(r(15)),u=v(r(266)),s=v(r(121)),c=v(r(100)),d=r(271),f=r(75),p=r(8),m=r(85),h=r(12),y=v(r(52)),g=v(r(2)),_=v(r(3));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=E(t).call(this,e))||"object"!==b(a)&&"function"!=typeof a?P(n):a).state={errors:{},isBusy:!1,fields:(0,m.initFields)(e.FIELDS_TEMPLATE,e.record),workers:[]},r.addOrUpdateContent=r.addOrUpdateContent.bind(P(r)),r.getErrorForField=m.getErrorForField.bind(P(r)),r.getFieldValuesAsObject=m.getFieldValuesAsObject.bind(P(r)),r.setStateOrError=m.setStateOrError.bind(P(r)),r.validate=m.validateFields.bind(P(r)),r}var r,a,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){(0,h.windowScrollTo)(0,0)}},{key:"addOrUpdateContent",value:function(){this.validate()&&this.props.saveContent(Object.assign({},this.props.record,this.getFieldValuesAsObject()))}},{key:"_canScheduleAd",value:function(){return null===(0,p.getInObj)(["id"],this.props.record)||null===this.props.record.limit||this.props.record.cached_impressions<this.props.record.limit}},{key:"_getActivateAtHelperText",value:function(){return this._canScheduleAd()?"Set a date to schedule in the future. A scheduled ad activates 1 minute after midnight on its future date. This will not auto-activate when a campaign is inactive.":"Active date is disabled do to the impression limit being met: ".concat(this.props.record.cached_impressions," of limit: ").concat(this.props.record.limit,". Raise the limit and save first if you wish to reschedule this ad.")}},{key:"_setIsBusy",value:function(e,t){if(!e||!this.state.workers.includes(t)){var r=e?this.state.workers.concat(t):this.state.workers.filter(function(e){return e!==t});this.setState({isBusy:r.length>0,workers:r})}}},{key:"render",value:function(){var e=this;return this.props.RENDER_OVERRIDE?n.default.createElement(this.props.RENDER_OVERRIDE,{ctx:this}):n.default.createElement("form",{className:y.default.container},n.default.createElement("h1",{className:"".concat(_.default.h1," ").concat(g.default.marginBottom60)},this.props.TITLE),n.default.createElement("div",{id:"vfname"},n.default.createElement(i.default,{errors:this.state.errors.name,label:"Name",onChange:function(t){return e.setStateOrError(null,"name",t.target.value)},placeholder:"i.e. Product launch campaign",value:this.state.fields.name.value})),n.default.createElement("div",{id:"vflink"},n.default.createElement(i.default,{errors:this.state.errors.link,label:"Link",onChange:function(t){return e.setStateOrError(null,"link",t.target.value)},placeholder:"https://www.hackster.io",value:this.state.fields.link.value})),n.default.createElement("div",{id:"vfcover_image"},n.default.createElement(s.default,O({errors:this.state.errors.cover_image,imageData:this.state.fields.cover_image.value,propagateStatus:function(t){return e._setIsBusy(t,"cover_image")},propagateUpload:function(t){return e.setStateOrError(null,"cover_image",t)}},this.props.COVER_IMAGE_PROPS))),n.default.createElement("div",{id:"vfactivate_at"},n.default.createElement(u.default,{autoComplete:"off",disabled:!this._canScheduleAd(),errors:this.state.errors.activate_at,helperText:this._getActivateAtHelperText(),initValue:this.state.fields.activate_at.value,label:"Activate date (optional)",onChange:function(t){return e.setStateOrError(null,"activate_at",t)}})),n.default.createElement("div",{id:"vflimit"},n.default.createElement(i.default,{errors:this.state.errors.limit,helperText:"Deactivates the ad once this limit of views has been met.",label:"Impression limit (optional)",onChange:function(t){return e.setStateOrError(null,"limit",t.target.value)},placeholder:"Enter the impression limit.",type:"number",value:this.state.fields.limit.value})),n.default.createElement("div",{id:"vfregions"},n.default.createElement(c.default,{key:"regions",errors:this.state.errors.regions,helperText:"Shows users the ad by their IP address. Leave blank for global ads.",label:"Regions (optional)",onSelectedChange:function(t){return e.setStateOrError(null,"regions",t)},options:f.REGIONS,placeholder:"Select regions",selectOpts:{rule:"norule"},type:"multi",value:this.state.fields.regions.value})),n.default.createElement("div",{id:"vfplatforms"},n.default.createElement(o.default,{algoliaParameters:{hitsPerPage:100,initFacet:["model:Platform"]},algoliaRecordsToOptions:d.recordsToOptions,algoliaService:this.props.algoliaServices.platforms,errors:this.state.errors.platforms,helperText:"Limit 5 max.",label:"Platforms (optional)",onSelect:function(t){return e.setStateOrError(null,"platforms",t)},placeholder:"Arduino, Raspberry Pi",selectionLimit:5,value:this.state.fields.platforms.value})),n.default.createElement("div",{id:"vftags"},n.default.createElement(o.default,{algoliaParameters:{hitsPerPage:100},algoliaRecordsToOptions:d.recordsToOptions,algoliaService:this.props.algoliaServices.tags,errors:this.state.errors.tags,helperText:"Limit 5 max.",label:"Tags (optional)",onSelect:function(t){return e.setStateOrError(null,"tags",t)},placeholder:"IOT, Home Automatation",selectionLimit:5,value:this.state.fields.tags.value})),n.default.createElement("div",{className:g.default.marginTop60},n.default.createElement("h2",{className:"".concat(_.default.h2," ").concat(g.default.marginBottom30)},"Preview"),this.props.PREVIEW_VIEW({ad:{ad_type:this.props.record.ad_type,cover_image:this.state.fields.cover_image.value}})),n.default.createElement("div",{className:"".concat(g.default.marginTop60)},n.default.createElement(l.default,{disabled:this.state.isBusy||this.props.isBusy,onClick:function(){return e.addOrUpdateContent()},size:"lg"},"default"===this.props.mode?"Create ad":"Save changes"),n.default.createElement(l.default,{colorStyle:"cancel",disabled:this.state.isBusy||this.props.isBusy,onClick:this.props.dismiss,size:"lg"},"Cancel")))}}])&&w(r.prototype,a),v&&w(r,v),t}();S.propTypes={COVER_IMAGE_PROPS:a.default.shape({allowGifs:a.default.bool,attachmentType:a.default.string,label:a.default.string,aspectRatio:a.default.oneOfType([a.default.string,a.default.number]),dimensionMins:a.default.object,helperText:a.default.string}),FIELDS_TEMPLATE:a.default.object.isRequired,PREVIEW_VIEW:a.default.func,RENDER_OVERRIDE:a.default.oneOfType([a.default.func,a.default.element]),TITLE:a.default.string,algoliaServices:a.default.shape({platforms:a.default.object.isRequired,tags:a.default.object.isRequired}).isRequired,dismiss:a.default.func.isRequired,isBusy:a.default.bool.isRequired,mode:a.default.string,record:a.default.shape({activate_at:a.default.string,active:a.default.bool,ad_campaign_id:a.default.number,ad_type:a.default.oneOf([f.CONTENT_PAGE,f.HOME_PAGE_BANNER,f.NEWS_GALLERY,f.NEWS_PAGE_HERO]).isRequired,cover_image:a.default.shape({id:a.default.number.isRequired,url:a.default.string.isRequired}),id:a.default.number,limit:a.default.number,link:a.default.string,mobile_cover_image:a.default.shape({id:a.default.number.isRequired,url:a.default.string.isRequired}),name:a.default.string,platforms:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired})),regions:a.default.arrayOf(a.default.string),tags:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired})),text:a.default.string}).isRequired,saveContent:a.default.func.isRequired},S.defaultProps={COVER_IMAGE_PROPS:{allowGifs:!0,attachmentType:"CoverImage",label:"Image"},PREVIEW_VIEW:function(){},RENDER_OVERRIDE:null,TITLE:"Create ad",record:null,mode:"default"};var C=S;t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(0)),a=h(r(1)),o=h(r(281)),i=h(r(38)),l=h(r(15)),u=h(r(266)),s=h(r(121)),c=h(r(100)),d=r(75),f=h(r(52)),p=h(r(2)),m=h(r(3));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){var t=e.ctx;return n.default.createElement("div",null,n.default.createElement("div",{className:f.default.container},n.default.createElement("h1",{className:"".concat(m.default.h1," ").concat(p.default.marginBottom60)},"".concat("default"===t.props.mode?"Create":"Edit"," home page banner ad")),n.default.createElement("div",{id:"vfname"},n.default.createElement(i.default,{errors:t.state.errors.name,label:"Name",onChange:function(e){return t.setStateOrError(null,"name",e.target.value)},placeholder:"i.e. Product launch campaign",value:t.state.fields.name.value})),n.default.createElement("div",{id:"vflink"},n.default.createElement(i.default,{errors:t.state.errors.link,label:"Link",onChange:function(e){return t.setStateOrError(null,"link",e.target.value)},placeholder:"https://www.hackster.io",value:t.state.fields.link.value})),n.default.createElement("div",{id:"vfcover_image"},n.default.createElement(s.default,{allowGifs:!0,aspectRatio:364/45,attachmentType:"CoverImage",dimensionMins:{width:1170},errors:t.state.errors.cover_image,helperText:"This image should have a ratio of 364:45 and be at least 1170x144px for the best quality.",imageData:t.state.fields.cover_image.value,label:"Image",propagateStatus:function(e){return t._setIsBusy(e,"cover_image")},propagateUpload:function(e){return t.setStateOrError(null,"cover_image",e)}})),n.default.createElement("div",{id:"vfactivate_at"},n.default.createElement(u.default,{autoComplete:"off",disabled:!t._canScheduleAd(),errors:t.state.errors.activate_at,helperText:t._getActivateAtHelperText(),initValue:t.state.fields.activate_at.value,label:"Activate date (optional)",onChange:function(e){return t.setStateOrError(null,"activate_at",e)}})),n.default.createElement("div",{id:"vflimit"},n.default.createElement(i.default,{errors:t.state.errors.limit,helperText:"Deactivates the ad once this limit of views has been met.",label:"Impression limit (optional)",onChange:function(e){return t.setStateOrError(null,"limit",e.target.value)},placeholder:"Enter the impression limit.",type:"number",value:t.state.fields.limit.value})),n.default.createElement("div",{id:"vfregions"},n.default.createElement(c.default,{key:"regions",errors:t.state.errors.regions,helperText:"Shows users the ad by their IP address. Leave blank for global ads.",label:"Regions (optional)",onSelectedChange:function(e){return t.setStateOrError(null,"regions",e)},options:d.REGIONS,placeholder:"Select regions",selectOpts:{rule:"norule"},type:"multi",value:t.state.fields.regions.value}))),n.default.createElement("div",{className:p.default.marginTop60},n.default.createElement("h2",{className:"".concat(m.default.h2," ").concat(p.default.marginBottom30)},"Preview"),n.default.createElement(o.default,{ad:{ad_type:t.props.record.ad_type,cover_image:t.state.fields.cover_image.value}})),n.default.createElement("div",{className:f.default.container},n.default.createElement("div",{className:"".concat(p.default.marginTop60)},n.default.createElement(l.default,{disabled:t.state.isBusy||t.props.isBusy,onClick:function(){return t.addOrUpdateContent()},size:"lg"},"default"===t.props.mode?"Create ad":"Save changes"),n.default.createElement(l.default,{colorStyle:"cancel",disabled:t.state.isBusy||t.props.isBusy,onClick:t.props.dismiss,size:"lg"},"Cancel"))))};y.propsTypes={ctx:a.default.object.isRequired};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(r(0)),a=y(r(1)),o=y(r(281)),i=y(r(38)),l=y(r(15)),u=y(r(266)),s=y(r(121)),c=y(r(100)),d=r(75),f=r(43),p=y(r(52)),m=y(r(2)),h=y(r(3));function y(e){return e&&e.__esModule?e:{default:e}}var g=function(e){var t=e.ctx;return n.default.createElement("form",{className:p.default.container},n.default.createElement("h1",{className:"".concat(h.default.h1," ").concat(m.default.marginBottom60)},"".concat("default"===t.props.mode?"Create":"Edit"," news gallery ad")),n.default.createElement("div",{id:"vfname"},n.default.createElement(i.default,{errors:t.state.errors.name,label:"Name",onChange:function(e){return t.setStateOrError(null,"name",e.target.value)},placeholder:"i.e. Product launch campaign",value:t.state.fields.name.value})),n.default.createElement("div",{id:"vflink"},n.default.createElement(i.default,{errors:t.state.errors.link,label:"Link",onChange:function(e){return t.setStateOrError(null,"link",e.target.value)},placeholder:"https://www.hackster.io",value:t.state.fields.link.value})),n.default.createElement("div",{id:"vftext"},n.default.createElement(i.default,{charCount:t.state.fields.text.value.length,element:"textarea",errors:t.state.errors.text,label:"Advertisement text",maxVal:140,onChange:function(e){return t.setStateOrError((0,f.maxLength)(140,e.target.value),"text",e.target.value)},placeholder:"Short brief on your ad.",value:t.state.fields.text.value})),n.default.createElement("div",{id:"vfcover_image"},n.default.createElement(s.default,{allowGifs:!0,aspectRatio:16/9,attachmentType:"CoverImage",label:"Image",dimensionMins:{width:270},errors:t.state.errors.cover_image,helperText:"This image should have a ratio of 16:9 and be at least 270x152px for the best quality.",imageData:t.state.fields.cover_image.value,propagateStatus:function(e){return t._setIsBusy(e,"cover_image")},propagateUpload:function(e){return t.setStateOrError(null,"cover_image",e)}})),n.default.createElement("div",{id:"vfactivate_at"},n.default.createElement(u.default,{autoComplete:"off",disabled:!t._canScheduleAd(),errors:t.state.errors.activate_at,helperText:t._getActivateAtHelperText(),initValue:t.state.fields.activate_at.value,label:"Activate date (optional)",onChange:function(e){return t.setStateOrError(null,"activate_at",e)}})),n.default.createElement("div",{id:"vflimit"},n.default.createElement(i.default,{errors:t.state.errors.limit,helperText:"Deactivates the ad once this limit of views has been met.",label:"Impression limit (optional)",onChange:function(e){return t.setStateOrError(null,"limit",e.target.value)},placeholder:"Enter the impression limit.",type:"number",value:t.state.fields.limit.value})),n.default.createElement("div",{id:"vfregions"},n.default.createElement(c.default,{key:"regions",errors:t.state.errors.regions,helperText:"Shows users the ad by their IP address. Leave blank for global ads.",label:"Regions (optional)",onSelectedChange:function(e){return t.setStateOrError(null,"regions",e)},options:d.REGIONS,placeholder:"Select regions",selectOpts:{rule:"norule"},type:"multi",value:t.state.fields.regions.value})),n.default.createElement("div",{className:m.default.marginTop60},n.default.createElement("h2",{className:"".concat(h.default.h2," ").concat(m.default.marginBottom30)},"Preview"),n.default.createElement(o.default,{ad:{ad_type:t.props.record.ad_type,cover_image:t.state.fields.cover_image.value,text:t.state.fields.text.value}})),n.default.createElement("div",{className:"".concat(m.default.marginTop60)},n.default.createElement(l.default,{disabled:t.state.isBusy||t.props.isBusy,onClick:function(){return t.addOrUpdateContent()},size:"lg"},"default"===t.props.mode?"Create ad":"Save changes"),n.default.createElement(l.default,{colorStyle:"cancel",disabled:t.state.isBusy||t.props.isBusy,onClick:t.props.dismiss,size:"lg"},"Cancel")))};g.propsTypes={ctx:a.default.object.isRequired};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(0)),a=h(r(1)),o=h(r(281)),i=h(r(38)),l=h(r(15)),u=h(r(266)),s=h(r(121)),c=h(r(100)),d=r(75),f=h(r(52)),p=h(r(2)),m=h(r(3));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){var t=e.ctx;return n.default.createElement("div",null,n.default.createElement("div",{className:f.default.container},n.default.createElement("h1",{className:"".concat(m.default.h1," ").concat(p.default.marginBottom60)},"".concat("default"===t.props.mode?"Create":"Edit"," news page hero ad")),n.default.createElement("div",{id:"vfname"},n.default.createElement(i.default,{errors:t.state.errors.name,label:"Name",onChange:function(e){return t.setStateOrError(null,"name",e.target.value)},placeholder:"i.e. Product launch campaign",value:t.state.fields.name.value})),n.default.createElement("div",{id:"vflink"},n.default.createElement(i.default,{errors:t.state.errors.link,label:"Link",onChange:function(e){return t.setStateOrError(null,"link",e.target.value)},placeholder:"https://www.hackster.io",value:t.state.fields.link.value})),n.default.createElement("div",{id:"vfcover_image"},n.default.createElement(s.default,{allowGifs:!0,aspectRatio:.54,attachmentType:"CoverImage",dimensionMins:{width:270},errors:t.state.errors.cover_image,helperText:"This image should have a ratio of 27/50 and be at least 270x500px for the best quality.",imageData:t.state.fields.cover_image.value,label:"Image",propagateStatus:function(e){return t._setIsBusy(e,"cover_image")},propagateUpload:function(e){return t.setStateOrError(null,"cover_image",e)}})),n.default.createElement("div",{id:"vfmobile_cover_image"},n.default.createElement(s.default,{allowGifs:!0,aspectRatio:345/86,attachmentType:"MobileCoverImage",dimensionMins:{width:345},errors:t.state.errors.mobile_cover_image,helperText:"This image should have a ratio of 345/86 and be at least 345x86px for the best quality.",imageData:t.state.fields.mobile_cover_image.value,label:"Mobile Image",propagateStatus:function(e){return t._setIsBusy(e,"mobile_cover_image")},propagateUpload:function(e){return t.setStateOrError(null,"mobile_cover_image",e)}})),n.default.createElement("div",{id:"vfactivate_at"},n.default.createElement(u.default,{autoComplete:"off",disabled:!t._canScheduleAd(),errors:t.state.errors.activate_at,helperText:t._getActivateAtHelperText(),initValue:t.state.fields.activate_at.value,label:"Activate date (optional)",onChange:function(e){return t.setStateOrError(null,"activate_at",e)}})),n.default.createElement("div",{id:"vflimit"},n.default.createElement(i.default,{errors:t.state.errors.limit,helperText:"Deactivates the ad once this limit of views has been met.",label:"Impression limit (optional)",onChange:function(e){return t.setStateOrError(null,"limit",e.target.value)},placeholder:"Enter the impression limit.",type:"number",value:t.state.fields.limit.value})),n.default.createElement("div",{id:"vfregions"},n.default.createElement(c.default,{key:"regions",errors:t.state.errors.regions,helperText:"Shows users the ad by their IP address. Leave blank for global ads.",label:"Regions (optional)",onSelectedChange:function(e){return t.setStateOrError(null,"regions",e)},options:d.REGIONS,placeholder:"Select regions",selectOpts:{rule:"norule"},type:"multi",value:t.state.fields.regions.value}))),n.default.createElement("div",{className:p.default.marginTop60},n.default.createElement("h2",{className:"".concat(m.default.h2," ").concat(p.default.marginBottom30)},"Preview"),n.default.createElement(o.default,{ad:{ad_type:t.props.record.ad_type,cover_image:t.state.fields.cover_image.value,mobile_cover_image:t.state.fields.mobile_cover_image.value}})),n.default.createElement("div",{className:f.default.container},n.default.createElement("div",{className:"".concat(p.default.marginTop60)},n.default.createElement(l.default,{disabled:t.state.isBusy||t.props.isBusy,onClick:function(){return t.addOrUpdateContent("primary")},size:"lg"},"default"===t.props.mode?"Create ad":"Save changes"),n.default.createElement(l.default,{colorStyle:"cancel",disabled:t.state.isBusy||t.props.isBusy,onClick:t.props.dismiss,size:"lg"},"Cancel"))))};y.propsTypes={ctx:a.default.object.isRequired};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NEWS_PAGE_HERO_FIELDS_TEMPLATE=t.NEWS_GALLERY_FIELDS_TEMPLATE=t.HOME_PAGE_BANNER_FIELDS_TEMPLATE=t.DEFAULT_FIELDS_TEMPLATE=void 0;var n=r(75),a=r(123),o=r(16),i=r(43),l={activate_at:{order:3,validate:function(e){return null},value:"",notRequired:!0,formatIn:function(e){return(0,o.timestampToPrettyDate)(e,a.DATE_INPUT_FORMATTER,!1)},formatOut:a.stringOrNullOut},cover_image:{order:2,validate:function(e){return(0,i.imageV)(e)},value:null},limit:{order:4,validate:function(){return null},value:"",notRequired:!0,formatOut:function(e){return(0,a.numOrNullOut)(e)}},link:{order:1,validate:function(e){return(0,i.isUrlWithProtocol)(e)},value:""},name:{order:0,validate:function(e){return(0,i.minLength)(1,e)},value:""},platforms:{order:6,validate:function(e){return(0,i.maxLength)(5,e)},value:[],notRequired:!0,formatIn:function(e){return(0,a.multiSelectIn)(e,"name")},formatOut:function(e){return(0,a.multiSelectToArrayOut)(e)}},regions:{order:5,validate:function(e){return null},value:[],notRequired:!0,formatIn:function(e){return(0,a.arrayToMultiSelectIn)(e,n.adRegionEnumToLabel)},formatOut:function(e){return(0,a.multiSelectToArrayOut)(e)}},tags:{order:7,validate:function(e){return(0,i.maxLength)(5,e)},value:[],notRequired:!0,formatIn:function(e){return(0,a.multiSelectIn)(e,"name")},formatOut:function(e){return(0,a.multiSelectToArrayOut)(e)}}};t.DEFAULT_FIELDS_TEMPLATE=l;var u={activate_at:{order:3,validate:function(e){return null},value:"",notRequired:!0,formatIn:function(e){return(0,o.timestampToPrettyDate)(e,a.DATE_INPUT_FORMATTER,!1)},formatOut:a.stringOrNullOut},cover_image:{order:2,validate:function(e){return(0,i.imageV)(e)},value:null},limit:{order:4,validate:function(){return null},value:"",notRequired:!0,formatOut:function(e){return(0,a.numOrNullOut)(e)}},link:{order:1,validate:function(e){return(0,i.isUrlWithProtocol)(e)},value:""},name:{order:0,validate:function(e){return(0,i.minLength)(1,e)},value:""},regions:{order:5,validate:function(e){return null},value:[],notRequired:!0,formatIn:function(e){return(0,a.arrayToMultiSelectIn)(e,n.adRegionEnumToLabel)},formatOut:function(e){return(0,a.multiSelectToArrayOut)(e)}}};t.HOME_PAGE_BANNER_FIELDS_TEMPLATE=u;var s={activate_at:{order:4,validate:function(e){return null},value:"",notRequired:!0,formatIn:function(e){return(0,o.timestampToPrettyDate)(e,a.DATE_INPUT_FORMATTER,!1)},formatOut:a.stringOrNullOut},cover_image:{order:3,validate:function(e){return(0,i.imageV)(e)},value:null},limit:{order:5,validate:function(e){return null},value:"",notRequired:!0,formatOut:function(e){return(0,a.numOrNullOut)(e)}},link:{order:1,validate:function(e){return(0,i.isUrlWithProtocol)(e)},value:""},name:{order:0,validate:function(e){return(0,i.minLength)(1,e)},value:""},regions:{order:6,validate:function(e){return null},value:[],notRequired:!0,formatIn:function(e){return(0,a.arrayToMultiSelectIn)(e,n.adRegionEnumToLabel)},formatOut:function(e){return(0,a.multiSelectToArrayOut)(e)}},text:{order:2,validate:function(e){return(0,i.minLength)(1,e)},value:""}};t.NEWS_GALLERY_FIELDS_TEMPLATE=s;var c={activate_at:{order:4,validate:function(e){return null},value:"",notRequired:!0,formatIn:function(e){return(0,o.timestampToPrettyDate)(e,a.DATE_INPUT_FORMATTER,!1)},formatOut:a.stringOrNullOut},cover_image:{order:2,validate:function(e){return(0,i.imageV)(e)},value:null},limit:{order:5,validate:function(e){return null},value:"",notRequired:!0,formatOut:function(e){return(0,a.numOrNullOut)(e)}},link:{order:1,validate:function(e){return(0,i.isUrlWithProtocol)(e)},value:""},mobile_cover_image:{order:3,validate:function(e){return(0,i.imageV)(e)},value:null},name:{order:0,validate:function(e){return(0,i.minLength)(1,e)},value:""},regions:{order:6,validate:function(e){return null},value:[],notRequired:!0,formatIn:function(e){return(0,a.arrayToMultiSelectIn)(e,n.adRegionEnumToLabel)},formatOut:function(e){return(0,a.multiSelectToArrayOut)(e)}}};t.NEWS_PAGE_HERO_FIELDS_TEMPLATE=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=h(r(1)),o=h(r(2325)),i=h(r(281)),l=h(r(2326)),u=h(r(42)),s=h(r(519)),c=h(r(72)),d=h(r(2329)),f=r(12),p=h(r(3)),m=h(r(2));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O={body:function(){},title:""},w={open:!1,meta:{view:null},record:null},E=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=_(t).call(this,e))||"object"!==y(a)&&"function"!=typeof a?v(n):a).state={dialog:w},r.handleActionable=r.handleActionable.bind(v(r)),r}var r,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){(0,f.windowScrollTo)(0,0)}},{key:"handleActionable",value:function(e,t){switch(e){case"analytics":return;case"edit":return this.props.goToAdEdit(t);case"history":return this.setState({dialog:{open:!0,meta:{view:"history"},record:t}});case"view":return this.setState({dialog:{open:!0,meta:{view:"view"},record:t}});default:return null}}},{key:"_getDialogCopy",value:function(){var e=this;if(!this.state.dialog.open)return O;switch(this.state.dialog.meta.view){case"history":return{body:function(){return n.default.createElement(d.default,{ad_id:e.state.dialog.record.id})},title:"".concat(this.state.dialog.record.name," History")};case"view":return{body:function(){return n.default.createElement(i.default,{ad:e.state.dialog.record})},title:this.state.dialog.record.name};default:return O}}},{key:"render",value:function(){var e=this,t=this._getDialogCopy();return n.default.createElement("div",null,n.default.createElement("div",{className:m.default.marginBottom60},n.default.createElement("h1",{className:"".concat(p.default.h1," ").concat(m.default.marginBottom30)},this.props.campaign.name),n.default.createElement(l.default,{ads:this.props.ads,campaign:this.props.campaign})),n.default.createElement("div",null,n.default.createElement("h1",{className:"".concat(p.default.h1," ").concat(m.default.marginBottom30)},"Ads"),n.default.createElement(c.default,{DummyComponent:function(){return n.default.createElement(s.default,{responsive:!0})},ItemComponent:o.default,isLoading:this.props.isBusy,itemKey:"ad",itemProps:{onActionable:this.handleActionable},loadingIndicator:"dummy",maxCols:3,records:this.props.ads||[],validationFn:function(){return!0}})),n.default.createElement(u.default,{bodyClassName:m.default.flexJustifyCenter,dismiss:function(){return e.setState({dialog:w})},open:this.state.dialog.open,title:n.default.createElement("h2",{className:"".concat(p.default.h2," ").concat(p.default.textCenter," ").concat(m.default.marginBottom30)},t.title),wrapperStyle:{width:"90%"}},t.body()))}}])&&g(r.prototype,a),h&&g(r,h),t}();E.propTypes={ads:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,activate_at:a.default.string,active:a.default.bool.isRequired,ad_campaign_id:a.default.number,ad_type:a.default.string.isRequired,cached_impressions:a.default.number,cover_image:a.default.shape({id:a.default.number,url:a.default.string}),is_activatable:a.default.bool,limit:a.default.number,link:a.default.string.isRequired,mobile_cover_image:a.default.shape({id:a.default.number,url:a.default.string}),name:a.default.string.isRequired,platforms:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string})),regions:a.default.arrayOf(a.default.string),tags:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string})),text:a.default.string,updated_at:a.default.string.isRequired})),campaign:a.default.shape({id:a.default.number.isRequired,active:a.default.bool.isRequired,client:a.default.string.isRequired,name:a.default.string.isRequired,updated_at:a.default.string.isRequired}).isRequired,goToAdEdit:a.default.func.isRequired,isBusy:a.default.bool.isRequired},E.defaultProps={ads:null};var P=E;t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=_(r(0)),a=_(r(1)),o=_(r(88)),i=_(r(9)),l=r(75),u=r(16),s=r(11),c=_(r(50)),d=_(r(10)),f=_(r(21)),p=_(r(2)),m=_(r(118)),h=_(r(3)),y=_(r(5)),g=_(r(388));function _(e){return e&&e.__esModule?e:{default:e}}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,s.isBlank)(e)?n.default.createElement("p",{className:h.default.pebble},"-"):n.default.createElement("p",{className:h.default.pebble},e.join(", "))},b=function(e){var t,r,a,o=(t=e.cached_impressions,r=e.limit,(a=(0,s.isBlank)(t)||(0,s.isBlank)(r)?0:Math.floor(t/r*100))>=100?100:a);return n.default.createElement("div",{className:p.default.paddingTop10},n.default.createElement("div",{className:"".concat(g.default.statusBarContainer," ").concat(y.default.border," ").concat(y.default.borderRadius)},n.default.createElement("div",{style:{width:"".concat(o,"%")},className:g.default.statusBar})),n.default.createElement("p",{className:"".concat(p.default.flexJustifyEnd," ").concat(h.default.bodyXS)},o,"%"))},O=function(e){var t=function(e){return e.active?{statusClass:y.default.statusCircleGreen,titleText:"Active"}:e.activate_at&&(0,u.timeIsFuture)(e.activate_at,!0)?{statusClass:y.default.statusCircleGold,titleText:"Scheduled: ".concat((0,u.timestampToPrettyDate)(e.activate_at,u.DATE_FORMAT,!1))}:{statusClass:y.default.statusCircleRed,titleText:"Inactive"}}(e);return n.default.createElement("div",{className:p.default.flexCenterItems,title:t.titleText},n.default.createElement("div",{className:"".concat(t.statusClass," ").concat(p.default.marginRight5)}),n.default.createElement("span",{className:h.default.bodyM},t.titleText))},w=function(e){return n.default.createElement("div",{className:"".concat(c.default.cardWithBorder," ").concat(p.default.padding15," ").concat(y.default.boxShadow2)},n.default.createElement("div",{className:p.default.paddingBottom30},n.default.createElement("div",{className:"".concat(p.default.flexCenterItems," ").concat(p.default.flexJustifySpaceBetween," ").concat(p.default.paddingBottom15)},n.default.createElement("div",null,n.default.createElement("h4",{className:"".concat(h.default.h4," ").concat(h.default.textLeft," ").concat(p.default.marginBottom5)},e.ad.name),n.default.createElement("h5",{className:"".concat(h.default.h5," ").concat(h.default.textLeft)},(0,l.adTypeEnumToHuman)(e.ad.ad_type))),n.default.createElement("div",{className:g.default.adMenuWrapper},(r=(t=e).ad,a=t.onActionable,n.default.createElement(o.default,{alignTop:!1,alignRight:!0,classList:{button:d.default.blank},closeOnSelect:!0,label:n.default.createElement(i.default,{name:"view-more",size:16})},n.default.createElement("ul",{className:y.default.ulReset},n.default.createElement("li",{key:"view",className:m.default.option,onClick:function(){return a("view",r)}},"View"),n.default.createElement("li",{key:"edit",className:m.default.option,onClick:function(){return a("edit",r)}},"Edit"),n.default.createElement("li",{key:"history",className:m.default.option,onClick:function(){return a("history",r)}},"History")))))),n.default.createElement("div",{className:"".concat(p.default.flexCenterItems," ").concat(p.default.flexJustifySpaceBetween)},n.default.createElement("p",{className:"".concat(h.default.bodyM," ").concat(h.default.bold)},"Status"),O(e.ad)),n.default.createElement("div",{className:"".concat(p.default.flexCenterItems," ").concat(p.default.flexJustifySpaceBetween)},n.default.createElement("p",{className:"".concat(h.default.bodyM," ").concat(h.default.bold)},"Activated On"),n.default.createElement("p",{className:h.default.bodyM},!e.ad.activate_at||(0,u.timeIsFuture)(e.ad.activate_at,!0)?"-":(0,u.timestampToPrettyDate)(e.ad.activate_at,u.DATE_FORMAT,!1))),n.default.createElement("div",{className:"".concat(p.default.flexCenterItems," ").concat(p.default.flexJustifySpaceBetween)},n.default.createElement("p",{className:"".concat(h.default.bodyM," ").concat(h.default.bold," ").concat(p.default.alignSelfStart)},"Link"),n.default.createElement("div",{className:"".concat(f.default.halfWidth," ").concat(h.default.breakWord)},n.default.createElement("p",{className:"".concat(h.default.bodyXS," ").concat(h.default.textRight)},n.default.createElement("a",{href:e.ad.link,rel:"noopener",target:"_blank"},e.ad.link))))),n.default.createElement("div",{className:"".concat(p.default.flex10Auto," ").concat(p.default.paddingBottom30," ").concat(h.default.bodyM)},n.default.createElement("div",{className:p.default.marginBottom15},n.default.createElement("p",{className:h.default.bold},"Platforms"),v(e.ad.platforms.map(function(e){return e.name}))),n.default.createElement("div",{className:p.default.marginBottom15},n.default.createElement("p",{className:h.default.bold},"Tags"),v(e.ad.tags.map(function(e){return e.name}))),n.default.createElement("div",null,n.default.createElement("p",{className:h.default.bold},"Regions"),v(e.ad.regions.map(function(e){return(0,l.adRegionEnumToHumanAbbr)(e)})))),n.default.createElement("div",null,n.default.createElement("div",{className:"".concat(p.default.flexCenterItems," ").concat(p.default.flexJustifySpaceBetween)},n.default.createElement("p",{className:"".concat(h.default.bodyM," ").concat(h.default.bold)},"Impressions"),n.default.createElement("p",{className:h.default.bodyM},(0,s.isBlank)(e.ad.cached_impressions)?0:e.ad.cached_impressions)),n.default.createElement("div",{className:"".concat(p.default.flexCenterItems," ").concat(p.default.flexJustifySpaceBetween)},n.default.createElement("p",{className:"".concat(h.default.bodyM," ").concat(h.default.bold)},"Limit"),n.default.createElement("p",{className:h.default.bodyM},(0,s.isBlank)(e.ad.limit)?"∞":e.ad.limit)),b(e.ad)));var t,r,a};w.propTypes={ad:a.default.shape({id:a.default.number.isRequired,activate_at:a.default.string,active:a.default.bool.isRequired,ad_campaign_id:a.default.number,ad_type:a.default.string.isRequired,cached_impressions:a.default.number,cover_image:a.default.shape({id:a.default.number,url:a.default.string}),is_activatable:a.default.bool,limit:a.default.number,link:a.default.string.isRequired,mobile_cover_image:a.default.shape({id:a.default.number,url:a.default.string}),name:a.default.string.isRequired,platforms:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string})),regions:a.default.arrayOf(a.default.string),tags:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string})),text:a.default.string,updated_at:a.default.string.isRequired}).isRequired,onActionable:a.default.func.isRequired};var E=w;t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(2327)),i=c(r(2328)),l=r(11),u=c(r(2)),s=c(r(388));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return e.reduce(function(e,t){return e+Math.max(t.cached_impressions,0)},0)},f=function(e,t){if((0,l.isBlank)(e))return{header:t};switch(t){case"Total Ads":return{header:t,value:e.length};case"Impressions":return{header:t,value:d(e)};default:return{header:t,value:null}}},p=function(e){var t=e.ads,r=e.campaign;return n.default.createElement("div",{className:"".concat(s.default.campaignCardContainer," ").concat(u.default.flex)},n.default.createElement(o.default,{campaign:r}),n.default.createElement("div",{className:s.default.campaignStatsContainer},n.default.createElement(i.default,f(t,"Impressions")),n.default.createElement(i.default,f(t,"Total Ads"))))};p.propTypes={ads:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,activate_at:a.default.string,active:a.default.bool.isRequired,ad_campaign_id:a.default.number,ad_type:a.default.string.isRequired,cached_impressions:a.default.number,cover_image:a.default.shape({id:a.default.number,url:a.default.string}),is_activatable:a.default.bool,limit:a.default.number,link:a.default.string.isRequired,mobile_cover_image:a.default.shape({id:a.default.number,url:a.default.string}),name:a.default.string.isRequired,platforms:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string})),regions:a.default.arrayOf(a.default.string),tags:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string})),text:a.default.string,updated_at:a.default.string.isRequired})),campaign:a.default.shape({id:a.default.number.isRequired,active:a.default.bool.isRequired,client:a.default.string.isRequired,name:a.default.string.isRequired,updated_at:a.default.string.isRequired}).isRequired};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=r(16),i=d(r(50)),l=d(r(2)),u=d(r(3)),s=d(r(5)),c=d(r(388));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.campaign;return n.default.createElement("div",{className:"".concat(c.default.campaignCard," ").concat(i.default.cardBody," ").concat(i.default.cardWithBorder," ").concat(s.default.boxShadow2)},n.default.createElement("div",{className:"".concat(l.default.flexCenterItems," ").concat(l.default.flexJustifySpaceBetween," ").concat(l.default.marginBottom10)},n.default.createElement("p",{className:u.default.bodyM},"Status"),function(e){var t=e.active?s.default.statusCircleGreen:s.default.statusCircleRed,r=e.active?"Active":"Inactive";return n.default.createElement("div",{className:l.default.flexCenterItems,title:r},n.default.createElement("div",{className:"".concat(t," ").concat(l.default.marginRight5)}),n.default.createElement("span",{className:u.default.bodyM},r))}(t)),n.default.createElement("div",{className:"".concat(l.default.flexCenterItems," ").concat(l.default.flexJustifySpaceBetween," ").concat(l.default.marginBottom10)},n.default.createElement("p",{className:u.default.bodyM},"Client"),n.default.createElement("p",{className:u.default.bodyM},t.client)),n.default.createElement("div",{className:"".concat(l.default.flexCenterItems," ").concat(l.default.flexJustifySpaceBetween)},n.default.createElement("p",{className:u.default.bodyM},"Last Updated"),n.default.createElement("p",{className:u.default.bodyM},(0,o.timestampToPrettyDate)(t.updated_at,o.DATE_FORMAT))))};f.propTypes={campaign:a.default.shape({id:a.default.number.isRequired,active:a.default.bool.isRequired,client:a.default.string.isRequired,name:a.default.string.isRequired,updated_at:a.default.string.isRequired}).isRequired};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(50)),i=c(r(2)),l=c(r(3)),u=c(r(5)),s=c(r(388));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.header,r=e.value;return n.default.createElement("div",{className:"".concat(s.default.campaignStatCard," ").concat(o.default.cardWithBorder," ").concat(i.default.padding1015," ").concat(u.default.boxShadow2)},n.default.createElement("h4",{className:l.default.h4},t),n.default.createElement("p",{className:l.default.bodyM},r))};d.propTypes={header:a.default.string.isRequired,value:a.default.oneOfType([a.default.number,a.default.string])},d.defaultProps={value:"-"};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=p(r(1)),o=p(r(2330)),i=p(r(253)),l=r(14),u=p(r(7)),s=r(8),c=p(r(2)),d=p(r(78)),f=p(r(977));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v={CREATED_AT:{style:f.default.historyCol,title:"Created At"},ACTION:{style:f.default.historyCol,title:"Action"},PROCESS:{style:f.default.historyCol,title:"Process"},CHANGED:{style:f.default.historyColLarge,title:"Changed"},DATA:{style:f.default.historyColLarge,title:"Data"}},b=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=y(t).call(this,e))||"object"!==m(a)&&"function"!=typeof a?g(n):a).state={isBusy:!0,pagination:{},records:[]},r.handlePagination=r.handlePagination.bind(g(r)),r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.handlePagination()}},{key:"handlePagination",value:function(){var e=this;return this.setState({isBusy:!0}),this._getPaginatedAdLogs().then(function(t){return e._getPaginatedAdLogsResolver(t)}).catch(function(t){e.setState({isBusy:!1}),(0,u.default)("HistoryLog handlePagination",t)})}},{key:"_getPaginatedAdLogs",value:function(){var e=this;return new Promise(function(t,r){return(0,l.graphQuery)({t:"get_ad_logs"},e._getPaginatedAdLogsArgs()).then(function(e){var r=e.ad_logs;return t(r)}).catch(function(e){return r(e)})})}},{key:"_getPaginatedAdLogsArgs",value:function(){return{ad_id:this.props.ad_id,page:this.state.pagination.next_page,per_page:10}}},{key:"_getPaginatedAdLogsResolver",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.metadata,r=e.records;this.setState({isBusy:!1,pagination:t,records:this.state.records.concat(r)})}},{key:"_getHeaderView",value:function(e){var t=(0,s.getInObj)([e],v);return n.default.createElement("div",{key:e,className:"".concat(t.style," ").concat(d.default.thCell)},n.default.createElement("span",{className:d.default.thTitle},t.title))}},{key:"render",value:function(){var e=this;return this.state.isBusy||this.state.records.length?n.default.createElement("div",{className:c.default.fullWidth},n.default.createElement(i.default,{buttonText:"Show more",disabled:this.state.isBusy,onPaginatorClick:this.handlePagination,paginator:{currentPage:this.state.pagination.current_page,nextPage:this.state.pagination.next_page,prevPage:this.state.pagination.prev_page},type:"button"},n.default.createElement("div",{className:d.default.table},n.default.createElement("div",{className:d.default.thTitleWrapper},Object.keys(v).map(function(t){return e._getHeaderView(t)})),n.default.createElement("div",null,this.state.records.map(function(e){return n.default.createElement(o.default,{key:e.id,log:e})}))))):n.default.createElement("div",null,"No logs found.")}}])&&h(r.prototype,a),f&&h(r,f),t}();b.propTypes={ad_id:a.default.number.isRequired};var O=b;t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=r(8),i=r(20),l=r(16),u=r(11),s=p(r(2)),c=p(r(3)),d=p(r(78)),f=p(r(977));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e,t,r){return e.map(function(e){return n.default.createElement("div",{key:e,className:s.default.flexJustifySpaceBetween},n.default.createElement("p",{className:c.default.bodyM},(0,i.unsnakeString)(e,i.capitalize).replace(" id",""),":"),function(e,t,r){if("active"===e)return n.default.createElement("p",{className:"".concat(c.default.bodyM," ").concat(c.default.breakWord," ").concat(c.default.textRight)},(0,i.capitalize)(r));var a=(0,o.getInObj)([e],t);if((0,u.isBlank)(a))return n.default.createElement("p",{className:"".concat(c.default.bodyM," ").concat(c.default.breakWord," ").concat(c.default.textRight)},"-");switch(e){case"activate_at":case"campaign_updated_at":return n.default.createElement("p",{className:"".concat(c.default.bodyM," ").concat(c.default.breakWord," ").concat(c.default.textRight)},(0,l.timestampToPrettyDate)(a,l.DATE_FORMAT,!1));case"link":return n.default.createElement("a",{className:"".concat(f.default.historyLink," ").concat(s.default.margin0," ").concat(c.default.breakWord," ").concat(c.default.textRight),href:a,rel:"noopener",target:"_blank"},a);default:return n.default.createElement("p",{className:"".concat(c.default.bodyM," ").concat(c.default.breakWord," ").concat(c.default.textRight)},"".concat(a))}}(e,t,r))})},h=function(e){var t=e.log;return n.default.createElement("div",{className:"".concat(s.default.flexJustifyCenter," ").concat(d.default.row," ").concat(c.default.bodyM)},n.default.createElement("div",{className:"".concat(f.default.historyCol," ").concat(d.default.cell)},(0,l.timestampToPrettyDate)(t.created_at,l.DATE_FORMAT,!1)),n.default.createElement("div",{className:"".concat(f.default.historyCol," ").concat(d.default.cell)},(0,i.capitalize)(t.log_type)),n.default.createElement("div",{className:"".concat(f.default.historyCol," ").concat(d.default.cell)},(0,i.capitalize)(t.log_data.process)),n.default.createElement("div",{className:"".concat(f.default.historyColLarge," ").concat(d.default.cell)},m(t.log_data.changes,t.ad_data,t.log_type)),n.default.createElement("div",{className:"".concat(f.default.historyColLarge," ").concat(d.default.cell)},m(Object.keys(t.ad_data).sort(),t.ad_data,t.log_type)))};h.propTypes={log:a.default.shape({ad_data:a.default.shape({campaign_active:a.default.bool.isRequired,activate_at:a.default.string,campaign_client:a.default.string.isRequired,campaign_name:a.default.string.isRequired,campaign_updated_at:a.default.string.isRequired,impressions:a.default.number,limit:a.default.number,link:a.default.string.isRequired,name:a.default.string.isRequired,regions:a.default.arrayOf(a.default.string),text:a.default.string}),ad_id:a.default.number.isRequired,created_at:a.default.string.isRequired,id:a.default.number.isRequired,log_data:a.default.shape({changes:a.default.arrayOf(a.default.string).isRequired,process:a.default.string.isRequired}),log_type:a.default.string.isRequired})};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=w(r(1)),o=w(r(57)),i=w(r(863)),l=w(r(2332)),u=w(r(2336)),s=w(r(120)),c=r(14),d=r(272),f=w(r(7)),p=r(12),m=r(18),h=r(45),y=r(20),g=r(123),_=r(16),v=w(r(161)),b=w(r(2)),O=w(r(78));function w(e){return e&&e.__esModule?e:{default:e}}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j={dialog:{open:!1,records:[]}},R=function(){return"Delete"},T=function(){return"Keep in mind that deleted events can't be retrieved again.  If you need to make a change to an existing event, consider editing it instead."},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"You are about to delete ".concat(e>1?e:"this"," ").concat((0,y.pluralize)("event",e))},M={all:{default:!0,label:"All",value:"all",queryArg:null},sponsored:{label:"Sponsored",value:"sponsored",queryArg:!0},notSponsored:{label:"Not sponsored",value:"notSponsored",queryArg:!1}},A=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=k(t).call(this,e))||"object"!==E(a)&&"function"!=typeof a?S(n):a).state={currentEditable:null,currentSearch:null,dialog:{open:!1,records:[]},home_config:e.home_config,isBusy:!1,pagination:e.events.metadata,records:r._formatRecords(e.events.records),selectedIndexes:[],tableOpts:Object.values(M),view:{table:"all",view:"default"}},r.createOrUpdateRecord=r.createOrUpdateRecord.bind(S(r)),r.deleteRecords=r.deleteRecords.bind(S(r)),r.handleBreadcrumbClick=r.handleBreadcrumbClick.bind(S(r)),r.handleDeleteClick=r.handleDeleteClick.bind(S(r)),r.handleFormDeleteClick=r.handleFormDeleteClick.bind(S(r)),r.handlePagination=r.handlePagination.bind(S(r)),r.handleSearch=r.handleSearch.bind(S(r)),r.handleTableTypeSelection=r.handleTableTypeSelection.bind(S(r)),r.updateHomePageConfig=r.updateHomePageConfig.bind(S(r)),r.algoliaPlatformsService=new v.default,r}var r,a,w;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,n.Component),r=t,(a=[{key:"createOrUpdateRecord",value:function(e){return this.setState({isBusy:!0}),this.state.currentEditable&&this.state.currentEditable.hasOwnProperty("id")?this._updateEvent(Object.assign({},e,{id:this.state.currentEditable.id})):this._postEvent(e)}},{key:"deleteRecords",value:function(e){this.setState({isBusy:!0}),this._deleteEvents(e)}},{key:"handleBreadcrumbClick",value:function(e,t){"function"==typeof t.action&&(e.preventDefault(),t.action())}},{key:"handleDeleteClick",value:function(){var e=this,t=this.state.selectedIndexes.map(function(t){return e.state.records[t].record});this._summonDeletePrompt(t)}},{key:"handleFormDeleteClick",value:function(){this.state.currentEditable&&this._summonDeletePrompt([this.state.currentEditable])}},{key:"handlePagination",value:function(e){var t=this;return this.setState({isBusy:!0}),this._getPaginatedEvents({page:e}).then(function(e){return t._getPaginatedEventsResolver(e)}).catch(function(e){(0,f.default)("EditEvents handlePagination",e),t.setState({isBusy:!1})})}},{key:"handleSearch",value:function(e){var t=this;return this.setState({isBusy:!0}),this._getPaginatedEvents({search:e}).then(function(r){return t._getPaginatedEventsResolver(r,{currentSearch:e})}).catch(function(e){(0,f.default)("EditEvents handleSearch",e),t.setState({isBusy:!1})})}},{key:"handleTableTypeSelection",value:function(e){var t=this;return this.setState({isBusy:!0}),this._getPaginatedEvents({by_sponsored:e.queryArg}).then(function(r){return t._getPaginatedEventsResolver(r,{tableOpts:t._getUpdatedActiveTableOpts(e),view:t._getUpdatedViewState(e.value)})}).catch(function(e){(0,f.default)("EditEvents handleTableTypeSelection",e),t.setState({isBusy:!1})})}},{key:"updateHomePageConfig",value:function(e){this.setState({isBusy:!0}),this._postHomePageConfig(e)}},{key:"_deleteEvents",value:function(e){var t=this,r=e.map(function(e){return e.id});return(0,c.graphMutate)({t:"delete_events"},{ids:r}).then(function(){return t._getPaginatedEvents({page:t._getCurrentOrPreviousPagePostDeletion(r.length)})}).then(function(e){return t._getPaginatedEventsResolver(e,{currentEditable:null,view:t._getUpdatedViewState("all","default")})}).catch(function(e){(0,m.summonGlobalMessenger)({msg:"Sorry, delete failed.",type:"error"}),(0,f.default)("EditEvents _deleteEvents",e),t.setState(Object.assign({},j,{isBusy:!1}))})}},{key:"_formatRecords",value:function(e){var t=this;return e.map(function(e,r){var n=Object.assign({},e,{location:(0,g.locationSelectIn)(e)});return{columns:t._formatRecordColumns(n),record:n}})}},{key:"_formatRecordColumns",value:function(e){return[e.title,(0,y.capitalize)(e.event_type),(0,_.timestampToPrettyDate)(e.start_date,"MMM DD, YYYY",!1),this._createActionsColumn.bind(this,e)]}},{key:"_getCurrentOrPreviousPagePostDeletion",value:function(e){return parseInt(this.state.pagination.per_page)-e>0||null!==this.state.pagination.next_page?this.state.pagination.current_page:Math.max(parseInt(this.state.pagination.current_page)-1,1)}},{key:"_getPaginatedEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.by_sponsored,n=void 0===r?M[this.state.view.table].queryArg:r,a=t.page,o=void 0===a?this.state.pagination.current_page:a,i=t.search,l=void 0===i?this.state.currentSearch:i;return new Promise(function(t,r){return(0,c.graphQuery)({t:"events_with_simple_pagination"},{by_sponsored:n,page:o,per_page:e.state.pagination.per_page,search:l}).then(function(e){var r=e.events;return t(r)}).catch(function(e){return r(e)})})}},{key:"_getPaginatedEventsResolver",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.metadata,r=e.records,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setState(Object.assign({},j,n,{isBusy:!1,pagination:t,records:this._formatRecords(r),selectedIndexes:[]}),this._scrollToTop)}},{key:"_getUpdatedActiveTableOpts",value:function(e){return this.state.tableOpts.map(function(t){return e.value===t.value?Object.assign({},t,{active:!0}):Object.assign({},t,{active:!1})})}},{key:"_getUpdatedViewState",value:function(e,t){return{table:e||this.state.view.table,view:t||this.state.view.view}}},{key:"_onActionable",value:function(e,t){if(!this.state.isBusy)switch(e){case"delete":return this._summonDeletePrompt([t]);case"edit":return this.setState({currentEditable:t,view:this._getUpdatedViewState(null,"edit")});default:return}}},{key:"_postEvent",value:function(e){var t=this;return(0,c.graphMutate)({t:"create_event"},this._translateRecordForRequest(e)).then(function(){return t._getPaginatedEvents({page:1})}).then(function(e){return t._getPaginatedEventsResolver(e,{view:t._getUpdatedViewState(null,"default")})}).catch(function(e){(0,m.summonGlobalMessenger)({msg:"Sorry, creating your event failed.",type:"error"}),(0,f.default)("EditEvents _postEvent",e),t.setState({isBusy:!1})})}},{key:"_postHomePageConfig",value:function(e){var t=this;return(0,c.graphMutate)({t:"update_home_page"},{entity_id:this.props.home_config.entity_id,entity_type:this.props.home_config.entity_type.toUpperCase(),publish:!0,sections:JSON.stringify({sponsored_ids:(0,h.pluckAndReduce)(e,"id")})}).then(function(){t.setState(function(r){return{isBusy:!1,home_config:Object.assign({},r.home_config,{sponsored:e}),view:t._getUpdatedViewState(null,"default")}}),(0,m.summonGlobalMessenger)({msg:"Updated sponsored events!"})}).catch(function(e){t.setState({isBusy:!1}),(0,m.summonGlobalMessenger)({msg:"Sorry, updating the page config failed.",type:"error"}),(0,f.default)("EditEvents _postHomePageConfig",e)})}},{key:"_scrollToTop",value:function(){(0,p.windowScrollTo)(0,0)}},{key:"_summonDeletePrompt",value:function(e){this.setState({dialog:{open:!0,records:e}})}},{key:"_translateRecordForRequest",value:function(e){var t=(0,h.removeFromObject)(e,["image","location","platforms"]);return(0,h.filterObject)(Object.assign({},t,e.location,{event_type:(0,d.getEventTypeEnum)(e.event_type),image_id:e.image.id,platform_ids:e.platforms}))}},{key:"_updateEvent",value:function(e){var t=this;return(0,c.graphMutate)({t:"update_event"},this._translateRecordForRequest(e)).then(function(){return t._getPaginatedEvents()}).then(function(e){return t._getPaginatedEventsResolver(e,{currentEditable:null,view:t._getUpdatedViewState(null,"default")})}).catch(function(e){(0,m.summonGlobalMessenger)({msg:"Sorry, update failed.",type:"error"}),(0,f.default)("EditEvents _updateEvent",e),t.setState({isBusy:!1})})}},{key:"_createActionsColumn",value:function(e){var t=this;return n.default.createElement("span",null,n.default.createElement("button",{className:O.default.editBtn,onClick:function(){return t._onActionable("edit",e)}},"Edit"),n.default.createElement("button",{className:O.default.deleteBtn,onClick:function(){return t._onActionable("delete",e)}},"Delete"))}},{key:"_getBreadcrumbForView",value:function(e){var t=this;switch(e){case"create":case"home_config":return{action:function(){return t.setState({view:t._getUpdatedViewState(null,"default")})},href:"/admin/events",msg:"Back to events admin"};case"edit":return{action:function(){return t.setState({currentEditable:null,view:t._getUpdatedViewState(null,"default")})},href:"/admin/events",msg:"Back to events admin"};default:return{action:null,href:"/events",msg:"Events page"}}}},{key:"_getCurrentView",value:function(e){switch(e){case"create":return this._getCreateOrEditEventView("default");case"edit":return this._getCreateOrEditEventView("edit");case"home_config":return this._getHomeConfigView();default:return this._getTableView()}}},{key:"_getCreateOrEditEventView",value:function(e){var t=this,r=this._getBreadcrumbForView(this.state.view.view);return n.default.createElement(i.default,{algoliaPlatformsService:this.algoliaPlatformsService,breadcrumbProps:{href:r.href,onClick:function(e){return t.handleBreadcrumbClick(e,r)},text:r.msg},dismiss:function(){return t.setState({currentEditable:null,view:t._getUpdatedViewState(null,"default")})},initRecord:this.state.currentEditable,isAdmin:!0,isBusy:this.state.isBusy,mode:e,onDeleteClick:this.handleFormDeleteClick,saveContent:this.createOrUpdateRecord})}},{key:"_getHomeConfigView",value:function(){var e=this,t=this._getBreadcrumbForView(this.state.view.view);return n.default.createElement(l.default,{breadcrumbProps:{href:t.href,onClick:function(r){return e.handleBreadcrumbClick(r,t)},text:t.msg},config:this.state.home_config,isBusy:this.state.isBusy,saveChanges:this.updateHomePageConfig})}},{key:"_getTableView",value:function(){var e=this,t=this._getBreadcrumbForView(this.state.view.view);return n.default.createElement("div",{className:b.default.container},n.default.createElement("div",{className:"".concat(b.default.wrapper1170," ").concat(b.default.marginTop15)},n.default.createElement(o.default,{href:t.href,onClick:function(r){return e.handleBreadcrumbClick(r,t)},text:t.msg}),n.default.createElement(u.default,{key:this.state.view.table,currentSearch:this.state.currentSearch,isBusy:this.state.isBusy,onDelete:this.handleDeleteClick,onPagination:this.handlePagination,onSearch:this.handleSearch,onTableTypeSelection:this.handleTableTypeSelection,pagination:this.state.pagination,reportSelected:function(t){return e.setState({selectedIndexes:t})},selectedIndexes:this.state.selectedIndexes,tableItems:this.state.records,tableOpts:this.state.tableOpts,toggleView:function(t){return e.setState({view:e._getUpdatedViewState(null,t)})}})))}},{key:"render",value:function(){var e=this;return n.default.createElement(n.Fragment,null,this._getCurrentView(this.state.view.view),n.default.createElement(s.default,{action:R(this.state.isBusy),actionColor:"danger",body:T(),dismiss:function(){return e.setState(j)},okay:function(){return e.deleteRecords(e.state.dialog.records)},open:this.state.dialog.open,title:N(this.state.dialog.records.length)}))}}])&&P(r.prototype,a),w&&P(r,w),t}();A.propTypes={events:a.default.shape({metadata:a.default.shape({current_page:a.default.integer,next_page:a.default.integer,per_page:a.default.integer,prev_page:a.default.integer}).isRequired,records:a.default.arrayOf(a.default.shape({city:a.default.string,country_iso2:a.default.string,custom_sponsors:a.default.arrayOf(a.default.string),end_date:a.default.string,event_type:a.default.string.isRequired,id:a.default.number.isRequired,image:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,latitude:a.default.number,link:a.default.string.isRequired,longitude:a.default.number,platforms:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired})),sponsored:a.default.bool.isRequired,start_date:a.default.string.isRequired,state:a.default.string,summary:a.default.string,title:a.default.string.isRequired,user:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired})})).isRequired}).isRequired,home_config:a.default.shape({entity_id:a.default.number.isRequired,entity_type:a.default.string.isRequired,sponsored:a.default.array.isRequired}).isRequired},A.defaultProps={};var I=A;t.default=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=E(r(1)),o=E(r(115)),i=E(r(57)),l=E(r(42)),u=E(r(2333)),s=E(r(2334)),c=E(r(978)),d=E(r(160)),f=E(r(2335)),p=E(r(875)),m=E(r(877)),h=E(r(206)),y=r(272),g=r(45),_=E(r(2)),v=E(r(221)),b=E(r(3)),O=E(r(5)),w=E(r(389));function E(e){return e&&e.__esModule?e:{default:e}}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R={records:null},T={open:!1,props:null},N=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=S(t).call(this,e))||"object"!==P(a)&&"function"!=typeof a?C(n):a).state={currentRequest:R,dialog:T,events:r._initEvents(e.config.sponsored)},r.addEvent=r.addEvent.bind(C(r)),r.removeEvent=r.removeEvent.bind(C(r)),r.saveChanges=r.saveChanges.bind(C(r)),r.onSelectionClick=r.onSelectionClick.bind(C(r)),r}var r,a,E;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,n.Component),r=t,(a=[{key:"_initEvents",value:function(e){return 4===e.length?e:e.concat(Array(4-e.length).fill(null))}},{key:"addEvent",value:function(e){var t=this;this.setState({currentRequest:R,dialog:T,events:this.state.events.map(function(r,n){return t.state.dialog.props.index===n?e:r})})}},{key:"onSelectionClick",value:function(e){this.setState({dialog:{open:!0,props:{index:e}}})}},{key:"removeEvent",value:function(e){var t=this.state.events.filter(function(t){return t&&t.id!==e.id});this.setState({events:t.concat(Array(4-t.length).fill(null))})}},{key:"saveChanges",value:function(){this.props.saveChanges(this.state.events)}},{key:"_getKnownIds",value:function(){return(0,g.pluckAndReduce)(this.state.events,"id")}},{key:"_getListForDialog",value:function(){var e=this;return this.state.dialog.open?n.default.createElement(c.default,{loaderRenderFn:function(){return n.default.createElement(s.default,null)},propagateRecords:function(t){return e.setState({currentRequest:{records:t}})},qlArguments:{by_sponsored:!0,by_time:(0,y.getTimeFilterEnum)("upcoming"),known_event_ids:this._getKnownIds()},qlResolverKey:"events",qlSearchKey:"search",qlTemplate:"events_with_simple_pagination"},n.default.createElement(u.default,{onSelect:this.addEvent,records:this.state.currentRequest.records})):null}},{key:"_getSponsoredListPreview",value:function(){var e=this.state.events.slice(1).filter(function(e){return null!==e});return e?1===e.length?this._getSingularSecondaryEvent(e[0]):this._getSecondaryEvents(e):null}},{key:"_getSingularSecondaryEvent",value:function(e){return n.default.createElement(n.Fragment,null,n.default.createElement(p.default,{className:_.default.hiddenSmallDown,imageRight:!0,item:e}),n.default.createElement(m.default,{className:_.default.hiddenSmallUp,item:e}))}},{key:"_getSecondaryEvents",value:function(e){var t=(0,h.default)(!1,e.length,30);return n.default.createElement("div",{className:t.grid},e.map(function(e,r){return n.default.createElement(m.default,{key:e.id,className:t.cell,item:e})}))}},{key:"render",value:function(){var e=this;return n.default.createElement(n.Fragment,null,n.default.createElement("div",{className:"".concat(_.default.container)},n.default.createElement("div",{className:"".concat(_.default.wrapper1170," ").concat(_.default.flexColumn," ").concat(_.default.paddingTop30)},n.default.createElement("div",{className:w.default.header},n.default.createElement("div",{className:_.default.flexColumn},n.default.createElement("h3",{className:"".concat(b.default.h3)},"Events page config"),n.default.createElement("p",{className:"".concat(b.default.bodyS," ").concat(b.default.pebble)},"Once an event is added you may drag and drop to reorder them."))),n.default.createElement(f.default,{events:this.state.events,onRemoveClick:this.removeEvent,onSelectionClick:this.onSelectionClick,updateEventsOrder:function(t){return e.setState({events:t})}}),n.default.createElement("div",{className:"".concat(_.default.marginTop60)},n.default.createElement("h3",{className:"".concat(b.default.h3," ").concat(_.default.marginBottom30)},"Preview"),n.default.createElement("div",null,n.default.createElement(p.default,{item:this.state.events[0]||{}}),n.default.createElement("div",{className:"".concat(_.default.marginTop45," ").concat(_.default.marginBottom30," ").concat(_.default.paddingTop45," ").concat(O.default.borderTop)},this._getSponsoredListPreview()))))),n.default.createElement("div",{className:"".concat(v.default.actionsBarRoot," ").concat(O.default.posRelative),id:"eventsHomeConfig"},n.default.createElement(d.default,{className:"".concat(v.default.actionsBar," ").concat(O.default.borderTop," ").concat(_.default.flexJustifyCenter),parentId:"eventsHomeConfig",startPos:"bottom",stickToEnd:!1},n.default.createElement("div",{className:"".concat(_.default.wrapper1170," ").concat(v.default.actionsBarInner)},n.default.createElement(i.default,{classList:{root:_.default.margin0,text:_.default.hiddenSmallDown},href:this.props.breadcrumbProps.href,onClick:this.props.breadcrumbProps.onClick,text:this.props.breadcrumbProps.text}),n.default.createElement("h1",{className:"".concat(b.default.bodyM," ").concat(_.default.margin0)},"Edit sponsored events"),n.default.createElement("div",null,n.default.createElement(o.default,{isBusy:this.props.isBusy,onClick:this.saveChanges,text:"Save changes"}))))),n.default.createElement(l.default,{bodyClassName:_.default.flexJustifyCenter,dismiss:function(){return e.setState({currentRequest:R,dialog:T})},fullScreen:!0,open:this.state.dialog.open},this._getListForDialog()))}}])&&k(r.prototype,a),E&&k(r,E),t}();N.propTypes={breadcrumbProps:a.default.shape({href:a.default.string,onClick:a.default.func,text:a.default.string}).isRequired,config:a.default.shape({entity_id:a.default.number.isRequired,entity_type:a.default.string.isRequired,sponsored:a.default.array.isRequired}).isRequired,isBusy:a.default.bool.isRequired};var M=N;t.default=M},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(46)),i=r(16),l=r(45),u=f(r(2)),s=f(r(3)),c=f(r(5)),d=f(r(389));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.onSelect,r=e.records;return r?n.default.createElement("div",{className:c.default.borderTop},r.map(function(e){return function(e,t){var r=(0,i.timestampToPrettyDate)(t.start_date,i.DATE_FORMAT),a=t.platforms.length?(0,l.pluckAndReduce)(t.platforms,"name").join("\n"):t.custom_sponsors.join("\n");return n.default.createElement("div",{key:t.id,className:"".concat(d.default.listItem," ").concat(d.default.listItemSelectable," ").concat(c.default.cursorPointer),onClick:function(){return e(t)}},n.default.createElement("div",{className:d.default.listItemTitleCell},n.default.createElement("div",{className:d.default.listItemCoverImageWrapper},n.default.createElement(o.default,{classList:{image:c.default.borderRadius,root:d.default.listItemCoverImage},ratio:"1:1",setStyle:!1,src:t.image.url,width:64})),n.default.createElement("div",{className:d.default.listItemData},n.default.createElement("p",{className:"".concat(s.default.bodyM," ").concat(s.default.bold)},t.title),n.default.createElement("div",{className:d.default.listItemMobileAuthorStatus},n.default.createElement("p",{className:"".concat(s.default.bodyS," ").concat(u.default.marginBottom5)},a),n.default.createElement("div",{className:u.default.flexCenterItems},n.default.createElement("span",{className:"".concat(s.default.bodyS)},r))))),n.default.createElement("div",{className:d.default.listItemAuthorCell},n.default.createElement("p",{className:s.default.bodyS},a)),n.default.createElement("div",{className:d.default.listItemAuthorCell},n.default.createElement("p",{className:s.default.bodyS},t.event_type)),n.default.createElement("div",{className:d.default.listItemDateCell},n.default.createElement("div",{className:u.default.flexCenterItems},n.default.createElement("span",{className:"".concat(s.default.bodyS)},r))))}(t,e)})):null};p.propTypes={onSelect:a.default.func.isRequired,records:a.default.arrayOf(a.default.shape({custom_sponsors:a.default.arrayOf(a.default.string),event_type:a.default.string.isRequired,image:a.default.shape({url:a.default.string.isRequired}).isRequired,platforms:a.default.arrayOf(a.default.shape({name:a.default.string})),sponsored:a.default.bool.isRequired,start_date:a.default.string.isRequired,title:a.default.string.isRequired}))},p.defaultProps={records:null};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(99)),o=i(r(389));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=function(){return n.default.createElement("div",{className:o.default.listItem},n.default.createElement("div",{className:o.default.listItemTitleCell},n.default.createElement("div",{className:o.default.listItemCoverImageWrapper},n.default.createElement("div",{style:{borderRadius:2},className:"".concat(o.default.listItemCoverImage," ").concat(a.default.loader)})),n.default.createElement("div",{style:{width:"100%"},className:o.default.listItemData},n.default.createElement("div",{style:{height:18,marginBottom:5,width:"100%"},className:a.default.loader}),n.default.createElement("div",{className:o.default.listItemMobileAuthorStatus},n.default.createElement("div",{style:{height:16,marginBottom:5,width:100},className:a.default.loader}),n.default.createElement("div",{style:{height:16,width:100},className:a.default.loader})))),n.default.createElement("div",{className:o.default.listItemAuthorCell},n.default.createElement("p",{style:{height:16,width:100},className:a.default.loader})),n.default.createElement("div",{className:o.default.listItemAuthorCell},n.default.createElement("p",{style:{height:16,width:100},className:a.default.loader})),n.default.createElement("div",{className:o.default.listItemDateCell},n.default.createElement("div",{style:{height:18,width:100},className:a.default.loader})))},s=function(){return n.default.createElement("div",null,l(Array(5).keys()).map(function(e){return n.default.createElement(u,{key:e})}))};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(r(0)),a=y(r(1)),o=r(69),i=y(r(9)),l=y(r(46)),u=y(r(473)),s=y(r(96)),c=r(16),d=r(45),f=y(r(2)),p=y(r(3)),m=y(r(5)),h=y(r(389));function y(e){return e&&e.__esModule?e:{default:e}}var g=function(){return n.default.createElement("div",{className:h.default.selectionBoxEmpty},n.default.createElement("strong",{className:"".concat(p.default.bodyM," ").concat(p.default.bold," ").concat(p.default.pebble)},"Add an event above"))},_=function(e){var t=e.onSelectionClick;return n.default.createElement("div",{className:h.default.selectionBox,onClick:t},n.default.createElement("span",{className:h.default.iconCircle},n.default.createElement(i.default,{name:"plus",size:"16"})),n.default.createElement("strong",{className:"".concat(p.default.bodyM," ").concat(p.default.bold)},"Choose a sponsored event"))},v=(0,o.SortableHandle)(function(){return n.default.createElement("div",{className:h.default.dragHandleWrapper},n.default.createElement(i.default,{name:"hamburger",size:"16"}))}),b=(0,o.SortableElement)(function(e){var t=e.disabled,r=e.event,a=e.onSelectionClick,o=e.onRemoveClick;return n.default.createElement("div",{className:h.default.sortableElement},r?function(e){var t=e.event,r=e.onRemoveClick,a=(0,c.timestampToPrettyDate)(t.start_date,c.DATE_FORMAT),o=t.platforms.length?(0,d.pluckAndReduce)(t.platforms,"name").join("\n"):t.custom_sponsors;return n.default.createElement("div",{className:h.default.eventCard},n.default.createElement(v,null),n.default.createElement("div",{className:h.default.listItemTitleCell},n.default.createElement("div",{className:h.default.listItemCoverImageWrapper},n.default.createElement(l.default,{classList:{image:m.default.borderRadius,root:h.default.listItemCoverImage},ratio:"1:1",setStyle:!1,src:t.image.url,width:64})),n.default.createElement("div",{className:h.default.listItemData},n.default.createElement("p",{className:"".concat(p.default.bodyM," ").concat(p.default.bold)},t.title),n.default.createElement("div",{className:h.default.listItemMobileAuthorStatus},n.default.createElement("div",{className:f.default.flexCenterItems},n.default.createElement("span",{className:"".concat(p.default.bodyS)},a))))),n.default.createElement("div",{className:h.default.listItemAuthorCell},n.default.createElement("p",{className:"".concat(p.default.bodyS," ").concat(h.default.eventCardSponsorsFixedHeight)},o)),n.default.createElement("div",{className:h.default.listItemAuthorCell},n.default.createElement("p",{className:p.default.bodyS},t.event_type)),n.default.createElement("div",{className:h.default.listItemDateCell},n.default.createElement("div",{className:f.default.flexCenterItems},n.default.createElement("span",{className:"".concat(p.default.bodyS)},a))),n.default.createElement("div",{className:h.default.dismissBtnWrapper},n.default.createElement(i.default,{className:h.default.dismissBtn,name:"close",onClick:r,size:"16"})))}({event:r,onRemoveClick:o}):function(e){var t=e.disabled,r=e.onSelectionClick;return t?g():_({onSelectionClick:r})}({disabled:t,onSelectionClick:a}))}),O=(0,o.SortableContainer)(function(e){var t=e.events,r=e.onSelectionClick,a=e.onRemoveClick,o=t[0];return n.default.createElement("div",null,n.default.createElement("div",{className:"".concat(f.default.marginBottom30," ").concat(h.default.allowCrossSortable)},n.default.createElement("p",{className:"".concat(p.default.bodyS," ").concat(p.default.bold," ").concat(f.default.paddingBottom15)},"Main sponsored event"),n.default.createElement("div",{className:h.default.selectionContainer},n.default.createElement(b,{key:o?o.id:(0,s.default)(),collection:"0",disabled:!1,event:o,index:0,onRemoveClick:function(){return a(o)},onSelectionClick:function(){return r(0)}}))),n.default.createElement("div",{className:h.default.allowCrossSortable},n.default.createElement("p",{className:"".concat(p.default.bodyS," ").concat(p.default.bold," ").concat(f.default.paddingBottom15)},"Secondary sponsored events"),n.default.createElement("div",{className:h.default.selectionContainer},t.slice(1).map(function(e,o){return n.default.createElement(b,{key:e?e.id:(0,s.default)(),collection:e?"0":"1",disabled:null===t[o],event:e,index:o+1,onRemoveClick:function(){return a(e)},onSelectionClick:function(){return r(o+1)}})}))))}),w=function(e){var t=e.events,r=e.onRemoveClick,a=e.onSelectionClick,o=e.updateEventsOrder;return n.default.createElement(O,{events:t,helperClass:h.default.sortableGhost,hideSortableGhost:!1,lockAxis:"y",onRemoveClick:r,onSelectionClick:a,onSortEnd:function(e){var r=e.oldIndex,n=e.newIndex;return o((0,u.default)(t,r,n))},useDragHandle:!0})};w.propTypes={events:a.default.arrayOf(a.default.shape({custom_sponsors:a.default.array,event_type:a.default.string.isRequired,id:a.default.number.isRequired,image:a.default.shape({id:a.default.number}).isRequired,platforms:a.default.array,start_date:a.default.string.isRequired,title:a.default.string.isRequired})).isRequired,onRemoveClick:a.default.func.isRequired,onSelectionClick:a.default.func.isRequired,updateEventsOrder:a.default.func.isRequired};var E=w;t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=p(r(15)),i=p(r(223)),l=p(r(119)),u=p(r(525)),s=p(r(2)),c=p(r(78)),d=p(r(3)),f=p(r(2341));function p(e){return e&&e.__esModule?e:{default:e}}var m=[{cell:"title",title:"Title",orderable:!1,selectable:!0},{cell:"event_type",title:"Event type",orderable:!1,sort:null},{cell:"start_date",title:"Start date",orderable:!1,sort:null},{cell:"actionFn",title:"Actions",orderable:!1,sort:null}],h=function(e){var t=e.currentSearch,r=e.isBusy,a=e.onDelete,p=e.onPagination,h=e.onSearch,y=e.onTableTypeSelection,g=e.pagination,_=e.reportSelected,v=e.selectedIndexes,b=e.tableItems,O=e.tableOpts,w=e.toggleView;return n.default.createElement("div",null,n.default.createElement("h1",{className:"".concat(d.default.h1," ").concat(s.default.marginBottom30)},"Events"),n.default.createElement("div",{className:c.default.tableControlsWrapper},n.default.createElement("div",{className:s.default.flex},n.default.createElement("div",{className:f.default.eventTypeSelectWrapper},n.default.createElement(l.default,{options:O,onSelection:y})),n.default.createElement(o.default,{className:s.default.marginLeft15,disabled:r,onClick:function(){return w("create")}},"Create event"),n.default.createElement(o.default,{className:s.default.marginLeft15,colorStyle:"danger",disabled:!v.length||r,onClick:a},"Delete"),n.default.createElement(o.default,{className:s.default.marginLeft15,colorStyle:"outlineBlack",disabled:r,onClick:function(){return w("home_config")}},"Arrange Sponsored")),n.default.createElement("div",null,n.default.createElement(i.default,{initVal:t,onEnter:h,placeholder:"Find an event by title (press Enter)"}))),n.default.createElement(u.default,{headers:m,isBusy:r,onPagination:p,onSort:function(){},pagination:g,reportSelected:_,selectedIndexes:v,tableItems:b}))};h.propTypes={currentSearch:a.default.string,isBusy:a.default.bool.isRequired,onDelete:a.default.func.isRequired,onPagination:a.default.func.isRequired,onSearch:a.default.func.isRequired,onTableTypeSelection:a.default.func.isRequired,pagination:a.default.shape({current_page:a.default.number.isRequired,next_page:a.default.number,per_page:a.default.number.isRequired,prev_page:a.default.number}).isRequired,reportSelected:a.default.func.isRequired,selectedIndexes:a.default.array.isRequired,tableItems:a.default.arrayOf(a.default.shape({columns:a.default.array.isRequired,record:a.default.object})).isRequired,tableOpts:a.default.arrayOf(a.default.shape({active:a.default.bool,default:a.default.bool,label:a.default.any,value:a.default.any})).isRequired,toggleView:a.default.func.isRequired},h.defaultProps={currentSearch:null};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(3)),i=l(r(78));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.body,r=e.className,a=e.disabled;return n.default.createElement("td",{className:"".concat(o.default.bodyM," ").concat(o.default.breakWord," ").concat(i.default.cell," ").concat(r," ").concat(a?i.default.disabled:"")},"function"==typeof t?t():t)};u.propTypes={body:a.default.oneOfType([a.default.string,a.default.func]).isRequired,className:a.default.string,disabled:a.default.bool},u.defaultProps={className:"",disabled:!1};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(106)),i=u(r(3)),l=u(r(78));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.body,r=e.className,a=e.disabled,u=e.isSelected,s=e.onCheckboxChange;return n.default.createElement("td",{className:r},n.default.createElement("span",{className:"".concat(u?l.default.selectableCellHighlight:l.default.selectableCellPlaceholder)}),n.default.createElement("span",{className:l.default.selectableCellInner},n.default.createElement(o.default,{disabled:a,isChecked:u,onChange:s}),n.default.createElement("span",{className:"".concat(i.default.bodyM," ").concat(l.default.selectableCellBody," ").concat(a?l.default.disabled:"")},t)))};s.propTypes={body:a.default.string.isRequired,className:a.default.string,disabled:a.default.bool,isSelected:a.default.bool.isRequired,onCheckboxChange:a.default.func},s.defaultProps={className:"",disabled:!1,onCheckboxChange:function(){}};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(106)),i=s(r(979)),l=s(r(2)),u=s(r(78));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.config,r=e.header,a=e.isSelected,s=e.onCheck,c=e.position,d=e.setHeaderActive;return n.default.createElement("th",{style:t,className:u.default.thSelectableCell},n.default.createElement("div",{className:l.default.flex},n.default.createElement(o.default,{isChecked:a,onChange:s}),n.default.createElement("div",{className:"".concat(u.default.thTitleWrapper," ").concat(r.status.isActive?u.default.thActive:r.orderable?u.default.thInteractive:""," ").concat(l.default.marginLeft15),onClick:function(){r.orderable&&d(r,c)}},n.default.createElement("span",{className:u.default.thTitle},r.title),n.default.createElement("span",{className:u.default.triangleWrapper},r.orderable&&n.default.createElement(i.default,{className:"".concat(u.default.triangle," ").concat(1===r.status.state?u.default.triangleActive:"")})))))};c.propTypes={config:a.default.shape({width:a.default.number}),header:a.default.shape({orderable:a.default.bool.isRequired,sort:a.default.string,status:a.default.shape({isActive:a.default.bool.isRequired,state:a.default.number.isRequired}).isRequired,title:a.default.string.isRequired}).isRequired,isSelected:a.default.bool.isRequired,onCheck:a.default.func.isRequired,position:a.default.number.isRequired,setHeaderActive:a.default.func.isRequired},c.defaultProps={config:{}};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=l(r(979)),i=l(r(78));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=c(t).call(this,e))||"object"!==u(a)&&"function"!=typeof a?d(n):a).state={},r.onClick=r.onClick.bind(d(r)),r}var r,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n.Component),r=t,(a=[{key:"onClick",value:function(){this.props.header.orderable&&this.props.setHeaderActive(this.props.header,this.props.position)}},{key:"_getOrderableTitleStyle",value:function(){return this.props.header.status.isActive?i.default.thActive:this.props.header.orderable?i.default.thInteractive:""}},{key:"render",value:function(){return n.default.createElement("th",{style:this.props.config,className:"".concat(0===this.props.position?i.default.thSelectableCell:i.default.thCell)},n.default.createElement("div",{className:"".concat(i.default.thTitleWrapper," ").concat(this._getOrderableTitleStyle()),onClick:this.onClick},n.default.createElement("span",{className:i.default.thTitle},this.props.header.title),n.default.createElement("span",{className:i.default.triangleWrapper},this.props.header.orderable&&n.default.createElement(o.default,{className:"".concat(i.default.triangle," ").concat(1===this.props.header.status.state?i.default.triangleActive:"")}))))}}])&&s(r.prototype,a),l&&s(r,l),t}();p.propTypes={config:a.default.shape({width:a.default.number}),header:a.default.shape({orderable:a.default.bool.isRequired,sort:a.default.string,status:a.default.shape({isActive:a.default.bool.isRequired,state:a.default.number.isRequired}).isRequired,title:a.default.string.isRequired}),position:a.default.number.isRequired,setHeaderActive:a.default.func.isRequired},p.defaultProps={config:{}};var m=p;t.default=m},function(e,t,r){e.exports={eventTypeSelectWrapper:"edit_events__eventTypeSelectWrapper__D_9mr"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=O(r(1)),o=O(r(980)),i=O(r(57)),l=O(r(120)),u=O(r(2344)),s=O(r(225)),c=O(r(161)),d=O(r(226)),f=O(r(276)),p=O(r(7)),m=r(16),h=r(20),y=r(14),g=r(526),_=r(390),v=O(r(78)),b=O(r(2));function O(e){return e&&e.__esModule?e:{default:e}}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=[{cell:"title",title:"title",orderable:!0,sort:"title",selectable:!0},{cell:"category",title:"category",orderable:!1,sort:null},{cell:"created_at",title:"date added",orderable:!0,sort:"most_recent",default:!0},{cell:"actionFn",title:"actions",orderable:!1,sort:null}],j=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?"Deleting":"Delete"},R=function(){return"Keep in mind that deleted videos can't be retrieved again.  If you need to make a change to an existing video, consider editing it instead."},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"You are about to delete ".concat(e>0?e:"this"," ").concat((0,h.pluralize)("video",e))},N=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=P(t).call(this,e))||"object"!==w(a)&&"function"!=typeof a?k(n):a).state={breadcrumbs:r._initBreadcrumbs(e.breadcrumb),currentEditable:null,currentSearch:null,currentSort:e.initSort,dialog:{open:!1,indexes:[],records:[]},isBusy:!1,pagination:r.props.initPagination,records:r._formatRecords(e.initVideos,C),selectedIndexes:[],view:"table"},r.algoliaPartsService=new s.default,r.algoliaPlatformsService=new c.default,r.algoliaTagsService=new d.default,r.algoliaTopicsService=new f.default,r.addNewRecord=r.addNewRecord.bind(k(r)),r.deleteRecords=r.deleteRecords.bind(k(r)),r.editRecord=r.editRecord.bind(k(r)),r.handleBreadcrumb=r.handleBreadcrumb.bind(k(r)),r.handleMassDeletion=r.handleMassDeletion.bind(k(r)),r.handlePagination=r.handlePagination.bind(k(r)),r.handleSearch=r.handleSearch.bind(k(r)),r.handleSort=r.handleSort.bind(k(r)),r.updateRecord=r.updateRecord.bind(k(r)),r._tableRef,r}var r,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,n.Component),r=t,(a=[{key:"_initBreadcrumbs",value:function(e){var t=this;return{addVideo:{action:function(){return t.setState({view:"table"})},href:"/admin/videos",msg:"Back to video admin"},editVideo:{action:function(){return t.setState({currentEditable:null,view:"table"})},href:"/admin/videos",msg:"Back to video admin"},table:e}}},{key:"_formatRecords",value:function(e){var t=this;return e.map(function(e,r){return{record:e,columns:[e.title,e.category,(0,m.timestampToPrettyDate)(e.created_at),t._createActionsColumn.bind(t,e,r)]}})}},{key:"_onActionable",value:function(e,t,r){return"EDIT"===e?this.editRecord(t):this._summonDeletePrompt([t],[r])}},{key:"_summonDeletePrompt",value:function(e,t){this.setState({dialog:{open:!0,indexes:t,records:e}})}},{key:"addNewRecord",value:function(e){var t=this,r=this.state.records.length===this.state.pagination.per_page?-1:this.state.records.length,n=this.state.selectedIndexes.reduce(function(e,r){return r+1<=t.state.pagination.per_page-1?e.concat(r+1):e},[]);this.setState({records:this._formatRecords([e]).concat(this.state.records.slice(0,r)),selectedIndexes:n},function(){return t.handleBreadcrumb()})}},{key:"deleteRecords",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.map(function(e){return e.id});return this._toggleIsBusy(!0),(0,y.graphMutate)((0,g.deleteVideosMutation)(),{ids:n}).then(function(e){var r=e.errors;return r?Promise.reject(r):t._handlePaginationRequest(t._getCurrentOrPreviousPagePostDeletion(n.length))}).then(function(e){var n=e.videos;t.setState({dialog:{open:!1,indexes:[],records:[]},isBusy:!1,pagination:n.metadata,records:t._formatRecords(n.records),selectedIndexes:t.state.selectedIndexes.filter(function(e){return!r.includes(e)})})}).catch(function(e){t._toggleIsBusy(!1),(0,p.default)("EditVideos deleteRecords:",e)})}},{key:"editRecord",value:function(e){this.setState({currentEditable:e,view:"editVideo"})}},{key:"handleBreadcrumb",value:function(e){var t=this._getCurrentBreadcrumb();t.action&&"function"==typeof t.action&&(e&&e.preventDefault(),t.action())}},{key:"handleMassDeletion",value:function(){var e=this,t=this.state.selectedIndexes.map(function(t){return e.state.records[t].record});this._summonDeletePrompt(t,this.state.selectedIndexes)}},{key:"handlePagination",value:function(e){var t=this;return this._toggleIsBusy(!0),this._handlePaginationRequest(e).then(function(e){var r=e.videos;t.setState({isBusy:!1,pagination:r.metadata,records:t._formatRecords(r.records),selectedIndexes:[]})}).catch(function(e){t._toggleIsBusy(!1),(0,p.default)("EditVideos handlePagination:",e)})}},{key:"handleSearch",value:function(e){var t=this;return this._toggleIsBusy(!0),(0,y.graphQuery)({t:"videos_admin"},{page:1,per_page:this.state.pagination.per_page,search:e,sort:(0,_.getSortEnum)(this.state.currentSort.sort,this.state.currentSort.status)}).then(function(r){var n=r.errors,a=r.videos;if(n)return Promise.reject(n);t.setState({currentSearch:e,isBusy:!1,pagination:a.metadata,records:t._formatRecords(a.records),selectedIndexes:[]})}).catch(function(e){t._toggleIsBusy(!1),(0,p.default)("EditVideos handlePagination:",e)})}},{key:"handleSort",value:function(e){var t=this,r=e.sort,n=e.status;return this._toggleIsBusy(!0),(0,y.graphQuery)({t:"videos_admin"},{page:1,per_page:this.state.pagination.per_page,search:this.state.currentSearch,sort:(0,_.getSortEnum)(r,n)}).then(function(e){var a=e.errors,o=e.videos;if(a)return Promise.reject(a);t.setState({currentSort:{sort:r,status:n},isBusy:!1,pagination:o.metadata,records:t._formatRecords(o.records),selectedIndexes:[]})}).catch(function(e){t._toggleIsBusy(!1),(0,p.default)("EditVideos handlePagination:",e)})}},{key:"updateRecord",value:function(e){var t=this;this.setState({records:this.state.records.map(function(r){return r.record.id===e.id?t._formatRecords([Object.assign({},r.record,e)])[0]:r})},function(){return t.handleBreadcrumb()})}},{key:"_getCurrentBreadcrumb",value:function(){return this.state.breadcrumbs[this.state.view]}},{key:"_getCurrentOrPreviousPagePostDeletion",value:function(e){return parseInt(this.state.pagination.per_page)-e>0||this.state.pagination.total_pages>this.state.pagination.current_page?this.state.pagination.current_page:Math.max(parseInt(this.state.pagination.current_page)-1,1)}},{key:"_handlePaginationRequest",value:function(e){var t=this;return new Promise(function(r,n){return(0,y.graphQuery)({t:"videos_admin"},{page:e,per_page:t.state.pagination.per_page,search:t.state.currentSearch,sort:(0,_.getSortEnum)(t.state.currentSort.sort,t.state.currentSort.status)}).then(function(e){var t=e.errors,n=e.videos;if(t)return Promise.reject(t);r({videos:n})}).catch(function(e){return n(e)})})}},{key:"_toggleIsBusy",value:function(e){this.setState({isBusy:e})}},{key:"_createActionsColumn",value:function(e,t){return n.default.createElement("span",null,n.default.createElement("button",{className:v.default.editBtn,onClick:this._onActionable.bind(this,"EDIT",e,t)},"Edit"),n.default.createElement("button",{className:v.default.deleteBtn,onClick:this._onActionable.bind(this,"DELETE",e,t)},"Delete"))}},{key:"_getAddOrEditVideoView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return n.default.createElement(o.default,{algoliaPartsService:this.algoliaPartsService,algoliaPlatformsService:this.algoliaPlatformsService,algoliaTagsService:this.algoliaTagsService,algoliaTopicsService:this.algoliaTopicsService,dismiss:this.handleBreadcrumb,imageResources:this.props.image_resources,initRecord:this.state.currentEditable,mode:e,propagateEditedRecord:this.updateRecord,propagateNewRecord:this.addNewRecord})}},{key:"_getRenderedView",value:function(){switch(this.state.view){case"addVideo":return this._getAddOrEditVideoView();case"editVideo":return this._getAddOrEditVideoView("edit");default:return this._getTableView()}}},{key:"_getTableView",value:function(){var e=this;return n.default.createElement(u.default,{currentSearch:this.state.currentSearch,headers:C,isBusy:this.state.isBusy,onDelete:this.handleMassDeletion,onPagination:this.handlePagination,onSearch:this.handleSearch,onSort:this.handleSort,pagination:this.state.pagination,reportSelected:function(t){return e.setState({selectedIndexes:t})},selectedIndexes:this.state.selectedIndexes,tableItems:this.state.records,tableRef:function(t){return e._tableRef=t},toggleView:function(t){return e.setState({view:t})}})}},{key:"render",value:function(){var e=this,t=this._getCurrentBreadcrumb();return n.default.createElement("div",{className:b.default.container},n.default.createElement("div",{className:"".concat(b.default.wrapper1170," ").concat(b.default.marginTop15)},n.default.createElement(i.default,{href:t.href,onClick:this.handleBreadcrumb,text:t.msg}),this._getRenderedView()),n.default.createElement(l.default,{action:j(this.state.isBusy),body:R(),dismiss:function(){return e.setState({dialog:{open:!1,indexes:[],records:[]}})},okay:function(){return e.deleteRecords(e.state.dialog.records,e.state.dialog.indexes)},open:this.state.dialog.open,title:T(this.state.selectedIndexes.length)}))}}])&&E(r.prototype,a),h&&E(r,h),t}();N.propTypes={breadcrumb:a.default.shape({action:a.default.oneOfType([a.default.string,a.default.func]),href:a.default.string,msg:a.default.string}),image_resources:a.default.shape({aws_key:a.default.string.isRequired,s3_url:a.default.string.isRequired}).isRequired,initPagination:a.default.shape({current_page:a.default.number,next_page:a.default.number,per_page:a.default.number,prev_page:a.default.number}).isRequired,initSort:a.default.shape({sort:a.default.string.isRequired,status:a.default.number.isRequired}).isRequired,initVideos:a.default.arrayOf(a.default.shape({category:a.default.string.isRequired,created_at:a.default.oneOfType([a.default.string,a.default.number]).isRequired,description:a.default.string.isRequired,duration:a.default.integer,id:a.default.number,image:a.default.shape({id:a.default.number.isRequired,name:a.default.string,url:a.default.string.isRequired}),title:a.default.string.isRequired,url:a.default.string.isRequired})),mode:a.default.string},N.defaultProps={breadcrumb:{action:null,href:"/admin",msg:"Back to main admin"},initVideos:[],mode:"default"};var M=N;t.default=M},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=b(r(1)),o=b(r(143)),i=b(r(38)),l=b(r(100)),u=r(271),s=b(r(28)),c=r(85),d=r(8),f=r(43),p=r(730),m=r(123),h=r(12),y=r(390),g=b(r(52)),_=b(r(21)),v=b(r(2));function b(e){return e&&e.__esModule?e:{default:e}}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function P(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=y.VIDEO_CATEGORIES.map(function(e){return{label:e,value:e}}),T={category:{order:1,validate:function(e){return(0,f.minLength)(1,e)},value:"",formatIn:function(e){return(0,m.valueToSelectIn)(e)},formatOut:function(e){return(0,d.getInObj)(["value"],e)}},description:{order:2,validate:function(e){return(0,f.minLength)(1,e)},value:""},duration:{order:3,validate:function(e){return(0,p.validation)(e)},value:""},image:{order:9,validate:function(e){return(0,f.imageV)(e)},value:null},platforms:{order:7,validate:function(e){return null},value:[],notRequired:!0},products:{order:6,validate:function(e){return null},value:[],notRequired:!0},tags:{order:5,validate:function(e){return null},value:[],notRequired:!0},title:{order:0,validate:function(e){return(0,f.maxLength)(67,e)},value:""},topics:{order:8,validate:function(e){return null},value:[],notRequired:!0},url:{order:4,validate:function(e){return(0,f.isValidEmbedUrl)(e)},value:""}},N=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=S(t).call(this,e))||"object"!==O(a)&&"function"!=typeof a?C(n):a).state={errors:{},isBusy:!1,fields:(0,c.initFields)(T,r._getInitData(e)),workers:[]},r.addOrUpdateContent=r.addOrUpdateContent.bind(C(r)),r.getFieldValuesAsObject=c.getFieldValuesAsObject.bind(C(r)),r}var r,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,n.Component),r=t,(a=[{key:"_getInitData",value:function(e){return(0,d.getInObj)(["initData","data"],e)||{}}},{key:"componentDidMount",value:function(){(0,h.windowScrollTo)(0,0)}},{key:"addOrUpdateContent",value:function(){this._validate()&&this.props.saveContent(this._getObjectToPropagate())}},{key:"_getObjectToPropagate",value:function(){return{data:this.getFieldValuesAsObject(),index:this.props.initData&&null!==this.props.initData.index?this.props.initData.index:null}}},{key:"_setIsBusy",value:function(e,t){if(!e||!this.state.workers.includes(t)){var r=e?this.state.workers.concat(t):this.state.workers.filter(function(e){return e!==t});this.setState({isBusy:r.length>0,workers:r})}}},{key:"_setStateOrError",value:function(e,t,r){if(null===e){var n=this.state.errors,a=(n[t],E(n,[t].map(P)));this.setState({errors:a,fields:Object.assign({},this.state.fields,w({},t,Object.assign({},this.state.fields[t],{value:r})))})}else this.setState({errors:Object.assign({},this.state.errors,w({},t,e)),fields:Object.assign({},this.state.fields,w({},t,Object.assign({},this.state.fields[t],{value:r})))})}},{key:"_scrollToError",value:function(e){var t=this,r=Object.keys(this.state.fields).sort(function(e,r){return t.state.fields[e].order-t.state.fields[r].order}).reduce(function(t,r){return null!==t?t:e.hasOwnProperty(r)?document.getElementById("vf".concat(r)):t},null);r&&(0,s.default)(r,200,null,window)}},{key:"_validate",value:function(){var e=this,t=Object.keys(this.state.fields).reduce(function(t,r){var n=e.state.fields[r],a=(n.notRequired?[n.validate]:[f.isRequired,n.validate]).reduce(function(e,t){return null!==e?e:t(n.value)},null);return a&&a.length&&(t[r]=a),t},{});return!Object.keys(t).length||(this.setState({errors:Object.assign({},this.state.errors,t)},function(){return e._scrollToError(e.state.errors)}),!1)}},{key:"_getErrorViewForType",value:function(e,t){return n.default.createElement("div",{className:_.default.msgWrapper},n.default.createElement("div",null,this.state.errors.hasOwnProperty(e)&&n.default.createElement("div",{className:_.default.error},this.state.errors[e]),t&&n.default.createElement("div",{className:_.default.help},t)))}},{key:"render",value:function(){var e=this;return n.default.createElement("form",{className:g.default.container},n.default.createElement("div",{id:"vftitle"},n.default.createElement(i.default,{charCount:this.state.fields.title.value.length,errors:this.state.errors.title,label:"Title",maxVal:60,onChange:function(t){return e._setStateOrError((0,f.maxLength)(60,t.target.value),"title",t.target.value)},placeholder:"Type your title here",value:this.state.fields.title.value})),n.default.createElement("div",{id:"vfcategory"},n.default.createElement(l.default,{errors:this.state.errors.category,label:"Category",onSelectedChange:function(t){return e._setStateOrError(null,"category",t)},options:R,placeholder:"Select a category",selectOpts:{rule:"norule"},value:this.state.fields.category.value})),n.default.createElement("div",{id:"vfdescription"},n.default.createElement(i.default,{element:"textarea",errors:this.state.errors.description,label:"Description",onChange:function(t){return e._setStateOrError(null,"description",t.target.value)},placeholder:"Write a quick description of the video",value:this.state.fields.description.value})),n.default.createElement("div",{id:"vfduration"},n.default.createElement(i.default,{classList:{input:_.default.halfWidth},element:"duration",errors:this.state.errors.duration,label:"Duration",onChange:function(t,r){return e._setStateOrError(null,"duration",r)},placeholder:"00:00:00",value:this.state.fields.duration.value})),n.default.createElement("div",{id:"vfurl"},n.default.createElement(i.default,{errors:this.state.errors.url,label:"Url",onChange:function(t){return e._setStateOrError(null,"url",t.target.value)},placeholder:"Example: https://www.youtube.com",value:this.state.fields.url.value})),n.default.createElement("div",{id:"vftags",className:v.default.marginBottom30},n.default.createElement("label",{className:_.default.label},"Select up to 5 tags (optional)"),(0,u.createMultiSelect)({algoliaService:this.props.algoliaTagsService,errors:this.state.errors.hasOwnProperty("tags")?this.state.errors.tags:null,maxWidth:"100%",onSelect:function(t){return e._setStateOrError(null,"tags",t)},recordsToOptions:u.recordsToOptions,selectionLimit:5,value:this.state.fields.tags.value}),this._getErrorViewForType("tags")),n.default.createElement("div",{id:"vfproducts",className:v.default.marginBottom30},n.default.createElement("label",{className:_.default.label},"Select relevant products (optional)"),(0,u.createMultiSelect)({algoliaService:this.props.algoliaPartsService,errors:this.state.errors.hasOwnProperty("products")?this.state.errors.products:null,maxWidth:"100%",onSelect:function(t){return e._setStateOrError(null,"products",t)},recordsToOptions:u.recordsToOptions,value:this.state.fields.products.value}),this._getErrorViewForType("products")),n.default.createElement("div",{id:"vfplatforms",className:v.default.marginBottom30},n.default.createElement("label",{className:_.default.label},"Select relevant platforms (optional)"),(0,u.createMultiSelect)({algoliaService:this.props.algoliaPlatformsService,errors:this.state.errors.hasOwnProperty("platforms")?this.state.errors.platforms:null,maxWidth:"100%",onSelect:function(t){return e._setStateOrError(null,"platforms",t)},recordsToOptions:u.recordsToOptions,value:this.state.fields.platforms.value}),this._getErrorViewForType("platforms")),n.default.createElement("div",{id:"vftopics",className:v.default.marginBottom30},n.default.createElement("label",{className:_.default.label},"Select relevant topics (optional)"),(0,u.createMultiSelect)({algoliaService:this.props.algoliaTopicsService,errors:this.state.errors.hasOwnProperty("topics")?this.state.errors.topics:null,maxWidth:"100%",onSelect:function(t){return e._setStateOrError(null,"topics",t)},recordsToOptions:u.recordsToOptions,value:this.state.fields.topics.value}),this._getErrorViewForType("topics")),n.default.createElement("div",{id:"vfimage"},(0,u.createImageUploader)({aspectRatio:16/9,cropperTitle:(0,u.createCropperTitle)({title:"16:9 Crop"}),errors:this.state.errors.image,label:"Upload image",dimensionMins:{width:912},helperText:"This picture should have a ratio of 16:9 and be at least 912x513px for the best quality.",imageResources:this.props.imageResources,imageData:this.state.fields.image.value,nestedDialogLevel:1,propagateStatus:function(t){return e._setIsBusy(t,"image")},propagateUpload:function(t){return e._setStateOrError(null,"image",t)}})),n.default.createElement(o.default,{classNames:{root:v.default.marginTop30},isBusy:this.state.isBusy||this.props.isBusy,mode:this.props.mode,primaryBtnConfig:{onClick:this.addOrUpdateContent,text:"Create video"},secondaryBtnConfig:{onClick:this.props.dismiss}}))}}])&&k(r.prototype,a),p&&k(r,p),t}();N.propTypes={algoliaPartsService:a.default.object.isRequired,algoliaPlatformsService:a.default.object.isRequired,algoliaTagsService:a.default.object.isRequired,algoliaTopicsService:a.default.object.isRequired,imageResources:a.default.shape({aws_key:a.default.string.isRequired,s3_url:a.default.string.isRequired}).isRequired,initData:a.default.shape({data:a.default.object,index:a.default.number}),isBusy:a.default.bool.isRequired,mode:a.default.string,saveContent:a.default.func.isRequired},N.defaultProps={initData:null,mode:"default"};var M=N;t.default=M},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(15)),i=d(r(223)),l=d(r(525)),u=d(r(3)),s=d(r(2)),c=d(r(527));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.currentSearch,r=e.headers,a=e.isBusy,d=e.onDelete,f=e.onPagination,p=e.onSearch,m=e.onSort,h=e.pagination,y=e.reportSelected,g=e.selectedIndexes,_=e.tableItems,v=e.tableRef,b=e.toggleView;return n.default.createElement("div",null,n.default.createElement("h1",{className:"".concat(u.default.h1," ").concat(s.default.marginBottom30)},"Videos"),n.default.createElement("div",{className:c.default.tableActions},n.default.createElement("div",null,n.default.createElement(o.default,{disabled:a,onClick:function(){return b("addVideo")}},"Add video"),n.default.createElement(o.default,{className:s.default.marginLeft15,colorStyle:"tertiary",disabled:!g.length||a,onClick:d},"Delete")),n.default.createElement("div",null,n.default.createElement(i.default,{initVal:t,onEnter:p,placeholder:"Search videos"}))),n.default.createElement(l.default,{ref:v,headers:r,isBusy:a,onPagination:f,onSort:m,pagination:h,reportSelected:y,selectedIndexes:g,tableItems:_}))};f.propTypes={currentSearch:a.default.string,headers:a.default.arrayOf(a.default.shape({title:a.default.string.isRequired,orderable:a.default.bool,sort:a.default.string})).isRequired,isBusy:a.default.bool.isRequired,onDelete:a.default.func.isRequired,onPagination:a.default.func.isRequired,onSearch:a.default.func.isRequired,onSort:a.default.func.isRequired,pagination:a.default.shape({current_page:a.default.number,next_page:a.default.number,per_page:a.default.number,prev_page:a.default.number}),reportSelected:a.default.func.isRequired,selectedIndexes:a.default.array.isRequired,tableItems:a.default.arrayOf(a.default.shape({columns:a.default.array.isRequired,record:a.default.object})).isRequired,tableRef:a.default.func.isRequired,toggleView:a.default.func.isRequired},f.defaultProps={currentSearch:null};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=T(r(1)),o=T(r(351)),i=T(r(2346)),l=T(r(2348)),u=T(r(2349)),s=T(r(384)),c=T(r(72)),d=T(r(2350)),f=T(r(97)),p=T(r(48)),m=T(r(7)),h=T(r(206)),y=T(r(983)),g=T(r(984)),_=r(250),v=r(218),b=r(272),O=r(14),w=r(11),E=r(18),P=T(r(10)),k=T(r(64)),S=T(r(2)),C=T(r(3)),j=T(r(5)),R=T(r(982));function T(e){return e&&e.__esModule?e:{default:e}}function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function A(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function I(e,t){return D(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||x()}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function D(e){if(Array.isArray(e))return e}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var U={by_sponsored:!1,by_time:(0,b.getTimeFilterEnum)("upcoming"),sort:(0,b.getSortEnum)("most_recent",1)},V=["local_and_virtual","local","virtual"],W={past:{title:"Past events",card:s.default},upcoming:{title:"All other events",card:i.default},virtual:{title:"Virtual events"}},H="".concat(S.default.hiddenSmallUp," ").concat(S.default.flexJustifyCenter," ").concat(S.default.marginTop30),z=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=L(t).call(this,e))||"object"!==N(a)&&"function"!=typeof a?B(n):a).state={currentUser:null,initialized:!1,events:r._initEventsFromProps(e.init_events)},r.getSeeAllLink=r.getSeeAllLink.bind(B(r)),r.handleAddEventClick=r.handleAddEventClick.bind(B(r)),r.seoHandler=new f.default({config:g.default}),r}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._init()}},{key:"_init",value:function(){var e=this;return Promise.all([p.default.getStoreAsync(),(0,O.graphQuery)({t:"events_home_custom"})]).then(function(t){return e._updateEventLists(t)}).catch(function(t){e.setState({initialized:!0}),(0,m.default)("EventsHomePage _init",t)})}},{key:"_initEventsFromProps",value:function(e){return{sponsored:e.home_config.sponsored,past:e.past,upcoming:e.upcoming}}},{key:"_updateEventLists",value:function(e){var t=I(e,2),r=t[0],n=t[1].events_local_and_virtual;this.setState(function(e){return{currentUser:r,events:Object.assign({},e.events,n),initialized:!0}}),this._updateUpcomingList(n)}},{key:"_updateUpcomingList",value:function(e){var t=this,r=this._getDataForUpcomingListUpdate(e),n=r.blacklist,a=r.uniqueUpcomingEvents,o=9-a.length;if(!(o<1))return(0,O.graphQuery)({t:"events"},Object.assign({},U,{id_blacklist:n,limit:o})).then(function(e){var r=e.events;return t.setState(function(e){return{events:Object.assign({},e.events,{upcoming:[].concat(M(a),M(r))})}})}).catch(function(e){(0,m.default)("EventsHomePage _updateUpcomingList",e)})}},{key:"handleAddEventClick",value:function(e){return(0,w.isSignedInUser)(this.state.currentUser)?this.state.currentUser.isConfirmed?void 0:(e.preventDefault(),(0,E.summonGlobalDialog)({getChildren:function(){return n.default.createElement(o.default,{actionText:"create an event"})}})):(e.preventDefault(),(0,E.summonLoginPanel)({detail:{state:{currentPanel:"signup"},source:"events_home"}}))}},{key:"_getDataForUpcomingListUpdate",value:function(e){var t=[e.local_and_virtual,e.local,e.virtual].flat().map(function(e){return e.id}),r=this.state.events.upcoming.filter(function(e){return!t.includes(e.id)}),n=r.map(function(e){return e.id});return{blacklist:[].concat(M(t),M(n)),uniqueUpcomingEvents:r}}},{key:"_getListTitle",value:function(e){switch(e){case"local_and_virtual":return"Events near ".concat((0,v.getFormattedLocation)(this.state.events.location)," & virtual events");case"local":return"Events near ".concat((0,v.getFormattedLocation)(this.state.events.location));default:return W[e].title}}},{key:"_getLocationSearchFilter",value:function(){var e=this.state.events.location;return e?{city:e.city,state:e.state,countryCode:e.country_iso2,distance:5,geoloc:{lat:e.latitude,lng:e.longitude}}:{}}},{key:"_getSearchFiltersForViewAllLink",value:function(e){switch(e){case"local":return{location:this._getLocationSearchFilter()};case"local_and_virtual":return{date:"upcoming"};case"past":return{date:"past"};case"upcoming":return{date:"upcoming"};case"virtual":return{attendance_type:"virtual"};default:return{}}}},{key:"_getViewAllHref",value:function(e){var t={filters:this._getSearchFiltersForViewAllLink(e),index:"events",query:""};return"".concat(this.props.search_path).concat((0,y.default)(t))}},{key:"_getList",value:function(e){var t=this.state.events[e];if(!(0,w.isBlank)(t))return n.default.createElement("div",{key:e,className:S.default.marginTop60},n.default.createElement("div",{className:"".concat(S.default.flexJustifySpaceBetween," ").concat(S.default.marginBottom22)},n.default.createElement("p",{className:C.default.h4},this._getListTitle(e)),this.getSeeAllLink(e)),n.default.createElement(c.default,{className:"".concat(k.default.guttersH30_sm," ").concat(k.default.guttersV30_sm),ItemComponent:W[e].card,gutterSize:15,maxCols:3,records:t}),this.getSeeAllLink(e,!1))}},{key:"_getLocalAndVirtualSection",value:function(){var e=this;return this.state.initialized?V.map(function(t){return e._getLocalOrVirtualList(t)}):n.default.createElement(d.default,{isDummyList:!0})}},{key:"_getLocalOrVirtualList",value:function(e){if(!(0,w.isBlank)(this.state.events[e]))return n.default.createElement(d.default,{key:e,events:this.state.events[e],eventType:e,getSeeAllLink:this.getSeeAllLink,title:this._getListTitle(e)})}},{key:"getSeeAllLink",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this._getViewAllHref(e);return n.default.createElement("a",{className:t?S.default.hiddenSmallDown:H,href:r,onClick:function(t){(0,_.fireViewAllSectionClickAnalytics)({delayRedirect:!0,e:t,item:{type:"view_all_link"},section:{key:"event",value:e},url:r})}},n.default.createElement("p",{className:"".concat(C.default.bodyM," ").concat(C.default.linkBlue," ").concat(C.default.bold)},"See all ".concat(e.split("_").join(" ")," events")))}},{key:"_getSingleEventSponsoredList",value:function(e){return n.default.createElement(n.Fragment,null,n.default.createElement(l.default,{className:S.default.hiddenSmallDown,imageRight:!0,item:e}),n.default.createElement(u.default,{className:S.default.hiddenSmallUp,item:e}))}},{key:"_getSponsoredList",value:function(e){var t=(0,h.default)(!1,e.length,30);return n.default.createElement("div",{className:t.grid},e.map(function(e,r){return n.default.createElement(u.default,{key:e.id,className:t.cell,item:e})}))}},{key:"render",value:function(){var e,t=this.state.events.sponsored||[],r=D(e=t)||A(e)||x(),a=r[0],o=r.slice(1);return n.default.createElement(n.Fragment,null,n.default.createElement("div",{className:"".concat(S.default.container," ").concat(S.default.paddingBottom0)},n.default.createElement("div",{className:S.default.wrapper1170},n.default.createElement("header",{className:"".concat(S.default.flexJustifySpaceBetween," ").concat(S.default.flexCenterItems)},n.default.createElement("h1",{className:C.default.h1},"Events"),n.default.createElement("a",{className:"".concat(P.default.sm," ").concat(S.default.flex00Auto," ").concat(this.state.initialized?"":j.default.disabled),href:this.props.new_event_path,onClick:this.handleAddEventClick},"Add an event")),a&&n.default.createElement("div",{className:S.default.marginTop60},n.default.createElement(l.default,{item:a})),this._getLocalAndVirtualSection(),o.length>0&&n.default.createElement("div",{className:S.default.marginTop60},1===o.length?this._getSingleEventSponsoredList(o[0]):this._getSponsoredList(o)),this._getList("upcoming"))),n.default.createElement("div",{className:"".concat(S.default.container," ").concat(S.default.paddingTop0," ").concat(S.default.paddingBottom60," ").concat(S.default.marginTop45," ").concat(R.default.fadeBackground)},n.default.createElement("div",{className:S.default.wrapper1170},this._getList("past"))))}}])&&q(r.prototype,a),i&&q(r,i),t}();z.propTypes={init_events:a.default.shape({home_config:a.default.shape({sponsored:a.default.array}),past:a.default.array,upcoming:a.default.array}).isRequired,new_event_path:a.default.string.isRequired,search_path:a.default.string.isRequired};var G=z;t.default=G},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=r(61),i=u(r(384)),l=u(r(2347));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.item,r=e.itemIndex,a=e.overrideTracking;return n.default.createElement(l.default,{item:Object.assign({},t,{url:t.link}),linkProps:{isExternal:!0,itemIndex:r,linkType:o.EVENT_CARD,overrideTracking:a},renderBody:function(){return n.default.createElement(i.default,{item:t,itemIndex:r,overrideTracking:a,size:"L"})}})};s.propTypes={item:a.default.shape({city:a.default.string,country_iso2:a.default.string,custom_sponsors:a.default.arrayOf(a.default.string),event_type:a.default.string.isRequired,id:a.default.number.isRequired,image:a.default.shape({url:a.default.string.isRequired}).isRequired,imageRight:a.default.bool,link:a.default.string.isRequired,platforms:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string})),start_date:a.default.stringisRequired,state:a.default.string,title:a.default.string.isRequired,user:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired}).isRequired,itemIndex:a.default.number,overrideTracking:a.default.func},s.defaultProps={itemIndex:null,overrideTracking:null};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(70)),i=d(r(30)),l=r(8),u=d(r(2)),s=d(r(3)),c=d(r(5));function d(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p=function(e){var t=e.renderBody,r=e.item,a=e.linkProps;return n.default.createElement("div",{className:"".concat(u.default.flexCenterItems," ").concat(u.default.fullWidth," ").concat(s.default.overflowBreakWord)},n.default.createElement(o.default,f({item:r},a),n.default.createElement(i.default,{alt:r.title,classList:{image:c.default.borderRadius},ratio:"1:1",src:(0,l.getInObj)(["image","url"],r),width:120})),n.default.createElement("div",{className:u.default.marginLeft15},t()))};p.propTypes={item:a.default.shape({image:a.default.shape({url:a.default.string.isRequired}).isRequired}).isRequired,linkProps:a.default.shape({linkType:a.default.string.isRequired}).isRequired,renderBody:a.default.func},p.defaultProps={renderBody:function(){return null}};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=_(r(0)),a=_(r(1)),o=_(r(70)),i=_(r(268)),l=_(r(188)),u=_(r(46)),s=_(r(269)),c=r(61),d=r(219),f=r(8),p=_(r(2)),m=_(r(3)),h=_(r(5)),y=_(r(189)),g=_(r(9));function _(e){return e&&e.__esModule?e:{default:e}}var v=function(e){var t=e.className,r=e.imageRight,a=e.item,_=e.itemIndex,v=e.overrideTracking;return n.default.createElement("div",{className:"".concat(p.default.flexCenterItems," ").concat(r?p.default.flexRowReverse:p.default.flexRow," ").concat(y.default.largeCard," ").concat(p.default.fullWidth," ").concat(m.default.overflowBreakWord," ").concat(t)},n.default.createElement(o.default,{className:"".concat(p.default.flex1," ").concat(y.default.imageLarge," ").concat(h.default.posRelative),isExternal:!0,item:{id:a.id,url:a.link},itemIndex:_,linkType:c.EVENT_CARD,overrideTracking:v},n.default.createElement(u.default,{alt:a.title,classList:{root:h.default.absolutePlaceholderChild},ratio:"3:2",setStyle:!1,src:(0,f.getInObj)(["image","url"],a),width:555}),n.default.createElement("div",{className:y.default.dateBadge},n.default.createElement(i.default,{endDate:a.end_date,startDate:a.start_date}))),n.default.createElement("div",{className:"".concat(m.default.bodyL," ").concat(p.default.flexColumnWrap," ").concat(p.default.flex1," ").concat(r?y.default.largeCardInfoWrapperLeft:y.default.largeCardInfoWrapperRight)},n.default.createElement(s.default,{className:y.default.largeCardInfoSection,item:a}),n.default.createElement("div",{className:y.default.largeCardInfoSection},n.default.createElement(o.default,{className:"".concat(m.default.linkCharcoal," ").concat(m.default.h2Responsive," ").concat(y.default.largeCardTitle),isExternal:!0,item:{id:a.id,url:a.link},itemIndex:_,linkType:c.EVENT_CARD,overrideTracking:v},a.title)),!!a.summary&&n.default.createElement("div",{className:y.default.largeCardInfoSection},a.summary),n.default.createElement("div",{className:y.default.largeCardInfoSection},(0,d.getDateRangeAsText)(a),n.default.createElement("span",{className:"".concat(p.default.marginLeft10," ").concat(p.default.marginRight10)},"•"),n.default.createElement(l.default,{item:a}),n.default.createElement(o.default,{className:"".concat(y.default.ctaLink," ").concat(m.default.bold," ").concat(m.default.linkBlue," ").concat(m.default.textWithIcon),isExternal:!0,item:{id:a.id,url:a.link},itemIndex:_,linkType:c.EVENT_CARD,overrideTracking:v},"Learn more",n.default.createElement(g.default,{className:p.default.marginLeft5,name:"arrow-right"})))))};v.propTypes={className:a.default.string,imageRight:a.default.bool,item:a.default.shape({city:a.default.string,country_iso2:a.default.string,custom_sponsors:a.default.arrayOf(a.default.string),event_type:a.default.string.isRequired,id:a.default.number.isRequired,image:a.default.shape({url:a.default.string.isRequired}).isRequired,link:a.default.string.isRequired,platforms:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string})),start_date:a.default.stringisRequired,state:a.default.string,title:a.default.string.isRequired,user:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired}).isRequired,itemIndex:a.default.number,overrideTracking:a.default.func},v.defaultProps={className:"",imageRight:!1,itemIndex:null,overrideTracking:null};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=_(r(0)),a=_(r(1)),o=_(r(70)),i=_(r(268)),l=_(r(188)),u=_(r(30)),s=_(r(269)),c=r(61),d=r(219),f=r(8),p=_(r(2)),m=_(r(3)),h=_(r(5)),y=_(r(189)),g=_(r(9));function _(e){return e&&e.__esModule?e:{default:e}}var v=function(e){var t=e.className,r=e.item,a=e.itemIndex,_=e.overrideTracking;return n.default.createElement("div",{className:"".concat(p.default.flexCenterItems," ").concat(p.default.flexColumnWrap," ").concat(p.default.fullWidth," ").concat(m.default.overflowBreakWord," ").concat(t)},n.default.createElement(o.default,{className:"".concat(h.default.absolutePlaceholderParent," ").concat(h.default.aspectRatioPadding3_2," ").concat(p.default.fullWidth),isExternal:!0,item:{id:r.id,url:r.link},itemIndex:a,linkType:c.EVENT_CARD,overrideTracking:_},n.default.createElement(u.default,{alt:r.title,classList:{root:h.default.absolutePlaceholderChild,image:h.default.borderRadius},ratio:"3:2",setStyle:!1,src:(0,f.getInObj)(["image","url"],r),width:570}),n.default.createElement("div",{className:y.default.dateBadge},n.default.createElement(i.default,{endDate:r.end_date,startDate:r.start_date}))),n.default.createElement("div",{className:"".concat(m.default.bodyL," ").concat(p.default.flexColumnWrap," ").concat(p.default.flexCenterItems)},n.default.createElement(s.default,{className:"".concat(p.default.marginTop22," ").concat(m.default.textCenter),item:r}),n.default.createElement("div",{className:"".concat(p.default.marginTop10," ").concat(m.default.textCenter)},n.default.createElement(o.default,{className:"".concat(m.default.linkCharcoal," ").concat(m.default.h3Responsive),isExternal:!0,item:{id:r.id,url:r.link},itemIndex:a,linkType:c.EVENT_CARD,overrideTracking:_},r.title)),n.default.createElement("div",{className:"".concat(p.default.marginTop10," ").concat(m.default.textCenter)},(0,d.getDateRangeAsText)(r),n.default.createElement("span",{className:"".concat(p.default.marginLeft10," ").concat(p.default.marginRight10)},"•"),n.default.createElement(l.default,{item:r}),n.default.createElement(o.default,{className:"".concat(p.default.flex," ").concat(p.default.flexJustifyCenter," ").concat(p.default.marginTop10," ").concat(m.default.bold," ").concat(m.default.linkBlue," ").concat(m.default.textWithIcon),isExternal:!0,item:{id:r.id,url:r.link},itemIndex:a,linkType:c.EVENT_CARD,overrideTracking:_},"Learn more",n.default.createElement(g.default,{name:"arrow-right"})))))};v.propTypes={className:a.default.string,item:a.default.shape({city:a.default.string,country_iso2:a.default.string,custom_sponsors:a.default.arrayOf(a.default.string),event_type:a.default.string.isRequired,id:a.default.number.isRequired,image:a.default.shape({url:a.default.string.isRequired}).isRequired,link:a.default.string.isRequired,platforms:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string})),start_date:a.default.stringisRequired,state:a.default.string,title:a.default.string.isRequired,user:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired}).isRequired,itemIndex:a.default.number,overrideTracking:a.default.func},v.defaultProps={className:"",itemIndex:null,overrideTracking:null};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(2351)),i=f(r(2352)),l=r(220),u=f(r(2)),s=f(r(64)),c=f(r(3)),d=f(r(982));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var m="".concat(s.default.cell," ").concat(s.default.cell_1_2),h="".concat(s.default.grid," ").concat(s.default.guttersH15," ").concat(s.default.guttersV30," ").concat(s.default.guttersH60_sm),y=function(e){var t=e.events,r=e.eventType,a=e.getSeeAllLink,s=e.isDummyList,f=e.title;return n.default.createElement("div",{className:u.default.marginTop60},n.default.createElement("div",{className:"".concat(u.default.flexJustifySpaceBetween," ").concat(u.default.marginBottom22)},s?n.default.createElement(n.Fragment,null,n.default.createElement(l.TextPlaceholder,{height:20,width:"25%"}),n.default.createElement("span",{className:u.default.hiddenSmallDown}),n.default.createElement(l.TextPlaceholder,{height:20,width:"15%"})):function(e,t){return n.default.createElement(n.Fragment,null,n.default.createElement("p",{className:c.default.h4},e),t)}(f,a(r))),n.default.createElement("div",{className:h},s?p(Array(4).keys()).map(function(e){return n.default.createElement(o.default,{key:e,className:"".concat(m," ").concat(d.default.eventCardHorizontalLarge)})}):function(e){return e.map(function(e,t){return n.default.createElement(i.default,{key:e.id,className:"".concat(m," ").concat(d.default.eventCardHorizontalLarge),item:e,itemIndex:t})})}(t)),!s&&a(r,!1))};y.propTypes={eventType:a.default.string,events:a.default.arrayOf(a.default.shape({city:a.default.string,country_iso2:a.default.string,custom_sponsors:a.default.arrayOf(a.default.string),event_type:a.default.string.isRequired,id:a.default.number.isRequired,image:a.default.shape({url:a.default.string.isRequired}).isRequired,link:a.default.string.isRequired,platforms:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string})),start_date:a.default.stringisRequired,state:a.default.string,title:a.default.string.isRequired,user:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired})),getSeeAllLink:a.default.func,isDummyList:a.default.bool,title:a.default.string},y.defaultProps={eventType:null,events:null,getSeeAllLink:null,isDummyList:!1,title:null};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(967)),o=s(r(893)),i=s(r(2)),l=s(r(5)),u=s(r(270));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.className;return n.default.createElement("div",{className:"".concat(u.default.card," ").concat(i.default.fullWidth," ").concat(t)},n.default.createElement("div",{className:"".concat(u.default.image," ").concat(l.default.posRelative)},n.default.createElement(o.default,{className:"".concat(l.default.absolutePlaceholderChild," ").concat(l.default.borderRadius),animated:!0,aspectRatio:1.5})),n.default.createElement(a.default,{className:u.default.text,size:"L"}))};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(981)),i=u(r(384)),l=r(61);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.className,r=e.item,a=e.itemIndex,u=e.overrideTracking;return n.default.createElement(o.default,{className:t,item:Object.assign({},r,{url:r.link}),linkProps:{isExternal:!0,itemIndex:a,linkType:l.EVENT_CARD,overrideTracking:u},renderBody:function(){return n.default.createElement(i.default,{item:r,itemIndex:a,overrideTracking:u,size:"L"})}})};s.propTypes={className:a.default.string,item:a.default.shape({city:a.default.string,country_iso2:a.default.string,custom_sponsors:a.default.arrayOf(a.default.string),event_type:a.default.string.isRequired,id:a.default.number.isRequired,image:a.default.shape({url:a.default.string.isRequired}).isRequired,imageRight:a.default.bool,link:a.default.string.isRequired,platforms:a.default.arrayOf(a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string})),start_date:a.default.stringisRequired,state:a.default.string,title:a.default.string.isRequired,user:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired}).isRequired,itemIndex:a.default.number,overrideTracking:a.default.func},s.defaultProps={className:"",itemIndex:null,overrideTracking:null};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=h(r(1)),o=h(r(2354)),i=h(r(2367)),l=h(r(2368)),u=h(r(2369)),s=h(r(2370)),c=h(r(2382)),d=r(14),f=r(12),p=h(r(7)),m=h(r(2));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=[{key:"platforms",label:"Platforms",title:"Platforms",value:"platforms"},{key:"topics",label:"Topics",title:"Topics",value:"topics"}],w=[{key:"sort",label:"Featured",title:"Featured",value:"featured_date"}],E=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=_(t).call(this,e))||"object"!==y(a)&&"function"!=typeof a?v(n):a).state={activeDraft:e.draft,draft:e.draft,currentSectionData:null,isBusy:!1,publishing:!1,unsavedChanges:!1,view:"table"},r.addSection=r.addSection.bind(v(r)),r.publish=r.publish.bind(v(r)),r.removeSection=r.removeSection.bind(v(r)),r.saveChanges=r.saveChanges.bind(v(r)),r.undoChanges=r.undoChanges.bind(v(r)),r.updateSection=r.updateSection.bind(v(r)),r}var r,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n.Component),r=t,(a=[{key:"addSection",value:function(e){e&&this.setState({activeDraft:Object.assign({},this.state.activeDraft,{sections:this.state.activeDraft.sections.concat(e)}),unsavedChanges:!0,view:"table"})}},{key:"publish",value:function(){if(window.confirm("Once you press OK, these changes go live!"))return this._handleUpdateRequest(!0).then(function(){return(0,f.windowLocationRedirect)("/")}).catch(function(){})}},{key:"removeSection",value:function(e){this.setState({activeDraft:Object.assign({},this.state.activeDraft,{sections:this.state.activeDraft.sections.filter(function(t,r){return e.index!==r})}),unsavedChanges:!0})}},{key:"saveChanges",value:function(){return this._handleUpdateRequest().then(function(){}).catch(function(){})}},{key:"undoChanges",value:function(){this.setState({activeDraft:this.state.draft,unsavedChanges:!1})}},{key:"updateSection",value:function(e){this.setState({activeDraft:Object.assign({},this.state.activeDraft,{sections:this.state.activeDraft.sections.map(function(t,r){return e.index===r?e.data:t})}),unsavedChanges:!0})}},{key:"_handleUpdateRequest",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(r,n){e.setState({isBusy:!0,publishing:t});var a=e.state.activeDraft;return(0,d.graphMutate)({t:"update_home_page"},{publish:t,entity_id:a.entity_id,entity_type:a.entity_type.toUpperCase(),sections:JSON.stringify(a.sections)}).then(function(){e.setState({draft:a,isBusy:!1,publishing:!1,unsavedChanges:!1},function(){return r()})}).catch(function(t){(0,p.default)("HomeEditSections saveChanges",t),e.setState({isBusy:!1,publishing:!1},function(){return n()})})})}},{key:"_toggleView",value:function(e,t){this.setState({view:e,currentSectionData:t||null},function(){return(0,f.windowScrollTo)(0,0)})}},{key:"_getRenderedView",value:function(){switch(this.state.view){case"addSection":return this._getAddSectionView();case"editCTA":return this._getEditCTAView();case"editPromoted":return this._getEditPromotedContentView();case"editVideo":return this._getEditVideoView();case"preview":return this._getPreviewView();default:return this._getTableView()}}},{key:"_getAddSectionView",value:function(){var e=this;return n.default.createElement(o.default,{addSection:this.addSection,collections:{collection:O,projectCollection:w},existingSections:this.state.activeDraft.sections,imageResources:this.props.image_resources,toggleView:function(t){return e._toggleView(t)}})}},{key:"_getEditCTAView",value:function(){var e=this;return n.default.createElement(i.default,{ctaSection:this.state.currentSectionData,imageResources:this.props.image_resources,toggleView:function(t){return e._toggleView(t)},updateSection:this.updateSection})}},{key:"_getEditPromotedContentView",value:function(){var e=this;return n.default.createElement(l.default,{section:this.state.currentSectionData,imageResources:this.props.image_resources,toggleView:function(t){return e._toggleView(t)},updateSection:this.updateSection})}},{key:"_getEditVideoView",value:function(){var e=this;return n.default.createElement(u.default,{section:this.state.currentSectionData,imageResources:this.props.image_resources,toggleView:function(t){return e._toggleView(t)},updateSection:this.updateSection})}},{key:"_getPreviewView",value:function(){var e=this;return n.default.createElement(s.default,{sections:this.state.activeDraft.sections,toggleView:function(t){return e._toggleView(t)}})}},{key:"_getTableView",value:function(){var e=this;return n.default.createElement(c.default,{isBusy:this.state.isBusy,hasUnsavedChanges:this.state.unsavedChanges,publish:this.publish,publishing:this.state.publishing,removeSection:this.removeSection,saveChanges:this.saveChanges,sections:this.state.activeDraft.sections,toggleView:function(t,r){return e._toggleView(t,r)},undoChanges:this.undoChanges,updateSection:this.updateSection,updateSectionsOrder:function(t){return e.setState({activeDraft:Object.assign({},e.state.activeDraft,{sections:t}),unsavedChanges:!0})}})}},{key:"render",value:function(){return n.default.createElement("div",{className:m.default.container},n.default.createElement("div",{className:m.default.wrapper1170},this._getRenderedView()))}}])&&g(r.prototype,a),h&&g(r,h),t}();E.propTypes={draft:a.default.shape({entity_id:a.default.number,entity_type:a.default.string.isRequired,id:a.default.number.isRequired,sections:a.default.arrayOf(a.default.shape({key:a.default.string.isRequired,label:a.default.string.isRequired,meta:a.default.object,title:a.default.string.isRequired,value:a.default.oneOfType([a.default.string,a.default.number,a.default.bool]).isRequired})).isRequired}).isRequired,image_resources:a.default.shape({aws_key:a.default.string.isRequired,s3_url:a.default.string.isRequired}).isRequired};var P=E;t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=_(r(1)),o=_(r(943)),i=_(r(225)),l=_(r(161)),u=_(r(944)),s=_(r(226)),c=_(r(276)),d=_(r(143)),f=_(r(108)),p=_(r(282)),m=_(r(7)),h=_(r(2)),y=_(r(3)),g=_(r(145));function _(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=[{disabled:function(){return!1},label:"Call to action",value:"cta"},{disabled:function(){return!1},label:"Collection",value:"collection"},{disabled:function(){return!1},label:"Contest",value:"contest"},{disabled:function(){return!1},label:"Platform",value:"platform"},{disabled:function(){return!1},label:"Promoted content",value:"promotedContent"},{disabled:function(){return!1},label:"Project collection",value:"projectCollection"},{disabled:function(){return!1},label:"Topic",value:"topic"},{disabled:function(){return!1},label:"Videos",value:"video"}],S=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=!(a=w(t).call(this,e))||"object"!==v(a)&&"function"!=typeof a?E(n):a;var d=k[0].value;return r.state={isBusy:!1,sectionConfig:(0,p.default)(d),sectionStores:r._createSectionStores(),sectionType:d},r.algoliaContestsService=new o.default,r.algoliaPartsService=new i.default,r.algoliaPlatformsService=new l.default,r.algoliaProjectsService=new u.default,r.algoliaTagsService=new s.default,r.algoliaTopicsService=new c.default,r.clearValueForType=r.clearValueForType.bind(E(r)),r.getErrorsForType=r.getErrorsForType.bind(E(r)),r.getValueForType=r.getValueForType.bind(E(r)),r.getSelectionListForType=r.getSelectionListForType.bind(E(r)),r.onAddSectionClick=r.onAddSectionClick.bind(E(r)),r.setCurrentSelectionForType=r.setCurrentSelectionForType.bind(E(r)),r.toggleBusyStatus=r.toggleBusyStatus.bind(E(r)),r.ctaForm,r.promotedContent,r}var r,a,_;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,n.Component),r=t,(a=[{key:"_createSectionStores",value:function(){return k.map(function(e){return e.value}).reduce(function(e,t){return e[t]={formErrors:[],record:{},value:""},e},{})}},{key:"_reportErrorIfStoreHasNoType",value:function(e,t){this.state.sectionStores.hasOwnProperty(e)||(0,m.default)("SectionStores recieved an unknown type, ".concat(e,".  Known keys: ").concat(Object.keys(this.state.sectionStores),".  Method: ").concat(t))}},{key:"clearValueForType",value:function(e){this._reportErrorIfStoreHasNoType(e,"clearValueForType"),this.setState({sectionStores:Object.assign({},this.state.sectionStores,b({},e,{formErrors:[],record:{},value:""}))})}},{key:"getErrorsForType",value:function(e){return this._reportErrorIfStoreHasNoType(e,"getErrorsForType"),this.state.sectionStores[e].formErrors}},{key:"getSelectionListForType",value:function(e){var t=this;return!this.props.hasOwnProperty("collections")||this.props.collections&&!this.props.collections.hasOwnProperty(e)?((0,m.default)("getSelectionListForType recieved unknown list prop, collections.".concat(e,".  Double check your props!")),[]):this.props.collections[e].filter(function(e){return-1===t.props.existingSections.findIndex(function(t){return t.key===e.key&&t.value===e.value})})}},{key:"getValueForType",value:function(e){return this._reportErrorIfStoreHasNoType(e,"getValueForType"),this.state.sectionStores[e].value}},{key:"onAddSectionClick",value:function(){var e=this.state.sectionType;switch(e){case"cta":return this._addCTASection();case"promotedContent":return this._addPromotedContent();case"video":return this._addVideoContent();default:return this._addSelectSection(e)}}},{key:"_addCTASection",value:function(){if(!this.ctaForm)return(0,m.default)("ctaForm ref does not exist!");this.ctaForm.validate()&&this.props.addSection(this.state.sectionConfig.toSection(this.ctaForm.getFormData()))}},{key:"_addPromotedContent",value:function(){if(!this.promotedContent)return(0,m.default)("promotedContent ref does not exist!");this.promotedContent.validate()&&this.props.addSection(this.state.sectionConfig.toSection(this.promotedContent.getContent()))}},{key:"_addVideoContent",value:function(){if(!this.video)return(0,m.default)("video ref does not exist!");this.video.__validate()&&this.props.addSection(this.state.sectionConfig.toSection(this.video.__getContent()))}},{key:"_addSelectSection",value:function(e){this._reportErrorIfStoreHasNoType(e,"_addSelectSection");var t=this.state.sectionStores[e];if(!t.value||"string"==typeof t.value&&!t.value.length)return this.setState({sectionStores:Object.assign({},this.state.sectionStores,b({},e,{formErrors:["A ".concat(e," must be selected!")],record:{},value:""}))});this.props.addSection(this.state.sectionConfig.toSection(t.record))}},{key:"setCurrentSelectionForType",value:function(e,t){this._reportErrorIfStoreHasNoType(e,"setCurrentSelectionForType"),null===t?this.clearValueForType(e):this.setState({sectionStores:Object.assign({},this.state.sectionStores,b({},e,{formErrors:[],record:t.record,value:t.value}))})}},{key:"toggleBusyStatus",value:function(e){this.setState({isBusy:e})}},{key:"_getActionLabelForView",value:function(){if(this.state.sectionConfig.hasOwnProperty("actionLabel"))return this.state.sectionConfig.actionLabel()}},{key:"_getSelectInputView",value:function(){return this.state.sectionConfig.hasOwnProperty("component")?this.state.sectionConfig.component(this):((0,m.default)("AddSectionView _getSelectInputView is missing a component fn! sectionType: ".concat(this.state.sectionConfig)),(0,p.default)("_failSafe").component())}},{key:"_getLabelForView",value:function(){return this.state.sectionConfig.hasOwnProperty("label")?this.state.sectionConfig.label():((0,m.default)("AddSectionView _getLabelForView is missing a label fn! sectionType: ".concat(this.state.sectionConfig)),(0,p.default)("_failSafe").label())}},{key:"render",value:function(){var e=this;return n.default.createElement("section",{className:"".concat(g.default.root)},n.default.createElement("h1",{className:"".concat(y.default.h1," ").concat(h.default.marginBottom60)},"Add section"),n.default.createElement(f.default,{buttons:k.map(function(t){return{disabled:t.disabled(e.props.existingSections),label:t.label,value:t.value}}),label:"Select a section type",onChange:function(t){return e.setState({sectionConfig:(0,p.default)(t.target.value),sectionType:t.target.value})},value:this.state.sectionType}),this._getLabelForView(),n.default.createElement("div",{className:h.default.marginBottom30},this._getSelectInputView()),n.default.createElement("div",null,this._getActionLabelForView(),n.default.createElement(d.default,{isBusy:this.state.isBusy,primaryBtnConfig:{onClick:this.onAddSectionClick,text:"Add section"},secondaryBtnConfig:{onClick:function(){return e.props.toggleView("table")}}})))}}])&&O(r.prototype,a),_&&O(r,_),t}();S.propTypes={addSection:a.default.func.isRequired,collections:a.default.shape({collection:a.default.arrayOf(a.default.shape({key:a.default.string.isRequired,label:a.default.string.isRequired,title:a.default.string.isRequired,value:a.default.oneOfType([a.default.string,a.default.number,a.default.bool]).isRequired})).isRequired,projectCollection:a.default.arrayOf(a.default.shape({key:a.default.string.isRequired,label:a.default.string.isRequired,title:a.default.string.isRequired,value:a.default.oneOfType([a.default.string,a.default.number,a.default.bool]).isRequired})).isRequired}).isRequired,existingSections:a.default.array.isRequired,imageResources:a.default.shape({aws_key:a.default.string.isRequired,s3_url:a.default.string.isRequired}).isRequired,toggleView:a.default.func.isRequired};var C=S;t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=l(r(1)),o=l(r(187)),i=r(8);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==u(a)&&"function"!=typeof a?f(n):a).state={projectsCountByIds:null},r.fetchOptions=r.fetchOptions.bind(f(r)),r._isMounted,r}var r,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n.Component),r=t,(a=[{key:"componentWillMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"fetchOptions",value:function(e){var t=this,r=this.props.algoliaParameters,n=r.hitsPerPage,a=r.initFacet;return new Promise(function(r,o){return Promise.all([t._fetchProjectsCountByFacetKey(),t.props.algoliaService.searchWithQueryString(e,{hitsPerPage:n},a)]).then(function(e){var n=s(e,2),a=n[0],o=n[1];t.props.propagateCurrentQuery(o),r({options:t.props.algoliaRecordsToOptions(o.hits,a)})}).catch(function(e){return o(e)})})}},{key:"_fetchProjectsCountByFacetKey",value:function(){var e=this;return new Promise(function(t,r){if(e.state.projectsCountByIds)return t(e.state.projectsCountByIds);var n=e.props.algoliaParameters.projectsServiceFacetKey;return e.props.algoliaProjectsService.searchWithNoEffects({facets:[n],hitsPerPage:0,sort:"popular"},[]).then(function(r){if(e._isMounted){var a=(0,i.getInObj)(["facets",n],r);return e.setState({projectsCountByIds:a}),t(a)}return t({})}).catch(function(e){return r(e)})})}},{key:"render",value:function(){return n.default.createElement(o.default,{asyncOpts:{initOnMount:!0,request:this.fetchOptions},hasErrors:this.props.errors&&this.props.errors.length>0,maxWidth:this.props.maxWidth,onSelectedChange:this.props.onSelect,placeholder:this.props.placeholder,value:this.props.value})}}])&&c(r.prototype,a),l&&c(r,l),t}();m.propTypes={algoliaParameters:a.default.shape({hitsPerPage:a.default.number,initFacet:a.default.array,projectsServiceFacetKey:a.default.string}),algoliaProjectsService:a.default.object.isRequired,algoliaRecordsToOptions:a.default.func.isRequired,algoliaService:a.default.object.isRequired,errors:a.default.array,maxWidth:a.default.oneOfType([a.default.number,a.default.string]),onSelect:a.default.func.isRequired,placeholder:a.default.string,propagateCurrentQuery:a.default.func,value:a.default.oneOfType([a.default.string,a.default.number,a.default.bool]).isRequired},m.defaultProps={algoliaParameters:{hitsPerPage:100,initFacet:[],projectsServiceFacetKey:"*"},maxWidth:"100%",placeholder:"Select an option from the dropdown or type to search",propagateCurrentQuery:function(){}};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=m(r(1)),o=m(r(143)),i=m(r(358)),l=m(r(38)),u=m(r(100)),s=r(271),c=r(43),d=m(r(28)),f=m(r(52)),p=m(r(5));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=["News Article","Contest","Event","From Around The Web","Platform","Product","Project","Topic","Video","Webinar","Workshop"].map(function(e){return{label:e,value:e}}),P=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=b(t).call(this,e))||"object"!==h(a)&&"function"!=typeof a?O(n):a).state={errors:{},isBusy:!1,fields:r._initFields(e),workers:[]},r.addOrUpdateContent=r.addOrUpdateContent.bind(O(r)),r}var r,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,n.Component),r=t,(a=[{key:"_initFields",value:function(e){var t=this,r={contentType:{order:1,validate:function(){return null},value:""},description:{order:2,validate:function(e){return(0,c.maxLength)(90,e)},value:""},image11:{order:7,validate:function(e){return t._imageV(e)},value:null},image43:{order:6,validate:function(e){return t._imageV(e)},value:null},link:{order:3,validate:function(e){return(0,c.isUrlWithProtocol)(e)},value:""},products:{order:5,validate:function(e){return(0,c.minLength)(1,e)},value:[]},tags:{order:4,validate:function(e){return(0,c.minLength)(1,e)||(0,c.maxLength)(3,e)},value:[]},title:{order:0,validate:function(e){return(0,c.maxLength)(67,e)},value:""}};if(!e.initData||!e.initData.data)return r;var n=e.initData.data;return Object.keys(r).reduce(function(e,t){return n.hasOwnProperty(t)?e[t]=Object.assign({},r[t],{value:n[t]}):e[t]=r[t],e},{})}},{key:"addOrUpdateContent",value:function(){this._validate()&&this.props.saveContent(this._getObjectToPropagate())}},{key:"_getFieldValuesAsObject",value:function(){var e=this;return Object.keys(this.state.fields).reduce(function(t,r){return t[r]=e.state.fields[r].value,t},{})}},{key:"_getObjectToPropagate",value:function(){return{data:this._getFieldValuesAsObject(),index:this.props.initData&&null!==this.props.initData.index?this.props.initData.index:null}}},{key:"_imageV",value:function(e){return["id","name","url"].every(function(t){return e&&e.hasOwnProperty(t)})?null:"A valid image is required!"}},{key:"_setIsBusy",value:function(e,t){if(!e||!this.state.workers.includes(t)){var r=e?this.state.workers.concat(t):this.state.workers.filter(function(e){return e!==t});this.setState({isBusy:r.length>0,workers:r})}}},{key:"_setStateOrError",value:function(e,t,r){var n=this;if(null===e){var a=this.state.errors,o=(a[t],g(a,[t].map(_)));this.setState({errors:o,fields:Object.assign({},this.state.fields,y({},t,Object.assign({},this.state.fields[t],{value:r})))},function(){return n.props.propagateContent(n._getObjectToPropagate())})}else this.setState({errors:Object.assign({},this.state.errors,y({},t,e))})}},{key:"_scrollToError",value:function(e){var t=this,r=Object.keys(this.state.fields).sort(function(e,r){return t.state.fields[e].order-t.state.fields[r].order}).reduce(function(t,r){return null!==t?t:e.hasOwnProperty(r)?document.getElementById("pcf".concat(r)):t},null);if(r){var n=document.querySelector('[data-ref="'.concat(this.props.dialogRef,'"]'));(0,d.default)(r,500,null,n)}}},{key:"_validate",value:function(){var e=this,t=Object.keys(this.state.fields).reduce(function(t,r){var n=e.state.fields[r],a=[c.isRequired,n.validate].reduce(function(e,t){return null!==e?e:t(n.value)},null);return a&&a.length&&(t[r]=a),t},{});return!Object.keys(t).length||(this.setState({errors:Object.assign({},this.state.errors,t)},function(){return e._scrollToError(e.state.errors)}),!1)}},{key:"render",value:function(){var e=this;return n.default.createElement("form",{className:f.default.container},n.default.createElement("div",{id:"pcftitle"},n.default.createElement(l.default,{charCount:this.state.fields.title.value.length,errors:this.state.errors.title,label:"Title",maxVal:67,name:"title",onChange:function(t){return e._setStateOrError((0,c.maxLength)(67,t.target.value),"title",t.target.value)},value:this.state.fields.title.value})),n.default.createElement("div",{id:"pcfcontentType"},n.default.createElement(u.default,{errors:this.state.errors.contentType,helperText:"Select which type of content this is",label:"Content type",onSelectedChange:function(t){return e._setStateOrError(null,"contentType",t)},options:E,placeholder:"i.e. Contest",value:this.state.fields.contentType.value})),n.default.createElement("div",{id:"pcfdescription"},n.default.createElement(l.default,{charCount:this.state.fields.description.value.length,errors:this.state.errors.description,label:"Description",helperText:"Insert a short description",maxVal:90,name:"description",onChange:function(t){return e._setStateOrError((0,c.maxLength)(90,t.target.value),"description",t.target.value)},type:"textarea",value:this.state.fields.description.value})),n.default.createElement("div",{id:"pcflink"},n.default.createElement(l.default,{errors:this.state.errors.link,helperText:"Insert link to content",label:"Link",name:"link",onChange:function(t){return e._setStateOrError(null,"link",t.target.value)},placeholder:"http://www.example.com",value:this.state.fields.link.value})),n.default.createElement("div",{id:"pcftags"},n.default.createElement(i.default,{algoliaParameters:{hitsPerPage:100,initFacet:[]},algoliaRecordsToOptions:s.recordsToOptions,algoliaService:this.props.algoliaTagsService,errors:this.state.errors.tags,helperText:"Which categories does this relate to? (Select 3 max)",label:"Tags",onSelect:function(t){return e._setStateOrError(null,"tags",t)},selectionLimit:3,value:this.state.fields.tags.value})),n.default.createElement("div",{id:"pcfproducts"},n.default.createElement(i.default,{algoliaParameters:{hitsPerPage:100,initFacet:[]},algoliaRecordsToOptions:s.recordsToOptions,algoliaService:this.props.algoliaPartsService,errors:this.state.errors.products,helperText:"Which specific products were involved? (Select 3 max)",label:"Products",onSelect:function(t){return e._setStateOrError(null,"products",t)},selectionLimit:3,value:this.state.fields.products.value})),n.default.createElement("div",{id:"pcfimage43"},(0,s.createImageUploader)({aspectRatio:4/3,cropperTitle:(0,s.createCropperTitle)({subtitle:"This image will be used if the content item is the first to be featured.",title:"4:3 Crop"}),errors:this.state.errors.image43,label:"Add image (4:3 crop)",dimensionMins:{width:370},helperText:"Make sure your image is atleast 370x277 for best quality",imageResources:this.props.imageResources,imageData:this.state.fields.image43.value,nestedDialogLevel:1,propagateStatus:function(t){return e._setIsBusy(t,"image43")},propagateUpload:function(t){return e._setStateOrError(null,"image43",t)}})),n.default.createElement("div",{id:"pcfimage11",className:f.default.container},(0,s.createImageUploader)({aspectRatio:1,cropperTitle:(0,s.createCropperTitle)({subtitle:"This image will be used when the content item is not the first to be featured.",title:"1:1 Crop"}),errors:this.state.errors.image11,label:"Add image (1:1 crop)",dimensionMins:{width:100},helperText:"Make sure your image is atleast 100x100 for best quality",imageResources:this.props.imageResources,imageData:this.state.fields.image11.value,nestedDialogLevel:1,propagateStatus:function(t){return e._setIsBusy(t,"image11")},propagateUpload:function(t){return e._setStateOrError(null,"image11",t)}})),n.default.createElement("div",{className:p.default.borderTop},n.default.createElement(o.default,{isBusy:this.state.isBusy,primaryBtnConfig:{onClick:this.addOrUpdateContent,text:"default"===this.props.mode?"Add content":"Save"},secondaryBtnConfig:{onClick:this.props.dismiss}})))}}])&&v(r.prototype,a),m&&v(r,m),t}();P.propTypes={algoliaPartsService:a.default.object.isRequired,algoliaTagsService:a.default.object.isRequired,dialogRef:a.default.string,dismiss:a.default.func.isRequired,imageResources:a.default.shape({aws_key:a.default.string.isRequired,s3_url:a.default.string.isRequired}).isRequired,initData:a.default.shape({data:a.default.object,index:a.default.number}),mode:a.default.string.isRequired,propagateContent:a.default.func.isRequired,saveContent:a.default.func.isRequired},P.defaultProps={dialogRef:null,initData:null};var k=P;t.default=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=r(988),i=c(r(30)),l=c(r(2)),u=c(r(3)),s=c(r(391));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.index,r=e.item,a=e.onClick;return n.default.createElement("div",{className:s.default.listItem},n.default.createElement("div",null,n.default.createElement("p",{className:u.default.h5},r.contentType.value),n.default.createElement("a",{className:"".concat(u.default.link," ").concat(u.default.bodyM," ").concat(u.default.bold),href:r.link,onClick:function(e){return a(e,r.link,t)}},r.title)),n.default.createElement("a",{className:s.default.listItemImageWrapper,href:r.link,onClick:function(e){return a(e,r.link,t)}},n.default.createElement(i.default,{alt:r.image11.name,src:r.image11.url,ratio:"1:1",width:70})))},f=function(e){var t=e.content,r=e.onClick;if(!t.length)return n.default.createElement(o.DummyContentDefaultView,null);var a=!t.slice(1,4).length;return n.default.createElement("div",{className:s.default.defaultView},n.default.createElement("div",{className:s.default.mainCard},n.default.createElement("div",{className:s.default.mainInfo},n.default.createElement("p",{className:"".concat(u.default.h5," ").concat(l.default.marginBottom10)},t[0].contentType.value),n.default.createElement("a",{className:"".concat(u.default.linkCharcoal," ").concat(s.default.bigTitle),href:t[0].link,onClick:function(e){return r(e,t[0].link,0)}},t[0].title),n.default.createElement("p",{className:u.default.bodyM},t[0].description)),n.default.createElement("div",null,n.default.createElement("a",{className:s.default.mainImageWrapper,href:t[0].link,onClick:function(e){return r(e,t[0].link,0)}},n.default.createElement(i.default,{alt:t[0].image43.name,src:t[0].image43.url,ratio:"4:3",width:375})))),n.default.createElement("div",{className:s.default.listContainer},a?[0,0,0].map(function(e,t){return n.default.createElement(o.DummyListItem,{key:t})}):t.slice(1,4).map(function(e,t){return n.default.createElement(d,{key:t,index:t+1,item:e,onClick:r})})))};f.propTypes={content:a.default.arrayOf(a.default.object),onClick:a.default.func.isRequired};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=r(988),i=c(r(379)),l=c(r(30)),u=c(r(3)),s=c(r(391));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.index,r=e.item,a=e.onClick;return n.default.createElement("div",{className:s.default.mobileCard},n.default.createElement("a",{className:s.default.mobileImageWrapper,href:r.link,onClick:function(e){return a(e,r.link,t)}},n.default.createElement(l.default,{alt:r.image11.name,captureScroll:!0,constrainSize:!0,src:r.image11.url,ratio:"1:1",width:82})),n.default.createElement("div",{className:s.default.mobileCardInfo},n.default.createElement("p",{className:u.default.h5},r.contentType.value),n.default.createElement("a",{className:"".concat(u.default.bodyM," ").concat(u.default.link," ").concat(u.default.bold),href:r.link},r.title)))},f=function(e){var t=e.content,r=e.onClick;return t.length?n.default.createElement(i.default,{classList:{wrapper:s.default.horizontalScrollWrapper},recordsCount:1,totalRecordsCount:1},n.default.createElement("div",{className:s.default.mobileView},t.map(function(e,t){return n.default.createElement(d,{key:t,index:t,item:e,onClick:r})}))):n.default.createElement(o.DummyMobileView,null)};f.propTypes={content:a.default.arrayOf(a.default.object),onClick:a.default.func.isRequired};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(2360)),i=d(r(10)),l=d(r(2)),u=d(r(5)),s=d(r(126)),c=d(r(145));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){return n.default.createElement("div",null,n.default.createElement("header",{className:c.default.header},n.default.createElement("div",null,n.default.createElement("button",{className:i.default.lg,onClick:function(){return e.openDialog()},type:"button"},"Add new section"))),n.default.createElement("div",{className:c.default.tableContainer},n.default.createElement("div",{className:l.default.flex},n.default.createElement("div",{className:"".concat(c.default.ghostDragBox," ").concat(u.default.bgFog)}),n.default.createElement("div",{className:"".concat(c.default.headerCellName," ").concat(s.default.cell60)},"Title"),n.default.createElement("div",{className:"".concat(c.default.headerCell," ").concat(s.default.cell20)},"Type"),n.default.createElement("div",{className:"".concat(c.default.headerCell," ").concat(s.default.cell20)},"Action")),e.content.length>0?(r=(t=e).content,a=t.removeSection,d=t.updateSection,f=t.updateSectionsOrder,n.default.createElement(o.default,{items:r,removeItem:a,updateItem:d,updateItemsOrder:f})):n.default.createElement("div",{className:s.default.row},n.default.createElement("span",{className:s.default.noContentMsg},"No content items"))));var t,r,a,d,f};f.propTypes={content:a.default.arrayOf(a.default.shape({})).isRequired,openDialog:a.default.func.isRequired,removeSection:a.default.func.isRequired,updateSection:a.default.func.isRequired,updateSectionsOrder:a.default.func.isRequired},f.defaultProps={};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=r(69),i=u(r(2361)),l=u(r(126));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=(0,o.SortableContainer)(function(e){var t=e.items,r=e.removeItem,a=e.updateItem;return n.default.createElement("ul",{className:l.default.list},t.map(function(e,t){return n.default.createElement(i.default,{key:e.key,index:t,item:e,itemIndex:t,removeItem:function(){return r({index:t,data:e})},updateItem:function(){return a({index:t,data:e})}})}))}),h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?f(n):a).onSortEnd=r.onSortEnd.bind(f(r)),r}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n.Component),r=t,(a=[{key:"onSortEnd",value:function(e){var t=e.oldIndex,r=e.newIndex;this.props.updateItemsOrder((0,o.arrayMove)(this.props.items,t,r))}},{key:"render",value:function(){return n.default.createElement(m,{lockAxis:"y",items:this.props.items,onSortEnd:this.onSortEnd,removeItem:this.props.removeItem,updateItem:this.props.updateItem,useDragHandle:!0})}}])&&c(r.prototype,a),i&&c(r,i),t}();h.propTypes={items:a.default.arrayOf(a.default.shape({})).isRequired,removeItem:a.default.func.isRequired,updateItem:a.default.func.isRequired,updateItemsOrder:a.default.func.isRequired};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=r(69),i=s(r(10)),l=s(r(3)),u=s(r(126));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,o.SortableHandle)(function(){return n.default.createElement("span",{className:u.default.dragHandle},n.default.createElement("span",{className:u.default.dragHandleIcon},": :"))}),d=(0,o.SortableElement)(function(e){var t=e.item,r=e.itemIndex,a=e.removeItem,o=e.updateItem,s=t.contentType,d=t.title;return n.default.createElement("li",{className:r<4?u.default.rowHighlight:u.default.row},n.default.createElement(c,null),n.default.createElement("span",{className:u.default.contentCardTitle},n.default.createElement("span",{className:u.default.title},n.default.createElement("span",null,d)),n.default.createElement("span",{className:u.default.buttonCntr},n.default.createElement("button",{className:i.default.blank,type:"button",onClick:o},n.default.createElement("span",{className:"".concat(l.default.bodyS," ").concat(l.default.linkBlue," ").concat(l.default.bold)},"Edit")))),n.default.createElement("span",{className:"".concat(u.default.cell," ").concat(u.default.cell20)},s.value),n.default.createElement("span",{className:"".concat(u.default.cell," ").concat(u.default.cell20)},n.default.createElement("button",{className:i.default.blank,type:"button",onClick:a},n.default.createElement("span",{className:"".concat(l.default.bodyS," ").concat(l.default.linkBlue," ").concat(l.default.bold)},"Remove"))))});d.propTypes={item:a.default.shape({contentType:a.default.shape({label:a.default.string,value:a.default.string}),description:a.default.string,image11:a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string}),image43:a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string}),link:a.default.string,products:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.oneOfType([a.default.string,a.default.bool,a.default.number])})),tags:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.oneOfType([a.default.string,a.default.bool,a.default.number])})),title:a.default.string}).isRequired,itemIndex:a.default.number.isRequired,removeItem:a.default.func.isRequired,updateItem:a.default.func.isRequired};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(72)),i=u(r(515)),l=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.records;return n.default.createElement(o.default,{ItemComponent:i.default,horizontal:!0,itemProps:{onClick:function(e){return e.preventDefault()}},placeholder:n.default.createElement("div",{className:"".concat(l.default.bodyM," ").concat(l.default.bold," ").concat(l.default.textCenter)},"Preview will populate once 4 videos are selected"),records:t.map(function(e){return Object.assign({},e,{image_url:e.image.url})}),validationFn:function(e){return e.records.length>=4}})};s.propTypes={records:a.default.arrayOf(a.default.shape({category:a.default.string.isRequired,created_at:a.default.oneOfType([a.default.string,a.default.number]).isRequired,description:a.default.string.isRequired,duration:a.default.integer,id:a.default.number,image:a.default.shape({id:a.default.number.isRequired,name:a.default.string,url:a.default.string.isRequired}),title:a.default.string.isRequired,url:a.default.string.isRequired})).isRequired};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=r(69),i=c(r(2364)),l=c(r(78)),u=c(r(527)),s=c(r(126));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(){return n.default.createElement("div",{className:"".concat(u.default.selectedPlaceholder)},"No videos selected")},g=(0,o.SortableContainer)(function(e){var t=e.items,r=e.removeItem,a=e.updateItem;return n.default.createElement("ul",{className:"".concat(s.default.list," ").concat(l.default.table)},t.map(function(e,t){return n.default.createElement(i.default,{key:"".concat(e.id||e.title),index:t,item:e,itemIndex:t,removeItem:function(){return r({index:t,data:e})},updateItem:function(e){return a({index:t,data:e})}})}))}),_=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).onSortEnd=r.onSortEnd.bind(m(r)),r}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"onSortEnd",value:function(e){var t=e.oldIndex,r=e.newIndex;this.props.updateItemsOrder((0,o.arrayMove)(this.props.items,t,r))}},{key:"render",value:function(){return this.props.items.length?n.default.createElement(g,{lockAxis:"y",items:this.props.items,onSortEnd:this.onSortEnd,removeItem:this.props.removeItem,updateItem:this.props.updateItem,useDragHandle:!0}):n.default.createElement(y,null)}}])&&f(r.prototype,a),i&&f(r,i),t}();_.propTypes={items:a.default.arrayOf(a.default.shape({category:a.default.string.isRequired,created_at:a.default.oneOfType([a.default.string,a.default.number]).isRequired,title:a.default.string.isRequired})).isRequired,removeItem:a.default.func.isRequired,updateItem:a.default.func.isRequired,updateItemsOrder:a.default.func.isRequired};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=r(69),i=d(r(2365)),l=r(16),u=d(r(990)),s=d(r(78)),c=d(r(126));function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,o.SortableHandle)(function(){return n.default.createElement("span",{className:c.default.dragHandle},n.default.createElement("span",{className:c.default.dragHandleIcon},": :"))}),p=(0,o.SortableElement)(function(e){var t=e.item,r=(e.itemIndex,e.removeItem),a=e.updateItem;return n.default.createElement("li",{className:c.default.rowNoTopBorder},n.default.createElement(f,null),n.default.createElement(i.default,{className:"".concat(u.default.cell0),body:t.title}),n.default.createElement(i.default,{body:t.category}),n.default.createElement(i.default,{body:(0,l.timestampToPrettyDate)(t.created_at)}),n.default.createElement(i.default,{body:function(){return n.default.createElement("span",null,n.default.createElement("button",{className:"".concat(s.default.editBtn),type:"button",onClick:function(){return a(t)}},"Edit"),n.default.createElement("button",{className:"".concat(s.default.deleteBtn),type:"button",onClick:r},"Unselect"))}}))});p.propTypes={item:a.default.shape({category:a.default.string.isRequired,created_at:a.default.oneOfType([a.default.string,a.default.number]).isRequired,title:a.default.string.isRequired}).isRequired,itemIndex:a.default.number.isRequired,removeItem:a.default.func.isRequired,updateItem:a.default.func.isRequired},p.defaultProps={};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(3)),i=l(r(990));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.body,r=e.className,a=e.disabled;return n.default.createElement("div",{className:"".concat(o.default.bodyM," ").concat(o.default.breakWord," ").concat(i.default.cell," ").concat(r," ").concat(a?i.default.disabled:"")},"function"==typeof t?t():t)};u.propTypes={body:a.default.oneOfType([a.default.string,a.default.func]).isRequired,className:a.default.string,disabled:a.default.bool},u.defaultProps={className:"",disabled:!1};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(15)),i=s(r(223)),l=s(r(525)),u=s(r(527));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.disabledState,r=e.headers,a=e.isBusy,s=e.onPagination,c=e.onSearch,d=e.onSort,f=e.pagination,p=e.reportSelected,m=e.selectedIndexes,h=e.summonDialog,y=e.tableItems,g=e.tableRef;return n.default.createElement("div",null,n.default.createElement("div",{className:u.default.tableActions},n.default.createElement("div",null,n.default.createElement(o.default,{disabled:a,onClick:function(){return h("default")}},"Add new video")),n.default.createElement("div",null,n.default.createElement(i.default,{onEnter:c,placeholder:"Search videos"}))),n.default.createElement(l.default,{ref:g,disabledState:t,headers:r,isBusy:a,onPagination:s,onSort:d,pagination:f,reportSelected:p,selectedIndexes:m,tableItems:y}))};c.propTypes={disabledState:a.default.bool.isRequired,headers:a.default.arrayOf(a.default.shape({title:a.default.string.isRequired,orderable:a.default.bool,sort:a.default.string})).isRequired,isBusy:a.default.bool.isRequired,onPagination:a.default.func.isRequired,onSearch:a.default.func.isRequired,onSort:a.default.func.isRequired,pagination:a.default.shape({current_page:a.default.number,next_page:a.default.number,per_page:a.default.number,prev_page:a.default.number}),reportSelected:a.default.func,selectedIndexes:a.default.array.isRequired,summonDialog:a.default.func.isRequired,tableItems:a.default.arrayOf(a.default.shape({columns:a.default.array.isRequired,record:a.default.object})).isRequired,tableRef:a.default.func.isRequired};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(143)),i=f(r(985)),l=f(r(282)),u=f(r(7)),s=f(r(2)),c=f(r(3)),d=f(r(145));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=h(this,y(t).call(this,e))).state={isBusy:!1},r.ctaForm,r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),r=t,(a=[{key:"_addCTASection",value:function(){if(!this.ctaForm)return(0,u.default)("ctaForm ref does not exist!");if(this.ctaForm.validate()){var e=(0,l.default)("cta");this.props.updateSection({index:this.props.ctaSection.index,data:e.toSection(this.ctaForm.getFormData())}),this.props.toggleView("table")}}},{key:"render",value:function(){var e=this,t=this.props.ctaSection.data,r=t.title,a=t.meta,l=t.value;return n.default.createElement("div",{className:d.default.root},n.default.createElement("h2",{className:"".concat(c.default.h2," ").concat(s.default.marginBottom30)},"Edit ".concat(r)),n.default.createElement(i.default,{ref:function(t){return e.ctaForm=t},imageResources:this.props.imageResources,initData:{image:{id:l,name:a.image_name,url:a.image_url},link:a.link,name:r},propagateStatus:function(t){return e.setState({isBusy:t})}}),n.default.createElement("div",null,n.default.createElement(o.default,{isBusy:this.state.isBusy,primaryBtnConfig:{onClick:function(){return e._addCTASection()},text:"Save changes"},secondaryBtnConfig:{onClick:function(){return e.props.toggleView("table")}}})))}}])&&m(r.prototype,a),f&&m(r,f),t}();_.propTypes={ctaSection:a.default.shape({index:a.default.number,data:a.default.shape({key:a.default.string.isRequired,label:a.default.string.isRequired,meta:a.default.shape({image_name:a.default.string,image_url:a.default.string.isRequired,link:a.default.string.isRequired}),title:a.default.string.isRequired,value:a.default.number.isRequired}).isRequired}).isRequired,imageResources:a.default.shape({aws_key:a.default.string.isRequired,s3_url:a.default.string.isRequired}).isRequired,toggleView:a.default.func.isRequired,updateSection:a.default.func.isRequired},_.defaultProps={};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=m(r(1)),o=m(r(143)),i=m(r(986)),l=m(r(282)),u=m(r(225)),s=m(r(226)),c=m(r(7)),d=m(r(2)),f=m(r(3)),p=m(r(145));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=g(this,_(t).call(this,e))).state={isBusy:!1},r.algoliaPartsService=new u.default,r.algoliaTagsService=new s.default,r.promotedContent,r}var r,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,n.Component),r=t,(a=[{key:"_validateAndUpdateSection",value:function(){if(!this.promotedContent)return(0,c.default)("promotedContent ref does not exist!");if(this.promotedContent.validate()){var e=(0,l.default)("promotedContent");this.props.updateSection({index:this.props.section.index,data:e.toSection(this.promotedContent.getContent())}),this.props.toggleView("table")}}},{key:"render",value:function(){var e=this,t=this.props.section.data,r=t.meta,a=t.title;return n.default.createElement("div",{className:p.default.root},n.default.createElement("h2",{className:"".concat(f.default.h2," ").concat(d.default.marginBottom30)},"Edit promoted content section"),n.default.createElement(i.default,{ref:function(t){return e.promotedContent=t},algoliaPartsService:this.algoliaPartsService,algoliaTagsService:this.algoliaTagsService,imageResources:this.props.imageResources,initData:r.content,initTitle:a,propagateStatus:function(t){return e.setState({isBusy:t})}}),n.default.createElement("div",null,n.default.createElement("p",null,"You must have at least 4 items before publishing"),n.default.createElement(o.default,{isBusy:this.state.isBusy,primaryBtnConfig:{onClick:function(){return e._validateAndUpdateSection()},text:"Save changes"},secondaryBtnConfig:{onClick:function(){return e.props.toggleView("table")}}})))}}])&&y(r.prototype,a),m&&y(r,m),t}();b.propTypes={imageResources:a.default.shape({aws_key:a.default.string.isRequired,s3_url:a.default.string.isRequired}).isRequired,section:a.default.shape({index:a.default.number,data:a.default.shape({key:a.default.string.isRequired,label:a.default.string.isRequired,meta:a.default.shape({content:a.default.arrayOf(a.default.shape({contentType:a.default.shape({label:a.default.string,value:a.default.string}),description:a.default.string,image11:a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string}),image43:a.default.shape({id:a.default.number,name:a.default.string,url:a.default.string}),link:a.default.string,products:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.oneOfType([a.default.string,a.default.bool,a.default.number])})),tags:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.oneOfType([a.default.string,a.default.bool,a.default.number])})),title:a.default.string}))}),title:a.default.string.isRequired,value:a.default.string.isRequired}).isRequired}).isRequired,toggleView:a.default.func.isRequired,updateSection:a.default.func.isRequired};var O=b;t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(57)),i=d(r(15)),l=d(r(989)),u=d(r(282)),s=d(r(7)),c=d(r(2));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?h(n):a).state={breadcrumb:{action:function(){return e.toggleView("table")},href:"/admin/home_sections",msg:"Back to home sections"}},r.handleBreadcrumb=r.handleBreadcrumb.bind(h(r)),r.saveChanges=r.saveChanges.bind(h(r)),r.video,r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"handleBreadcrumb",value:function(e){var t=this.state.breadcrumb;t.action&&"function"==typeof t.action&&(e&&e.preventDefault(),t.action())}},{key:"saveChanges",value:function(){if(!this.video)return(0,s.default)("video ref does not exist!");this.video.__validate()&&(this.props.updateSection({data:(0,u.default)("video").toSection(this.video.__getContent()),index:this.props.section.index}),this.props.toggleView("table"))}},{key:"render",value:function(){var e=this;return n.default.createElement("div",null,n.default.createElement(o.default,{href:this.state.breadcrumb.href,onClick:this.handleBreadcrumb,text:this.state.breadcrumb.msg}),n.default.createElement(l.default,{ref:function(t){return e.video=t},imageResources:this.props.imageResources,initTitle:this.props.section.data.title,initRecords:this.props.section.data.meta.content}),n.default.createElement("div",{className:c.default.marginTop30},n.default.createElement(i.default,{onClick:this.saveChanges,size:"md"},"Save changes"),n.default.createElement(i.default,{colorStyle:"cancel",onClick:function(){return e.state.breadcrumb.action()},size:"md"},"Cancel")))}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={imageResources:a.default.shape({}).isRequired,section:a.default.shape({data:a.default.shape({key:a.default.string.isRequired,label:a.default.string.isRequired,meta:a.default.shape({content:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.number])).isRequired}).isRequired,title:a.default.string.isRequired,value:a.default.string.isRequired}).isRequired,index:a.default.number.isRequired}).isRequired,toggleView:a.default.func.isRequired,updateSection:a.default.func.isRequired};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(991)),i=s(r(10)),l=s(r(3)),u=s(r(145));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.sections,r=e.toggleView;return n.default.createElement("div",{className:u.default.previewRoot},n.default.createElement("div",{className:u.default.previewWrapper},n.default.createElement("div",{className:u.default.previewHeaderFixedContainer},n.default.createElement("div",{className:u.default.previewHeaderWrapper},n.default.createElement("div",{className:u.default.previewHeader},n.default.createElement("h1",{className:l.default.h1},"Preview home page"),n.default.createElement("div",null,n.default.createElement("button",{className:i.default.lg,onClick:function(){return r("table")},type:"button"},"Close preview"))))),n.default.createElement("div",{className:u.default.previewHomePageWrapper},n.default.createElement(o.default,{pathHelpers:{rootPath:"/",videosPath:"/"},renderForPreview:!0,sections:t,showHeader:!1}))))};c.propTypes={sections:a.default.array.isRequired,toggleView:a.default.func.isRequired},c.defaultProps={};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(437)),i=s(r(2)),l=s(r(2372)),u=s(r(3));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.authProps,r=e.imgs;return n.default.createElement("div",{className:l.default.wrapper},n.default.createElement("div",{className:l.default.container,style:{backgroundImage:"url(".concat(r.mobile,")")}},n.default.createElement("img",{className:l.default.graphic,src:r.desktop,srcSet:"".concat(r.desktop,", ").concat(r.desktop2x," 2x")}),n.default.createElement("div",{className:l.default.authContainer},n.default.createElement("div",{className:"".concat(l.default.authHeader," ").concat(i.default.marginBottom45)},n.default.createElement("h1",{className:"".concat(u.default.h1," ").concat(u.default.textCenter)},"Join the world’s best hardware engineers."),n.default.createElement("p",{className:"".concat(u.default.bodyL," ").concat(u.default.textCenter)},"Create your account to explore thousands of projects, build your skills, and discover new products and technologies.")),n.default.createElement("div",{className:l.default.authPanel},n.default.createElement(o.default,t)))))};c.propTypes={authProps:a.default.object.isRequired,imgs:a.default.shape({desktop:a.default.string.isRequired,desktop2x:a.default.string.isRequired,mobile:a.default.string.isRequired})},c.defaultProps={};var d=c;t.default=d},function(e,t,r){e.exports={small:"(max-width: 480px)",fog:"#F7F7F7",secondaryBoxShadow:"0 2px 10px 0 rgba(0,0,0,0.15)",authContainer:"header__authContainer__1h7L3",authHeader:"header__authHeader__3NoSD",authPanel:"header__authPanel__3sGjb",container:"header__container__2lrqN",graphic:"header__graphic__21e2X",wrapper:"header__wrapper__1RQgC"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=O(r(1)),o=O(r(2374)),i=O(r(2376)),l=O(r(213)),u=O(r(987)),s=O(r(992)),c=O(r(940)),d=O(r(501)),f=O(r(97)),p=O(r(7)),m=O(r(2380)),h=r(250),y=r(12),g=r(75),_=O(r(10)),v=O(r(2)),b=O(r(2381));function O(e){return e&&e.__esModule?e:{default:e}}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this;var o=(r=!(a=P(t).call(this,e))||"object"!==w(a)&&"function"!=typeof a?k(n):a)._initSections(e),i=o.homeSections,l=o.sections,u=o.totalSections;return r.state={additionalSections:[],ads:{banner:null},dialog:{open:!1,data:null},homeSections:i,sections:l,totalSections:u},r.seoHandler=new f.default({config:m.default}),r.adsService=new d.default(g.HOME_PAGE),r.handleVideoDismiss=r.handleVideoDismiss.bind(k(r)),r.loadMoreSectionsOnClick=r.loadMoreSectionsOnClick.bind(k(r)),r.loadMoreSectionsOnScroll=r.loadMoreSectionsOnScroll.bind(k(r)),r.summonVideoDialog=r.summonVideoDialog.bind(k(r)),r.viewAllBuilder=new c.default({type:"home",props:{doScroll:!1}},k(r)),r._videoDialog,r}var r,a,O;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,n.Component),r=t,(a=[{key:"_initSections",value:function(e){var t=e.renderForPreview?[]:e.sections.slice(0,10);return{homeSections:t,sections:e.renderForPreview?e.sections:e.sections.slice(0,2),totalSections:e.renderForPreview?e.sections.length:t.length}}},{key:"componentDidMount",value:function(){this._fetchAds()}},{key:"loadMoreSectionsOnClick",value:function(){var e=this.props.sections.slice(0,this.state.homeSections.length+10);this.setState({homeSections:e,totalSections:e.length},function(){return(0,y.windowScrollTo)(0,parseInt((0,y.getWindowProperty)("scrollY"))+50)})}},{key:"loadMoreSectionsOnScroll",value:function(){var e=this;return new Promise(function(t){e.setState({sections:e.state.homeSections.slice(0,e.state.sections.length+2)},function(){return t()})})}},{key:"handleVideoDismiss",value:function(){this.seoHandler.reportView({path:"/"})}},{key:"summonVideoDialog",value:function(e,t,r){if(this._videoDialog){this._videoDialog._summonDialog(e);var n={id:e.id,index:t,type:"video_card"};(0,h.fireViewAllSectionClickAnalytics)({delayRedirect:!1,index:r,item:n,pageType:"pages#home",section:{key:"video",value:"uuid"}})}}},{key:"_fetchAds",value:function(){var e=this;return this.adsService.getAdsForPage().then(function(t){return e.setState({ads:t})}).catch(function(e){(0,p.default)("HomePage Sections _fetchAds: ".concat(e))})}},{key:"_injectBannerAdInSections",value:function(e){return e.slice(0,2).concat([{key:"home_page_banner_ad",value:0}]).concat(e.slice(2))}},{key:"_shouldRenderMoreButton",value:function(){return this.state.sections.length===this.state.totalSections&&(this.state.sections.length<this.props.sections.length||this.state.additionalSections.length>0)}},{key:"_getCTABanner",value:function(e,t){return n.default.createElement(o.default,{key:"".concat(e.key,"_").concat(e.value),id:e.value,image_url:e.meta.image_url,link:e.meta.link,onClick:function(r){(0,h.fireViewAllSectionClickAnalytics)({delayRedirect:!0,e:r,index:t,item:{type:"cta_banner"},pageType:"pages#home",section:e,url:e.meta.link})},title:e.title})}},{key:"_getHomePageBannerAd",value:function(e){return null===this.state.ads.banner?null:n.default.createElement(i.default,{key:"".concat(e.key,"_").concat(e.value),ad:this.state.ads.banner})}},{key:"_getPromotedContent",value:function(e,t){return n.default.createElement(u.default,{key:"".concat(e.key,"_").concat(e.value),content:e.meta.content,onClick:function(r,n,a){var o={index:a,type:"cta_banner"};(0,h.fireViewAllSectionClickAnalytics)({delayRedirect:!0,e:r,index:t,item:o,pageType:"pages#home",section:e,url:n})},title:e.title})}},{key:"_getSections",value:function(e){var t=this;return this._injectBannerAdInSections(e).map(function(e,r){switch(e.key){case"cta":return t._getCTABanner(e,r);case"home_page_banner_ad":return t._getHomePageBannerAd(e);case"promoted":return t._getPromotedContent(e,r);default:return t._getViewAllList(e,r)}})}},{key:"_getViewAllList",value:function(e,t){return this.viewAllBuilder.getComponent(e,t,{reportProjectsCount:function(){},loadMoreSectionsOnClickdex:t,transition:function(r,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(0,h.fireViewAllSectionClickAnalytics)({delayRedirect:!0,e:r,events:o,index:t,item:a,pageType:"pages#home",section:e,url:n.external})}},this.state.sections)}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:v.default.container},n.default.createElement(l.default,{buffer:150,classList:{container:v.default.wrapper1170},fetchMore:this.loadMoreSectionsOnScroll,recordsCount:this.state.sections.length,totalRecordsCount:this.state.totalSections},this._getSections(this.state.sections),this._shouldRenderMoreButton()&&n.default.createElement("div",{className:b.default.button},n.default.createElement("button",{className:"".concat(_.default.outlineBlack," ").concat(_.default.md),onClick:this.loadMoreSectionsOnClick},"Load More"))),!1===this.props.renderForPreview&&n.default.createElement(s.default,{ref:function(t){return e._videoDialog=t},onDismiss:this.handleVideoDismiss,pathHelpers:this.props.pathHelpers,seoHandler:this.seoHandler}))}}])&&E(r.prototype,a),O&&E(r,O),t}();C.propTypes={pathHelpers:a.default.shape({rootPath:a.default.string.isRequired,videosPath:a.default.string.isRequired}).isRequired,renderForPreview:a.default.bool,sections:a.default.arrayOf(a.default.shape({key:a.default.string,label:a.default.string,meta:a.default.shape({}),title:a.default.string,value:a.default.oneOfType([a.default.bool,a.default.number,a.default.string])}))},C.defaultProps={renderForPreview:!1,sections:[]};var j=C;t.default=j},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(30)),i=u(r(144)),l=u(r(2375));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.image_url,r=e.link,a=e.title;return n.default.createElement("div",{className:i.default.container},n.default.createElement("div",{className:l.default.banner},n.default.createElement("a",{href:r,className:l.default.imageLink},n.default.createElement(o.default,{alt:a,captureScroll:!0,className:l.default.image,setStyle:!1,src:t,ratio:"3:1",width:1170}))))};s.propTypes={image_url:a.default.string,link:a.default.string,title:a.default.string},s.defaultProps={image_url:"",link:"",title:""};var c=s;t.default=c},function(e,t,r){e.exports={fog:"#F7F7F7",banner:"cta_banner__banner__r1APM",imageLink:"cta_banner__imageLink__IP814",image:"cta_banner__image__1yKEf"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(224)),i=r(55),l=f(r(162)),u=f(r(2)),s=f(r(3)),c=f(r(5)),d=f(r(976));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.ad,r=e.forwardedRef,a=e.onClick,o=e.onImageLoad;return n.default.createElement("div",{ref:r,className:"".concat(u.default.marginBottom10," ").concat(u.default.marginTop10)},n.default.createElement("div",{className:d.default.imageContainer},n.default.createElement("a",{href:t.link,onClick:function(){return a(t)},rel:"noopener",target:"_blank"},n.default.createElement(l.default,{className:c.default.borderRadius,lazy:!0,onLoad:function(){return o(t)},ratio:"364:45",setStyle:!1,src:t.cover_image.url,width:1170}))),n.default.createElement("div",{className:u.default.flexJustifyEnd},n.default.createElement("a",{className:s.default.bodyS,href:i.adFAQLink,rel:"noopener",target:"_blank"},"Ad")))};p.propTypes={ad:a.default.shape({id:a.default.number.isRequired,ad_type:a.default.string.isRequired,cover_image:a.default.shape({url:a.default.string.isRequired}).isRequired,link:a.default.string.isRequired}),forwardedRef:a.default.oneOfType([a.default.func,a.default.shape({current:a.default.any})]).isRequired,onClick:a.default.func.isRequired,onImageLoad:a.default.func.isRequired},p.defaultProps={ad:null};var m=(0,o.default)(p);t.default=m},function(e,t,r){e.exports={graphite:"#4A4A4A",hasLinks:"video_info__hasLinks__2Xx-Q",hasLinksWhite:"video_info__hasLinksWhite__aDL3E"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(738)),a=i(r(35)),o=i(r(40));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.a,r=void 0===t?null:t,i=e.c,l=void 0===i?null:i,u=e.id,s=void 0===u?null:u,c=e.referrer,d=void 0===c?"undefined"==typeof document?null:document.referrer||document.origin:c,f=e.type,p=void 0===f?null:f;if((0,n.default)())return Promise.resolve();var m={a:r,c:l,id:s,referrer:d,type:p};return o.default.apiRequest(a.default.post("".concat(o.default.getApiPath(),"/private/stats")).send(m),!1,!0,!1)};t.default=l},function(e,t,r){e.exports={container:"video_dialog__container__13PSr",dialogWrapper:"video_dialog__dialogWrapper__2MZqf"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(518),a={"/":function(){return{title:n.DEFAULT_PAGE_TITLE,pageType:"pages#home",meta_desc:n.DEFAULT_PAGE_DESCRIPTION}}};t.default=function(e){return a[e]}},function(e,t,r){e.exports={button:"sections__button__PYk6i"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=p(r(2383)),i=p(r(2386)),l=p(r(10)),u=p(r(2)),s=p(r(3)),c=p(r(5)),d=p(r(126)),f=p(r(145));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.isBusy,r=e.hasUnsavedChanges,a=e.publish,p=e.publishing,m=e.removeSection,h=e.saveChanges,y=e.sections,g=e.toggleView,_=e.undoChanges,v=e.updateSection,b=e.updateSectionsOrder;return n.default.createElement("div",{className:f.default.root},n.default.createElement("header",{className:f.default.header},n.default.createElement("div",null,n.default.createElement("h1",{className:s.default.h1},"Home sections"),n.default.createElement("p",{className:"".concat(s.default.bodyM," ").concat(u.default.marginTop15)},"Manage the sections on the Hackster home page."),n.default.createElement("p",{className:s.default.bodyM},"This is a draft version which will not go live until published.")),n.default.createElement("div",{className:f.default.newSectionBtnWrapper},n.default.createElement("button",{className:l.default.md,disabled:t,onClick:function(){return g("addSection")},type:"button"},"Add new section"))),n.default.createElement("div",{className:f.default.tableContainer},n.default.createElement("div",{className:u.default.flex},n.default.createElement("div",{className:"".concat(f.default.ghostDragBox," ").concat(c.default.bgFog)}),n.default.createElement("div",{className:"".concat(f.default.headerCellName," ").concat(d.default.cell30)},"Name"),n.default.createElement("div",{className:"".concat(f.default.headerCell," ").concat(d.default.cell20)},"Type"),n.default.createElement("div",{className:"".concat(f.default.headerCell," ").concat(d.default.cell30)},"Content tag"),n.default.createElement("div",{className:"".concat(f.default.headerCell," ").concat(d.default.cell20)},"Action")),y?n.default.createElement(o.default,{items:y,removeItem:m,toggleView:g,updateItem:v,updateItemsOrder:b}):n.default.createElement(i.default,null)),n.default.createElement("div",{className:"".concat(f.default.toolbar)},n.default.createElement("button",{className:"".concat(l.default.md," ").concat(l.default.cancel),disabled:t||!r,onClick:_,type:"button"},"Undo changes"),n.default.createElement("button",{className:"".concat(l.default.md),disabled:t||!r,onClick:h,type:"button"},"Save as draft"),n.default.createElement("button",{className:"".concat(l.default.md," ").concat(u.default.marginLeft15),disabled:t,onClick:function(){return g("preview")},type:"button"},"Preview"),n.default.createElement("button",{className:"".concat(l.default.md," ").concat(l.default.outlineBlue," ").concat(u.default.marginLeft15),disabled:t,onClick:function(){return a()},type:"button"},p?"Publishing...":"Publish")))};m.propTypes={hasUnsavedChanges:a.default.bool.isRequired,isBusy:a.default.bool.isRequired,publish:a.default.func.isRequired,publishing:a.default.bool.isRequired,removeSection:a.default.func.isRequired,saveChanges:a.default.func.isRequired,sections:a.default.array.isRequired,toggleView:a.default.func.isRequired,undoChanges:a.default.func.isRequired,updateSection:a.default.func.isRequired,updateSectionsOrder:a.default.func.isRequired},m.defaultProps={};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=r(69),i=u(r(2384)),l=u(r(126));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=(0,o.SortableContainer)(function(e){var t=e.items,r=e.removeItem,a=e.toggleView,o=e.updateItem;return n.default.createElement("ul",{className:l.default.list},t.map(function(e,t){return n.default.createElement(i.default,{key:"".concat(e.key,"_").concat(e.value),index:t,item:e,itemIndex:t,removeItem:function(){return r({index:t,data:e})},toggleView:a,updateItem:function(e){return o({index:t,data:e})}})}))}),h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?f(n):a).onSortEnd=r.onSortEnd.bind(f(r)),r}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n.Component),r=t,(a=[{key:"onSortEnd",value:function(e){var t=e.oldIndex,r=e.newIndex;this.props.updateItemsOrder((0,o.arrayMove)(this.props.items,t,r))}},{key:"render",value:function(){return n.default.createElement(m,{lockAxis:"y",items:this.props.items,onSortEnd:this.onSortEnd,removeItem:this.props.removeItem,toggleView:this.props.toggleView,updateItem:this.props.updateItem,useDragHandle:!0})}}])&&c(r.prototype,a),i&&c(r,i),t}();h.propTypes={items:a.default.arrayOf(a.default.shape({label:a.default.string.isRequired,value:a.default.oneOfType([a.default.string,a.default.bool,a.default.number]).isRequired})).isRequired,removeItem:a.default.func.isRequired,toggleView:a.default.func.isRequired,updateItem:a.default.func.isRequired,updateItemsOrder:a.default.func.isRequired},h.defaultProps={};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=r(69),i=c(r(2385)),l=c(r(10)),u=c(r(3)),s=c(r(126));function c(e){return e&&e.__esModule?e:{default:e}}var d=(0,o.SortableHandle)(function(){return n.default.createElement("span",{className:s.default.dragHandle},n.default.createElement("span",{className:s.default.dragHandleIcon},": :"))}),f=(0,o.SortableElement)(function(e){var t=e.item,r=e.itemIndex,a=e.removeItem,o=e.toggleView,c=e.updateItem,f=t.key,p=t.label,m=t.meta,h=t.title;return n.default.createElement("li",{className:s.default.row},n.default.createElement(d,null),n.default.createElement(i.default,{index:r,item:t,meta:m||null,title:h,toggleView:o,updateTitle:function(e){return c(Object.assign({},t,{title:e}))}}),n.default.createElement("span",{className:"".concat(s.default.cell," ").concat(s.default.cell20)},function(e){var t={cta:"Call to action",contest_id:"Contest",featured:"Project collection",platform_id:"Platform",platforms:"Collection",topic_id:"Topic",topics:"Collection",video:"Videos"};return t.hasOwnProperty(e)?t[e]:"Project collection"}(f)),n.default.createElement("span",{className:"".concat(s.default.cell," ").concat(s.default.cell30)},n.default.createElement("span",{className:s.default.tag},p)),n.default.createElement("span",{className:"".concat(s.default.cell," ").concat(s.default.cell20)},n.default.createElement("button",{className:l.default.blank,type:"button",onClick:a},n.default.createElement("span",{className:"".concat(u.default.bodyS," ").concat(u.default.linkBlue," ").concat(u.default.bold)},"Remove"))))});f.propTypes={item:a.default.shape({key:a.default.string.isRequired,label:a.default.string.isRequired,title:a.default.string.isRequired,value:a.default.oneOfType([a.default.string,a.default.bool,a.default.number]).isRequired}).isRequired,itemIndex:a.default.number.isRequired,removeItem:a.default.func.isRequired,toggleView:a.default.func.isRequired,updateItem:a.default.func.isRequired},f.defaultProps={record:{projects_count:0}};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(10)),i=s(r(21)),l=s(r(3)),u=s(r(126));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=f(this,p(t).call(this,e))).state={isEditing:!1,title:e.title,titleForInput:null},r.input,r}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.Component),r=t,(a=[{key:"_onEditClick",value:function(){var e={index:this.props.index,data:this.props.item};switch(this.props.item.key){case"cta":return this.props.toggleView("editCTA",e);case"promoted":return this.props.toggleView("editPromoted",e);case"video":return this.props.toggleView("editVideo",e);default:return this.toggleEditingState(!0)}}},{key:"toggleEditingState",value:function(e){var t=this;this.setState({isEditing:e,titleForInput:e?this.state.title:null},function(){e&&t.input&&t.input.focus()})}},{key:"updateTitle",value:function(){var e=this.state.titleForInput;this.props.updateTitle(e),this.setState({isEditing:!1,title:e.length>0?e:this.state.title,titleForInput:null})}},{key:"_supressSubmitOnEnterAndSave",value:function(e){13===e.keyCode?(e.preventDefault(),this.updateTitle()):27===e.keyCode&&(e.preventDefault(),this.toggleEditingState(!1))}},{key:"_getTitleView",value:function(){return this.state.isEditing?this._getTitleEditor():this._getTitle()}},{key:"_getTitleEditor",value:function(){var e=this;return n.default.createElement("input",{ref:function(t){return e.input=t},className:"".concat(i.default.input," ").concat(u.default.titleInput),type:"text",value:this.state.titleForInput,onChange:function(t){return e.setState({titleForInput:t.target.value})},onKeyDown:function(t){return e._supressSubmitOnEnterAndSave(t)}})}},{key:"_getTitle",value:function(){return n.default.createElement("span",{className:u.default.title},n.default.createElement("span",null,this.state.title),this.props.meta&&this.props.meta.msg&&n.default.createElement("span",{className:u.default.metaMsg},this.props.meta.msg))}},{key:"_getButtonView",value:function(){return this.state.isEditing?this._getEditingButtons():this._getEditButton()}},{key:"_getEditingButtons",value:function(){var e=this;return n.default.createElement("span",{className:u.default.buttonCntr},n.default.createElement("button",{className:"".concat(o.default.sm," ").concat(u.default.saveBtn),type:"button",onClick:function(){return e.updateTitle()}},"Save"),n.default.createElement("button",{className:"".concat(o.default.blank," ").concat(l.default.link," ").concat(l.default.bodyS," ").concat(u.default.saveBtn),type:"button",onClick:function(){return e.toggleEditingState(!1)}},"Cancel"))}},{key:"_getEditButton",value:function(){var e=this;return n.default.createElement("span",{className:u.default.buttonCntr},n.default.createElement("button",{className:o.default.blank,type:"button",onClick:function(){return e._onEditClick()}},n.default.createElement("span",{className:"".concat(l.default.bodyS," ").concat(l.default.linkBlue," ").concat(l.default.bold)},"Edit")))}},{key:"render",value:function(){return n.default.createElement("span",{className:u.default.nameCell},this._getTitleView(),this._getButtonView())}}])&&d(r.prototype,a),s&&d(r,s),t}();h.propTypes={index:a.default.number.isRequired,item:a.default.shape({key:a.default.string}).isRequired,meta:a.default.object,title:a.default.string.isRequired,toggleView:a.default.func.isRequired,updateTitle:a.default.func.isRequired},h.defaultProps={meta:null};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(283)),o=i(r(126));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){return n.default.createElement("li",{className:o.default.row},n.default.createElement("span",{className:o.default.ghostDragBox}),n.default.createElement("span",{className:"".concat(o.default.ghostCell," ").concat(o.default.cell30)},n.default.createElement("span",{className:a.default.greyNothing})),n.default.createElement("span",{className:"".concat(o.default.ghostCell," ").concat(o.default.cell20)},n.default.createElement("span",{className:a.default.greyNothing})),n.default.createElement("span",{className:"".concat(o.default.ghostCell," ").concat(o.default.cell30)},n.default.createElement("span",{className:a.default.greyNothing})),n.default.createElement("span",{className:"".concat(o.default.ghostCell," ").concat(o.default.cell20)},n.default.createElement("span",{className:a.default.greyNothing})))},u=function(){return n.default.createElement("ul",{className:o.default.list},n.default.createElement(l,null))};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=h(r(1)),o=h(r(2388)),i=h(r(2389)),l=h(r(2390)),u=h(r(42)),s=h(r(9)),c=h(r(996)),d=h(r(497)),f=h(r(22)),p=h(r(3)),m=h(r(392));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var w={AuthButtons:o.default,BackButton:i.default,Categories:l.default,LinkList:function(e){return n.default.createElement(c.default,O({className:m.default.row},e))},SocialIcons:function(e){return n.default.createElement(d.default,O({className:m.default.rowCenter},e))}},E=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=_(t).call(this,e))||"object"!==y(a)&&"function"!=typeof a?v(n):a).state={currentPanelKey:"home",showMenu:!1},r.closeMenu=r.closeMenu.bind(v(r)),r.openMenu=r.openMenu.bind(v(r)),r.switchPanel=r.switchPanel.bind(v(r)),r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n.Component),r=t,(a=[{key:"closeMenu",value:function(){this.setState({currentPanelKey:"home",showMenu:!1})}},{key:"openMenu",value:function(){this.setState({showMenu:!0}),f.default.reportEvent({eventName:"Opened menu"},{type:"hamburgernav"})}},{key:"switchPanel",value:function(e){this.setState({currentPanelKey:e})}},{key:"trackLinkClick",value:function(e){var t=e.delayRedirect,r=void 0===t||t,n=e.e,a=e.type,o=e.value;f.default.recordLinkClick({},{location:"hamburgernav",type:a,value:o},r,n)}},{key:"_renderSectionView",value:function(e,t){var r=w[e.type];if(!r)return null;var a=Object.assign({switchPanel:this.switchPanel,trackLinkClick:this.trackLinkClick},e.props);return n.default.createElement(r,O({key:t},a))}},{key:"render",value:function(){var e=this,t=this.props.panels,r=this.state,a=r.currentPanelKey,o=r.showMenu,i=t[a];return n.default.createElement("span",null,n.default.createElement(s.default,{className:p.default.iconClickable,name:"hamburger",onClick:this.openMenu,size:"16"}),n.default.createElement(u.default,{className:m.default.dialog,open:o,dismiss:this.closeMenu,dismissClassName:m.default.dismiss,overlayClassName:m.default.overlay,wrapperClassName:m.default.wrapper},n.default.createElement("div",{className:m.default.rowHome},n.default.createElement("img",{className:m.default.logo,src:"/assets/hackster_avnet_logo_blue.png"})),i.sections.map(function(t,r){return e._renderSectionView(t,r)})))}}])&&g(r.prototype,a),o&&g(r,o),t}();E.propTypes={panels:a.default.shape({home:a.default.shape({sections:a.default.arrayOf(a.default.shape({type:a.default.oneOf(Object.keys(w)),props:a.default.object}).isRequired).isRequired}).isRequired}).isRequired};var P=E;t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=r(18),o=l(r(3)),i=l(r(392));function l(e){return e&&e.__esModule?e:{default:e}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login";(0,a.summonLoginPanel)({detail:{state:{currentPanel:e},source:"hamburgernav"}})}var s=function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),n.default.createElement("div",{className:i.default.rowCenter},n.default.createElement("div",{className:o.default.bodyL},n.default.createElement("a",{href:"javascript:void(0)",className:"".concat(o.default.link," ").concat(o.default.bold),onClick:function(){return u("signup")}},"Sign up")," or ",n.default.createElement("a",{href:"javascript:void(0)",className:"".concat(o.default.link," ").concat(o.default.bold),onClick:function(){return u("login")}},"log in")))};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(9)),i=u(r(3)),l=u(r(392));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.name,r=e.internalTarget,a=e.switchPanel;return n.default.createElement("div",{className:l.default.rowCenter},n.default.createElement("a",{className:"".concat(i.default.link," ").concat(i.default.bold," ").concat(l.default.backButton),href:"javascript:void(0)",onClick:function(){return a(r)}},n.default.createElement(o.default,{className:l.default.backArrow,name:"arrow-left",size:"12"}),t))};s.propTypes={internalTarget:a.default.string.isRequired,name:a.default.string.isRequired,switchPanel:a.default.func.isRequired};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=u(r(9)),i=u(r(3)),l=u(r(392));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.items,r=e.switchPanel,a=e.trackLinkClick;return n.default.createElement(n.Fragment,null,t.map(function(e,t){return n.default.createElement("div",{key:t,className:l.default.row},e.hasOwnProperty("internalTarget")?function(e){var t=e.item,r=e.switchPanel;return n.default.createElement("a",{className:"".concat(i.default.link," ").concat(l.default.internalCategory),href:"javascript:void(0)",onClick:function(){return r(t.internalTarget)}},t.name,n.default.createElement(o.default,{name:"arrow-right",size:"12"}))}({item:e,switchPanel:r}):function(e){var t=e.item,r=e.trackLinkClick;return n.default.createElement("a",{className:i.default.link,href:t.url,onClick:function(e){return r({e:e,type:"categories"})}},t.name)}({item:e,trackLinkClick:a}))}))};s.propTypes={items:a.default.arrayOf(a.default.shape({internalTarget:a.default.string,name:a.default.string.isRequired,url:a.default.string})).isRequired,switchPanel:a.default.func.isRequired,trackLinkClick:a.default.func},s.defaultProps={trackLinkClick:function(){}};var c=s;t.default=c},function(e,t,r){e.exports={link:"link_list__link__1ub7L typography__bodyM__1-YNl typography__link__1oFtU",viewAllLink:"link_list__viewAllLink__2aVrx typography__bodyS__1-eY5 typography__link__1oFtU"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=p(r(1)),o=p(r(889)),i=p(r(2393)),l=p(r(2395)),u=p(r(7)),s=r(14),c=r(16),d=r(139),f=p(r(2));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=y(this,g(t).call(this,e))).state={isPreview:r._isPreview(e.article),relatedArticles:{bar:null,bottom:null,side:null},sponsoredArticles:null},r}var r,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this.state.isPreview||this._fetchSuggestedArticles()}},{key:"_fetchSuggestedArticles",value:function(){var e=this;return(0,s.graphQuery)({t:"news_article_page_suggested_articles"},{id:this.props.article.id}).then(function(t){var r=t.article,n=t.sponsored_articles;e.setState({relatedArticles:e._splitRelatedArticles(r.related_news_articles),sponsoredArticles:n})}).catch(function(e){return(0,u.default)("NewsArticlePage _fetchSuggestedArticles:",e)})}},{key:"_isPreview",value:function(e){return e.status!==d.PUBLISHED_STATUS||(0,c.timeIsFuture)(e.published_at)}},{key:"_splitRelatedArticles",value:function(e){return{bar:e.slice(0,1),bottom:e.slice(4,8),side:e.slice(0,4)}}},{key:"render",value:function(){var e=this.props,t=e.article,r=e.signup_cta_image_urls,a=e.social_sharing_links,u=this.state,s=u.isPreview,c=u.relatedArticles,d=u.sponsoredArticles;return n.default.createElement("div",null,n.default.createElement("div",{className:f.default.container},n.default.createElement("div",{className:"".concat(f.default.wrapper1170," ").concat(f.default.paddingTop15)},n.default.createElement(o.default,{article:t,isPreview:s,relatedArticles:c.side,signup_cta_image_urls:r,sponsoredArticles:d,social_sharing_links:a}),!s&&n.default.createElement(l.default,{records:c.bottom}))),!s&&n.default.createElement(i.default,{article:t,relatedArticles:c.bar,social_sharing_links:a}))}}])&&h(r.prototype,a),p&&h(r,p),t}();v.propTypes={article:a.default.shape({published_at:a.default.string,status:a.default.string}).isRequired,signup_cta_image_urls:a.default.object.isRequired,social_sharing_links:a.default.arrayOf(a.default.shape({label:a.default.string.isRequred,service:a.default.string.isRequred,url:a.default.string.isRequred})).isRequired};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=p(r(1)),o=p(r(138)),i=p(r(891)),l=p(r(2394)),u=p(r(160)),s=r(12),c=p(r(2)),d=p(r(5)),f=p(r(329));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=y(t).call(this,e))||"object"!==m(a)&&"function"!=typeof a?g(n):a).state={isHidden:!1,lastScrollTop:0},r.setIsHidden=r.setIsHidden.bind(g(r)),r}var r,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){this.throttledScroll=(0,o.default)(this.setIsHidden,200),window.addEventListener("scroll",this.throttledScroll),this.setIsHidden()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.throttledScroll)}},{key:"setIsHidden",value:function(){var e=(0,s.windowPageYOffset)();e>this.state.lastScrollTop?this.setState({isHidden:!0,lastScrollTop:e}):e+80<this.state.lastScrollTop&&this.setState({isHidden:!1,lastScrollTop:e})}},{key:"render",value:function(){var e=this.props,t=e.article,r=e.disabled,a=e.relatedArticles,o=e.social_sharing_links;return n.default.createElement("div",{className:"".concat(d.default.posRelative," ").concat(c.default.fullWidth," ").concat(c.default.hiddenMedUp),id:"articleStickyFooter",style:{height:58}},n.default.createElement(u.default,{className:"".concat(f.default.stickyFooterWrapper," ").concat(c.default.fullWidth),parentId:"articleStickyFooter",startPos:"bottom",stickToEnd:!1},n.default.createElement("div",{className:"".concat(c.default.flexJustifySpaceBetween," ").concat(c.default.fullWidth," ").concat(d.default.bgWhite," ").concat(d.default.boxShadow2," ").concat(c.default.padding1015," ").concat(f.default.stickyFooter," ").concat(this.state.isHidden?f.default.stickyFooterHidden:""),style:{height:58}},n.default.createElement("div",{className:c.default.flex},n.default.createElement(i.default,{article:t,disabled:r,position:"bottom",social_sharing_links:o})),n.default.createElement(l.default,{records:a}))))}}])&&h(r.prototype,a),p&&h(r,p),t}();v.propTypes={article:a.default.object.isRequired,disabled:a.default.bool,relatedArticles:a.default.array,social_sharing_links:a.default.arrayOf(a.default.shape({label:a.default.string.isRequired,service:a.default.string.isRequired,url:a.default.string.isRequired}))},v.defaultProps={disabled:!1,relatedArticles:null,social_sharing_links:[]};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=p(r(9)),i=p(r(70)),l=r(11),u=r(61),s=p(r(908)),c=p(r(2)),d=p(r(3)),f=p(r(5));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.records;if((0,l.isBlank)(t))return null;var r=t[0];return n.default.createElement("div",{className:"".concat(c.default.flexCenterItems," ").concat(f.default.overflowFlexHack)},n.default.createElement(i.default,{className:"".concat(s.default.container," ").concat(d.default.link," ").concat(f.default.overflowFlexHack),item:r,linkType:u.NEWS_ARTICLE_CARD,location:"related_articles_bar"},n.default.createElement("div",{className:s.default.text},n.default.createElement("h5",{className:d.default.h5},"Next article"),n.default.createElement("div",{className:"".concat(d.default.bodyS," ").concat(d.default.bold," ").concat(s.default.link)},r.title)),n.default.createElement("div",{className:c.default.marginLeft15},n.default.createElement(o.default,{name:"arrow-right"}))))};m.propTypes={records:a.default.arrayOf(a.default.shape({title:a.default.string.isRequired,url:a.default.string.isRequired}))},m.defaultProps={records:null};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(393)),i=c(r(64)),l=c(r(2)),u=c(r(5)),s=c(r(3));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.records;return t&&0===t.length?null:n.default.createElement("div",{className:"".concat(l.default.marginTop60," ").concat(l.default.marginBottom30," ").concat(l.default.fullWidth)},n.default.createElement("h5",{className:"".concat(s.default.h5," ").concat(l.default.paddingBottom15," ").concat(l.default.marginBottom22," ").concat(u.default.borderBottom)},"Related articles"),n.default.createElement(o.default,{articles:{records:t||[],metadata:{}},className:"".concat(i.default.guttersH30_sm," ").concat(i.default.guttersV30_sm),gutterSize:15,isBusy:!t,location:"related_articles_bottom"}))};d.propTypes={records:a.default.array},d.defaultProps={records:null};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=N(r(1)),o=N(r(2397)),i=N(r(393)),l=N(r(2399)),u=N(r(2401)),s=N(r(274)),c=N(r(2403)),d=N(r(119)),f=N(r(2404)),p=N(r(2406)),m=N(r(68)),h=r(14),y=r(75),g=r(139),_=N(r(501)),v=N(r(7)),b=N(r(22)),O=r(8),w=r(45),E=r(44),P=r(357),k=N(r(64)),S=N(r(2)),C=N(r(3)),j=N(r(5)),R=N(r(109)),T=N(r(2409));function N(e){return e&&e.__esModule?e:{default:e}}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B={pagination:P.SIMPLE_PAGINATION,records:[]},F=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=D(t).call(this,e))||"object"!==M(a)&&"function"!=typeof a?q(n):a).history=(0,m.default)(e.path_helpers.basePath,e.path_helpers.fullPath),r.state=Object.assign({ads:{},adsInitialized:!1,currentHistoryData:r.history.location,isBusy:!1,latest:(0,T.default)(e.latest),timeFromNowSync:0,trending:null},r._initRecordsAndPagination(e.topic_articles,r.history.location)),r.handleLocationChange=r.handleLocationChange.bind(q(r)),r.handleSearchQueryUpdate=r.handleSearchQueryUpdate.bind(q(r)),r.adsService=new _.default(y.NEWS_HOME_PAGE),r}var r,a,P;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.unlisten=this.history.listen(this.handleLocationChange),this._doesInitialTopicArticlesAndQueryParamMatch()||this._fetchRecordsForTopic(),this._fetchAds()}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"_initRecordsAndPagination",value:function(e,t){var r=this._getCurrentTopicFromCurrentHistory(t.search);if(!e||!r||e&&!e.hasOwnProperty(r))return B;var n=e[r];return{pagination:n.metadata,records:n.records}}},{key:"handleLocationChange",value:function(e,t){var r=this;this.setState({currentHistoryData:Object.assign({},e,{action:t}),records:[]},function(){r._fetchRecordsForTopic(),b.default.reportVirtualPageView()})}},{key:"handleSearchQueryUpdate",value:function(e){var t=(0,E.mapifyStringQuery)(this.state.currentHistoryData.search),r=(0,E.mapToStringQuery)((0,w.filterObject)(Object.assign({},t,e)));this.history.push({search:r})}},{key:"_doesCurrentTopicExistInTopicFilters",value:function(){var e=this._getCurrentTopicFromCurrentHistory();return this.props.topic_filters.findIndex(function(t){return t.value===e})>-1}},{key:"_doesInitialTopicArticlesAndQueryParamMatch",value:function(){var e=this._getCurrentTopicFromCurrentHistory();return!!(!this.props.topic_articles&&!e||this.props.topic_articles&&this.props.topic_articles.hasOwnProperty(e))}},{key:"_fetchAds",value:function(){var e=this;return this._getAds().then(function(t){e.setState({ads:t,adsInitialized:!0})}).catch(function(e){return(0,v.default)("NewsHomePage _fetchAds",e)})}},{key:"_fetchFirstTwoPaginatedArticlePages",value:function(){var e=this;this.setState({isBusy:!0});var t=Object.assign({},this._getPaginatedArticlesArgs(),{offset:0,page:1,per_page:24}),r=Object.assign({},this._getPaginatedArticlesArgs(),{offset:12,page:2,per_page:12});return Promise.all([this._getPaginatedArticles(t),this._getPaginatedArticles(r)]).then(function(t){e.setState({isBusy:!1,pagination:t[1].metadata,records:t[0].records.concat(t[1].records)})}).catch(function(t){e.setState({isBusy:!1}),(0,v.default)("NewsHomePage _fetchFirstTwoPaginatedArticlePages:",t)})}},{key:"_fetchRecordsForTopic",value:function(){if(!this._doesCurrentTopicExistInTopicFilters())return this._resetTopicArticlesState();this._fetchPaginatedArticles()}},{key:"_fetchMoreRecordsForTopic",value:function(){return 1===this.state.pagination.current_page?this._fetchFirstTwoPaginatedArticlePages():this._fetchPaginatedArticles()}},{key:"_fetchPaginatedArticles",value:function(){var e=this;return this.setState({isBusy:!0}),this._getPaginatedArticles().then(function(t){e.setState({isBusy:!1,pagination:t.metadata,records:e.state.records.length?e.state.records.concat(t.records):t.records})}).catch(function(t){e.setState({isBusy:!1}),(0,v.default)("NewsHomePage _fetchPaginatedArticles:",t)})}},{key:"_fetchPaginatedArticlesWithAds",value:function(){var e=this;return this.setState({isBusy:!0}),this._getAds().then(function(t){return Promise.all([t,e._getPaginatedArticles(e._fetchPaginatedArticlesWithAdsArgs(t))])}).then(function(t){var r=I(t,2),n=r[0],a=r[1];e.setState({ads:n,adsInitialized:!0,isBusy:!1,pagination:a.metadata,records:e.state.records.length?e.state.records.concat(a.records):a.records})}).catch(function(t){e.setState({isBusy:!1}),(0,v.default)("NewsHomePage _fetchPaginatedArticlesWithAds:",t)})}},{key:"_fetchPaginatedArticlesWithAdsArgs",value:function(e){var t=null!==(0,O.getInObj)(["gallery"],e),r=0===this.state.records.length,n=r?0:t?-1:0,a=r&&t?11:12;return Object.assign({},this._getPaginatedArticlesArgs(),{offset:n,per_page:a})}},{key:"_getInjectableConfigForMoreArticlesSection",value:function(){return this.state.adsInitialized&&null===(0,O.getInObj)(["gallery"],this.state.ads)?null:{component:u.default,index:3,props:{ad:this.state.ads.gallery,initialized:this.state.adsInitialized}}}},{key:"_getTopicFilterOptions",value:function(){var e=this._getCurrentTopicFromCurrentHistory();return[{default:!0,label:"All",value:null}].concat(this.props.topic_filters).map(function(t){return e===t.value?Object.assign({},t,{active:!0,disabled:!0}):t})}},{key:"_getTopicIdFromTopicSlug",value:function(e){var t=(0,O.getInObj)(["topic"],e);if(!t)return null;var r=this.props.topic_filters.find(function(e){return e.value===t});return r?r.id:null}},{key:"_getCurrentTopicFromCurrentHistory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.currentHistoryData.search;return(0,O.getInObj)(["topic"],(0,E.mapifyStringQuery)(e))}},{key:"_resetTopicArticlesState",value:function(){this.state.records.length>0&&this.setState(Object.assign({},B))}},{key:"_getAds",value:function(){return this.state.adsInitialized?Promise.resolve(this.state.ads):this.adsService.getAdsForPage()}},{key:"_getPaginatedArticles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getPaginatedArticlesArgs();return new Promise(function(t,r){return(0,h.graphQuery)({t:"news_articles_simple_pagination"},e).then(function(e){var r=e.articles;return t(r)}).catch(function(e){return r(e)})})}},{key:"_getPaginatedArticlesArgs",value:function(){var e=(0,E.mapifyStringQuery)(this.state.currentHistoryData.search),t=this._getTopicIdFromTopicSlug(e),r=t?{by_topic_id:t}:{};return Object.assign({},r,this._getPaginationArgsForRequest(t),{by_sponsored:!1,by_status_type:g.PUBLISHED_STATUS,sort:g.PUBLISHED_SORT})}},{key:"_getPaginationArgsForRequest",value:function(e){var t=0===this.state.records.length,r=t?{}:{page:this.state.pagination.next_page};return e?Object.assign({},r,{offset:t?0:12,per_page:t?24:12}):Object.assign({},r,{per_page:12})}},{key:"_getTrendingArticles",value:function(){var e=this;return(0,h.graphQuery)({t:"news_articles_light"},{by_sponsored:!1,by_status_type:g.PUBLISHED_STATUS,limit:7,sort:g.TRENDING_DESC_SORT}).then(function(t){var r=t.articles;return e.setState({trending:(0,T.default)(r)})}).catch(function(e){return(0,v.default)("NewsHomePage _getTrendingArticles:",e)})}},{key:"_getMainView",value:function(){return this._doesCurrentTopicExistInTopicFilters()?this._getArticlesListView():this._getDefaultView()}},{key:"_getDefaultView",value:function(){var e=this;return n.default.createElement(n.Fragment,null,n.default.createElement("div",{className:S.default.container},n.default.createElement("div",{className:S.default.wrapper1170},n.default.createElement("div",{className:S.default.flexJustifyCenter},n.default.createElement("div",{className:R.default.mainContentWrapper},n.default.createElement("div",{className:R.default.aboveTheFoldWrapper},n.default.createElement(l.default,{records:this.props.featured}),n.default.createElement(p.default,{getTrendingRecords:function(){return e._getTrendingArticles()},latest:this.state.latest,onLatestClick:function(){return e.setState({timeFromNowSync:e.state.timeFromNowSync+1})},trending:this.state.trending}),n.default.createElement(o.default,{ad_urls:this.props.ad_urls,ads:this.state.ads,adsInitialized:this.state.adsInitialized,signup_cta_image_urls:this.props.signup_cta_image_urls})))))),n.default.createElement(f.default,{records:this.props.sponsored}),n.default.createElement("div",{className:"".concat(S.default.fullWidth," ").concat(S.default.flexJustifyCenter," ").concat(S.default.padding015)},n.default.createElement("div",{className:"".concat(S.default.wrapper1170," ").concat(S.default.marginBottom60)},n.default.createElement(c.default,{key:this.state.timeFromNowSync,injectableConfig:this._getInjectableConfigForMoreArticlesSection(),getArticles:function(){return e._fetchPaginatedArticlesWithAds()},isBusy:this.state.isBusy,pagination:this.state.pagination,records:this.state.records}))))}},{key:"_getArticlesListView",value:function(){var e=this;return n.default.createElement("div",{className:S.default.container},n.default.createElement("div",{className:S.default.wrapper1170},n.default.createElement(i.default,{articles:{records:this.state.records,metadata:this.state.pagination},className:"".concat(k.default.guttersH30_sm," ").concat(k.default.guttersV30_sm),gutterSize:15,handlePaginatorClick:function(){return e._fetchMoreRecordsForTopic()},isBusy:this.state.isBusy})))}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:"".concat(S.default.fullWidth," ").concat(R.default.container)},n.default.createElement("div",{className:"".concat(S.default.fullWidth," ").concat(S.default.flexJustifyCenter," ").concat(S.default.paddingTop30," ").concat(S.default.paddingLeft15," ").concat(S.default.paddingRight15)},n.default.createElement("div",{className:"".concat(S.default.wrapper1170," ").concat(j.default.borderBottom)},n.default.createElement("h1",{className:"".concat(C.default.h1," ").concat(S.default.marginBottom15)},"News"),n.default.createElement(s.default,null,n.default.createElement(d.default,{onSelection:function(t){var r;return e.handleSearchQueryUpdate((A(r={},"topic",t.value),A(r,"page",null),r))},options:this._getTopicFilterOptions(),tabbedViewUnderline:!1,view:"tabbed"})))),this._getMainView())}}])&&x(r.prototype,a),P&&x(r,P),t}();F.propTypes={ad_urls:a.default.shape({banner:a.default.shape({href:a.default.string.isRequired,mobile_url:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired}).isRequired,featured:a.default.arrayOf(a.default.object).isRequired,latest:a.default.arrayOf(a.default.object).isRequired,path_helpers:a.default.shape({basePath:a.default.string.isRequired,fullPath:a.default.string.isRequired,rootPath:a.default.string.isRequired}).isRequired,signup_cta_image_urls:a.default.shape({x1:a.default.string.isRequired,x2:a.default.string.isRequired}).isRequired,sponsored:a.default.arrayOf(a.default.shape({})),topic_articles:a.default.objectOf(a.default.shape({metadata:a.default.object,records:a.default.arrayOf(a.default.object)})),topic_filters:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,href:a.default.string.isRequired,label:a.default.string.isRequired,value:a.default.string.isRequired})).isRequired},F.defaultProps={topic_articles:null};var U=F;t.default=U},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=p(r(1)),o=p(r(70)),i=p(r(901)),l=p(r(2398)),u=p(r(904)),s=r(61),c=p(r(998)),d=p(r(5)),f=p(r(109));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,g(t).call(this,e))}var r,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.PureComponent),r=t,(a=[{key:"_getAdView",value:function(){return this.props.adsInitialized?this.props.ads.hero?this._getNewsPageHeroAdView():this.props.ads.content&&this.props.ads.content.length>0?this._getContentAdsWrapper():this._getFallbackView():this._getPlaceholderView()}},{key:"_getContentAdsWrapper",value:function(){var e=this;return n.default.createElement("div",{className:f.default.stackedContentAdsWrapper},this.props.ads.content.map(function(t){return n.default.createElement(i.default,{key:t.id,ad:t,initialized:e.props.adsInitialized,onClick:e.handleClick,pageType:"news_home_page"})}))}},{key:"_getFallbackView",value:function(){var e=this.props.ad_urls;return n.default.createElement(o.default,{className:f.default.banner,isExternal:e.banner.external,item:{url:e.banner.href},linkType:s.NEWS_PROMO_BANNER,value:e.banner.alt_text},n.default.createElement("picture",null,n.default.createElement("source",{media:"(max-width: 768px)",srcSet:e.banner.mobile_url}),n.default.createElement("img",{alt:e.banner.alt_text,className:d.default.borderRadius,src:e.banner.url})))}},{key:"_getNewsPageHeroAdView",value:function(){return n.default.createElement(l.default,{ad:this.props.ads.hero,initialized:this.props.adsInitialized,onClick:this.handleClick})}},{key:"_getPlaceholderView",value:function(){return n.default.createElement("div",{className:"".concat(c.default.placeholder," ").concat(d.default.bgFog," ").concat(d.default.borderRadius)})}},{key:"render",value:function(){return n.default.createElement("div",{className:f.default.ctaSection},this._getAdView(),n.default.createElement(u.default,{className:f.default.cta,imageURLs:this.props.signup_cta_image_urls}))}}])&&h(r.prototype,a),p&&h(r,p),t}();v.propTypes={ad_urls:a.default.shape({banner:a.default.shape({href:a.default.string.isRequired,mobile_url:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired}).isRequired,ads:a.default.object,adsInitialized:a.default.bool.isRequired,signup_cta_image_urls:a.default.object.isRequired},v.defaultProps={ads:null};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(224)),i=f(r(162)),l=r(55),u=f(r(2)),s=f(r(3)),c=f(r(5)),d=f(r(998));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.ad,r=e.forwardedRef,a=e.initialized,o=e.onClick,f=e.onImageLoad;return a?a&&null===t?null:n.default.createElement("div",{ref:r,className:d.default.adContainer},n.default.createElement("div",null,n.default.createElement("a",{href:t.link,onClick:function(){return o(t)},rel:"noopener",target:"_blank"},n.default.createElement(i.default,{className:"".concat(d.default.desktopImage," ").concat(c.default.borderRadius),lazy:!0,onLoad:function(){return f(t)},ratio:"27:50",setStyle:!1,src:t.cover_image.url,width:270}),n.default.createElement(i.default,{className:"".concat(d.default.mobileImage," ").concat(c.default.borderRadius),lazy:!0,onLoad:function(){return f(t)},ratio:"4:1",setStyle:!1,src:t.mobile_cover_image.url,width:480}))),n.default.createElement("div",{className:"".concat(u.default.flexJustifyEnd)},n.default.createElement("a",{className:"".concat(s.default.bodyS," ").concat(s.default.linkCharcoal),href:l.adFAQLink,rel:"noopener",target:"_blank"},"Ad"))):n.default.createElement("div",{className:"".concat(d.default.placeholder," ").concat(c.default.bgFog," ").concat(c.default.borderRadius)})};p.propTypes={ad:a.default.shape({id:a.default.number.isRequired,ad_type:a.default.string.isRequired,cover_image:a.default.shape({url:a.default.string.isRequired}).isRequired,link:a.default.string.isRequired}),forwardedRef:a.default.oneOfType([a.default.func,a.default.shape({current:a.default.any})]).isRequired,initialized:a.default.bool.isRequired,onClick:a.default.func.isRequired,onImageLoad:a.default.func.isRequired},p.defaultProps={ad:null};var m=(0,o.default)(p);t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(2400)),i=l(r(109));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.records;return n.default.createElement("div",{className:i.default.featuredSection},t.map(function(e,t){return n.default.createElement(o.default,{key:e.id,article:e,isHero:0===t,location:"news_article_featured_card-".concat(t)})}))};u.propTypes={records:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,image:a.default.shape({url:a.default.string.isRequired}).isRequired,summary:a.default.string.isRequired,title:a.default.string.isRequired,user:a.default.shape({name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,url:a.default.string.isRequired})).isRequired},u.defaultProps={};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=p(r(70)),i=p(r(46)),l=r(61),u=r(8),s=r(498),c=p(r(2)),d=p(r(3)),f=p(r(5));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.article,r=e.isHero,a=e.location;return n.default.createElement("div",{className:(0,s.getRootStyles)(r)},n.default.createElement(o.default,{className:(0,s.getImgContainerStyles)(r),item:t,linkType:l.NEWS_ARTICLE_CARD,location:a},n.default.createElement(i.default,{classList:{root:"".concat(f.default.absolutePlaceholderChild," ").concat(f.default.borderRadius)},ratio:"16:9",setStyle:!1,src:(0,u.getInObj)(["image","url"],t),width:555})),n.default.createElement("div",{className:"".concat(c.default.flexColumn," ").concat(c.default.fullWidth)},n.default.createElement(o.default,{className:(0,s.getTitleStyles)(r),item:t,linkType:l.NEWS_ARTICLE_CARD,location:a},t.title),n.default.createElement("p",{className:"".concat(d.default.bodyM," ").concat(d.default.charcoal," ").concat(c.default.marginBottom10)},t.summary),n.default.createElement("span",{className:"".concat(d.default.charcoal," ").concat(d.default.bodyM)},"by ",n.default.createElement("a",{href:t.user.url,className:d.default.linkBlue},t.user.name))))};m.propTypes={article:a.default.shape({id:a.default.number.isRequired,image:a.default.shape({url:a.default.string.isRequired}).isRequired,summary:a.default.string.isRequired,title:a.default.string.isRequired,user:a.default.shape({name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,url:a.default.string.isRequired}).isRequired,isHero:a.default.bool,location:a.default.string},m.defaultProps={isHero:!1,location:null};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(224)),i=f(r(162)),l=r(55),u=f(r(2)),s=f(r(3)),c=f(r(5)),d=f(r(2402));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.ad,r=e.forwardedRef,a=e.initialized,o=e.onClick,f=e.onImageLoad;if(!a||null===t)return null;var p=t.client,m=t.cover_image,h=t.link,y=t.text;return n.default.createElement("div",{ref:r,className:d.default.container},n.default.createElement("div",{className:d.default.imageContainer},n.default.createElement("a",{href:h,onClick:function(){return o(t)},rel:"noopener",target:"_blank"},n.default.createElement(i.default,{className:"".concat(d.default.standardImage," ").concat(c.default.borderRadius),lazy:!0,onLoad:function(){return f(t)},ratio:"16:9",setStyle:!1,src:m.url,width:270}),n.default.createElement(i.default,{className:"".concat(d.default.mobileImage," ").concat(c.default.borderRadius),lazy:!0,onLoad:function(){return f(t)},ratio:"1:1",setStyle:!1,src:m.url,width:270}))),n.default.createElement("div",{className:"".concat(d.default.textContainer," ").concat(u.default.flexColumn)},n.default.createElement("a",{className:"".concat(s.default.bodyM," ").concat(s.default.bold," ").concat(s.default.breakWord," ").concat(s.default.link," ").concat(s.default.linkCharcoal),href:h,onClick:function(){return o(t)},rel:"noopener",target:"_blank"},y),n.default.createElement("div",{className:"".concat(d.default.subTextContainer," ").concat(u.default.flexJustifySpaceBetween," ").concat(s.default.bodyS)},n.default.createElement("div",null,"Sponsored by ",p),n.default.createElement("div",{className:"".concat(d.default.linkContainer)},n.default.createElement("a",{className:"".concat(s.default.link," ").concat(s.default.textRight),href:l.adFAQLink,rel:"noopener",target:"_blank"},"Ad")))))};p.propTypes={ad:a.default.shape({id:a.default.number.isRequired,ad_type:a.default.string.isRequired,client:a.default.string.isRequired,cover_image:a.default.shape({url:a.default.string.isRequired}).isRequired,link:a.default.string.isRequired,text:a.default.string.isRequired}),forwardedRef:a.default.oneOfType([a.default.func,a.default.shape({current:a.default.any})]).isRequired,initialized:a.default.bool.isRequired,onClick:a.default.func.isRequired,onImageLoad:a.default.func.isRequired},p.defaultProps={ad:null};var m=(0,o.default)(p);t.default=m},function(e,t,r){e.exports={small:"(max-width: 480px)",container:"news_gallery_ad__container__2isxH",mobileImage:"news_gallery_ad__mobileImage__3ntus",textContainer:"news_gallery_ad__textContainer__2l-Sn",imageContainer:"news_gallery_ad__imageContainer__vhQij",linkContainer:"news_gallery_ad__linkContainer__2M6xq",standardImage:"news_gallery_ad__standardImage__30Yq-",subTextContainer:"news_gallery_ad__subTextContainer__3i85N"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(393)),i=c(r(107)),l=c(r(64)),u=c(r(2)),s=c(r(3));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.injectableConfig,r=e.getArticles,a=e.isBusy,c=e.pagination,d=e.records;return n.default.createElement("div",null,n.default.createElement("h4",{className:"".concat(s.default.h4," ").concat(u.default.paddingBottom22)},"All articles"),n.default.createElement(i.default,{onReveal:r,style:{minHeight:1}},n.default.createElement(o.default,{articles:{records:d,metadata:c},className:"".concat(l.default.guttersH30_sm," ").concat(l.default.guttersV30_sm),injectableConfig:t,gutterSize:15,handlePaginatorClick:r,isBusy:a})))};d.propTypes={getArticles:a.default.func.isRequired,injectableConfig:a.default.shape({component:a.default.func,index:a.default.number,props:a.default.shape({ad:a.default.object,initialized:a.default.bool})}),isBusy:a.default.bool,pagination:a.default.shape({current_page:a.default.number,next_page:a.default.number,per_page:a.default.number,prev_page:a.default.number}).isRequired,records:a.default.arrayOf(a.default.object)},d.defaultProps={injectableConfig:null,isBusy:!1,records:null};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(2405)),i=r(11),l=d(r(2)),u=d(r(3)),s=d(r(64)),c=d(r(109));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.records;return(0,i.isBlank)(t)?null:n.default.createElement("div",{className:"".concat(c.default.sponsoredSection," ").concat(l.default.container," ").concat(l.default.marginBottom60)},n.default.createElement("div",{className:"".concat(l.default.wrapper1170)},n.default.createElement("div",{className:c.default.sponsoredList},n.default.createElement("div",{className:"".concat(s.default.grid," ").concat(s.default.guttersH15," ").concat(s.default.guttersV30," ").concat(s.default.guttersH60_sm)},t.map(function(e,t){return n.default.createElement("div",{key:e.id,className:"".concat(s.default.cell," ").concat(s.default.cell_1_2," ").concat(c.default.sponsoredCardContainer)},n.default.createElement(o.default,{article:e,location:"news_article_sponsored_card-".concat(t)}))})),n.default.createElement("h5",{className:"".concat(l.default.fullWidth," ").concat(l.default.marginTop15," ").concat(u.default.textRight," ").concat(u.default.h5)},"sponsored articles"))))};f.propTypes={records:a.default.arrayOf(a.default.shape({image:a.default.shape({url:a.default.string.isRequired}),sponsor_link:a.default.string.isRequired,sponsor_name:a.default.string.isRequired,title:a.default.string.isRequired,user:a.default.shape({name:a.default.string.isRequired,url:a.default.string.isRequired}),url:a.default.string.isRequired}))},f.defaultProps={records:null};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(70)),i=c(r(981)),l=r(61),u=c(r(2)),s=c(r(3));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.article,r=e.location;return n.default.createElement(i.default,{item:t,linkProps:{linkType:l.NEWS_ARTICLE_CARD,location:r},renderBody:function(){return function(e){var t=e.article,r=e.location;return n.default.createElement(n.Fragment,null,n.default.createElement(o.default,{className:"".concat(s.default.bodyL," ").concat(s.default.bold),item:t,linkType:l.NEWS_ARTICLE_CARD,location:r},t.title),n.default.createElement("p",{className:"".concat(s.default.bodyM," ").concat(u.default.marginTop5)},"Sponsored by ",n.default.createElement(o.default,{className:s.default.linkBlue,customAttributes:{rel:"noopener"},isExternal:!0,item:{id:t.sponsor_name,url:t.sponsor_link},linkType:l.NEWS_ARTICLE_CARD,location:r},t.sponsor_name)))}({article:t,location:r})}})};d.propTypes={article:a.default.shape({image:a.default.shape({url:a.default.string.isRequired}),sponsor_link:a.default.string.isRequired,sponsor_name:a.default.string.isRequired,title:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired,isResponsive:a.default.bool,location:a.default.string},d.defaultProps={isResponsive:!0,location:null};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(451)),i=s(r(2407)),l=s(r(2408)),u=s(r(109));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=["Latest","Trending"],g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?m(n):a).state={activeTabIndex:0},r.handleNavClick=r.handleNavClick.bind(m(r)),r}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"handleNavClick",value:function(e){0===e&&this.props.onLatestClick(),1!==e||this.props.trending||this.props.getTrendingRecords(),this.setState({activeTabIndex:e})}},{key:"_getViewForActiveIndex",value:function(){return this._getListView(y[this.state.activeTabIndex].toLowerCase())}},{key:"_getListView",value:function(e){return"trending"!==e||this.props.trending?n.default.createElement("div",null,this.props[e].map(function(t){return n.default.createElement(i.default,{key:t.id,article:t,location:"news_page_middle",type:e})})):this._getLoaderView()}},{key:"_getLoaderView",value:function(){return n.default.createElement("div",null,d(Array(7).keys()).map(function(e){return n.default.createElement(l.default,{key:e})}))}},{key:"render",value:function(){return n.default.createElement("div",{className:u.default.trendingSection},n.default.createElement(o.default,{activeIndex:this.state.activeTabIndex,centered:!1,onClick:this.handleNavClick,tabs:y}),this._getViewForActiveIndex())}}])&&f(r.prototype,a),s&&f(r,s),t}();g.propTypes={getTrendingRecords:a.default.func.isRequired,latest:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,published_at:a.default.string.isRequired,title:a.default.string.isRequired,url:a.default.string.isRequired})).isRequired,onLatestClick:a.default.func.isRequired,trending:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,title:a.default.string.isRequired,url:a.default.string.isRequired,user:a.default.shape({name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired}))},g.defaultProps={trending:null};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(0)),a=m(r(1)),o=m(r(70)),i=m(r(30)),l=r(61),u=r(8),s=r(16),c=m(r(2)),d=m(r(3)),f=m(r(5)),p=m(r(191));function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.article,r=e.location,a=e.type;return n.default.createElement("div",{className:"".concat(p.default.lightCardWrapper," ").concat(c.default.flexStartItems)},n.default.createElement("div",{className:"".concat(c.default.flexColumn)},n.default.createElement(o.default,{className:"".concat(d.default.bodyM," ").concat(d.default.bold," ").concat(d.default.linkCharcoal," "),item:t,linkType:l.NEWS_ARTICLE_CARD,location:r},t.title),n.default.createElement("p",{className:"".concat(d.default.bodyS," ").concat(d.default.charcoal," ").concat(c.default.marginTop5)},function(e){var t=e.article;switch(e.type){case"latest":return n.default.createElement("span",{className:d.default.pebble,title:t.published_at},(0,s.timeFromNow)(t.published_at));case"trending":return n.default.createElement("a",{className:d.default.linkPebble,href:t.user.url},t.user.name);default:return null}}({article:t,type:a}))),n.default.createElement(o.default,{className:c.default.marginLeft15,item:t,linkType:l.NEWS_ARTICLE_CARD,location:r},n.default.createElement(i.default,{alt:t.title,classList:{root:"".concat(f.default.borderRadius," ").concat(p.default.imageShadow)},ratio:"1:1",src:(0,u.getInObj)(["image","url"],t),width:70})))};h.propTypes={article:a.default.shape({id:a.default.number.isRequired,image:a.default.shape({url:a.default.string.isRequired}),published_at:a.default.string.isRequired,title:a.default.string.isRequired,url:a.default.string.isRequired,user:a.default.shape({name:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired}).isRequired,location:a.default.string,type:a.default.oneOf(["latest","trending"]).isRequired},h.defaultProps={location:null};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(99)),o=l(r(2)),i=l(r(191));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){e.article,e.location,e.type;return n.default.createElement("div",{className:i.default.lightCardWrapper},n.default.createElement("div",{style:{height:16,width:"100%"},className:a.default.loader}),n.default.createElement("div",{style:{height:16,width:"50%"},className:"".concat(a.default.loader," ").concat(o.default.marginTop5)}),n.default.createElement("div",{style:{height:14,width:"25%"},className:"".concat(a.default.loader," ").concat(o.default.marginTop5)}))};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){for(var t,r=0,n=0;n<e.length;n++){var a=r+(t=e[n],22*Math.ceil(t.title.length/16)+54);if(a>900)return e.slice(0,n);r=a}return e};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=O(r(1)),o=O(r(2411)),i=O(r(2412)),l=O(r(42)),u=O(r(2413)),s=O(r(978)),c=O(r(888)),d=O(r(2416)),f=O(r(2417)),p=O(r(2418)),m=r(14),h=O(r(7)),y=r(18),g=r(45),_=O(r(109)),v=O(r(2)),b=O(r(394));function O(e){return e&&e.__esModule?e:{default:e}}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R={records:null},T={open:!1,props:null},N=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=S(t).call(this,e))||"object"!==w(a)&&"function"!=typeof a?C(n):a).state={cachedLiveIds:(0,g.pluckAndReduce)(r.props.record.featured.concat(r.props.record.sponsored),"id"),currentRequest:R,dialog:T,errors:{},featured:r._initRecords(r.props.record.featured,3),isBusy:!1,sponsored:r._initRecords(r.props.record.sponsored,2)},r.addArticle=r.addArticle.bind(C(r)),r.deleteArticle=r.deleteArticle.bind(C(r)),r.handleUnloadEvent=r.handleUnloadEvent.bind(C(r)),r.publishLayout=r.publishLayout.bind(C(r)),r.summonArticleSelector=r.summonArticleSelector.bind(C(r)),r.reorderArticles=r.reorderArticles.bind(C(r)),r}var r,a,O;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.handleUnloadEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleUnloadEvent)}},{key:"_initRecords",value:function(e,t){return e.length>=t?e:P(Array(t).keys()).map(function(t){return e[t]?e[t]:null})}},{key:"addArticle",value:function(e){var t,r=this.state.dialog.props.key,n=this.state[r];n[this.state.dialog.props.index]=e,this.setState((E(t={},r,n),E(t,"currentRequest",R),E(t,"dialog",T),t))}},{key:"deleteArticle",value:function(e,t){this.setState(E({},e,this.state[e].map(function(e){return e&&e.id===t.id?null:e})))}},{key:"handleUnloadEvent",value:function(e){if(this._hasChanges())return(e||window.event).returnValue="There are unsaved changes","There are unsaved changes"}},{key:"publishLayout",value:function(){this._validate()&&this._publishLayout()}},{key:"summonArticleSelector",value:function(e,t){this.setState({dialog:{open:!0,props:{key:e,index:t}}})}},{key:"reorderArticles",value:function(e,t){this.setState(E({},e,t))}},{key:"_getKnownIds",value:function(){return(0,g.pluckAndReduce)(this.state.featured.concat(this.state.sponsored),"id")}},{key:"_getSectionsForRequest",value:function(){return{featured_ids:(0,g.pluckAndReduce)(this.state.featured,"id"),sponsored_ids:(0,g.pluckAndReduce)(this.state.sponsored,"id")}}},{key:"_hasChanges",value:function(){var e=this,t=this._getKnownIds();return t.length!==this.state.cachedLiveIds.length||!t.every(function(t){return e.state.cachedLiveIds.includes(t)})}},{key:"_validate",value:function(){return!!this.state.featured.every(function(e){return null!==e})||((0,y.summonGlobalMessenger)({msg:"All 3 featured articles are required to publish.",type:"error"}),!1)}},{key:"_publishLayout",value:function(){var e=this;this.setState({isBusy:!0});var t=this._getSectionsForRequest();return(0,m.graphMutate)({t:"update_home_page"},{entity_id:this.props.record.entity_id,entity_type:this.props.record.entity_type.toUpperCase(),publish:!0,sections:JSON.stringify(t)}).then(function(){e.setState({cachedLiveIds:t.featured_ids.concat(t.sponsored_ids),isBusy:!1}),(0,y.summonGlobalMessenger)({msg:"News page published!"})}).catch(function(t){e.setState({isBusy:!1}),(0,y.summonGlobalMessenger)({msg:"Sorry, there was a issue publishing this layout.",type:"error"}),(0,h.default)("NewsHomeEditPage _publishLayout",t)})}},{key:"_getListForDialog",value:function(){var e=this;return this.state.dialog.open?n.default.createElement(s.default,{loaderRenderFn:function(){return n.default.createElement(c.default,{isAdminOrEditor:!0})},propagateRecords:function(t){return e.setState({currentRequest:{records:t}})},qlArguments:{by_status_type:"PUBLISHED",by_sponsored:"sponsored"===this.state.dialog.props.key,known_article_ids:this._getKnownIds()},qlResolverKey:"articles",qlSearchKey:"search",qlTemplate:"news_articles_admin_simple_pagination"},n.default.createElement(i.default,{onArticleSelect:this.addArticle,records:this.state.currentRequest.records})):null}},{key:"render",value:function(){var e=this;return n.default.createElement("div",null,n.default.createElement("div",{className:v.default.container},n.default.createElement("div",{className:"".concat(v.default.wrapper1170," ").concat(v.default.flexJustifyCenter)},n.default.createElement("div",{className:"".concat(_.default.mainContentWrapper," ").concat(v.default.fullWidth)},n.default.createElement("div",{className:_.default.aboveTheFoldWrapper},n.default.createElement(u.default,{deleteArticle:this.deleteArticle,records:this.state.featured,reorderArticles:this.reorderArticles,summonArticleSelector:this.summonArticleSelector}),n.default.createElement(p.default,null),n.default.createElement(o.default,null))))),n.default.createElement(d.default,{deleteArticle:this.deleteArticle,records:this.state.sponsored,reorderArticles:this.reorderArticles,summonArticleSelector:this.summonArticleSelector}),n.default.createElement(l.default,{bodyClassName:b.default.selectorListBody,dismiss:function(){return e.setState({currentRequest:R,dialog:T})},fullScreen:!0,open:this.state.dialog.open},this._getListForDialog()),n.default.createElement(f.default,{isBusy:this.state.isBusy,onPublishClick:this.publishLayout}))}}])&&k(r.prototype,a),O&&k(r,O),t}();N.propTypes={record:a.default.shape({entity_id:a.default.number.isRequired,entity_type:a.default.string.isRequired,featured:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,image:a.default.shape({id:a.default.number.isRequired,url:a.default.string.isRequired}),summary:a.default.string.isRequired,title:a.default.string.isRequired,url:a.default.string.isRequired,user:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired}).isRequired})).isRequired,sponsored:a.default.arrayOf(a.default.shape({id:a.default.number.isRequired,image:a.default.shape({id:a.default.number.isRequired,url:a.default.string.isRequired}),sponsor_name:a.default.string.isRequired,title:a.default.string.isRequired,url:a.default.string.isRequired})).isRequired}).isRequired};var M=N;t.default=M},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(109)),o=u(r(2)),i=u(r(3)),l=u(r(394));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){return n.default.createElement("div",{className:a.default.ctaSection},n.default.createElement("div",{className:"".concat(l.default.adDummy," ").concat(i.default.dummy," ").concat(o.default.marginBottom10)}),n.default.createElement("div",{className:"".concat(l.default.adDummy2," ").concat(i.default.dummy)}))};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(46)),i=r(16),l=d(r(2)),u=d(r(3)),s=d(r(5)),c=d(r(140));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.onArticleSelect,r=e.records;return r?n.default.createElement("div",{className:s.default.borderTop},r.map(function(e){return function(e,t){var r="Published on ".concat((0,i.timestampToPrettyDate)(t.published_at,i.DATE_FORMAT)),a=t.sponsored?t.sponsor_name:t.user.name;return n.default.createElement("div",{key:t.id,className:"".concat(c.default.listItem," ").concat(c.default.listItemSelectable," ").concat(s.default.cursorPointer),onClick:function(){return e(t)}},n.default.createElement("div",{className:c.default.listItemTitleCell},n.default.createElement("div",{className:c.default.listItemCoverImageWrapper},n.default.createElement(o.default,{classList:{image:s.default.borderRadius,root:c.default.listItemCoverImage},ratio:"16:9",setStyle:!1,src:t.image.url,width:96})),n.default.createElement("div",{className:c.default.listItemData},n.default.createElement("p",{className:"".concat(u.default.bodyM," ").concat(u.default.bold)},t.title),n.default.createElement("div",{className:c.default.listItemMobileAuthorStatus},n.default.createElement("p",{className:"".concat(u.default.bodyS," ").concat(l.default.marginBottom5)},a),n.default.createElement("div",{className:l.default.flexCenterItems},n.default.createElement("span",{className:"".concat(u.default.bodyS)},r))))),n.default.createElement("div",{className:c.default.listItemAuthorCell},n.default.createElement("p",{className:u.default.bodyS},a)),n.default.createElement("div",{className:c.default.listItemDateCell},n.default.createElement("div",{className:l.default.flexCenterItems},n.default.createElement("span",{className:"".concat(u.default.bodyS)},r))))}(t,e)})):null};f.propTypes={onArticleSelect:a.default.func.isRequired,records:a.default.arrayOf(a.default.shape({image:a.default.shape({url:a.default.string.isRequired}).isRequired,published_at:a.default.string.isRequired,sponsored:a.default.bool.isRequired,sponsor_image:a.default.shape({url:a.default.string.isRequired}),sponsor_name:a.default.string,title:a.default.string.isRequired,user:a.default.shape({name:a.default.string.isRequired})}))},f.defaultProps={records:null};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(999)),i=c(r(109)),l=c(r(2)),u=c(r(3)),s=c(r(394));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.deleteArticle,r=e.records,a=e.reorderArticles,c=e.summonArticleSelector;return n.default.createElement("div",{className:"".concat(i.default.featuredSection," ").concat(s.default.padding15OnMobile)},n.default.createElement("h5",{className:"".concat(u.default.h5," ").concat(l.default.marginBottom15)},"featured articles"),n.default.createElement(o.default,{deleteArticle:t,records:r,reorderArticles:a,sortAxis:"y",summonArticleSelector:c,type:"featured"}))};d.propTypes={deleteArticle:a.default.func.isRequired,records:a.default.arrayOf(a.default.object).isRequired,reorderArticles:a.default.func.isRequired,summonArticleSelector:a.default.func.isRequired};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(46)),i=r(8),l=r(498),u=d(r(2)),s=d(r(3)),c=d(r(5));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.article,r=e.deleteBtnRenderFn,a=e.isHero;return n.default.createElement("div",{className:"".concat((0,l.getRootStyles)(a)," ").concat(u.default.padding0," ").concat(u.default.borderNone)},n.default.createElement("div",{className:(0,l.getImgContainerStyles)(a)},n.default.createElement(o.default,{classList:{root:"".concat(c.default.absolutePlaceholderChild," ").concat(c.default.borderRadius)},ratio:"16:9",setStyle:!1,src:(0,i.getInObj)(["image","url"],t),width:555}),r()),n.default.createElement("div",{className:"".concat(u.default.flexColumn," ").concat(u.default.fullWidth)},n.default.createElement("p",{className:(0,l.getTitleStyles)(a)},t.title),n.default.createElement("p",{className:"".concat(s.default.bodyM," ").concat(s.default.charcoal," ").concat(u.default.marginBottom10)},t.summary),n.default.createElement("span",{className:"".concat(s.default.charcoal," ").concat(s.default.bodyM)},"by ",n.default.createElement("span",{className:s.default.linkBlue},t.user.name))))};f.propTypes={article:a.default.shape({id:a.default.number.isRequired,image:a.default.shape({url:a.default.string.isRequired}).isRequired,summary:a.default.string.isRequired,title:a.default.string.isRequired,user:a.default.shape({name:a.default.string.isRequired}).isRequired}).isRequired,deleteBtnRenderFn:a.default.func.isRequired,isHero:a.default.bool},f.defaultProps={isHero:!1};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(46)),i=r(8),l=f(r(2)),u=f(r(3)),s=f(r(5)),c=f(r(270)),d=f(r(191));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.article,r=e.deleteBtnRenderFn;return n.default.createElement("div",{className:c.default.card},n.default.createElement("div",{className:"".concat(c.default.image," ").concat(s.default.posRelative)},n.default.createElement(o.default,{classList:{image:s.default.borderRadius},ratio:"3:2",setStyle:!1,src:(0,i.getInObj)(["image","url"],t),width:340}),r()),n.default.createElement("div",{className:c.default.text},n.default.createElement("div",{className:d.default.sponsoredDataWrapper},n.default.createElement("p",{className:"".concat(u.default.bodyL," ").concat(u.default.bold)},t.title),n.default.createElement("p",{className:"".concat(u.default.bodyM," ").concat(l.default.marginTop5)},"Sponsored by ",n.default.createElement("span",{className:u.default.linkBlue},t.sponsor_name)))))};p.propTypes={article:a.default.shape({image:a.default.shape({url:a.default.string.isRequired}),sponsor_name:a.default.string.isRequired,title:a.default.string.isRequired}).isRequired,deleteBtnRenderFn:a.default.func.isRequired},p.defaultProps={};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(999)),i=s(r(109)),l=s(r(2)),u=s(r(3));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.deleteArticle,r=e.records,a=e.reorderArticles,s=e.summonArticleSelector;return n.default.createElement("div",{className:"".concat(i.default.sponsoredSection," ").concat(l.default.container," ").concat(l.default.marginBottom60)},n.default.createElement("div",{className:"".concat(l.default.wrapper1170)},n.default.createElement("div",{className:i.default.sponsoredList},n.default.createElement(o.default,{deleteArticle:t,records:r,reorderArticles:a,sortAxis:"x",summonArticleSelector:s,type:"sponsored"}),n.default.createElement("h5",{className:"".concat(l.default.fullWidth," ").concat(l.default.marginTop15," ").concat(u.default.textRight," ").concat(u.default.h5)},"sponsored articles"))))};c.propTypes={deleteArticle:a.default.func.isRequired,records:a.default.arrayOf(a.default.object).isRequired,reorderArticles:a.default.func.isRequired,summonArticleSelector:a.default.func.isRequired};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(115)),i=d(r(57)),l=d(r(160)),u=d(r(2)),s=d(r(221)),c=d(r(5));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.isBusy,r=e.onPublishClick;return n.default.createElement("div",{className:"".concat(s.default.actionsBarRoot," ").concat(c.default.posRelative),id:"newsAdminStickyFooter"},n.default.createElement(l.default,{className:"".concat(s.default.actionsBar," ").concat(c.default.borderTop," ").concat(u.default.flexJustifyCenter," ").concat(u.default.padding015),parentId:"newsAdminStickyFooter",startPos:"bottom",stickToEnd:!1},n.default.createElement("div",{className:"".concat(u.default.wrapper1170," ").concat(s.default.actionsBarInner," ").concat(u.default.padding0)},n.default.createElement(i.default,{classList:{root:u.default.marginBottom0},href:"/news/admin",onClick:function(e){t&&e.preventDefault()},size:"M",text:"Back to articles"}),n.default.createElement(o.default,{isBusy:t,onClick:function(){return r()},size:"md",text:"Publish changes"}))))};f.propTypes={isBusy:a.default.bool.isRequired,onPublishClick:a.default.func.isRequired},f.defaultProps={};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(109)),o=u(r(2)),i=u(r(3)),l=u(r(5));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=function(e){var t=e.index;return n.default.createElement("div",{className:"".concat(l.default.borderTop," ").concat(o.default.paddingTop15," ").concat(6!==t&&o.default.paddingBottom15)},n.default.createElement("div",{style:{marginBottom:5},className:"".concat(i.default.dummyM)}),n.default.createElement("div",{style:{marginBottom:10},className:"".concat(i.default.dummyM)}),0!==t&&n.default.createElement("div",{style:{marginBottom:10},className:"".concat(i.default.dummyM)}),n.default.createElement("div",{style:{width:"50%"},className:i.default.dummyS}))},d=function(){return n.default.createElement("div",{className:a.default.trendingSection},n.default.createElement("div",{className:"".concat(o.default.flex," ").concat(o.default.marginBottom15)},n.default.createElement("div",{style:{height:12,width:45},className:i.default.dummy}),n.default.createElement("div",{style:{height:12,width:45},className:"".concat(i.default.dummy," ").concat(o.default.marginLeft30)})),n.default.createElement("div",{style:{height:2,width:45},className:i.default.dummy}),s(Array(7).keys()).map(function(e){return n.default.createElement(c,{key:e,index:e})}))};t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=_(r(1)),o=_(r(88)),i=_(r(2420)),l=_(r(9)),u=_(r(2421)),s=_(r(348)),c=_(r(48)),d=_(r(7)),f=_(r(22)),p=_(r(523)),m=r(14),h=r(524),y=_(r(10)),g=_(r(528));function _(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P={metadata:{},records:{}},k=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=O(t).call(this,e))||"object"!==v(a)&&"function"!=typeof a?w(n):a).fetchNotifications=r.fetchNotifications.bind(w(r)),r.handleChange=r.handleChange.bind(w(r)),r.handleToggle=r.handleToggle.bind(w(r)),r.resetNewCount=r.resetNewCount.bind(w(r));var o=p.default.has("notifications")?p.default.get("notifications"):P;return r.state={newCount:e.newNotificationsCount,notifications:o,showDropdown:!1,showOnboarding:!1},r.updateSub=p.default.getChannel().subscribe("notifications.markRead.#",r.handleChange),r}var r,a,_;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,n.PureComponent),r=t,(a=[{key:"componentDidMount",value:function(){var e=this;c.default.getCurrentOnboardingStatus().then(function(t){return e.setState({showOnboarding:!t})}).catch(function(e){return(0,d.default)(e)})}},{key:"componentWillUnmount",value:function(){this.updateSub.unsubscribe()}},{key:"fetchNotifications",value:function(){var e=this;return p.default.fetchPage(1).then(function(){return e.setState({notifications:p.default.get("notifications")}),e.resetNewCount()}).catch(function(e){return(0,d.default)(e)})}},{key:"handleChange",value:function(){var e=p.default.get("notifications")||P;this.setState({notifications:e})}},{key:"resetNewCount",value:function(){var e=this;if(0===this.state.newCount)return Promise.resolve();var t=this.state.newCount;return this.setState({newCount:0}),(0,m.graphMutate)((0,h.resetNewNotificationsMutation)()).then(function(e){}).catch(function(r){e.setState({newCount:t}),(0,d.default)("resetNewCount Error:",r)})}},{key:"handleToggle",value:function(e){e&&(this.fetchNotifications(),f.default.recordEvent({eventName:"Clicked link"},{href:"",location:"topnav",type:"notifications-icon",value:"Bell icon"})),this.setState({showDropdown:e})}},{key:"_getButton",value:function(){var e=this.state,t=e.newCount,r=e.showDropdown,a=e.showOnboarding?t+1:t;return n.default.createElement(s.default,{offsetY:6,tooltip:r?null:"Notifications"},n.default.createElement("div",{className:g.default.icon},n.default.createElement(l.default,{name:"notification",size:"20"}),a>0&&n.default.createElement("div",{className:g.default.badge},a.toString())))}},{key:"_getDropdownBody",value:function(){var e=this.state,t=e.notifications,r=e.showOnboarding,a=this.props.currentUserId;return n.default.createElement("div",null,r&&n.default.createElement(u.default,null),n.default.createElement(i.default,{currentUserId:a,isLoading:!Array.isArray(t.records[p.default.getPageKey(1)]),markAllRead:p.default.markAllRead,markRead:p.default.markRead,notifications:t.records[p.default.getPageKey(1)]||[]}))}},{key:"render",value:function(){return n.default.createElement(o.default,{classList:{button:y.default.blank,dropdown:g.default.dropdown},alignRight:!0,label:this._getButton(),handleToggle:this.handleToggle,targetWillUnmount:!0},this.state.showDropdown&&this._getDropdownBody())}}])&&b(r.prototype,a),_&&b(r,_),t}();k.propTypes={currentUserId:a.default.number.isRequired,newNotificationsCount:a.default.number},k.defaultProps={newNotificationsCount:0};var S=k;t.default=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(1)),a=f(r(0)),o=f(r(522)),i=f(r(66)),l=r(11),u=r(55),s=f(r(2)),c=f(r(3)),d=f(r(528));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.currentUserId,r=e.isLoading,n=e.markAllRead,f=e.markRead,p=e.notifications;return a.default.createElement("div",null,a.default.createElement("div",{className:"".concat(d.default.list," ").concat(r?c.default.textCenter:"")},function(e){var t=e.currentUserId,r=e.isLoading,n=e.markAllRead,f=e.markRead,p=e.notifications;return r?a.default.createElement("span",{className:d.default.loadingIcon},a.default.createElement(i.default,null)):(0,l.isBlank)(p)?a.default.createElement("p",{className:s.default.padding15},"Notifications about other members' activity related to you will appear here."):a.default.createElement("div",null,a.default.createElement("div",{className:d.default.header},a.default.createElement("a",{className:"".concat(c.default.bodyS," ").concat(c.default.linkBlue),href:u.NOOP_HREF,onClick:n},"Mark all as read"),a.default.createElement("a",{className:"".concat(c.default.bodyS," ").concat(c.default.linkBlue," ").concat(s.default.marginLeft10),href:"/users/notifications/edit",onClick:n},"Settings")),a.default.createElement(o.default,{notifications:p,currentUser:{id:t},markRead:f}))}({currentUserId:t,isLoading:r,markAllRead:n,markRead:f,notifications:p})),a.default.createElement("div",{className:d.default.footer},a.default.createElement("a",{className:"".concat(c.default.bodyS," ").concat(c.default.link," ").concat(c.default.bold),href:"/dashboard/notifications"},"View all")))};p.propTypes={currentUserId:n.default.number.isRequired,isLoading:n.default.bool.isRequired,markAllRead:n.default.func.isRequired,markRead:n.default.func.isRequired,notifications:n.default.array.isRequired};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=r(181),o=s(r(10)),i=s(r(2)),l=s(r(3)),u=s(r(528));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){return n.default.createElement("div",{className:u.default.onboarding},n.default.createElement("p",{className:"".concat(l.default.bodyM," ").concat(l.default.bold," ").concat(i.default.marginBottom15)},"You're almost done!"),n.default.createElement("a",{className:"".concat(o.default.md),href:(0,a.whitelabelUrlHelper)().appendToRootPath("/users/preferences")},"Finish setting up your account"))};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=b(r(1)),o=b(r(2423)),i=b(r(2429)),l=b(r(160)),u=b(r(48)),s=b(r(97)),c=b(r(2438)),d=b(r(7)),f=b(r(22)),p=r(196),m=r(14),h=b(r(10)),y=b(r(2)),g=b(r(3)),_=b(r(5)),v=b(r(1001));function b(e){return e&&e.__esModule?e:{default:e}}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=E(t).call(this,e))||"object"!==O(a)&&"function"!=typeof a?P(n):a).state={initialized:!1,isBusy:!1,relationsCount:0,user:{skillLevels:e.currentUser.skill_levels||[]}},r.addOrRemoveDifficulty=r.addOrRemoveDifficulty.bind(P(r)),r.completeOnboarding=r.completeOnboarding.bind(P(r)),r.skipOnboarding=r.skipOnboarding.bind(P(r)),r.updateRelationsCount=r.updateRelationsCount.bind(P(r)),r._LOCK=[],r.seoHandler=new s.default({config:c.default}),r}var r,a,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.seoHandler.reportView({path:this.props.pathHelpers.rootPath})}},{key:"_addToLock",value:function(e){this._LOCK=this._LOCK.concat(e)}},{key:"_isInLock",value:function(e){return this._LOCK.includes(e)}},{key:"_removeFromLock",value:function(e){this._LOCK=this._LOCK.filter(function(t){return t!==e})}},{key:"addOrRemoveDifficulty",value:function(e,t){var r=e.get("id");if(!this._isInLock(r)){var n=this.state.user.skillLevels,a=t?n.concat(r):n.filter(function(e){return e!==r});this._addToLock(r),this._updateSkillLevels(a,n,r)}}},{key:"completeOnboarding",value:function(e){var t=this;return e.persist(),this.setState({isBusy:!0}),u.default.completeOnboarding().then(function(){return f.default.recordEventWithDelayedRedirect({eventName:"Completed onboarding"},{},t._getRedirectPath(),e)}).catch(function(e){t.setState({isBusy:!1}),(0,d.default)("OnboardWizard completeOnboarding: ",e)})}},{key:"skipOnboarding",value:function(e){e.persist();var t=this._getRedirectPath(),r={href:t,location:"Onboarding",type:"skip",value:"skip"};return f.default.recordEventWithDelayedRedirect({eventName:"Clicked link"},r,t,e).catch(function(e){return(0,d.default)("OnboardWizard _handleRedirect: ",e)})}},{key:"updateRelationsCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e>0?this.state.relationsCount+=1:Math.max(this.state.relationsCount-=1,0);this.setState({relationsCount:t})}},{key:"_updateSkillLevels",value:function(e,t,r){var n=this;return this.setState({isBusy:!0,user:Object.assign({},this.state.user,{skillLevels:e})}),(0,m.graphMutate)((0,p.skillLevelMutation)(),{skill_levels:e}).then(function(){n._removeFromLock(r),n.setState({isBusy:!1})}).catch(function(e){n._removeFromLock(r),(0,d.default)("_updateSkillLevels Error: ",e),n.setState({isBusy:!1,user:Object.assign({},n.state.user,{skillLevels:t})})})}},{key:"_getRedirectPath",value:function(){return this.props.pathHelpers.rootPath}},{key:"_isWhiteLabel",value:function(){return null!==this.props.whitelabelId}},{key:"_shouldDisableFinishBtn",value:function(){return!(this.state.initialized&&!this.state.isBusy)||!this.state.user.skillLevels.length||this.state.relationsCount<5}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:"".concat(y.default.container," ").concat(_.default.posRelative),id:"stickyFooterContainer"},n.default.createElement("div",{className:y.default.wrapper960},n.default.createElement("div",{className:y.default.marginBottom30},n.default.createElement("div",null,n.default.createElement("h2",{className:"".concat(g.default.h2," ").concat(y.default.marginBottom10)},"First, tell us your level of experience"),n.default.createElement("p",{className:g.default.bodyL},"This will help us show you projects that match your skill level."))),n.default.createElement(o.default,{addOrRemoveDifficulty:this.addOrRemoveDifficulty,userSkills:this.state.user.skillLevels}),n.default.createElement("div",{className:y.default.marginBottom30},n.default.createElement("h2",{className:"".concat(g.default.h2," ").concat(y.default.marginBottom10)},"Last, tell us what you like"),n.default.createElement("p",{className:g.default.bodyL},"Choose at least 5 products, platforms and topics so we can show you the best projects.")),n.default.createElement(i.default,{initialized:function(t){return e.setState({initialized:!0,relationsCount:t})},isWorking:function(t){return e.setState({isBusy:t})},updateRelationsCount:this.updateRelationsCount,whitelabelId:this.props.whitelabelId})),n.default.createElement(l.default,{className:v.default.stickyFooter,parentId:"stickyFooterContainer",startPos:"bottom",stickToEnd:!1},n.default.createElement("div",{className:y.default.flexJustifyCenter},n.default.createElement("div",{className:y.default.wrapper960},n.default.createElement("div",{className:y.default.flexJustifyEnd},n.default.createElement("button",{className:"".concat(h.default.md," ").concat(h.default.cancel," ").concat(g.default.bodyM," ").concat(y.default.marginRight15),disabled:this.state.isBusy,onClick:this.skipOnboarding},"Skip"),n.default.createElement("button",{className:"".concat(h.default.md),disabled:this._shouldDisableFinishBtn(),onClick:this.completeOnboarding},"Finish"))))))}}])&&w(r.prototype,a),b&&w(r,b),t}();S.propTypes={currentUser:a.default.shape({skill_levels:a.default.array}).isRequired,pathHelpers:a.default.shape({basePath:a.default.string.isRequired,fullPath:a.default.string.isRequired,rootPath:a.default.string.isRequired}).isRequired,whitelabelId:a.default.number},S.defaultProps={whitelabelId:null};var C=S;t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(0)),a=m(r(1)),o=r(41),i=m(r(2424)),l=m(r(2425)),u=m(r(2426)),s=m(r(2427)),c=m(r(2428)),d=m(r(64)),f=m(r(2)),p=m(r(1001));function m(e){return e&&e.__esModule?e:{default:e}}var h=(0,o.fromJS)([{className:p.default.beginner,name:"Beginner",id:"beginner",svg:l.default},{className:p.default.intermediate,name:"Intermediate",id:"intermediate",svg:u.default},{className:p.default.advanced,name:"Advanced",id:"advanced",svg:i.default},{className:p.default.hardcore,name:"Expert",id:"hardcore",svg:s.default}]),y=function(e){var t=e.addOrRemoveDifficulty,r=e.userSkills;return n.default.createElement("div",{className:f.default.marginBottom60},n.default.createElement("div",{className:"".concat(d.default.grid," ").concat(d.default.guttersH30," ").concat(d.default.guttersV30)},h.map(function(e){return n.default.createElement("div",{key:e.get("id"),className:"".concat(f.default.flexJustifyCenter," ").concat(d.default.cell," ").concat(d.default.cell_1_2," ").concat(d.default.cell_1_3_md," ").concat(d.default.cell_1_4_ml)},n.default.createElement(c.default,{classNames:{svg:e.get("className"),svgWrapper:"svgWrapper"},isChosen:r.includes(e.get("id")),record:e,svgProps:{},updateRecord:function(r,n){return t(e,n)}}))})))};y.propTypes={addOrRemoveDifficulty:a.default.func.isRequired,userSkills:a.default.arrayOf(a.default.string).isRequired};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n};var o=function(e){var t=e.className;return a.default.createElement("svg",{className:t,viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.default.createElement("g",{fill:"#4A4A4A"},a.default.createElement("path",{d:"M11.5620258,4.97278199 C13.6200778,6.19169495 15,8.43469842 15,11 L14.5,11 L16,11 C16,8.04139578 14.3939482,5.45790505 12.0061158,4.07379899 L11.5620258,4.97278199 Z M10.6862389,4.53395615 C9.85907727,4.18993072 8.95171898,4 8,4 C4.13400675,4 1,7.13400675 1,11 L1.5,11 L0,11 C0,6.581722 3.581722,3 8,3 C9.06012102,3 10.0720806,3.20620381 10.997958,3.58069078 L10.6862389,4.53395615 Z",fillRule:"nonzero"}),a.default.createElement("path",{d:"M8,12 C8.55228475,12 9,11.5522847 9,11 C9,10.4477153 8.55228475,10 8,10 C7.44771525,10 7,10.4477153 7,11 C7,11.5522847 7.44771525,12 8,12 Z M8,13 C6.8954305,13 6,12.1045695 6,11 C6,9.8954305 6.8954305,9 8,9 C9.1045695,9 10,9.8954305 10,11 C10,12.1045695 9.1045695,13 8,13 Z",fillRule:"nonzero"}),a.default.createElement("path",{d:"M2.00008059,11.0314306 C2.00002688,11.02096 2,11.0104832 2,11 C2,7.6862915 4.6862915,5 8,5 C8.2517322,5 8.49984359,5.01550251 8.74343156,5.04560492 L7.90189566,8.00157377 C6.2904495,8.05334666 5,9.37597301 5,11 C5,11.0104895 5.00005384,11.0209665 5.00016124,11.0314306 L2.00008059,11.0314306 Z"}),a.default.createElement("polygon",{fillRule:"nonzero",points:"8.81622777 10.1324555 11.1324555 3.18377223 10.1837722 2.86754447 7.86754447 9.81622777"})))};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n};var o=function(e){var t=e.className;return a.default.createElement("svg",{className:t,viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.default.createElement("g",{fillRule:"nonzero",fill:"#4A4A4A"},a.default.createElement("path",{d:"M2.110887,7.21446889 L1.16099505,6.84709084 C2.5646711,4.54046259 5.10243839,3 8,3 C12.418278,3 16,6.581722 16,11 L15,11 C15,7.13400675 11.8659932,4 8,4 C5.52871232,4 3.35653227,5.28063201 2.110887,7.21446889 Z M1.53427679,8.31299035 C1.19004873,9.14035903 1,10.0479854 1,11 L0,11 C0,9.93982704 0.206224016,8.92782029 0.58074582,8.00190596 L1.53427679,8.31299035 Z"}),a.default.createElement("path",{d:"M8,12 C8.55228475,12 9,11.5522847 9,11 C9,10.4477153 8.55228475,10 8,10 C7.44771525,10 7,10.4477153 7,11 C7,11.5522847 7.44771525,12 8,12 Z M8,13 C6.8954305,13 6,12.1045695 6,11 C6,9.8954305 6.8954305,9 8,9 C9.1045695,9 10,9.8954305 10,11 C10,12.1045695 9.1045695,13 8,13 Z"}),a.default.createElement("polygon",{points:"7.13245553 10.1837722 0.183772234 7.86754447 -0.132455532 8.81622777 6.81622777 11.1324555"})))};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n};var o=function(e){var t=e.className;return a.default.createElement("svg",{className:t,viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.default.createElement("g",{fill:"#4A4A4A"},a.default.createElement("path",{d:"M4.96820379,4.68883457 C5.88551736,4.24736635 6.91387093,4 8,4 C11.8659932,4 15,7.13400675 15,11 L16,11 C16,6.581722 12.418278,3 8,3 C6.72161669,3 5.51326773,3.29985271 4.44144871,3.83306256 L4.96820379,4.68883457 Z M4.03905142,5.22764605 C2.20356832,6.48955323 1,8.60422239 1,11 L0,11 C0,8.28991895 1.34756697,5.89457903 3.40918673,4.44749441 L4.03905142,5.22764605 Z",fillRule:"nonzero"}),a.default.createElement("path",{d:"M8,12 C8.55228475,12 9,11.5522847 9,11 C9,10.4477153 8.55228475,10 8,10 C7.44771525,10 7,10.4477153 7,11 C7,11.5522847 7.44771525,12 8,12 Z M8,13 C6.8954305,13 6,12.1045695 6,11 C6,9.8954305 6.8954305,9 8,9 C9.1045695,9 10,9.8954305 10,11 C10,12.1045695 9.1045695,13 8,13 Z",fillRule:"nonzero"}),a.default.createElement("polygon",{fillRule:"nonzero",points:"7.71696549 9.84295521 3.15081738 4.11587899 2.3689165 4.73928177 6.93506462 10.466358"}),a.default.createElement("path",{d:"M2.0000764,11.0306037 C2.00002549,11.0204085 2,11.0102072 2,11 C2,9.59705733 2.48150897,8.3065771 3.2882817,7.28480454 L5.43010972,9.45134139 C5.1570958,9.90341744 5,10.4333629 5,11 C5,11.0102132 5.00005104,11.0204146 5.00015287,11.0306037 L2.0000764,11.0306037 Z"})))};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n};var o=function(e){var t=e.className;return a.default.createElement("svg",{className:t,viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.default.createElement("g",{fill:"#4A4A4A"},a.default.createElement("path",{d:"M14.7695463,9.21189358 L15.738531,8.96370162 C15.9091469,9.61385439 16,10.2963173 16,11 L15,11 C15,10.3819879 14.9199112,9.78268158 14.7695463,9.21189358 Z M14.4703802,8.32421115 C13.419466,5.78579586 10.9182805,4 8,4 C4.13400675,4 1,7.13400675 1,11 L0,11 C0,6.581722 3.581722,3 8,3 C11.3080747,3 14.1471853,5.00787377 15.3651119,7.87140131 L14.4703802,8.32421115 Z",fillRule:"nonzero"}),a.default.createElement("path",{d:"M8,12 C8.55228475,12 9,11.5522847 9,11 C9,10.4477153 8.55228475,10 8,10 C7.44771525,10 7,10.4477153 7,11 C7,11.5522847 7.44771525,12 8,12 Z M8,13 C6.8954305,13 6,12.1045695 6,11 C6,9.8954305 6.8954305,9 8,9 C9.1045695,9 10,9.8954305 10,11 C10,12.1045695 9.1045695,13 8,13 Z",fillRule:"nonzero"}),a.default.createElement("path",{d:"M2.00000845,10.9898235 C2.0055015,7.68079347 4.68968432,5 8,5 C9.93913979,5 11.6634244,5.91990455 12.7602679,7.34712782 L10.1095268,8.86695087 C9.56759104,8.3309543 8.82244478,8 8,8 C6.34653923,8 5.00550323,9.33764947 5.00001689,10.9898235 L2.00000784,10.9898235 Z"}),a.default.createElement("polygon",{fillRule:"nonzero",points:"9.19060676 10.9637136 15.7418882 7.68807289 15.2946746 6.7936457 8.74339317 10.0692864"})))};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(9)),i=l(r(1e3));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.classNames,r=e.isChosen,a=e.record,l=e.updateRecord;return n.default.createElement("div",null,n.default.createElement("div",{className:"".concat(i.default.imgWrapper," ").concat(i.default[t.svgWrapper]||""),onClick:function(){return l(a.get("id"),!r)}},n.default.createElement(a.get("svg"),{className:"".concat(i.default.svg," ").concat(t.svg)}),n.default.createElement("div",{className:"".concat(i.default.mask," ").concat(r?i.default.maskChosen:"")},n.default.createElement("div",{className:i.default.circleWrapper},n.default.createElement("span",{className:"".concat(i.default.circle," ").concat(r?i.default.chosen:"")},n.default.createElement(o.default,{name:"checkmark",className:i.default.check}))))),n.default.createElement("p",{className:i.default.text},a.get("name")))};u.propTypes={classNames:a.default.shape({svg:a.default.string,svgWrapper:a.default.string}),isChosen:a.default.bool.isRequired,record:a.default.shape({id:a.default.oneOfType([a.default.string,a.default.number]),name:a.default.string,svg:a.default.element}).isRequired,updateRecord:a.default.func},u.defaultProps={classNames:{svg:"",svgWrapper:""},updateRecord:function(){}};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=h(r(1)),o=h(r(2430)),i=h(r(2431)),l=r(2437),u=r(65),s=r(14),c=h(r(452)),d=h(r(7)),f=h(r(201)),p=h(r(64)),m=h(r(2));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=[{default:!0,label:"Most members",value:"MOST_MEMBERS"},{label:"Alphabetical",value:"NAME_ASC"},{label:"Most projects",value:"MOST_PROJECTS"}],E=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=v(t).call(this,e))||"object"!==y(a)&&"function"!=typeof a?b(n):a).state={idsStore:{},initialized:!1,records:[]},r.updateRecord=r.updateRecord.bind(b(r)),r._LOCK_LIST=[],r._activePromise,r._qlArguments=e.whitelabelId?{should_display:!0,whitelabel_id:e.whitelabelId}:{should_display:!0},r}var r,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._getUserRelations()}},{key:"componentWillUnmount",value:function(){this._activePromise&&this._activePromise.cancel()}},{key:"_getUserRelations",value:function(){var e=this;if(!f.default.hasAll())return this._activePromise=(0,u.cancelablePromise)(f.default.fetchAll()),this._activePromise.promise.then(function(t){e._activePromise=void 0,t.promiseCanceled||e._resolveGetUserRelations()}).catch(function(t){(0,d.default)("_getUserRelations",t),e._activePromise=void 0,t.promiseCanceled||e._resolveGetUserRelations()});this._resolveGetUserRelations()}},{key:"_resolveGetUserRelations",value:function(){var e=this,t=(0,l.getRelationsStoreKeys)().reduce(function(e,t){var r=f.default.get(t);return e.idsStore[t]=r,e.relationsCount=e.relationsCount+r.length,e},{idsStore:{},relationsCount:0}),r=t.idsStore,n=t.relationsCount;this.setState({idsStore:r,initialized:!0},function(){return e.props.initialized(n)})}},{key:"_addToLock",value:function(e,t){this._LOCK_LIST=this._LOCK_LIST.concat(this._compoundKey(e,t))}},{key:"_compoundKey",value:function(e,t){return"".concat(t,"_").concat(e)}},{key:"_isInLock",value:function(e,t){return this._LOCK_LIST.includes(this._compoundKey(e,t))}},{key:"_removeFromLock",value:function(e,t){var r=this._compoundKey(e,t);this._LOCK_LIST=this._LOCK_LIST.filter(function(e){return e!==r})}},{key:"updateRecord",value:function(e,t,r,n){if(!this._isInLock(e,n.relationStoreKey)&&"noop"!==n.relationStoreKey)return t?this._createRecord(e,r,n):this._deleteRecord(e,r,n)}},{key:"_createRecord",value:function(e,t,r){var n=this,a=r.relationStoreKey;return this._addToLock(e,a),this._appendIdToIds(e,a),this.props.updateRelationsCount(1),this.props.isWorking(!0),(0,s.graphMutate)(r.graphQL.create(e)).then(function(){(0,c.default)({id:e,key:a,createOrDeleteBool:!0}),f.default.setIn(a,e),n._resolveMutation(e,a)}).catch(function(t){n.props.updateRelationsCount(-1),n._removeIdFromIds(e,a),n._resolveMutation(e,a),(0,d.default)("_createRecord",t)})}},{key:"_deleteRecord",value:function(e,t,r){var n=this,a=r.relationStoreKey;return this._addToLock(e,a),this._removeIdFromIds(e,a),this.props.updateRelationsCount(-1),this.props.isWorking(!0),(0,s.graphMutate)(r.graphQL.delete(e)).then(function(){(0,c.default)({id:e,key:a,createOrDeleteBool:!1}),f.default.deleteIn(a,e),n._resolveMutation(e,a)}).catch(function(t){n.props.updateRelationsCount(1),n._appendIdToIds(e,a),n._resolveMutation(e,a),(0,d.default)("_deleteRecord",t)})}},{key:"_resolveMutation",value:function(e,t){this._removeFromLock(e,t),this.props.isWorking(!1)}},{key:"_appendIdToIds",value:function(e,t){this.setState({idsStore:Object.assign({},this.state.idsStore,g({},t,this.state.idsStore[t].concat(e)))})}},{key:"_removeIdFromIds",value:function(e,t){this.setState({idsStore:Object.assign({},this.state.idsStore,g({},t,this.state.idsStore[t].filter(function(t){return t!==e})))})}},{key:"_isRecordChosen",value:function(e,t){return!!this.state.idsStore.hasOwnProperty(t.relationStoreKey)&&this.state.idsStore[t.relationStoreKey].includes(e.get("_id"))}},{key:"render",value:function(){var e=this;return n.default.createElement(i.default,{qlArguments:this._qlArguments,qlResolverKey:"toolbox_items",qlTemplate:"search_toolbox_items",sorts:w,updateList:function(t){return e.setState({records:t})}},this.state.initialized&&n.default.createElement("div",{className:"".concat(p.default.grid," ").concat(p.default.guttersH30," ").concat(p.default.guttersV30)},this.state.records.map(function(t){var r=(0,l.getConfigForType)(t.get("_type"));return n.default.createElement("div",{key:t.get("unique_id"),className:"".concat(m.default.flexJustifyCenter," ").concat(p.default.cell," ").concat(p.default.cell_1_2," ").concat(p.default.cell_1_3_md," ").concat(p.default.cell_1_4_ml)},n.default.createElement(o.default,{imageConfig:r.imageConfig,isChosen:e._isRecordChosen(t,r),record:t,updateRecord:function(n,a){return e.updateRecord(n,a,t,r)}}))})))}}])&&_(r.prototype,a),h&&_(r,h),t}();E.propTypes={initialized:a.default.func.isRequired,isWorking:a.default.func,updateRelationsCount:a.default.func.isRequired,whitelabelId:a.default.number},E.defaultProps={initialized:function(){},isWorking:function(){},whitelabelId:null};var P=E;t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(30)),i=s(r(9)),l=s(r(1e3)),u=s(r(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=function(e){var t=e.imageConfig,r=e.isChosen,a=e.record,s=e.updateRecord;return n.default.createElement("div",null,n.default.createElement("div",{className:"".concat(l.default.imgWrapper," ").concat(l.default[t.className+"Wrapper"]||""),onClick:function(){return s(a.get("_id"),!r)}},n.default.createElement(o.default,c({className:"".concat(l.default.img," ").concat(l.default[t.className]||t.className),setStyle:!1,src:a.get("image_url")||""},t.customizer())),n.default.createElement("div",{className:"".concat(l.default.mask," ").concat(r?l.default.maskChosen:"")},n.default.createElement("div",{className:l.default.circleWrapper},n.default.createElement("span",{className:"".concat(l.default.circle," ").concat(r?l.default.chosen:"")},n.default.createElement(i.default,{name:"checkmark",className:l.default.check}))))),n.default.createElement("p",{className:"".concat(l.default.text," ").concat(u.default.bodyM)},a.get("name")))};d.propTypes={imageConfig:a.default.shape({className:a.default.string,customizer:a.default.func}),isChosen:a.default.bool.isRequired,record:a.default.shape({_id:a.default.number,image_url:a.default.string,name:a.default.string}).isRequired,updateRecord:a.default.func},d.defaultProps={imageConfig:{className:"",customizer:function(){return{ratio:"4:3",width:200}}},updateRecord:function(){}};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=h(r(1)),o=r(41),i=h(r(213)),l=h(r(2432)),u=h(r(119)),s=h(r(22)),c=r(14),d=h(r(7)),f=r(67),p=r(65),m=h(r(2436));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=v(t).call(this,e))||"object"!==y(a)&&"function"!=typeof a?b(n):a).state={currentPage:1,currentSort:e.sorts.filter(function(e){return e.default})[0]||{},recordsCount:0,totalRecordsCount:0},r.fetchMoreRecords=r.fetchMoreRecords.bind(b(r)),r.handleSearch=r.handleSearch.bind(b(r)),r.updateSort=r.updateSort.bind(b(r)),r.input,r._CACHE=(0,o.Map)({}),r._activePromise,r}var r,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,n.Component),r=t,(a=[{key:"_compoundKey",value:function(){return(0,f.objHasKeyPred)(this.state.currentSort,["value"],function(e){return e.length>0})?"".concat(this.props.qlTemplate,"_").concat(this.state.currentSort.value):this.props.qlTemplate}},{key:"_getCache",value:function(){return this._CACHE}},{key:"_setInCache",value:function(e,t){var r=this._compoundKey();this._CACHE.has(r)||(this._CACHE=this._CACHE.set(r,(0,o.Map)({})));var n=this._CACHE.get(r),a=n.has(e)?n.get(e):(0,o.Map)({}),i=n.merge(g({},e,a.merge(g({},t.metadata.current_page,t))));this._CACHE=this._CACHE.merge((0,o.Map)(g({},r,i)))}},{key:"componentWillUnmount",value:function(){this._activePromise&&this._activePromise.cancel()}},{key:"fetchMoreRecords",value:function(){var e=this;return new Promise(function(t,r){if(!e.input)return r(new Error("input ref must exist!"));var n=e.input._getValue(),a=e._getCache().getIn([e._compoundKey(),n]).size;e.setState({currentPage:a+1},function(){return e._searchAndCache(n).then(function(){return t()}).catch(function(t){e.setState({currentPage:a>0?a-1:0}),r(t)})})})}},{key:"handleSearch",value:function(e){var t=this;this.setState({currentPage:1},function(){if(!t._getCache().hasIn([t._compoundKey(),e,"1"]))return t._searchAndCache(e).catch(function(e){return(0,d.default)("handleSearch",e)});t._fetchRecordsFromCacheAndPropagate(e)})}},{key:"updateSort",value:function(e){var t=this;this.setState({currentSort:e},function(){if(!t.input)return(0,d.default)("input ref must exist!");t.handleSearch(t.input._getValue())}),s.default.recordEvent({eventName:"Clicked filter value"},{filter_name:"sort",filter_value:e.value})}},{key:"_fetchRecordsFromCacheAndPropagate",value:function(e){var t=this._getCache().getIn([this._compoundKey(),e]),r=t.reduce(function(e,t,r){return parseInt(r)>parseInt(e.lastIndex)&&(e.lastIndex=r),e.recordsCount+=t.get("records").size,e},{recordsCount:0,lastIndex:"1"}),n=r.recordsCount,a=r.lastIndex,o=t.get(a).get("metadata").toJS();this.setState({recordsCount:n,totalRecordsCount:null===o.next_page?n:n+1}),this._propagateResults(e)}},{key:"_searchAndCache",value:function(e){var t=this;return new Promise(function(r,n){var a;return t._activePromise=(0,p.cancelablePromise)((0,c.graphQuery)({t:t.props.qlTemplate},Object.assign((g(a={},t.props.qlSearchKey,e),g(a,"page",t.state.currentPage),g(a,"sort",t.state.currentSort.value),a),t.props.qlArguments))),t._activePromise.promise.then(function(n){if(n.promiseCanceled)return r();t._activePromise=void 0;var a=t.props.qlResolverKey?n[t.props.qlResolverKey]:n;t._setInCache(e,a),t.setState({currentPage:a.metadata.page,recordsCount:a.metadata.per_page*a.metadata.current_page,totalRecordsCount:null===a.metadata.next_page?a.metadata.per_page*a.metadata.current_page:a.metadata.per_page*a.metadata.current_page+1}),t._propagateResults(e),r()}).catch(function(e){t._activePromise=void 0,n(e)})})}},{key:"_propagateResults",value:function(e){var t=this._getCache().getIn([this._compoundKey(),e]).reduce(function(e,t,r){return e.set(r,t.get("records"))},(0,o.List)([])).reduce(function(e,t){return t?e.concat(t):e},(0,o.List)([])),r=this.props.exportAsJS?t.toJS():t;this.props.updateList(r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.classList,a=t.sorts;return n.default.createElement("div",{className:"".concat(m.default.root," ").concat(r.root)},n.default.createElement("div",{className:"".concat(m.default.controls," ").concat(r.controls)},n.default.createElement(l.default,{ref:function(t){return e.input=t},search:this.handleSearch}),a.length>0&&n.default.createElement("div",{className:m.default.selectWrapper},n.default.createElement("label",{className:m.default.label},"Sort by:"),n.default.createElement(u.default,{onSelection:this.updateSort,options:a}))),n.default.createElement(i.default,{fetchMore:this.fetchMoreRecords,recordsCount:this.state.recordsCount,totalRecordsCount:this.state.totalRecordsCount},this.props.children))}}])&&_(r.prototype,a),h&&_(r,h),t}();w.propTypes={classList:a.default.shape({controls:a.default.string,root:a.default.string}),exportAsJS:a.default.bool,qlArguments:a.default.object,qlResolverKey:a.default.string,qlSearchKey:a.default.string,qlTemplate:a.default.string.isRequired,sorts:a.default.array,updateList:a.default.func.isRequired},w.defaultProps={classList:{controls:"",root:""},exportAsJS:!1,qlArguments:{},qlResolverKey:null,qlSearchKey:"q",sorts:[]};var E=w;t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(9)),i=d(r(1002)),l=d(r(193)),u=r(20),s=d(r(7)),c=d(r(1004));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?h(n):a).state={inputFocused:!1,suggestions:[],value:""},r.fetchSuggestions=r.fetchSuggestions.bind(h(r)),r.handleKeyDown=r.handleKeyDown.bind(h(r)),r.handleOnChange=r.handleOnChange.bind(h(r)),r.handleQuery=r.handleQuery.bind(h(r)),r.handleWindowClick=r.handleWindowClick.bind(h(r)),r.handleInputBlur=r.handleInputBlur.bind(h(r)),r.onInputFocus=r.onInputFocus.bind(h(r)),r.root,r.input,r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.props.fireInitSearch&&this.handleQuery()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleWindowClick)}},{key:"_clearInput",value:function(){var e=this;this.setState({suggestions:[],value:""},function(){e.input&&e.input.focus(),e.props.search("")})}},{key:"_getValue",value:function(){return(0,u.stripExcessWhiteSpace)(this.state.value)}},{key:"fetchSuggestions",value:function(e){var t=this;return l.default.getSuggestions(e).then(function(e){return t.setState({suggestions:e})}).catch(function(e){return(0,s.default)("fetchSuggestions",e)})}},{key:"handleKeyDown",value:function(e){13===e.keyCode?this._handleReturnKey(e):27===e.keyCode||9===e.keyCode?(e.preventDefault(),this.handleInputBlur()):!this.dropdownlist||40!==e.keyCode&&38!==e.keyCode||(e.preventDefault(),this.dropdownlist.handleKeyDown(e))}},{key:"_handleReturnKey",value:function(e){this.dropdownlist&&this.dropdownlist.isDropdownItemFocused()?this.dropdownlist.handleKeyDown(e):this.handleQuery()}},{key:"handleOnChange",value:function(e){var t=e.target.value;t.length>255&&(t=t.slice(0,255)),this.setState({value:t,suggestions:t&&t.length>0&&t.split(" ").join("").length>0?this.state.suggestions:[]}),this.props.instantSearch?this.handleQuery(t):this.fetchSuggestions(t)}},{key:"handleQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.value;this.props.instantSearch||this.handleInputBlur(),this.props.search((0,u.stripExcessWhiteSpace)(e))}},{key:"handleInputBlur",value:function(){window.removeEventListener("click",this.handleWindowClick),this.setState({inputFocused:!1,suggestions:[]}),this.input&&this.input.blur()}},{key:"onInputFocus",value:function(){window.addEventListener("click",this.handleWindowClick),this.setState({inputFocused:!0}),this.state.value.length>0&&this.handleOnChange({target:{value:this.state.value}})}},{key:"handleWindowClick",value:function(e){e.target&&e.target.id&&"nav-search-icon"===e.target.id||this.root&&!this.root.contains(e.target)&&this.handleInputBlur()}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{ref:function(t){return e.root=t},className:"".concat(c.default.containerSimple)},n.default.createElement("div",{className:"\n          ".concat(c.default.inputContainer,"\n          ").concat(this.state.inputFocused?c.default.inputFocused:"","\n          ").concat(this.state.suggestions.length>0?c.default.listOpen:"","\n          ").trim()},n.default.createElement("div",{className:c.default.searchIconWrapper,onClick:function(){return e.handleQuery()}},n.default.createElement(o.default,{className:c.default.searchIcon,name:"search"})),n.default.createElement("input",{ref:function(t){return e.input=t},className:c.default.input,type:"text",placeholder:"Search",value:this.state.value,onChange:this.handleOnChange,onFocus:this.onInputFocus,onKeyDown:this.handleKeyDown}),n.default.createElement("div",{className:c.default.dismissWithinBorderWrapper},n.default.createElement("span",{className:"".concat(c.default.dismissWithinBorder," ").concat(this.state.value.length>0?"":c.default.hideDismiss),onClick:function(){return e._clearInput()}},"×")),this.state.suggestions&&this.state.suggestions.length>0&&n.default.createElement(i.default,{ref:function(t){return e.dropdownlist=t},currentQuery:this.state.value,dismiss:function(){return e.setState({suggestions:[]})},onSelect:function(t){return e.setState({value:t.value.query},function(){return e.handleQuery(t.value.query,t.value)})},options:this.state.suggestions,templateFn:function(e){return n.default.createElement("span",{dangerouslySetInnerHTML:{__html:e.label}})}})))}}])&&p(r.prototype,a),d&&p(r,d),t}();g.propTypes={fireInitSearch:a.default.bool,instantSearch:a.default.bool,search:a.default.func.isRequired},g.defaultProps={fireInitSearch:!0,instantSearch:!0};var _=g;t.default=_},function(e,t,r){e.exports={fog:"#F7F7F7",asphalt:"#D8D8D8",graphite:"#4A4A4A","med-large":"(max-width: 992px)",list:"dropdown_list__list__zkTCb",listItem:"dropdown_list__listItem__3tu_J",focused:"dropdown_list__focused__2zteC"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(41),a=c(r(124)),o=r(14),i=r(2435),l=r(8),u=r(20),s=c(r(7));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.suggestions=(0,n.Map)(),this.previouslyCreated=(0,n.Map)()}var t,r,c;return t=e,(r=[{key:"create",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"projects";if(e&&e.length&&!this.previouslyCreated.has(e))return(0,a.default)({index:r,query:e}).then(function(r){return r.hits&&r.hits.length>0?(t.previouslyCreated=t.previouslyCreated.set(e,!0),(0,o.graphMutateWithoutUser)((0,i.createSearchQuery)(e),{})):Promise.resolve()}).catch(function(e){return(0,s.default)("Suggestions create",e)})}},{key:"get",value:function(e){var t=this;return new Promise(function(r,n){return t.suggestions.has(e)?r(t.suggestions.get(e)):(0,a.default)({index:"suggestions",query:e}).then(function(n){var a=n.hits.map(function(e){return{label:(0,l.getInObj)(["_highlightResult","query","value"],e)||e.query,value:Object.assign({},e,{category:(0,u.pluralize)(e.category).toLowerCase()})}});t.suggestions=t.suggestions.set(e,a),r(a)}).catch(function(e){return n(e)})})}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.suggestions=this.suggestions.set(e,t)}}])&&d(t.prototype,r),c&&d(t,c),e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSearchQuery=function(e){return'\n    mutation createSearchQuery {\n      search_query: createSearchQuery(query: "'.concat((0,n.escapeDoubleQuotes)(e),'") {\n        id\n      }\n    }\n  ')};var n=r(20)},function(e,t,r){e.exports={charcoal:"#111",small:"(max-width: 480px)",med:"(max-width: 768px)",root:"selector_scroll_list__root__3WOdM",controls:"selector_scroll_list__controls__zGEVB",label:"selector_scroll_list__label__3PAhF",selectWrapper:"selector_scroll_list__selectWrapper__NkoXo"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRelationsStoreKeys=t.getConfigForType=void 0;var n=r(757),a=r(758),o=function(){},i={channel:{graphQL:{create:n.createChannelMember,delete:n.deleteChannelMember},imageConfig:{className:"platformNoBg",customizer:function(){return{fit:"min",ratio:"1:1",queryParams:{bg:"transparent"},width:140}}},relationStoreKey:"channel_ids"},part:{graphQL:{create:a.createPartUser,delete:a.deletePartUser},imageConfig:{className:"toolboxNoBg",customizer:function(){return{fit:"fill",ratio:"3:2",queryParams:{bg:"ffffff"},width:217}}},relationStoreKey:"part_ids"},__failback:{graphQL:{create:o,delete:o},imageConfig:{className:"",customizer:function(){return{fit:"fill",ratio:"3:2",queryParams:{bg:"transparent"},width:217}}},relationStoreKey:"noop"}};t.getConfigForType=function(e){switch(e){case"HardwarePart":case"SoftwarePart":case"ToolPart":return i.part;case"Platform":case"TopicChannel":return i.channel;default:return console.warn("Theres a record in the Algolia Misc index with an unknown type, ".concat(e,"!  Check misc_selector_index/config.")),i.__failback}};t.getRelationsStoreKeys=function(){return Object.keys(i).filter(function(e){return"__failback"!==e}).map(function(e){return i[e].relationStoreKey})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){return function(){return{pageType:"users#preferences",title:"Set your preferences - Hackster.io"}}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(2440)),i=d(r(2441)),l=d(r(1005)),u=r(14),s=r(8),c=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=["popular","published"],_={key:"sort",label:"Most recent",meta:{msg:"Default section when sections are emptied."},title:"Most recent",value:"published"},v={category_id:"categories",part_id:"parts",sort:"all_projects_count",topic_id:"topics"},b=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?h(n):a).state={categorySelectionList:{},categorySelectionListMaster:r.props.platform.category_selection_list,hiddenInputValue:"",partIdsFilterFacet:[],projectRelationsCounts:{},projectsSectionView:"table",sections:null},r.appendCategoryOrTagToSections=r.appendCategoryOrTagToSections.bind(h(r)),r.appendPartToSections=r.appendPartToSections.bind(h(r)),r.removeSection=r.removeSection.bind(h(r)),r.updateSection=r.updateSection.bind(h(r)),r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._initializeProjectsCountForSections()}},{key:"_initializeProjectsCountForSections",value:function(){var e=this;return this._fetchProjectRelationsCounts().then(function(t){t=t||{};var r=e.props.platform.home_sections,n=e._mergeProjectCountsToSelectionList(t);e.setState({categorySelectionList:e._dedupeCategorySelectionList(r,n),categorySelectionListMaster:n,hiddenInputValue:e._composeInputJsonValue(r),partIdsFilterFacet:e._getPartIdsFilterFacet(r),projectRelationsCounts:t,sections:e._mergeProjectCountsToSections(r,t)})}).catch(function(e){return(0,c.default)("_initializeProjectsCountForSections",e)})}},{key:"_mergeProjectCountsToSections",value:function(e,t){return e.reduce(function(e,r){if(["category_id","topic_id"].includes(r.key)&&"featured"===r.value)e=e.concat(Object.assign({},r,{record:{projects_count:t.featured_count}}));else if(v.hasOwnProperty(r.key)){var n=t[v[r.key]];if("number"==typeof n)e=e.concat(Object.assign({},r,{record:{projects_count:n}}));else{var a=n&&n.hasOwnProperty(r.value)?n[r.value]:0;e=e.concat(Object.assign({},r,{record:{projects_count:a}}))}}return e},[])}},{key:"_mergeProjectCountsToSelectionList",value:function(e){var t=this.state.categorySelectionListMaster.key,r=this.state.categorySelectionListMaster.options.map(function(r){var n=e[v[t]];return"featured"===r.value?Object.assign({},r,{record:{projects_count:e.featured_count}}):n&&n.hasOwnProperty(r.value)?Object.assign({},r,{record:{projects_count:n[r.value]||0}}):g.includes(r.value)?Object.assign({},r,{record:{projects_count:e.all_projects_count||0}}):Object.assign({},r,{record:{projects_count:0}})}).sort(function(e,t){return e.record.projects_count>t.record.projects_count?-1:e.record.projects_count<t.record.projects_count?1:0});return{key:t,options:r}}},{key:"appendCategoryOrTagToSections",value:function(e){var t=this.state.sections.concat(e);this.setState({categorySelectionList:this._dedupeCategorySelectionList(t,this.state.categorySelectionListMaster),hiddenInputValue:this._composeInputJsonValue(t),sections:t})}},{key:"appendPartToSections",value:function(e){var t=this.state.sections.concat(e);this.setState({partIdsFilterFacet:"part_id"===e.key?this._getPartIdsFilterFacet(t):this.state.partIdsFilterFacet,hiddenInputValue:this._composeInputJsonValue(t),sections:t})}},{key:"removeSection",value:function(e){var t=this.state.sections.filter(function(t,r){return e.index!==r});t.length||t.push(_),this.setState({categorySelectionList:this._dedupeCategorySelectionList(t,this.state.categorySelectionListMaster),hiddenInputValue:this._composeInputJsonValue(t),partIdsFilterFacet:this._getPartIdsFilterFacet(t),sections:t})}},{key:"updateSection",value:function(e){var t=this.state.sections.map(function(t,r){return e.index===r?e.data:t});this.setState({hiddenInputValue:this._composeInputJsonValue(t),sections:t})}},{key:"_composeInputJsonValue",value:function(e){return JSON.stringify(e)}},{key:"_dedupeCategorySelectionList",value:function(e,t){var r=t.options.filter(function(r){return-1===e.findIndex(function(e){return(e.key===t.key||"sort"===e.key)&&e.value===r.value})});return Object.assign({},t,{options:r})}},{key:"_fetchProjectRelationsCounts",value:function(){var e=this;return new Promise(function(t,r){return(0,u.graphQuery)({t:"get_channel_relations_projects_count"},{id:e.props.platform.id}).then(function(e){return t((0,s.getInObj)(["channel","relations_projects_counts"],e)||{})}).catch(function(e){return r(e)})})}},{key:"_getPartIdsFilterFacet",value:function(e){return e.reduce(function(e,t){return"part_id"===t.key?e.concat(t.value):e},[])}},{key:"_getProjectSectionView",value:function(){switch(this.state.projectsSectionView){case"addSection":return this._getAddSectionView();case"preview":return this._getPreviewView();case"table":default:return this._getTableView()}}},{key:"_getAddSectionView",value:function(){var e=this;return n.default.createElement(o.default,{appendCategoryOrTagToSections:this.appendCategoryOrTagToSections,appendPartToSections:this.appendPartToSections,categorySelectionList:this.state.categorySelectionList,knownSorts:g,partIdsFilterFacet:this.state.partIdsFilterFacet,platformId:this.props.platform.id,projectRelationsCounts:this.state.projectRelationsCounts,toggleView:function(){return e.setState({projectsSectionView:"table"})}})}},{key:"_getPreviewView",value:function(){var e=this;return n.default.createElement(i.default,{platform:this.props.platform,sections:this.state.sections,toggleView:function(t){return e.setState({projectsSectionView:t})}})}},{key:"_getTableView",value:function(){var e=this;return n.default.createElement(l.default,{removeSection:this.removeSection,sections:this.state.sections,toggleView:function(t){return e.setState({projectsSectionView:t})},updateSection:this.updateSection,updateSectionsOrder:function(t){return e.setState({sections:t,hiddenInputValue:e._composeInputJsonValue(t)})}})}},{key:"render",value:function(){return n.default.createElement("div",null,n.default.createElement("input",{type:"hidden",id:"group_home_sections",name:"group[home_sections]",value:this.state.hiddenInputValue}),this._getProjectSectionView())}}])&&p(r.prototype,a),d&&p(r,d),t}();b.propTypes={platform:a.default.shape({category_selection_list:a.default.shape({key:a.default.string.isRequired,options:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.oneOfType([a.default.string,a.default.number,a.default.bool])}))}).isRequired,home_sections:a.default.arrayOf(a.default.shape({key:a.default.string,label:a.default.string,title:a.default.string,value:a.default.oneOfType([a.default.string,a.default.number,a.default.bool])})).isRequired,id:a.default.number.isRequired,name:a.default.string.isRequired}).isRequired},b.defaultProps={platform:{category_selection_list:{options:[]}}};var O=b;t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(143)),i=f(r(100)),l=f(r(108)),u=r(14),s=r(20),c=f(r(2)),d=f(r(283));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=[{label:"Product",value:"product"},{label:"Category",value:"category"}],v=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?y(n):a).state={categorySelectionValue:"",formErrors:null,isBusy:!1,productSelectValue:"",sectionType:"product"},r.onAddSectionClick=r.onAddSectionClick.bind(y(r)),r.onPartsSearch=r.onPartsSearch.bind(y(r)),r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),r=t,(a=[{key:"onAddSectionClick",value:function(){var e="product"===this.state.sectionType?this.state.productSelectValue:this.state.categorySelectionValue;return!e||"string"==typeof e&&!e.length?this.setState({formErrors:"A ".concat(this.state.sectionType," must be selected!")}):"product"===this.state.sectionType?this._propogatePartSection(e):this._propogateCategorySection(e)}},{key:"onPartsSearch",value:function(e){var t=this;return new Promise(function(r,n){return(0,u.graphQuery)({t:"search_parts"},{q:e,platform_id:t.props.platformId,part_ids:t.props.partIdsFilterFacet}).then(function(e){t.setState({formErrors:null}),r({options:t._qlRecordsToSelectOptions(e.parts.records)})}).catch(function(e){return n(e)})})}},{key:"_categoryListRecordsToSelectOptions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(function(t){return{disabled:t.record.projects_count<1,label:t.label,labelView:e._composeCategoryListOptionLabel(t),record:t.record,value:t.value}})}},{key:"_categoryOrTagToSection",value:function(e){return{key:this.props.knownSorts.includes(e.value)?"sort":this.props.categorySelectionList.key,label:e.label,title:e.label,value:e.value,record:e.record}}},{key:"_partRecordToSection",value:function(e){return{key:"part_id",label:e.label,title:e.label,value:e.value,record:e.record}}},{key:"_propogateCategorySection",value:function(e){this.props.appendCategoryOrTagToSections(this._categoryOrTagToSection(e)),this.props.toggleView()}},{key:"_propogatePartSection",value:function(e){this.props.appendPartToSections(this._partRecordToSection(e)),this.props.toggleView()}},{key:"_qlRecordsToSelectOptions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=this.props.projectRelationsCounts.parts||{};return t.map(function(t){var n=r.hasOwnProperty(t.id)?r[t.id]:0,a=Object.assign({},t,{projects_count:n});return{record:a,disabled:n<1,label:t.name,labelView:e._composePartOptionLabel(a),value:t.id}}).sort(function(e,t){return e.record.projects_count>t.record.projects_count?-1:e.record.projects_count<t.record.projects_count?1:0})}},{key:"_composePartOptionLabel",value:function(e){return n.default.createElement("span",{className:"".concat(d.default.partOption," ").concat(e.projects_count<1&&d.default.partOptionDisabled)},n.default.createElement("span",{className:d.default.partOptionName},e.name),n.default.createElement("span",null,"(",e.projects_count," ",(0,s.pluralize)("project",e.projects_count),")"))}},{key:"_composeCategoryListOptionLabel",value:function(e){return n.default.createElement("span",{className:"".concat(d.default.partOption," ").concat(e.record.projects_count<1&&d.default.partOptionDisabled)},n.default.createElement("span",{className:d.default.partOptionName},e.label),n.default.createElement("span",null,"(",e.record.projects_count," ",(0,s.pluralize)("project",e.projects_count),")"))}},{key:"_getSelectInputView",value:function(){return"product"===this.state.sectionType?this._getProductInput():this._getCategoryInput()}},{key:"_getProductInput",value:function(){var e=this;return n.default.createElement(i.default,{key:"product",asyncOpts:{initOnMount:!0,initQuery:"",request:this.onPartsSearch},helperText:"Only approved products will be shown in this dropdown. We will show only 20 products at a time. If you don't see your product in the dropdown, search for it by name.",maxWidth:500,onSelectedChange:function(t){return e.setState({formErrors:null,productSelectValue:t})},placeholder:"Select an option from the dropdown or type to search",value:this.state.productSelectValue})}},{key:"_getCategoryInput",value:function(){var e=this;return n.default.createElement(i.default,{key:"category",maxWidth:500,onSelectedChange:function(t){return e.setState({categorySelectionValue:t,formErrors:null})},options:this._categoryListRecordsToSelectOptions(this.props.categorySelectionList.options),placeholder:"Select an option from the dropdown",selectOpts:{rule:"norule"},value:this.state.categorySelectionValue})}},{key:"render",value:function(){var e=this;return n.default.createElement("section",{className:d.default.root},n.default.createElement("div",{className:d.default.paddedContainer},n.default.createElement("h4",null,"Add project section"),n.default.createElement("div",null,n.default.createElement("span",null,"1."),n.default.createElement("span",{className:c.default.marginLeft15},"Selection section type")),n.default.createElement("div",{className:"".concat(c.default.marginLeft30," ").concat(c.default.marginTop15)},n.default.createElement(l.default,{buttons:_,onChange:function(t){return e.setState({formErrors:null,sectionType:t.target.value})},value:this.state.sectionType})),n.default.createElement("div",{className:c.default.marginBottom15},n.default.createElement("span",null,"2."),n.default.createElement("span",{className:c.default.marginLeft15},"Select ",this.state.sectionType)),n.default.createElement("div",{className:c.default.marginLeft30},this._getSelectInputView()),n.default.createElement("div",{className:c.default.marginLeft30},n.default.createElement(o.default,{isBusy:this.state.isBusy,primaryBtnConfig:{onClick:this.onAddSectionClick,text:"Add project section"},secondaryBtnConfig:{onClick:this.props.toggleView}}))))}}])&&m(r.prototype,a),f&&m(r,f),t}();v.propTypes={appendCategoryOrTagToSections:a.default.func.isRequired,appendPartToSections:a.default.func.isRequired,categorySelectionList:a.default.shape({key:a.default.string.isRequired,options:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.oneOfType([a.default.number,a.default.bool,a.default.string])}))}).isRequired,knownSorts:a.default.arrayOf(a.default.string).isRequired,partIdsFilterFacet:a.default.arrayOf(a.default.number).isRequired,platformId:a.default.number.isRequired,projectRelationsCounts:a.default.object.isRequired,toggleView:a.default.func.isRequired};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(378)),i=s(r(10)),l=s(r(3)),u=s(r(145));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,p(t).call(this,e))}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._toggleBodyScroll(!0)}},{key:"componentWillUnmount",value:function(){this._toggleBodyScroll(!1)}},{key:"_toggleBodyScroll",value:function(e){document&&(e&&!document.body.classList.contains("no-scroll")?document.body.classList.add("no-scroll"):!e&&document.body.classList.contains("no-scroll")&&document.body.classList.remove("no-scroll"))}},{key:"render",value:function(){var e=this.props,t=e.platform,r=e.sections,a=e.toggleView;return n.default.createElement("div",{className:u.default.previewRoot},n.default.createElement("div",{className:u.default.previewWrapper},n.default.createElement("div",{className:u.default.previewHeaderFixedContainer},n.default.createElement("div",{className:u.default.previewHeaderWrapper},n.default.createElement("div",{className:u.default.previewHeader},n.default.createElement("h3",{className:"".concat(l.default.headerLNoMarginTop," ").concat(l.default.fontWeight300)},"Preview home page"),n.default.createElement("div",null,n.default.createElement("button",{className:i.default.lg,onClick:function(){return a("table")},type:"button"},"Close preview"))))),n.default.createElement("div",{className:u.default.previewHomePageWrapper},n.default.createElement(o.default,{canManage:!0,homeSections:r,path:"/",renderForPreview:!0,seoHandler:function(){},transition:function(){},viewAllBuilderArg:function(){return{type:"platform",props:{platform:t}}}}))))}}])&&d(r.prototype,a),s&&d(r,s),t}();h.propTypes={platform:a.default.object.isRequired,sections:a.default.array.isRequired,toggleView:a.default.func.isRequired},h.defaultProps={};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=u(r(1)),o=r(69),i=u(r(2443)),l=u(r(284));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=(0,o.SortableContainer)(function(e){var t=e.items,r=e.removeItem,a=e.updateItem;return n.default.createElement("ul",{className:l.default.list},t.map(function(e,t){return n.default.createElement(i.default,{key:"".concat(e.key,"_").concat(e.value),index:t,item:e,removeItem:function(){return r({index:t,data:e})},updateItem:function(e){return a({index:t,data:e})}})}))}),h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?f(n):a).onSortEnd=r.onSortEnd.bind(f(r)),r}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n.Component),r=t,(a=[{key:"onSortEnd",value:function(e){var t=e.oldIndex,r=e.newIndex;this.props.updateItemsOrder((0,o.arrayMove)(this.props.items,t,r))}},{key:"render",value:function(){return n.default.createElement(m,{lockAxis:"y",items:this.props.items,onSortEnd:this.onSortEnd,removeItem:this.props.removeItem,updateItem:this.props.updateItem,useDragHandle:!0})}}])&&c(r.prototype,a),i&&c(r,i),t}();h.propTypes={items:a.default.arrayOf(a.default.shape({label:a.default.string.isRequired,value:a.default.oneOfType([a.default.string,a.default.bool,a.default.number]).isRequired})).isRequired,removeItem:a.default.func.isRequired,updateItem:a.default.func.isRequired,updateItemsOrder:a.default.func.isRequired},h.defaultProps={};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=r(69),i=d(r(2444)),l=r(20),u=d(r(10)),s=d(r(3)),c=d(r(284));function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,o.SortableHandle)(function(){return n.default.createElement("span",{className:c.default.dragHandle},n.default.createElement("span",{className:c.default.dragHandleIcon},"::"))}),p=(0,o.SortableElement)(function(e){var t=e.item,r=e.removeItem,a=e.updateItem,o=t.key,d=t.label,p=t.meta,m=t.record,h=t.title;return n.default.createElement("li",{className:c.default.row},n.default.createElement(f,null),n.default.createElement(i.default,{meta:p||null,title:h,updateTitle:function(e){return a(Object.assign({},t,{title:e}))}}),n.default.createElement("span",{className:"".concat(c.default.cell," ").concat(c.default.cell20)},function(e){return"part_id"===e?"Product":"Category"}(o)),n.default.createElement("span",{className:"".concat(c.default.cell," ").concat(c.default.cell20)},n.default.createElement("span",{className:c.default.tag},d)),n.default.createElement("span",{className:"".concat(c.default.cell," ").concat(c.default.cell10)},(0,l.formatNumberWithCommas)(m&&m.projects_count?m.projects_count:0)),n.default.createElement("span",{className:"".concat(c.default.cell," ").concat(c.default.cell10)},n.default.createElement("button",{className:"".concat(u.default.blank," ").concat(c.default.actions),type:"button",onClick:r},n.default.createElement("span",{className:"".concat(s.default.bodyS," ").concat(s.default.linkBlue," ").concat(s.default.bold)},"remove"))))});p.propTypes={item:a.default.shape({key:a.default.string.isRequired,label:a.default.string.isRequired,record:a.default.shape({projects_count:a.default.number}),title:a.default.string.isRequired,value:a.default.oneOfType([a.default.string,a.default.bool,a.default.number]).isRequired}).isRequired,removeItem:a.default.func.isRequired,updateItem:a.default.func.isRequired},p.defaultProps={record:{projects_count:0}};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(10)),i=s(r(21)),l=s(r(3)),u=s(r(284));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=f(this,p(t).call(this,e))).state={isEditing:!1,title:e.title,titleForInput:null},r.input,r}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.Component),r=t,(a=[{key:"toggleEditingState",value:function(e){var t=this;this.setState({isEditing:e,titleForInput:e?this.state.title:null},function(){e&&t.input&&t.input.focus()})}},{key:"updateTitle",value:function(){var e=this.state.titleForInput;this.props.updateTitle(e),this.setState({isEditing:!1,title:e.length>0?e:this.state.title,titleForInput:null})}},{key:"_supressSubmitOnEnterAndSave",value:function(e){13===e.keyCode?(e.preventDefault(),this.updateTitle()):27===e.keyCode&&(e.preventDefault(),this.toggleEditingState(!1))}},{key:"_getTitleView",value:function(){return this.state.isEditing?this._getTitleEditor():this._getTitle()}},{key:"_getTitleEditor",value:function(){var e=this;return n.default.createElement("input",{ref:function(t){return e.input=t},className:"".concat(i.default.input," ").concat(u.default.titleInput),type:"text",value:this.state.titleForInput,onChange:function(t){return e.setState({titleForInput:t.target.value})},onKeyDown:function(t){return e._supressSubmitOnEnterAndSave(t)}})}},{key:"_getTitle",value:function(){return n.default.createElement("span",{className:u.default.title},n.default.createElement("span",null,this.state.title),this.props.meta&&this.props.meta.msg&&n.default.createElement("span",{className:u.default.metaMsg},this.props.meta.msg))}},{key:"_getButtonView",value:function(){return this.state.isEditing?this._getEditingButtons():this._getEditButton()}},{key:"_getEditingButtons",value:function(){var e=this;return n.default.createElement("span",{className:u.default.buttonCntr},n.default.createElement("button",{className:"".concat(o.default.sm," ").concat(u.default.saveBtn),type:"button",onClick:function(){return e.updateTitle()}},"Save"),n.default.createElement("button",{className:"".concat(o.default.blank," ").concat(l.default.link," ").concat(l.default.bodyS," ").concat(u.default.saveBtn),type:"button",onClick:function(){return e.toggleEditingState(!1)}},"Cancel"))}},{key:"_getEditButton",value:function(){var e=this;return n.default.createElement("span",{className:u.default.buttonCntr},n.default.createElement("button",{className:o.default.blank,type:"button",onClick:function(){return e.toggleEditingState(!0)}},n.default.createElement("span",{className:"".concat(l.default.bodyS," ").concat(l.default.linkBlue," ").concat(l.default.bold)},"edit")))}},{key:"render",value:function(){return n.default.createElement("span",{className:u.default.nameCell},this._getTitleView(),this._getButtonView())}}])&&d(r.prototype,a),s&&d(r,s),t}();h.propTypes={meta:a.default.object,title:a.default.string.isRequired,updateTitle:a.default.func.isRequired},h.defaultProps={meta:null};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(0)),a=i(r(284)),o=i(r(283));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){return n.default.createElement("li",{className:a.default.row},n.default.createElement("span",{className:o.default.ghostDragBox}),n.default.createElement("span",{className:"".concat(o.default.ghostCell," ").concat(a.default.cell30)},n.default.createElement("span",{className:o.default.greyNothing})),n.default.createElement("span",{className:"".concat(o.default.ghostCell," ").concat(a.default.cell20)},n.default.createElement("span",{className:o.default.greyNothing})),n.default.createElement("span",{className:"".concat(o.default.ghostCell," ").concat(a.default.cell20)},n.default.createElement("span",{className:o.default.greyNothing})),n.default.createElement("span",{className:"".concat(o.default.ghostCell," ").concat(a.default.cell10)},n.default.createElement("span",{className:o.default.greyNothing})),n.default.createElement("span",{className:"".concat(o.default.ghostCell," ").concat(a.default.cell10)},n.default.createElement("span",{className:o.default.greyNothing})))},u=function(){return n.default.createElement("ul",{className:a.default.list},n.default.createElement(l,null))};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=h(r(1)),o=h(r(133)),i=h(r(227)),l=h(r(204)),u=h(r(255)),s=h(r(97)),c=h(r(68)),d=h(r(2447)),f=h(r(2)),p=h(r(3)),m=h(r(5));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=_(t).call(this,e))||"object"!==y(a)&&"function"!=typeof a?v(n):a).state={currentHistoryData:null},r.history=(0,c.default)(e.pathHelpers.basePath),r.qlService=new u.default({history:r.history}),r.handleLocationChange=r.handleLocationChange.bind(v(r)),r.seoHandler=new s.default({config:d.default}),r}var r,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.unlisten=this.history.listen(this.handleLocationChange),this._updateSEOData()}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"handleLocationChange",value:function(e,t){var r=Object.assign({},e,{action:t});this.setState({currentHistoryData:r}),this._updateSEOData()}},{key:"_updateSEOData",value:function(){this.seoHandler.reportView({path:"/",data:this.history.location})}},{key:"render",value:function(){return n.default.createElement("div",{className:f.default.container},n.default.createElement("div",{className:f.default.wrapper1170},n.default.createElement("h1",{className:"".concat(p.default.h1Responsive," ").concat(f.default.marginBottom30," ").concat(f.default.paddingBottom15," ").concat(m.default.borderBottom)},"Explore projects"),n.default.createElement(o.default,{currentHistoryData:this.state.currentHistoryData,filters:this.props.filters,graphQLArguments:{approved:!0},graphQLService:this.qlService,listComponent:i.default,listProps:{cardBorder:!0},loaderComponent:l.default})))}}])&&g(r.prototype,a),h&&g(r,h),t}();O.propTypes={filters:a.default.arrayOf(a.default.shape({key:a.default.string.isRequired,options:a.default.array.isRequired})).isRequired},O.defaultProps={};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(44),a={"/":function(e){var t=(0,n.mapifyStringQuery)(e.search);return{title:"Explore all projects - Page ".concat(t.page||1," - Hackster.io"),pageType:"projects#index"}}},o=function(e){return a[e]};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=g(r(1)),o=g(r(180)),i=g(r(2449)),l=g(r(2479)),u=g(r(193)),s=g(r(7)),c=r(12),d=r(11),f=g(r(2492)),p=g(r(97)),m=g(r(2)),h=g(r(327)),y=g(r(2493));function g(e){return e&&e.__esModule?e:{default:e}}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E={index:"",query:"",pagination:{},params:"",records:[],settings:{},suggestion:null},P=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=b(t).call(this,e))||"object"!==_(a)&&"function"!=typeof a?O(n):a).handlePagination=r.handlePagination.bind(O(r)),r.handleSettingsChange=r.handleSettingsChange.bind(O(r)),r.reportPageView=r.reportPageView.bind(O(r)),r.state={isFetching:!0,results:E,showSettings:!1},r.seoHandler=new p.default({config:f.default}),r}var r,a,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){var e=this;u.default.getChannel().subscribe("locationChange",this.reportPageView),u.default.getChannel().subscribe("results",function(t){return e.setState({results:t,isFetching:!1})}),u.default.getChannel().subscribe("working",function(t){return e.setState({isFetching:t})})}},{key:"componentWillUnmount",value:function(){u.default.getChannel().unsubscribe()}},{key:"handlePagination",value:function(e){var t=this;this.setState({isFetching:!0}),(0,c.windowScrollTo)(0,0);var r=Math.abs(e-1);return u.default.searchWithEffects({q:this.state.results.query,page:r}).then(function(){return t.setState({isFetching:!1})}).catch(function(e){t.setState({isFetching:!1}),(0,s.default)("Search handlePagination",e)})}},{key:"handleSettingsChange",value:function(e){var t=this;return new Promise(function(r,n){t.setState({isFetching:!0,showSettings:!1}),u.default.searchWithEffects({q:t.state.results.query,settings:e}).then(function(){t.setState({isFetching:!1}),r()}).catch(function(e){t.setState({isFetching:!1}),n(e)})})}},{key:"reportPageView",value:function(){this.seoHandler.reportView({path:"/"})}},{key:"render",value:function(){var e=this,t=this.state,r=t.isFetching,a=t.results,u=a.index,s=a.pagination,c=a.params,f=a.query,p=a.records,g=a.suggestion,_=a.settings;return n.default.createElement("div",{className:m.default.container},n.default.createElement("div",{className:m.default.wrapper1170},n.default.createElement("div",{className:y.default.resultsPanel},n.default.createElement(l.default,{channelId:this.props.channelId,dismissSettings:function(){return e.setState({showSettings:!1})},handleSearchRequest:this.handleSettingsChange,query:f,showSettings:this.state.showSettings}),n.default.createElement("div",{className:y.default.resultsListWrapper},n.default.createElement(i.default,{algoliaIndex:u,currentQuery:f,isWhitelabel:(0,d.isNumber)(this.props.channelId),loading:r,pageKey:"".concat(f,"_").concat(s.page,"_").concat(c),recommendedResults:g,results:p,settings:_,toggleFilterPanel:function(){return e.setState({showSettings:!0})},totalRecords:s.totalRecords}))),void 0!==s.totalPages&&s.totalPages>1&&n.default.createElement(o.default,{currentPage:s.currentPage+1,currentQuery:c,totalPages:s.totalPages,onClick:this.handlePagination}),r&&n.default.createElement("div",{className:h.default.overlay})))}}])&&v(r.prototype,a),g&&v(r,g),t}(),k=P;t.default=k,P.propTypes={channelId:a.default.number},P.defaultProps={channelId:null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(1)),a=p(r(0)),o=p(r(2450)),i=p(r(2451)),l=p(r(2476)),u=p(r(2477)),s=p(r(193)),c=p(r(2)),d=p(r(5)),f=p(r(3));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){s.default.publishEvent("setIndex",e)}var h=function(e){return e.loading?null:e.totalRecords?function(e){return"events"===e.algoliaIndex?a.default.createElement(o.default,{results:e.results}):a.default.createElement(i.default,{algoliaIndex:e.algoliaIndex,appliedFilters:e.appliedFilters,currentQuery:e.currentQuery,insertItems:e.insertItems,insertIndex:4,isWhitelabel:e.isWhitelabel,results:e.results,recommendedIndex:e.recommendedIndex,setIndex:m})}(e):a.default.createElement(l.default,{algoliaIndex:e.algoliaIndex,currentQuery:e.currentQuery,isWhitelabel:e.isWhitelabel,setIndex:m})},y=function(e){var t,r,n,o=e.settings.filters||{},i=(r=(t=e).recommendedResults,n=t.algoliaIndex,r&&"projects"===n?{recommendedIndex:r.index||null,insertItems:r.results||[]}:{recommendedIndex:null,insertItems:[]}),l=i.recommendedIndex,s=i.insertItems;return a.default.createElement("div",{className:"".concat(c.default.posRelative," ").concat(d.default.bgWhite," ").concat(f.default.bodyM)},a.default.createElement(u.default,{algoliaIndex:e.algoliaIndex,appliedFilters:o,currentQuery:e.currentQuery,isWhitelabel:e.isWhitelabel,loading:e.loading,toggleFilterPanel:e.toggleFilterPanel,totalRecords:e.totalRecords}),h(Object.assign({},e,{appliedFilters:o,insertItems:s,recommendedIndex:l})))};y.propTypes={algoliaIndex:n.default.string.isRequired,currentQuery:n.default.string.isRequired,isWhitelabel:n.default.bool,loading:n.default.bool.isRequired,pageKey:n.default.string.isRequired,recommendedResults:n.default.shape({index:n.default.string,results:n.default.array}),results:n.default.array.isRequired,settings:n.default.object.isRequired,toggleFilterPanel:n.default.func.isRequired,totalRecords:n.default.number},y.defaultProps={algoliaIndex:"",isWhitelabel:!1,loading:!1,recommendedResults:{}};var g=y;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(1)),a=s(r(0)),o=s(r(969)),i=s(r(72)),l=s(r(64)),u=s(r(2));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,r=e.results;return a.default.createElement("div",{className:"".concat(u.default.marginTop30," ").concat(u.default.marginBottom30)},a.default.createElement(i.default,{className:"".concat(l.default.guttersH30_sm," ").concat(l.default.guttersV30_sm),gutterSize:15,ItemComponent:o.default,itemProps:{responsive:!0},records:(t=r,t.map(function(e){return Object.assign({},e,{image:{url:e.image_url}})}))}))},d=c;t.default=d,c.propTypes={results:n.default.array},c.defaultProps={results:[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(1)),a=c(r(0)),o=c(r(2452)),i=c(r(2465)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1010)),u=c(r(2)),s=c(r(5));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f=function(e){var t=e.algoliaIndex,r=e.appliedFilters,n=e.currentQuery,c=e.insertItems,f=e.insertIndex,p=e.isWhitelabel,m=e.results,h=e.recommendedIndex,y=e.setIndex,g=c.length?[].concat(d(m.slice(0,f)),[c],d(m.slice(f))):m;return a.default.createElement("ul",{className:"".concat(u.default.marginBottom30," ").concat(s.default.ulReset)},g.map(function(e,s){return a.default.createElement("li",{key:"".concat(s,"-").concat(e.id),className:u.default.marginTop30},Array.isArray(e)?a.default.createElement(i.default,{currentQuery:n,recommendedIndex:h,results:e,setIndex:y}):a.default.createElement(o.default,l[t](e,{appliedFilters:r,isWhitelabel:p})))}))},p=f;t.default=p,f.propTypes={algoliaIndex:n.default.string.isRequired,appliedFilters:n.default.object,currentQuery:n.default.string.isRequired,insertIndex:n.default.number.isRequired,insertItems:n.default.array,isWhitelabel:n.default.bool,recommendedIndex:n.default.string,results:n.default.array,setIndex:n.default.func.isRequired},f.defaultProps={appliedFilters:{},insertItems:[],isWhitelabel:!1,results:[],recommendedIndex:""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),a=l(r(0)),o=r(533),i=l(r(2464));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.body,r=e.image,n=e.stats,l=e.subTitle,u=e.title,s=e.tags;return a.default.createElement("div",{className:i.default.card},a.default.createElement("div",{className:i.default.imageContainer},a.default.createElement(o.CardImage,r)),a.default.createElement("div",{className:i.default.content},a.default.createElement(o.Title,u),a.default.createElement(o.SubTitle,{content:l}),a.default.createElement(o.Body,{body:t}),a.default.createElement(o.Tags,s),a.default.createElement(o.Stats,{stats:n})))};u.propTypes={body:n.default.shape({htmlString:n.default.string,component:n.default.element,type:n.default.string}),image:n.default.shape({linkTo:n.default.string,url:n.default.string,shape:n.default.string}),stats:n.default.arrayOf(n.default.shape({metric:n.default.number,text:n.default.string})),subTitle:n.default.arrayOf(n.default.shape({text:n.default.string,linkTo:n.default.string})),tags:n.default.shape({highlight:n.default.array,normal:n.default.array}),title:n.default.shape({text:n.default.string,linkTo:n.default.string})},u.defaultProps={body:{},image:{},stats:[],subTitle:[],tags:{},title:{}};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(1)),a=u(r(0)),o=u(r(347)),i=r(11),l=u(r(2454));function u(e){return e&&e.__esModule?e:{default:e}}var s={htmlString:function(e){return a.default.createElement("div",{className:l.default.body,dangerouslySetInnerHTML:{__html:o.default.sanitize(e)}})},component:function(e){return a.default.createElement("div",{className:l.default.body},e)}};var c=function(e){var t=e.body,r=e.children;return r?a.default.createElement("div",{className:l.default.body},r):function(e){return(0,i.isObject)(e)&&Object.keys(e).length?Object.keys(s).reduce(function(t,r){var n=e[r];return e[r]&&!t?s[r](n):t},null):null}(t)};c.propTypes={body:n.default.shape({component:n.default.element,htmlString:n.default.string})},c.defaultProps={body:null};var d=c;t.default=d},function(e,t,r){e.exports={body:"body__body__384TA"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),a=l(r(0)),o=l(r(30)),i=l(r(2456));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.captureScroll,r=e.classList,n=e.component,l=e.fit,u=e.linkTo,s=e.loadBuffer,c=e.queryParams,d=e.ratio,f=e.shape,p=e.style,m=e.url,h=e.width,y=Object.assign({},i.default,r);return a.default.createElement("div",{className:y.container,style:Object.assign({width:h},p)},n||a.default.createElement("a",{href:u},a.default.createElement(o.default,{captureScroll:t,className:"circle"===f?y.circleImage:y.image,fit:l,loadBuffer:s,queryParams:c,ratio:d||"1:1",src:m||"",width:h})))};u.propTypes={captureScroll:n.default.bool,classList:n.default.shape({container:n.default.string}),component:n.default.element,fit:n.default.string,linkTo:n.default.string,loadBuffer:n.default.number,queryParams:n.default.object,ratio:n.default.string,shape:n.default.string,style:n.default.object,url:n.default.string,width:n.default.number.isRequired},u.defaultProps={captureScroll:!1,classList:{},component:null,fit:"min",linkTo:"",loadBuffer:0,queryParams:{},ratio:"1:1",shape:"square",style:{},url:""};var s=u;t.default=s},function(e,t,r){e.exports={small:"(max-width: 480px)",container:"card_image__container__3n5IB",image:"card_image__image__QpJ73",circleImage:"card_image__circleImage__2RM94 card_image__image__QpJ73",imageDimensions:"card_image__imageDimensions__uCvIP"}},function(e,t,r){e.exports={asphalt:"#D8D8D8",day:"event_info__day__31d0g",eventDate:"event_info__eventDate__3kien",eventDateVertical:"event_info__eventDateVertical__2q3Ku event_info__eventDate__3kien",eventDateHorizontal:"event_info__eventDateHorizontal__1j8yE event_info__eventDate__3kien"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(1)),a=u(r(0)),o=r(20),i=u(r(3)),l=u(r(2459));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.stats;return!t||Array.isArray(t)&&!t.length?null:a.default.createElement("div",{className:"".concat(i.default.pebble," ").concat(i.default.bodyS)},t.map(function(e,t){return a.default.createElement("span",{key:t,className:l.default.stat},e.override?e.override:(n=(r=e).metric,i=r.text,"".concat((0,o.formatNumberWithCommas)(n)," ").concat((0,o.pluralize)(i,n))));var r,n,i}))};s.propTypes={stats:n.default.arrayOf(n.default.shape({metric:n.default.number,text:n.default.string}))},s.defaultProps={stats:[]};var c=s;t.default=c},function(e,t,r){e.exports={stat:"stats__stat__14viM"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),a=l(r(0)),o=l(r(3)),i=l(r(5));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.classList,r=e.content,n=e.withCommas;return!r||Array.isArray(r)&&!r.length||1===r.length&&!r[0].text?null:a.default.createElement("div",{className:"".concat(t.subTitle," ").concat(i.default.breakWord)},r.map(function(e,t){return a.default.createElement("span",{key:t},e.linkTo?a.default.createElement("a",{className:"".concat(o.default.linkPebble," ").concat(o.default.bold," ").concat(o.default.bodyS),href:e.linkTo},e.text):a.default.createElement("span",{className:o.default.pebble},e.text),n&&r.length>1&&t!==r.length-1?",":null," ")}))};u.propTypes={classList:n.default.shape({subTitle:n.default.string}),content:n.default.arrayOf(n.default.shape({text:n.default.string,linkTo:n.default.string})),withCommas:n.default.bool},u.defaultProps={classList:{},content:[],withCommas:!0};var s=u;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(1)),a=i(r(0)),o=i(r(2462));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.count,r=e.highlight,n=e.normal;return 0!==t&&Array.isArray(r)&&Array.isArray(n)&&r.length+n.length!==0?a.default.createElement("div",{className:o.default.tags},r.slice(0,t).map(function(e,t){return a.default.createElement("div",{key:t,className:o.default.tagHighlight},e)}),n.slice(0,Math.max(t-r.length,0)).map(function(e,t){return a.default.createElement("div",{key:t,className:o.default.tag},e)})):null};l.propTypes={count:n.default.number,highlight:n.default.array,normal:n.default.array},l.defaultProps={count:10,highlight:[],normal:[]};var u=l;t.default=u},function(e,t,r){e.exports={asphalt:"#D8D8D8",graphite:"#4A4A4A",standardBorderRadius:"4px",tags:"tags__tags__nYEJe",tag:"tags__tag__3H52Z",tagHighlight:"tags__tagHighlight__PT76B tags__tag__3H52Z"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),a=l(r(0)),o=l(r(2)),i=l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.text,r=e.linkTo,n=e.additionalInfo;return t?a.default.createElement("div",{className:o.default.flexCenterItems},a.default.createElement("span",{className:"".concat(i.default.bodyM," ").concat(i.default.bold)},r?a.default.createElement("a",{className:i.default.linkBlue,href:r},t):t),n&&a.default.createElement("span",{className:"".concat(i.default.h5," ").concat(o.default.marginLeft10)},n)):null};u.propTypes={additionalInfo:n.default.string,linkTo:n.default.string,text:n.default.string.isRequired},u.defaultProps={additionalInfo:"",linkTo:""};var s=u;t.default=s},function(e,t,r){e.exports={med:"(max-width: 768px)",card:"horizontal__card__3BJFA",imageContainer:"horizontal__imageContainer__3ZnE8",content:"horizontal__content__1unfO"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(1)),a=m(r(0)),o=m(r(477)),i=m(r(2466)),l=m(r(1009)),u=m(r(2467)),s=r(12),c=r(396),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1010)),f=m(r(2475)),p=m(r(3));function m(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var y={channels:function(e){return a.default.createElement(o.default,{classList:{wrapper:f.default.communityCardWrapper},item:{avatar_url:e.image.url,id:e.id,members_count:e.stats[0].metric,name:e.title.text,pitch:e.body.plainText,projects_count:e.stats[1].metric,url:e.title.linkTo}})},events:function(e){return a.default.createElement(i.default,e)},parts:function(e){return a.default.createElement(u.default,h({},e,{image:e.image&&Object.assign({},e.image,{width:120})}))},users:function(e){return a.default.createElement(u.default,h({},e,{image:e.image&&Object.assign({},e.image,{width:120})}))}};var g=function(e){e.channelId;var t=e.currentQuery,r=e.recommendedIndex,n=e.results,o=e.setIndex;return n.length?a.default.createElement("div",null,a.default.createElement("h5",{className:f.default.header},'Recommended results for "'.concat(t,'" in ').concat((0,c.indexToLabel)(r))),a.default.createElement("div",{className:f.default.wrapper},n.map(function(e,t){return a.default.createElement("div",{key:t,className:f.default.result},function(e,t){if(!y[e])return null;var r=d[e](t);return y[e](r)}(r,e))})),a.default.createElement(l.default,{className:"".concat(p.default.bodyXS," ").concat(p.default.linkBlue),onClick:function(){o(r),(0,s.windowScrollTo)(0,0)},href:"/search?q=".concat(t,"&i=").concat(r)},'Search for "'.concat(t,'" in ').concat((0,c.indexToLabel)(r)))):null};g.propTypes={channelId:n.default.number,currentQuery:n.default.string.isRequired,recommendedIndex:n.default.string,results:n.default.array,setIndex:n.default.func},g.defaultProps={channelId:null,results:[],setIndex:function(){}};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=r(533),i=r(16),l=u(r(1008));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){e.body;var t=e.dateString,r=(e.image,e.subTitle),a=e.title,u=e.location,s=(0,i.timestampToPrettyDate)(t,"D",!1,null),c=(0,i.timestampToPrettyDate)(t,"MMM",!1,null);return n.default.createElement("div",{className:l.default.eventCard},n.default.createElement("div",{className:l.default.eventDate},n.default.createElement("span",null,c),n.default.createElement("div",null,s)),n.default.createElement("div",null,n.default.createElement(o.Title,a),n.default.createElement(o.SubTitle,{content:r}),n.default.createElement(o.Body,null,u)))};s.propTypes={body:a.default.shape({component:a.default.element,htmlString:a.default.string,type:a.default.string}),id:a.default.string,image:a.default.shape({linkTo:a.default.string,shape:a.default.string,url:a.default.string}),subTitle:a.default.arrayOf(a.default.shape({linkTo:a.default.string,text:a.default.string})),title:a.default.shape({linkTo:a.default.string,text:a.default.string})},s.defaultProps={};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),a=l(r(0)),o=r(533),i=l(r(1008));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){e.id;var t=e.image,r=e.subTitle,n=e.title;return a.default.createElement("div",{className:i.default.thumb},a.default.createElement(o.CardImage,u({captureScroll:!0,classList:{container:i.default.thumbImageContainer},style:{width:"120px"}},t)),a.default.createElement("div",{className:i.default.thumbContent},a.default.createElement(o.Title,{text:n.text,linkTo:n.linkTo}),a.default.createElement(o.SubTitle,{classList:{subTitle:i.default.subTitle},content:r,withCommas:!1})))};s.propTypes={id:n.default.number,image:n.default.shape({linkTo:n.default.string,shape:n.default.string,url:n.default.string}),subTitle:n.default.arrayOf(n.default.shape({linkTo:n.default.string,text:n.default.string})),title:n.default.shape({linkTo:n.default.string,text:n.default.string,additionalInfo:n.default.string})},s.defaultProps={};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.city,r=e.country_iso2,l=e.event_type,u=e.link,s=(e.name,e.objectID),c=e.state,d=e.start_date,f=e.title;return{body:{component:n.default.createElement(a.default,{dateString:d,location:(0,i.buildLocation)(t||"",c||"",r||"")})},id:s,image:{component:n.default.createElement(o.default,{dateString:d,orientation:"horizontal"}),loadBuffer:100,width:75},location:(0,i.buildLocation)(t||"",c||"",r||""),stats:[],subTitle:[{text:"".concat(l," event"),linkTo:null}],title:{text:f,linkTo:u}}};var n=l(r(0)),a=l(r(1006)),o=l(r(1007)),i=r(105);function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.id,r=e._highlightResult,o=e.image_url,i=e.name,l=e.platforms,u=e.projects_count,s=e.url,c=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isWhitelabel;return{body:{htmlString:(0,n.getInObj)(["pitch","value"],r)},id:t,image:{fit:"fill",linkTo:(0,a.getContentPath)(c,s),loadBuffer:100,queryParams:{bg:"ffffff"},url:o,width:75},stats:[{metric:u,text:"Project"}],subTitle:Array.isArray(l)&&l.length?l.map(function(e,t){return{text:e.name,linkTo:(0,a.getContentPath)(c,e.url)}}):null,title:{text:i,linkTo:(0,a.getContentPath)(c,s)}}};var n=r(8),a=r(534)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.avatar_url,r=e._highlightResult,a=e.id,o=e.name,i=e.members_count,l=e.pitch,u=e.projects_count,s=e.url;return{body:{htmlString:(0,n.getInObj)(["pitch","value"],r),plainText:l},id:a,image:{linkTo:s,loadBuffer:100,url:t,width:75},stats:[{metric:i,text:"Member"},{metric:u,text:"Project"}],subTitle:[],title:{text:o,linkTo:s}}};var n=r(8)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.authors,r=e.cover_image_url,o=e._highlightResult,i=e.id,l=e.impressions_count,u=e.name,s=e.respects_count,c=e.url,d=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isWhitelabel;return{body:{htmlString:(0,n.getInObj)(["pitch","value"],o)},id:i,image:{linkTo:(0,a.getContentPath)(d,c),loadBuffer:100,ratio:"4:3",url:r,width:100},stats:[{metric:l,text:"View"},{metric:s,text:"Respect"}],subTitle:Array.isArray(t)&&t.length?t.map(function(e){return{text:e.name,linkTo:(0,a.getContentPath)(d,e.url)}}):null,title:{text:u,linkTo:(0,a.getContentPath)(d,c)}}};var n=r(8),a=r(534)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.cover_image_url,r=e.id,a=e.published_at,o=e.respects_count,i=e.title,l=e.user,u=e.url;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{id:r,image:{linkTo:u,loadBuffer:100,ratio:"16:9",url:t,width:100},stats:[{override:"Published ".concat((0,n.timeFromNow)(a))},{metric:o,text:"Respect"}],subTitle:[{text:l.name,linkTo:l.url}],title:{text:i,linkTo:u}}};var n=r(16)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.available_for_hire,r=e.avatar_url,l=e.city,u=e.country,s=e.followers_count,c=e._highlightResult,d=e.id,f=e.name,p=e.projects_count,m=e.skills,h=e.state,y=e.url,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=g.appliedFilters,v=g.isWhitelabel;return{body:{htmlString:(0,o.getInObj)(["bio","value"],c)},id:d,image:{linkTo:(0,i.getContentPath)(v,y),loadBuffer:100,shape:"circle",url:r,width:75},stats:[{metric:p,text:"Project"},{metric:s,text:"Follower"}],subTitle:l||h?[{text:(0,a.buildLocation)(l||"",h||"",u||"")}]:[],tags:(0,n.formatUserSkillsFromAlgolia)(m,c,_),title:{text:f,additionalInfo:t?"Available for hire":"",linkTo:(0,i.getContentPath)(v,y)}}};var n=r(2474),a=r(105),o=r(8),i=r(534)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatUserSkillsFromAlgolia=function(e,t,r){var n={highlight:[],normal:[]};return Array.isArray(e)?e.reduce(function(e,n,a){var o=t&&t.skills&&"none"!==t.skills[a].matchLevel,i=r&&r.skills&&!!r.skills.filter(function(e){return e.toLowerCase().trim()===n.toLowerCase().trim()}).length;return o||i?e.highlight.push(n):e.normal.push(n),e},n):n}},function(e,t,r){e.exports={graphite:"#4A4A4A",communityCardWrapper:"recommended_results__communityCardWrapper__2d71F",header:"recommended_results__header__YZlbr",result:"recommended_results__result__zL8AB",wrapper:"recommended_results__wrapper__1m_be"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(1)),a=c(r(0)),o=c(r(1009)),i=r(396),l=c(r(2)),u=c(r(3)),s=c(r(5));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.algoliaIndex,r=e.currentQuery,n=e.isWhitelabel,c=e.setIndex;if(!r||n)return null;var d=i.indexes.filter(function(e){return e!==t});return a.default.createElement("div",{className:l.default.marginTop30},a.default.createElement("h5",null,"Search for"),a.default.createElement("ul",{className:"".concat(s.default.ulReset," ").concat(l.default.paddingLeft15)},d.map(function(e,t){return a.default.createElement("li",{key:t},"- ",a.default.createElement(o.default,{className:"".concat(u.default.linkBlue," ").concat(u.default.bodyM),onClick:function(){return c(e)},href:"/search?q=".concat(r,"&i=").concat(e)}," ".concat(r," in ").concat((0,i.indexToLabel)(e))))})))};d.propTypes={algoliaIndex:n.default.string.isRequired,currentQuery:n.default.string.isRequired,isWhitelabel:n.default.bool,setIndex:n.default.func},d.defaultProps={isWhitelabel:!1,setIndex:function(){}};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(1)),a=h(r(0)),o=h(r(15)),i=h(r(9)),l=r(20),u=r(396),s=r(181),c=h(r(2478)),d=h(r(2)),f=h(r(3)),p=h(r(532)),m=h(r(890));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){var t=e.algoliaIndex,r=e.appliedFilters;switch(t){case"events":return r.event_type?(0,l.capitalize)(r.event_type):"";default:return""}},g=function(e){switch(e){case"events":return a.default.createElement("a",{className:f.default.link,href:(0,s.whitelabelUrlHelper)().appendToRootPath("/events")},(0,u.indexToLabel)(e));default:return(0,u.indexToLabel)(e)}},_=function(e){var t=e.algoliaIndex,r=e.appliedFilters,n=e.currentQuery,o=e.loading,i=e.totalRecords;if(o)return'Searching for "'.concat(n,'" in ').concat((0,u.indexToLabel)(t),"...");if(!n&&!(0,p.default)(t))return"Search using the box above!";var s,c,d=[g(t),y({algoliaIndex:t,appliedFilters:r}),(s=n,s?a.default.createElement("span",{className:f.default.bold},'"'.concat(s,'"')):null)].filter(function(e){return e});return a.default.createElement("span",null,(0,m.default)(d," — ")," (".concat((c=i,c?(0,l.formatNumberWithCommas)(c):"No")," ").concat((0,l.pluralize)("result",i),")"))},v=function(e){var t=e.algoliaIndex,r=e.appliedFilters,n=e.currentQuery,l=e.loading,u=e.toggleFilterPanel,s=e.totalRecords;if(l&&!n)return null;var p=Object.keys(r).length;return a.default.createElement("header",{className:"".concat(d.default.fullWidth," ").concat(d.default.flexJustifySpaceBetween," ").concat(d.default.flexCenterItems)},a.default.createElement("p",{className:f.default.bodyM},_({algoliaIndex:t,appliedFilters:r,currentQuery:n,loading:l,totalRecords:s})),!l&&a.default.createElement(o.default,{className:"".concat(d.default.hiddenMedUp," ").concat(d.default.flexCenterItems),colorStyle:"blank",onClick:u},p>0&&a.default.createElement("div",{className:"".concat(c.default.appliedFiltersCount," ").concat(f.default.bodyS," ").concat(d.default.marginLeft10," ")},p.toString()),a.default.createElement(i.default,{className:f.default.pebble,name:"filters"})))};v.propTypes={algoliaIndex:n.default.string.isRequired,appliedFilters:n.default.object,currentQuery:n.default.string.isRequired,loading:n.default.bool.isRequired,toggleFilterPanel:n.default.func.isRequired,totalRecords:n.default.number},v.defaultProps={appliedFilters:{},totalRecords:0};var b=v;t.default=b},function(e,t,r){e.exports={pebble:"#767676",appliedFiltersCount:"results_list__appliedFiltersCount__30j0Y"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=_(r(1)),o=_(r(2480)),i=_(r(9)),l=_(r(2489)),u=_(r(2490)),s=_(r(193)),c=_(r(7)),d=_(r(532)),f=r(45),p=r(11),m=r(12),h=_(r(10)),y=_(r(2)),g=_(r(2491));function _(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P={index:"projects",filters:{},sort:"relevance"},k=function(e){return!(0,p.isBlank)(e)&&!1!==e},S=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=O(t).call(this,e),(r=!a||"object"!==v(a)&&"function"!=typeof a?w(n):a).handleApply=r.handleApply.bind(w(r)),r.handleDismiss=r.handleDismiss.bind(w(r)),r.handleSettingsChange=r.handleSettingsChange.bind(w(r)),r.handleSubscription=r.handleSubscription.bind(w(r)),r.handleSearch=r.handleSearch.bind(w(r)),r.setIndex=r.setIndex.bind(w(r)),r.setFilters=r.setFilters.bind(w(r)),r.setSort=r.setSort.bind(w(r)),r.state={settings:P,cachedSettings:P},s.default.getChannel().subscribe("filters",r.handleSubscription),s.default.getChannel().subscribe("setIndex",function(e){return r.setIndex(e,!0)}),r}var r,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,n.Component),r=t,(a=[{key:"handleApply",value:function(){(0,m.windowScrollTo)(0,0),this.handleSearch(this.state.settings)}},{key:"handleDismiss",value:function(){(0,m.windowScrollTo)(0,0),this.setState({settings:Object.assign({},this.state.cachedSettings)}),this.props.dismissSettings()}},{key:"handleSearch",value:function(e){var t=this;return this.props.showSettings&&this.props.dismissSettings(),this.props.handleSearchRequest(e).then(function(){t.setState({cachedSettings:Object.assign({},e)})}).catch(function(e){t.setState({settings:Object.assign({},t.state.cachedSettings)}),(0,c.default)("search from filters Error:",e)})}},{key:"handleSettingsChange",value:function(e,t){this.setState({settings:e}),t&&this.handleSearch(e)}},{key:"handleSubscription",value:function(e){var t=Object.assign({},P,e);this.setState({settings:t,cachedSettings:t})}},{key:"setIndex",value:function(e,t){var r=Object.assign({},P,{index:e});this.handleSettingsChange(r,t)}},{key:"setFilters",value:function(e,t){var r=Object.assign({},this.state.settings.filters,e),n=Object.assign({},this.state.settings,{filters:(0,f.filterObject)(r,k)});this.handleSettingsChange(n,t)}},{key:"setSort",value:function(e,t){var r=Object.assign({},this.state.settings,{sort:e});this.handleSettingsChange(r,t)}},{key:"_shouldDisableSettings",value:function(){return!this.props.query&&!(0,d.default)(this.state.settings.index)}},{key:"render",value:function(){var e=this,t=this.props,r=t.channelId,a=t.showSettings,s=this.state.settings,c=s.index,d=s.filters,f=s.sort;return n.default.createElement("div",{className:g.default.panel},n.default.createElement("section",{className:g.default.settingsDesktop},n.default.createElement(l.default,{channelId:r,index:c,onChange:function(t){return e.setIndex(t.target.value,!0)}}),n.default.createElement(o.default,{disabled:this._shouldDisableSettings(),filters:d,index:c,onChange:function(t){return e.setFilters(t,!0)}}),n.default.createElement(u.default,{disabled:this._shouldDisableSettings(),index:c,sort:f,onChange:function(t){return e.setSort(t.target.value,!0)}})),n.default.createElement("section",{className:a?g.default.settingsMobile:g.default.settingsHidden},n.default.createElement("button",{className:"".concat(h.default.blank," ").concat(g.default.backButton),onClick:this.handleDismiss},n.default.createElement(i.default,{name:"close"})),n.default.createElement("div",{className:g.default.settingsMobileInner},n.default.createElement(l.default,{channelId:r,index:c,onChange:function(t){return e.setIndex(t.target.value)},mobile:!0}),n.default.createElement(o.default,{disabled:this._shouldDisableSettings(),index:c,filters:d,onChange:this.setFilters}),n.default.createElement(u.default,{disabled:this._shouldDisableSettings(),index:c,sort:f,onChange:function(t){return e.setSort(t.target.value)},mobile:!0})),n.default.createElement("div",{className:g.default.applyContainer},n.default.createElement("button",{className:"".concat(h.default.md," ").concat(y.default.fullWidth),onClick:this.handleApply},"Apply filters"))))}}])&&b(r.prototype,a),p&&b(r,p),t}();S.propTypes={channelId:a.default.number,dismissSettings:a.default.func,handleSearchRequest:a.default.func,query:a.default.string,showSettings:a.default.bool},S.defaultProps={channelId:null,dismissSettings:function(){},handleSearchRequest:function(){return Promise.resolve()},query:"",showSettings:!1};var C=S;t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(2481)),i=u(r(2484)),l=u(r(2486));function u(e){return e&&e.__esModule?e:{default:e}}var s={channels:null,events:o.default,parts:null,projects:i.default,users:l.default},c=function(e){var t=e.disabled,r=e.index,a=e.onChange,o=e.filters,i=s[r];return i?n.default.createElement(i,{disabled:t,filters:o,onChange:a}):null};c.propTypes={disabled:a.default.bool,filters:a.default.object,index:a.default.string,onChange:a.default.func},c.defaultProps={disabled:!1,filters:{},index:"project",onChange:function(){}};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(1011)),i=l(r(2483));function l(e){return e&&e.__esModule?e:{default:e}}var u=[{label:"Virtual only",value:"virtual"},{label:"In-person only",value:"in_person"}],s=[{label:"Upcoming only",value:"upcoming"},{label:"Past only",value:"past"}],c=[{label:"Webinars",value:"Webinar"},{label:"Meetups",value:"Meetup"},{label:"Hackathons",value:"Hackathon"},{label:"Workshops",value:"Workshop"},{label:"Conferences",value:"Conference"}],d=function(e){var t=e.disabled,r=e.filters,a=e.onChange;return n.default.createElement("section",null,n.default.createElement(i.default,{buttons:s,disabled:t,label:"Date",onChange:function(e){return a({date:e})},value:r.date}),n.default.createElement(i.default,{buttons:c,disabled:t,label:"Event type",onChange:function(e){return a({event_type:e})},value:r.event_type}),n.default.createElement(i.default,{buttons:u,disabled:t,label:"Attendance type",onChange:function(e){return a({attendance_type:e})},value:r.attendance_type}),n.default.createElement(o.default,{disabled:t,filters:r,onChange:a}))};d.propTypes={disabled:a.default.bool,filters:a.default.shape({date:a.default.string,location:a.default.oneOfType([a.default.string,a.default.object]),distance:a.default.object}),onChange:a.default.func},d.defaultProps={disabled:!1,filters:{},onChange:function(){}};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return new Promise(function(e,t){return u?e(u):(c.cachePromise({resolve:e,reject:t}),s?void 0:(s=!0,(0,a.fetchLocationWithRawQuery)(l).then(function(e){var t=e.body;s=!1,u=(0,i.getInObj)(["hits",0],t),c.resolveBatch(u)}).catch(function(e){s=!1,c.rejectBatch(e)})))})};var n,a=r(871),o=(n=r(429))&&n.__esModule?n:{default:n},i=r(8);var l={aroundLatLngViaIP:!0,hitsPerPage:1,language:"en",type:"city"},u=null,s=!1,c=new o.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(108)),i=l(r(397));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.buttons,r=e.ignoreOptionLabel;return t.concat([{label:r,value:"IGNORE_VALUE"}])},s=function(e){var t,r=e.buttons,a=e.disabled,l=e.ignoreOptionLabel,s=e.label,c=e.onChange,d=e.value;return n.default.createElement(o.default,{buttons:u({buttons:r,ignoreOptionLabel:l}),disabled:a,label:n.default.createElement(i.default,{disabled:a,label:s}),onChange:function(e){return c("IGNORE_VALUE"===(t=e.target.value)?"":t);var t},value:(t=d,t||"IGNORE_VALUE")})};s.propTypes={buttons:a.default.arrayOf(a.default.shape({disabled:a.default.bool,label:a.default.node,value:a.default.any})).isRequired,disabled:a.default.bool,ignoreOptionLabel:a.default.string,label:a.default.string,onChange:a.default.func,value:a.default.any},s.defaultProps={disabled:!1,label:"",ignoreOptionLabel:"All",onChange:function(){},value:""};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(397)),i=f(r(731)),l=f(r(2485)),u=f(r(10)),s=f(r(2)),c=f(r(3)),d=f(r(5));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=[{label:"Beginner",value:"beginner"},{label:"Intermediate",value:"intermediate"},{label:"Advanced",value:"advanced"},{label:"Super Advanced",value:"hardcore"}],v=[{label:"Featured",value:"featured"},{label:"Protip",value:"protip"},{label:"Showcase",value:"showcase"},{label:"Tutorial",value:"tutorial"},{label:"Work in progress",value:"wip"},{label:"Contest winners",value:"constest_winners"}],b=[{label:"Arduino",value:"arduino"},{label:"C/C++",value:"c_cpp"},{label:"JavaScript",value:"javascript"},{label:"Python",value:"python"},{label:"ABAP",value:"abap"},{label:"ActionScript",value:"actionscript"},{label:"ADA",value:"ada"},{label:"Apache Conf",value:"apache_conf"},{label:"AsciiDoc",value:"asciidoc"},{label:"Assembly x86",value:"assembly_x86"},{label:"AutoHotKey",value:"autohotkey"},{label:"BatchFile",value:"batchfile"},{label:"C9Search",value:"c9search"},{label:"Cirru",value:"cirru"},{label:"Clojure",value:"clojure"},{label:"Cobol",value:"cobol"},{label:"CoffeeScript",value:"coffee"},{label:"ColdFusion",value:"coldfusion"},{label:"C#",value:"csharp"},{label:"CSS",value:"css"},{label:"Curly",value:"curly"},{label:"D",value:"d"},{label:"Dart",value:"dart"},{label:"Diff",value:"diff"},{label:"Dockerfile",value:"dockerfile"},{label:"Dot",value:"dot"},{label:"EJS",value:"ejs"},{label:"Erlang",value:"erlang"},{label:"Forth",value:"forth"},{label:"FreeMarker",value:"ftl"},{label:"Gherkin",value:"gherkin"},{label:"Gitignore",value:"gitignore"},{label:"Glsl",value:"glsl"},{label:"Go",value:"golang"},{label:"Groovy",value:"groovy"},{label:"HAML",value:"haml"},{label:"Handlebars",value:"handlebars"},{label:"Haskell",value:"haskell"},{label:"haXe",value:"haxe"},{label:"HTML",value:"html"},{label:"HTML (Ruby)",value:"html_ruby"},{label:"INI",value:"ini"},{label:"Jack",value:"jack"},{label:"Jade",value:"jade"},{label:"Java",value:"java"},{label:"JSON",value:"json"},{label:"JSONiq",value:"jsoniq"},{label:"JSP",value:"jsp"},{label:"JSX",value:"jsx"},{label:"Julia",value:"julia"},{label:"LaTeX",value:"latex"},{label:"LESS",value:"less"},{label:"Liquid",value:"liquid"},{label:"Lisp",value:"lisp"},{label:"LiveScript",value:"livescript"},{label:"LogiQL",value:"logiql"},{label:"LSL",value:"lsl"},{label:"Lua",value:"lua"},{label:"LuaPage",value:"luapage"},{label:"Lucene",value:"lucene"},{label:"Makefile",value:"makefile"},{label:"Markdown",value:"markdown"},{label:"MATLAB",value:"matlab"},{label:"mcScript",value:"mcscript"},{label:"MEL",value:"mel"},{label:"MicroPython",value:"micropython"},{label:"MUSHCode",value:"mushcode"},{label:"MySQL",value:"mysql"},{label:"Nix",value:"nix"},{label:"Objective-C",value:"objectivec"},{label:"OCaml",value:"ocaml"},{label:"Pascal",value:"pascal"},{label:"Perl",value:"perl"},{label:"pgSQL",value:"pgsql"},{label:"PHP",value:"php"},{label:"Powershell",value:"powershell"},{label:"Processing",value:"processing"},{label:"Prolog",value:"prolog"},{label:"Properties",value:"properties"},{label:"Protobuf",value:"protobuf"},{label:"R",value:"r"},{label:"RDoc",value:"rdoc"},{label:"RHTML",value:"rhtml"},{label:"Ruby",value:"ruby"},{label:"Rust",value:"rust"},{label:"SASS",value:"sass"},{label:"SCAD",value:"scad"},{label:"Scala",value:"scala"},{label:"Scheme",value:"scheme"},{label:"Scratch",value:"scratch"},{label:"SCSS",value:"scss"},{label:"SH",value:"sh"},{label:"SJS",value:"sjs"},{label:"Smarty",value:"smarty"},{label:"snippets",value:"snippets"},{label:"Soy Template",value:"soy_template"},{label:"Space",value:"space"},{label:"SQL",value:"sql"},{label:"Stylus",value:"stylus"},{label:"SVG",value:"svg"},{label:"Swift",value:"swift"},{label:"Tcl",value:"tcl"},{label:"Tex",value:"tex"},{label:"Plain text",value:"text"},{label:"Textile",value:"textile"},{label:"Toml",value:"toml"},{label:"Twig",value:"twig"},{label:"Typescript",value:"typescript"},{label:"Vala",value:"vala"},{label:"VB.NET",value:"vb.net"},{label:"VBScript",value:"vbscript"},{label:"Velocity",value:"velocity"},{label:"Verilog",value:"verilog"},{label:"VHDL",value:"vhdl"},{label:"XML",value:"xml"},{label:"XQuery",value:"xquery"},{label:"YAML",value:"yaml"}],O=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=h(this,y(t).call(this,e))).state={languageExpanded:!1,typeExpanded:!1},r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),r=t,(a=[{key:"_getExpandButton",value:function(e){var t=this;return n.default.createElement("button",{className:"".concat(u.default.blank," ").concat(c.default.link," ").concat(c.default.bodyS," ").concat(s.default.marginTop10," ").concat(s.default.marginBottom30," ").concat(this.props.disabled?d.default.disabled:""),disabled:this.props.disabled,onClick:function(){return t.setState((r={},n=e,a=!t.state[e],n in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r));var r,n,a}},this.state[e]?"- Less":"+ More")}},{key:"render",value:function(){var e=this.props,t=e.disabled,r=e.filters,a=e.onChange,u=this.state.languageExpanded?b:b.slice(0,4),c=this.state.typeExpanded?v:v.slice(0,5);return n.default.createElement("section",null,n.default.createElement(l.default,{controlledValue:!0,creatable:!1,disabled:t||r.parts&&3===r.parts.length,name:"part",label:n.default.createElement(o.default,{className:s.default.marginBottom10,count:r.parts?r.parts.length:0,disabled:t,label:"Products",limit:3}),multi:!0,onChange:function(e){return a({parts:e})},placeholder:" ",selectionLimit:3,searchable:!0,value:r.parts}),n.default.createElement(i.default,{classList:{root:s.default.marginBottom0},disabled:t,label:n.default.createElement(o.default,{disabled:t,label:"Project type"}),name:"projectType",onChange:function(e){return a({project_type:e})},options:c,values:r.project_type}),this._getExpandButton("typeExpanded"),n.default.createElement(i.default,{classList:{root:s.default.marginBottom30},disabled:t,label:n.default.createElement(o.default,{disabled:t,label:"Difficulty"}),onChange:function(e){return a({difficulty:e})},name:"difficulty",options:_,values:r.difficulty}),n.default.createElement(i.default,{classList:{root:s.default.marginBottom0},disabled:t,label:n.default.createElement(o.default,{disabled:t,label:"Programming language"}),name:"programmingLanguage",onChange:function(e){return a({language:e})},options:u,values:r.language}),this._getExpandButton("languageExpanded"))}}])&&m(r.prototype,a),f&&m(r,f),t}();O.propTypes={disabled:a.default.bool,filters:a.default.shape({parts:a.default.array,project_type:a.default.array,difficulty:a.default.array}),onChange:a.default.func},O.defaultProps={disabled:!1,filters:{},onChange:function(){}};var w=O;t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),a=l(r(0)),o=r(513),i=l(r(193));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e){return i.default.search({index:"parts",query:e,sort:"name"}).then(function(e){return{options:(t=e.hits,t.map(function(e){return{label:e.full_name,value:e.full_name}}))};var t}).catch(function(e){return Promise.reject(e)})}var c=function(e){return a.default.createElement(o.AsyncSelect,u({loadOptions:s,minimumInput:1,onBlur:e.onBlur,onChange:e.onChange,searchInCache:!1},e))};c.propTypes={creatable:n.default.bool,label:n.default.oneOfType([n.default.string,n.default.element]),multi:n.default.bool,onBlur:n.default.func,onChange:n.default.func,placeholder:n.default.string,searchable:n.default.bool},c.defaultProps={creatable:!0,label:"Skills",multi:!0,onBlur:function(){},onChange:function(){},placeholder:"",searchable:!0},c.getValue=function(e){return e},c.formatValueIn=function(e){return e},c.formatValueOut=function(e){return e};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(1)),a=d(r(0)),o=d(r(106)),i=d(r(397)),l=d(r(1011)),u=d(r(2487)),s=r(123),c=d(r(2));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.disabled,r=e.filters,n=e.onChange;return a.default.createElement("section",null,a.default.createElement(u.default,{controlledValue:!0,creatable:!1,disabled:t||r.skills&&3===r.skills.length,name:"skills",label:a.default.createElement(i.default,{className:c.default.marginBottom10,count:r.skills?r.skills.length:0,disabled:t,label:"Skills",limit:3}),multi:!0,onChange:function(e){return n({skills:e})},placeholder:" ",searchable:!0,selectionLimit:3,value:r.skills}),a.default.createElement(l.default,{disabled:t,filters:r,onChange:n}),a.default.createElement(i.default,{className:c.default.marginBottom10,disabled:t,label:"Availability"}),a.default.createElement(o.default,{isChecked:(0,s.boolOrStringToBool)(r.available_for_hire),disabled:t,label:"Available for hire",name:"availability",onChange:function(e){return n({available_for_hire:e})},type:"checkbox",value:"available_for_hire"}))};f.propTypes={disabled:n.default.bool,filters:n.default.shape({location:n.default.oneOfType([n.default.string,n.default.object]),distance:n.default.string,available_for_hire:n.default.oneOfType([n.default.bool,n.default.string])}),onChange:n.default.func},f.defaultProps={disabled:!1,filters:{},onChange:function(){}};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1)),a=l(r(0)),o=r(513),i=r(2488);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){return a.default.createElement(o.AsyncSelect,u({loadOptions:function(e){return(0,i.searchTags)(e).then(function(e){return{options:(t=e.hits,t.map(function(e){return{label:e.name,value:e.name}}))};var t}).catch(function(e){return Promise.reject(e)})},minimumInput:1,onBlur:e.onBlur,onChange:e.onChange,searchInCache:!0},e))};s.propTypes={creatable:n.default.bool,label:n.default.oneOfType([n.default.string,n.default.element]),multi:n.default.bool,onBlur:n.default.func,onChange:n.default.func,placeholder:n.default.string,searchable:n.default.bool},s.defaultProps={creatable:!0,label:"Skills",multi:!0,onBlur:function(){},onChange:function(){},placeholder:"",searchable:!0},s.getValue=function(e){return e},s.formatValueIn=function(e){return e},s.formatValueOut=function(e){return e};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchTags=function(e){return new Promise(function(t,r){return(0,a.default)("tags").search(e,{hitsPerPage:5}).then(function(e){return t(e)}).catch(function(e){return r(e)})})};var n,a=(n=r(265))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(1)),a=c(r(0)),o=c(r(108)),i=r(396),l=r(11),u=c(r(21)),s=c(r(5));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return((0,l.isNumber)(e)?i.whitelabelIndexes.filter(function(t){return!(0,i.isBlacklistedWhitelabelIndex)(e,t)}):i.indexes).map(function(e){return{label:(0,i.indexToLabel)(e),value:e}})}var f=function(e){var t=e.channelId,r=e.disabled,n=e.index,i=e.mobile,l=e.onChange;return a.default.createElement("section",null,a.default.createElement("header",{className:"".concat(u.default.label," ").concat(r?s.default.disabled:"")},"Show results for"),a.default.createElement(o.default,{buttons:d(t),disabled:r,name:"index-".concat(i?"mobile":"desktop"),onChange:l,value:n}))};f.propTypes={disabled:n.default.bool,index:n.default.string.isRequired,mobile:n.default.bool,onChange:n.default.func},f.defaultProps={disabled:!1,mobile:!1,onChange:function(){}};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(0)),a=l(r(1)),o=l(r(397)),i=l(r(108));function l(e){return e&&e.__esModule?e:{default:e}}var u={channels:[{label:"Relevance",value:"relevance"},{label:"A-Z",value:"a_z"},{label:"Last updated",value:"last_updated"},{label:"Most projects",value:"most_projects"}],events:[{label:"Relevance",value:"relevance"},{label:"Earliest first",value:"earliest_first"},{label:"Latest first",value:"latest_first"}],news_articles:[{label:"Relevance",value:"relevance"},{label:"Most recent",value:"most_recent"},{label:"Most respected",value:"most_respected"}],parts:null,projects:[{label:"Relevance",value:"relevance"},{label:"Most recent",value:"most_recent"},{label:"Most respected",value:"most_respected"},{label:"Trending",value:"trending"}],users:null},s=function(e){var t=e.disabled,r=e.index,a=e.mobile,l=e.onChange,s=e.sort;return u[r]?n.default.createElement(i.default,{buttons:u[r],disabled:t,label:n.default.createElement(o.default,{disabled:t,label:"Sort by"}),name:"sort-".concat(a?"mobile":"desktop"),onChange:l,value:s}):null};s.propTypes={disabled:a.default.bool,index:a.default.string.isRequired,mobile:a.default.bool,onChange:a.default.func,sort:a.default.string.isRequired},s.defaultProps={disabled:!1,mobile:!1,onChange:function(){}};var c=s;t.default=c},function(e,t,r){e.exports={asphalt:"#D8D8D8",hackster:"#2E9FE6",pebble:"#767676",graphite:"#4A4A4A",med:"(max-width: 768px)",applyContainer:"search_settings__applyContainer__2tQM3",backButton:"search_settings__backButton__1FnJt",panel:"search_settings__panel__7c9gF",settingsDesktop:"search_settings__settingsDesktop__1c9bz",settingsMobile:"search_settings__settingsMobile__1pM0i",settingsMobileInner:"search_settings__settingsMobileInner__3Ss7U",settingsHidden:"search_settings__settingsHidden__1IPCH search_settings__settingsMobile__1pM0i"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){return function(){return{pageType:"search#index",title:"Hackster.io - The community dedicated to learning hardware."}}};t.default=n},function(e,t,r){e.exports={container:"search__container__3O5Za",resultsListWrapper:"search__resultsListWrapper__3eMfe",resultsPanel:"search__resultsPanel__SRR-K"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=y(r(154)),i=y(r(9)),l=y(r(1002)),u=y(r(193)),s=y(r(7)),c=y(r(530)),d=r(395),f=r(531),p=r(20),m=r(12),h=y(r(1004));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=v(t).call(this,e))||"object"!==g(a)&&"function"!=typeof a?b(n):a).state={inputFocused:!1,suggestions:[],value:""},r.dismissMobileView=r.dismissMobileView.bind(b(r)),r.fetchSuggestions=r.fetchSuggestions.bind(b(r)),r.focusFromDispatch=r.focusFromDispatch.bind(b(r)),r.handleKeyDown=r.handleKeyDown.bind(b(r)),r.handleOnChange=r.handleOnChange.bind(b(r)),r.handleQuery=r.handleQuery.bind(b(r)),r.handleQueryUpdate=r.handleQueryUpdate.bind(b(r)),r.handleResize=r.handleResize.bind(b(r)),r.handleWindowClick=r.handleWindowClick.bind(b(r)),r.handleInputBlur=r.handleInputBlur.bind(b(r)),r.onInputFocus=r.onInputFocus.bind(b(r)),r.root,r.input,r}var r,n,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){this.debouncedResize=(0,o.default)(this.handleResize,200),window.addEventListener("focus:ReactSearchInput",this.focusFromDispatch),window.addEventListener("resize",this.debouncedResize),this.props.onSearchPath?this._initializeFromSearchParams():this.input&&this.input.value&&this.input.value.length>0&&this.handleOnChange({target:{value:(0,p.stripExcessWhiteSpace)(this.input.value)}}),u.default.getChannel().subscribe("queryUpdate",this.handleQueryUpdate)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleWindowClick),window.removeEventListener("focus:ReactSearchInput",this.focusFromDispatch),window.removeEventListener("resize",this.debouncedResize)}},{key:"_initializeFromSearchParams",value:function(){var e=m.windowLocationSearch.get().substring(1),t=(0,c.default)(e),r=t.query;return u.default.enableHistoryPushState(),r&&r.length&&(u.default.createSuggestion(r),this.setState({value:r})),u.default.initializeWithEffects(t,this.props.channelId).then(function(){return u.default.getChannel().publish("working",!1)}).catch(function(e){u.default.getChannel().publish("working",!1),(0,s.default)("Search input _initializeFromSearchParams",e)})}},{key:"dismissMobileView",value:function(){var e=this;this.setState({inputFocused:!1,suggestions:[]},function(){e.input&&e.input.blur(),e._setRootShowFlex(!1),e._setDocumentNoScroll(!1)})}},{key:"fetchSuggestions",value:function(e){var t=this;return u.default.getSuggestions(e).then(function(e){return t.setState({suggestions:e})}).catch(function(e){return(0,s.default)("fetchSuggestions",e)})}},{key:"focusFromDispatch",value:function(){this._isInMobileView()&&(this.state.inputFocused?this.dismissMobileView():(this.props.onSearchPath||this._setRootShowFlex(!0),this.input&&this.input.focus()))}},{key:"handleKeyDown",value:function(e){13===e.keyCode?this._handleReturnKey(e):27===e.keyCode||9===e.keyCode?(e.preventDefault(),this.handleInputBlur()):!this.dropdownlist||40!==e.keyCode&&38!==e.keyCode||(e.preventDefault(),this.dropdownlist.handleKeyDown(e))}},{key:"_handleReturnKey",value:function(e){this.dropdownlist&&this.dropdownlist.isDropdownItemFocused()?this.dropdownlist.handleKeyDown(e):this.handleQuery()}},{key:"handleOnChange",value:function(e){var t=this,r=e.target.value;r.length>255&&(r=r.slice(0,255)),r&&r.length>0&&r.split(" ").join("").length>0?(this.fetchSuggestions(r),this.setState({value:r},function(){return t._handleNoScroll()})):this.setState({value:r,suggestions:[]},function(){return t._handleNoScroll()})}},{key:"handleQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.handleInputBlur(),!1===this.props.onSearchPath)return this._redirectWithQuery(e);this._isInMobileView()&&this.dismissMobileView();var r=u.default.processQueryMap({query:e});return r.query.length>0&&u.default.createSuggestion(r.query),r.query!==this.state.value&&this.setState({value:r.query}),u.default.searchWithEffects(r,t,!0).catch(function(e){return(0,s.default)("handleQuery",e)})}},{key:"handleQueryUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.state.value!==e&&this.setState({value:e})}},{key:"_redirectWithQuery",value:function(e){var t=(0,d.filterSearchQuery)(e);(0,f.storeSearchQuery)(t),(0,m.windowLocationRedirect)(u.default.getRedirectPath(encodeURIComponent(t)))}},{key:"handleResize",value:function(){this._isInMobileView()?this.state.inputFocused&&(this._setRootShowFlex(!0),this._handleNoScroll()):this.dismissMobileView()}},{key:"handleWindowClick",value:function(e){var t=document.getElementById("nav-search-icon");t&&e.target&&t.contains(e.target)||this.root&&!this.root.contains(e.target)&&this.handleInputBlur()}},{key:"handleInputBlur",value:function(){window.removeEventListener("click",this.handleWindowClick),this._isInMobileView()?this.dismissMobileView():this.setState({inputFocused:!1,suggestions:[]}),this.input&&this.input.blur()}},{key:"onInputFocus",value:function(){window.addEventListener("click",this.handleWindowClick),this.setState({inputFocused:!0}),this._isInMobileView()&&(this._setRootShowFlex(!0),this._handleNoScroll()),this.state.value.length>0&&this.handleOnChange({target:{value:this.state.value}})}},{key:"_handleNoScroll",value:function(){this._isInMobileView()&&(this.props.onSearchPath?this.props.onSearchPath&&(this.state.value.length>0?this._setDocumentNoScroll(!0):this._setDocumentNoScroll(!1)):this._setDocumentNoScroll(!0))}},{key:"_isInMobileView",value:function(){return(0,m.windowInnerWidth)()<768}},{key:"_setRootShowFlex",value:function(e){this.root&&(e&&!this.root.classList.contains("show-flex")?this.root.classList.add("show-flex"):!e&&this.root.classList.contains("show-flex")&&this.root.classList.remove("show-flex"))}},{key:"_setDocumentNoScroll",value:function(e){document&&document.body&&(e&&!document.body.classList.contains("no-scroll")?document.body.classList.add("no-scroll"):!e&&document.body.classList.contains("no-scroll")&&document.body.classList.remove("no-scroll"))}},{key:"_shouldShowDismissX",value:function(){return!this.props.onSearchPath||!(this.state.inputFocused&&this.state.suggestions.length<=0&&this.state.value.length<=0||!1===this.state.inputFocused)}},{key:"_getContainerStyles",value:function(){return this.props.onSearchPath?this.state.value.length>0&&this.state.inputFocused?"".concat(h.default.onSearchPath," ").concat(h.default.viewPortHeightMax):h.default.onSearchPath:h.default.viewPortHeightMax}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{ref:function(t){return e.root=t},id:"react-search",className:"".concat(h.default.container," ").concat(this._getContainerStyles())},a.default.createElement("div",{className:"\n          ".concat(h.default.inputContainer,"\n          ").concat(this.state.inputFocused?h.default.inputFocused:"","\n          ").concat(this.state.suggestions.length>0?h.default.listOpen:"","\n          ").trim()},a.default.createElement("div",{className:h.default.searchIconWrapper,onClick:function(){return e.handleQuery()}},a.default.createElement(i.default,{name:"search",className:h.default.searchIcon})),a.default.createElement("input",{ref:function(t){return e.input=t},className:h.default.input,id:"searchInput",type:"text",placeholder:"What are you looking for?",value:this.state.value,onChange:this.handleOnChange,onFocus:this.onInputFocus,onKeyDown:this.handleKeyDown}),this.state.suggestions&&this.state.suggestions.length>0&&a.default.createElement(l.default,{ref:function(t){return e.dropdownlist=t},currentQuery:this.state.value,dismiss:function(){return e.setState({suggestions:[]})},onSelect:function(t){return e.setState({value:t.value.query},function(){return e.handleQuery(t.value.query,t.value)})},options:this.state.suggestions,templateFn:function(e){return a.default.createElement("span",{dangerouslySetInnerHTML:{__html:e.label}})}})),a.default.createElement("span",{className:"".concat(h.default.dismiss," ").concat(this._shouldShowDismissX()?"":h.default.hideDismiss),onClick:function(){return e.dismissMobileView()}},"×"))}}])&&_(r.prototype,n),y&&_(r,y),t}();w.propTypes={channelId:n.default.number,onSearchPath:n.default.bool.isRequired},w.defaultProps={channelId:null};var E=w;t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(2496)),i=d(r(2498)),l=d(r(1005)),u=r(14),s=r(8),c=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _={key:"sort",label:"Most recently added",meta:{msg:"Default section when sections are emptied."},title:"Most recently added",value:"published"},v=[{key:"sort",label:"Most popular",title:"Most popular",value:"popular"},{key:"sort",label:"Most recently added",title:"Most recently added",value:"published"}],b=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?y(n):a).state={hiddenInputValue:"",sections:null,view:"table"},r.facetStore=r._initFacetStore(),r.addSection=r.addSection.bind(y(r)),r.removeSection=r.removeSection.bind(y(r)),r.updateSection=r.updateSection.bind(y(r)),r}var r,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._initializeProjectsCountForSections(this.props.topic.home_sections)}},{key:"_initFacetStore",value:function(){var e={};return{add:function(t,r){return e[t]=r},get:function(t){return e[t]},getProjectCount:function(t,r){return(0,s.getInObj)([t,r],e)||0},getStore:function(){return e}}}},{key:"_initializeProjectsCountForSections",value:function(e){var t=this;return this._fetchProjectRelationsCounts().then(function(r){var n=e.map(function(e){return"tag_id"===e.key&&r.tags.hasOwnProperty(e.value.toString())?Object.assign({},e,{record:{projects_count:r.tags[e.value.toString()]}}):"sort"===e.key?Object.assign({},e,{record:{projects_count:r.all_projects_count}}):e});t._setProjectCollectionSortCountsInFacetStore(r),t.facetStore.add("tag_id",r.tags),t.setState({hiddenInputValue:t._composeInputJsonValue(e),sections:n})}).catch(function(e){return(0,c.default)("_initializeData",e)})}},{key:"_fetchProjectRelationsCounts",value:function(){var e=this;return new Promise(function(t,r){return(0,u.graphQuery)({t:"get_channel_relations_projects_count"},{id:e.props.topic.id}).then(function(e){return t((0,s.getInObj)(["channel","relations_projects_counts"],e)||{})}).catch(function(e){return r(e)})})}},{key:"_setProjectCollectionSortCountsInFacetStore",value:function(e){var t=v.reduce(function(t,r){return"sort"===r.key&&(t[r.value]=e.all_projects_count),t},{});this.facetStore.add("sort",t)}},{key:"_composeInputJsonValue",value:function(e){var t=e.map(function(e){return e.record,p(e,["record"])});return JSON.stringify(t)}},{key:"addSection",value:function(e){var t=this.state.sections.concat(e);this.setState({hiddenInputValue:this._composeInputJsonValue(t),sections:t,view:"table"})}},{key:"removeSection",value:function(e){var t=this.state.sections.filter(function(t,r){return e.index!==r});this.setState({hiddenInputValue:this._composeInputJsonValue(t),sections:t.length>0?t:[Object.assign({},_,{record:{projects_count:this.facetStore.getProjectCount("sort","published")}})]})}},{key:"updateSection",value:function(e){var t=this.state.sections.map(function(t,r){return e.index===r?e.data:t});this.setState({hiddenInputValue:this._composeInputJsonValue(t),sections:t})}},{key:"_getRenderedView",value:function(){return"table"===this.state.view?this._getTableView():this._getAddSectionView()}},{key:"_getRenderedView",value:function(){switch(this.state.view){case"addSection":return this._getAddSectionView();case"preview":return this._getPreviewView();case"table":default:return this._getTableView()}}},{key:"_getAddSectionView",value:function(){var e=this;return n.default.createElement(o.default,{addSection:this.addSection,collections:{projectCollection:v,tagCollection:this.props.topic.tag_selection_list},existingSections:this.state.sections,facetStore:this.facetStore,toggleView:function(t){return e.setState({view:t})}})}},{key:"_getPreviewView",value:function(){var e=this;return n.default.createElement(i.default,{topic:this.props.topic,sections:this.state.sections,toggleView:function(t){return e.setState({view:t})}})}},{key:"_getTableView",value:function(){var e=this;return n.default.createElement(l.default,{removeSection:this.removeSection,sections:this.state.sections,toggleView:function(t){return e.setState({view:t})},updateSection:this.updateSection,updateSectionsOrder:function(t){return e.setState({sections:t,hiddenInputValue:e._composeInputJsonValue(t)})}})}},{key:"render",value:function(){return n.default.createElement("div",null,n.default.createElement("input",{type:"hidden",id:"group_home_sections",name:"group[home_sections]",value:this.state.hiddenInputValue}),this._getRenderedView())}}])&&m(r.prototype,a),d&&m(r,d),t}();b.propTypes={topic:a.default.shape({tag_selection_list:a.default.arrayOf(a.default.shape({key:a.default.string,label:a.default.string,title:a.default.string,value:a.default.oneOfType([a.default.string,a.default.number,a.default.bool])})).isRequired,home_sections:a.default.arrayOf(a.default.shape({key:a.default.string,label:a.default.string,title:a.default.string,value:a.default.oneOfType([a.default.string,a.default.number,a.default.bool])})).isRequired,id:a.default.number.isRequired,user_name:a.default.string.isRequired}).isRequired},b.defaultProps={};var O=b;t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(143)),i=f(r(108)),l=f(r(2497)),u=f(r(7)),s=f(r(2)),c=f(r(3)),d=f(r(283));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=[{label:"Project collection",value:"projectCollection"},{label:"Tag",value:"tagCollection"}],b=function(e){function t(e){var r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=!(a=y(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?g(n):a;var o=v[0].value;return r.state={isBusy:!1,sectionConfig:(0,l.default)(o),sectionStores:r._createSectionStores(),sectionType:o},r.clearValueForType=r.clearValueForType.bind(g(r)),r.getErrorsForType=r.getErrorsForType.bind(g(r)),r.getValueForType=r.getValueForType.bind(g(r)),r.getSelectionListForType=r.getSelectionListForType.bind(g(r)),r.onAddSectionClick=r.onAddSectionClick.bind(g(r)),r.setCurrentSelectionForType=r.setCurrentSelectionForType.bind(g(r)),r.toggleBusyStatus=r.toggleBusyStatus.bind(g(r)),r.ctaForm,r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n.Component),r=t,(a=[{key:"_createSectionStores",value:function(){return v.map(function(e){return e.value}).reduce(function(e,t){return e[t]={formErrors:"",record:{},value:""},e},{})}},{key:"_reportErrorIfStoreHasNoType",value:function(e,t){this.state.sectionStores.hasOwnProperty(e)||(0,u.default)("SectionStores recieved an unknown type, ".concat(e,".  Known keys: ").concat(Object.keys(this.state.sectionStores),".  Method: ").concat(t))}},{key:"clearValueForType",value:function(e){this._reportErrorIfStoreHasNoType(e,"clearValueForType"),this.setState({sectionStores:Object.assign({},this.state.sectionStores,m({},e,{formErrors:"",record:{},value:""}))})}},{key:"getErrorsForType",value:function(e){return this._reportErrorIfStoreHasNoType(e,"getErrorsForType"),this.state.sectionStores[e].formErrors}},{key:"getSelectionListForType",value:function(e){var t=this;return!this.props.hasOwnProperty("collections")||this.props.collections&&!this.props.collections.hasOwnProperty(e)?((0,u.default)("getSelectionListForType recieved unknown list prop, collections.".concat(e,".  Double check your props!")),[]):this.props.collections[e].filter(function(e){return-1===t.props.existingSections.findIndex(function(t){return t.key===e.key&&t.value===e.value})}).map(function(e){return Object.assign({},e,{record:{projects_count:t.props.facetStore.getProjectCount(e.key,e.value)}})})}},{key:"getValueForType",value:function(e){return this._reportErrorIfStoreHasNoType(e,"getValueForType"),this.state.sectionStores[e].value}},{key:"onAddSectionClick",value:function(){var e=this.state.sectionType;return"cta"===e?this._addCTASection():this._addSelectSection(e)}},{key:"_addCTASection",value:function(){if(!this.ctaForm)return(0,u.default)("ctaForm ref does not exist!");this.ctaForm.validate()&&this.props.addSection(this.state.sectionConfig.toSection(this.ctaForm.getFormData()))}},{key:"_addSelectSection",value:function(e){this._reportErrorIfStoreHasNoType(e,"_addSelectSection");var t=this.state.sectionStores[e];if(!t.value||"string"==typeof t.value&&!t.value.length)return this.setState({sectionStores:Object.assign({},this.state.sectionStores,m({},e,{formErrors:"A ".concat(e," must be selected!"),record:{},value:""}))});this.props.addSection(this.state.sectionConfig.toSection(t.record))}},{key:"setCurrentSelectionForType",value:function(e,t){this._reportErrorIfStoreHasNoType(e,"setCurrentSelectionForType"),this.setState({sectionStores:Object.assign({},this.state.sectionStores,m({},e,{formErrors:"",record:t.record,value:t.value}))})}},{key:"toggleBusyStatus",value:function(e){this.setState({isBusy:e})}},{key:"_getSelectInputView",value:function(){return this.state.sectionConfig.hasOwnProperty("component")?this.state.sectionConfig.component(this):((0,u.default)("AddSectionView _getSelectInputView is missing a component fn! sectionType: ".concat(this.state.sectionConfig)),(0,l.default)("_failSafe").component())}},{key:"_getLabelForView",value:function(){return this.state.sectionConfig.hasOwnProperty("label")?this.state.sectionConfig.label():((0,u.default)("AddSectionView _getLabelForView is missing a label fn! sectionType: ".concat(this.state.sectionConfig)),(0,l.default)("_failSafe").label())}},{key:"render",value:function(){var e=this;return n.default.createElement("section",{className:"".concat(d.default.root," ").concat(d.default.paddedContainer)},n.default.createElement("h2",{className:"".concat(c.default.h2," ").concat(s.default.marginBottom30)},"Add section"),n.default.createElement(i.default,{buttons:v,label:"Select a section type",onChange:function(t){return e.setState({sectionConfig:(0,l.default)(t.target.value),sectionType:t.target.value})},value:this.state.sectionType}),this._getLabelForView(),this._getSelectInputView(),n.default.createElement(o.default,{isBusy:this.state.isBusy,primaryBtnConfig:{onClick:this.onAddSectionClick,text:"Add section"},secondaryBtnConfig:{onClick:function(){return e.props.toggleView("table")}}}))}}])&&h(r.prototype,a),f&&h(r,f),t}();b.propTypes={addSection:a.default.func.isRequired,collections:a.default.shape({projectCollection:a.default.arrayOf(a.default.shape({key:a.default.string.isRequired,label:a.default.string.isRequired,title:a.default.string.isRequired,value:a.default.oneOfType([a.default.string,a.default.number,a.default.bool]).isRequired})).isRequired,tagCollection:a.default.arrayOf(a.default.shape({key:a.default.string.isRequired,label:a.default.string.isRequired,title:a.default.string.isRequired,value:a.default.oneOfType([a.default.string,a.default.number,a.default.bool]).isRequired})).isRequired}).isRequired,existingSections:a.default.array.isRequired,facetStore:a.default.shape({add:a.default.func,get:a.default.func,getProjectCount:a.default.func,getStore:a.default.func}).isRequired,toggleView:a.default.func.isRequired},b.defaultProps={};var O=b;t.default=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!c.hasOwnProperty(e))return(0,i.default)("AddSectionView getConfigByType expected type, ".concat(e," to exist.  Known keys: ").concat(Object.keys(c))),c._failSafe();return c[e]()};var n=l(r(0)),a=l(r(100)),o=r(282),i=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){var r=t.placeholder,o=void 0===r?"Select an option from the dropdown":r,i=t.type,l=e.getErrorsForType(i);return n.default.createElement(a.default,{key:i,errors:Array.isArray(l)?l[0]:l,maxWidth:500,onSelectedChange:function(t){return e.setCurrentSelectionForType(i,t)},options:s(e.getSelectionListForType(i)),placeholder:o,value:e.getValueForType(i)})},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.map(function(e){var r=e.record.projects_count;return{disabled:r<t,label:e.label,labelView:(0,o.createOptionLabel)({name:e.label,projects_count:r},t),record:e,value:e.value}})},c={projectCollection:function(){return{label:function(){return(0,o.createSelectComponentLabel)("Project collection")},component:function(e){return u(e,{type:"projectCollection"})},toSection:function(e){return e}}},tagCollection:function(){return{label:function(){return(0,o.createSelectComponentLabel)("Tag")},component:function(e){return u(e,{type:"tagCollection"})},toSection:function(e){return e}}},_failSafe:function(){return{label:function(){return(0,o.createSelectComponentLabel)("...")},component:function(){return function(){return n.default.createElement("div",null)}},toSection:function(){}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),a=s(r(1)),o=s(r(378)),i=s(r(10)),l=s(r(3)),u=s(r(145));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.sections,r=e.topic,a=e.toggleView;return n.default.createElement("div",{className:u.default.previewRoot},n.default.createElement("div",{className:u.default.previewWrapper},n.default.createElement("div",{className:u.default.previewHeaderFixedContainer},n.default.createElement("div",{className:u.default.previewHeaderWrapper},n.default.createElement("div",{className:u.default.previewHeader},n.default.createElement("h3",{className:"".concat(l.default.headerLNoMarginTop," ").concat(l.default.fontWeight300)},"Preview home page"),n.default.createElement("div",null,n.default.createElement("button",{className:i.default.lg,onClick:function(){return a("table")},type:"button"},"Close preview"))))),n.default.createElement("div",{className:u.default.previewHomePageWrapper},n.default.createElement(o.default,{canManage:!0,homeSections:t,path:"/",renderForPreview:!0,seoHandler:function(){},transition:function(){},viewAllBuilderArg:function(){return{type:"topic",props:{topic:r}}}}))))};c.propTypes={sections:a.default.array.isRequired,toggleView:a.default.func.isRequired,topic:a.default.object.isRequired},c.defaultProps={};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(0)),a=d(r(1)),o=d(r(274)),i=d(r(2500)),l=d(r(497)),u=d(r(22)),s=d(r(2)),c=d(r(2503));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.delayRedirect,r=void 0===t||t,n=e.e,a=e.location,o=void 0===a?"topnav":a,i=e.type,l=void 0===i?"main-links":i,s=e.value;u.default.recordLinkClick({},{location:o,type:l,value:s},r,n)},p=function(e){var t=e.className,r=e.link;return n.default.createElement("a",{className:t,href:r.url,onClick:function(e){return f({e:e})},target:r.target},r.name)},m=function(e){var t=e.link;return n.default.createElement(i.default,{classList:{link:c.default.link,wrapper:c.default.linkWrapper},columns:t.columns,openMenuEventType:"topnav-".concat(t.name),portalId:"topNavPortal",name:t.name,trackLinkClick:f,url:t.url})},h=function(e){var t=e.className,r=e.mainLinks;return n.default.createElement("div",{className:t},n.default.createElement("div",{className:c.default.root},n.default.createElement("div",{className:c.default.left},n.default.createElement(o.default,{classList:{arrowLeft:c.default.arrows,arrowRight:c.default.arrows}},r.map(function(e,t){return e.hasOwnProperty("columns")?n.default.createElement(m,{key:t,link:e}):n.default.createElement("span",{key:t,className:c.default.linkWrapper},n.default.createElement(p,{className:c.default.link,link:e}))}))),n.default.createElement("div",{className:"".concat(s.default.flexCenterItems," ").concat(s.default.hiddenMedLargeDown)},n.default.createElement("div",{className:c.default.divider}),n.default.createElement(l.default,{className:s.default.flexCenterItems,trackLinkClick:f}))),n.default.createElement("div",{id:"topNavPortal"}))};h.propTypes={className:a.default.string,mainLinks:a.default.arrayOf(a.default.shape({columns:a.default.arrayOf(a.default.shape({header:a.default.string.isRequired,linkList:a.default.shape({items:a.default.arrayOf(a.default.shape({name:a.default.string,url:a.default.string})).isRequired,viewAllLink:a.default.shape({name:a.default.string,url:a.default.string})}).isRequired,footerSection:a.default.shape({header:a.default.string.isRequired,items:a.default.arrayOf(a.default.shape({imageUrl:a.default.string,name:a.default.string,url:a.default.string}))})})),name:a.default.string.isRequired,target:a.default.string,url:a.default.string.isRequired})).isRequired},h.defaultProps={className:""};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=d(r(362)),i=d(r(9)),l=d(r(2501)),u=d(r(22)),s=d(r(2)),c=d(r(535));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=m(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?h(n):a).state={showMenu:!1},r.handleMouseLeave=r.handleMouseLeave.bind(h(r)),r.handleMouseOver=r.handleMouseOver.bind(h(r)),r.hovered=!1,r.openEventFired=!1,r._menuContainer,r}var r,n,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,a.Component),r=t,(n=[{key:"handleMouseLeave",value:function(e){var t=this;if(this._menuContainer){var r=this._menuContainer.getBoundingClientRect(),n=r.top,a=r.right,o=r.bottom,i=r.left,l=e.clientX,u=e.clientY;(l<=i||l>=a||u<=n||u>=o)&&(setTimeout(function(){return t.hovered?null:t.setState({showMenu:!1})},350),this.hovered=!1)}else this.hovered&&(this.hovered=!1)}},{key:"handleMouseOver",value:function(){var e=this;this.hovered||(this.hovered=!0),setTimeout(function(){e.hovered&&(e.openEventFired||(e.openEventFired=!0,u.default.reportEvent({eventName:"Opened menu"},{type:e.props.openMenuEventType})),e.setState({showMenu:!0}))},500)}},{key:"_renderLink",value:function(e){var t=this.props,r=t.classList,n=t.name,o=t.trackLinkClick,l=t.url;return a.default.createElement("a",{className:"".concat(r.link," ").concat(e?s.default.hiddenMedLargeDown:s.default.hiddenMedLargeUp),href:l,title:n,onClick:function(e){return o({e:e})},onMouseLeave:e?this.handleMouseLeave:null,onMouseOver:e?this.handleMouseOver:null},n,e&&a.default.createElement(i.default,{className:s.default.marginLeft10,name:"arrow-down",size:"12"}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.classList,n=t.columns,i=t.portalId,u=t.trackLinkClick,s=this.state.showMenu;return a.default.createElement("span",{className:r.wrapper},this._renderLink(!1),this._renderLink(!0),a.default.createElement(o.default,{id:i},s&&a.default.createElement("div",{className:c.default.menuRoot},a.default.createElement("div",{ref:function(t){return e._menuContainer=t},className:c.default.menuContainer,onMouseLeave:this.handleMouseLeave,onMouseOver:this.handleMouseOver},n.map(function(e,t){return a.default.createElement(l.default,{key:t,column:e,trackLinkClick:u})})))))}}])&&p(r.prototype,n),d&&p(r,d),t}();g.propTypes={classList:n.default.shape({link:n.default.string,wrapper:n.default.string}),columns:n.default.arrayOf(n.default.shape({header:n.default.string.isRequired,linkList:n.default.shape({items:n.default.arrayOf(n.default.shape({name:n.default.string,url:n.default.string})).isRequired,viewAllLink:n.default.shape({name:n.default.string,url:n.default.string})}).isRequired,footerSection:n.default.shape({header:n.default.string.isRequired,items:n.default.arrayOf(n.default.shape({imageUrl:n.default.string,name:n.default.string,url:n.default.string}))})})).isRequired,name:n.default.string.isRequired,openMenuEventType:n.default.string,portalId:n.default.string.isRequired,trackLinkClick:n.default.func,url:n.default.string.isRequired},g.defaultProps={classList:{},openMenuEventType:"nav-dropdown",trackLinkClick:function(){}};var _=g;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(0)),a=c(r(1)),o=c(r(2502)),i=c(r(996)),l=c(r(2)),u=c(r(3)),s=c(r(535));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.column,r=e.trackLinkClick;return n.default.createElement("div",{className:s.default.column},n.default.createElement("div",{className:s.default.columnSection},t.header&&n.default.createElement("div",{className:"".concat(u.default.bodyM," ").concat(u.default.bold," ").concat(l.default.marginBottom15)},function(e){var t=e.column,r=e.trackLinkClick;return t.linkList&&t.linkList.viewAllLink?n.default.createElement("a",{className:u.default.linkCharcoal,href:t.linkList.viewAllLink.url,onClick:function(e){return r({e:e,type:"column-header"})}},t.header):t.header}({column:t,trackLinkClick:r})),n.default.createElement(i.default,{items:t.linkList.items,viewAllLink:t.linkList.viewAllLink,trackLinkClick:r})),t.footerSection&&n.default.createElement(o.default,{header:t.footerSection.header,items:t.footerSection.items}))};d.propTypes={column:a.default.shape({header:a.default.string,linkList:a.default.shape({items:a.default.arrayOf(a.default.shape({name:a.default.string,url:a.default.string})).isRequired,viewAllLink:a.default.shape({name:a.default.string,url:a.default.string})}).isRequired,footerSection:a.default.shape({header:a.default.string.isRequired,items:a.default.arrayOf(a.default.shape({imageUrl:a.default.string,name:a.default.string,url:a.default.string}))})}).isRequired,trackLinkClick:a.default.func},d.defaultProps={trackLinkClick:function(){}};var f=d;t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),a=u(r(1)),o=u(r(504)),i=u(r(3)),l=u(r(535));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.header,r=e.items;return n.default.createElement("div",{className:l.default.columnSection},n.default.createElement("div",{className:i.default.h5},t),r.map(function(e,t){return n.default.createElement(o.default,{key:t,classList:{wrapper:l.default.footerItem},lazy:!1,location:"topnav",project:e})}))};s.propTypes={header:a.default.string.isRequired,items:a.default.arrayOf(a.default.shape({cover_image_url:a.default.string,name:a.default.string,url:a.default.string}))},s.defaultProps={items:[]};var c=s;t.default=c},function(e,t,r){e.exports={"med-large":"(max-width: 992px)",asphalt:"#D8D8D8",arrows:"top_nav__arrows__2FXtG",divider:"top_nav__divider__1ZEGS",left:"top_nav__left__2-GQu",link:"top_nav__link__3pBgY typography__link__1oFtU nav-tabbed__tab__veuoT",linkWrapper:"top_nav__linkWrapper__33-j5",root:"top_nav__root__38G8R typography__bodyM__1-YNl layout__wrapper1170__ndHph"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=F(r(1)),a=B(r(0)),o=F(r(2505)),i=F(r(2506)),l=F(r(2507)),u=F(r(831)),s=F(r(2510)),c=F(r(42)),d=F(r(2511)),f=F(r(2512)),p=F(r(2513)),m=F(r(2516)),h=F(r(2517)),y=F(r(2522)),g=F(r(2523)),_=F(r(2531)),v=B(r(94)),b=F(r(2532)),O=r(14),w=r(830),E=r(2533),P=r(385),k=r(2534),S=r(196),C=r(2535),j=r(2536),R=F(r(97)),T=F(r(7)),N=F(r(2537)),M=F(r(51)),A=r(65),I=r(20),x=r(44),D=r(8),q=r(1014),L=F(r(146));function B(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function F(e){return e&&e.__esModule?e:{default:e}}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q={communities_dialog:l.default,community_popover:u.default,followers_dialog:d.default,following_dialog:f.default,project_popover:p.default,tools_dialog:b.default},K={activity:function(e){return(0,O.graphQuery)({t:"user_activity"},e)},articles:function(e){return(0,O.graphQuery)({t:"news_articles_simple_pagination"},e)},communities:function(e){return(0,O.graphQuery)((0,w.getPaginatedCommunitiesForUser)(e))},community:function(e){return(0,O.graphQuery)((0,w.getCommunityHoverData)(e))},followers:function(e){return(0,O.graphQuery)((0,S.getUsersFollowingUser)(e))},following:function(e){return(0,O.graphQuery)((0,S.getUsersFollowedByUser)(e))},project:function(e){return(0,O.graphQuery)((0,E.getProjectByHid)(),{hid:e})},projects:function(e){return(0,O.graphQuery)({t:"projects_with_simple_pagination"},e)},projects_by_hid:function(e){return(0,O.graphQuery)((0,P.getProjectsByHid)(e))},tool_projects:function(e){return(0,O.graphQuery)((0,k.getPartProjectsForUser)(),e)},tools:function(e){return(0,O.graphQuery)((0,k.getUserParts)(e))}},Y={component:null,props:null,show:!1},J={component:null,props:null,resource:null,show:!1},$={component:null,id:null,position:"top",props:null,target:null};var X=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=H(t).call(this,e))||"object"!==U(a)&&"function"!=typeof a?z(n):a).blockHoverEvent=r.blockHoverEvent.bind(z(r)),r.fetchMoreRecords=r.fetchMoreRecords.bind(z(r)),r.fetchProjects=r.fetchProjects.bind(z(r)),r.fetchUser=r.fetchUser.bind(z(r)),r.handleAlert=r.handleAlert.bind(z(r)),r.handleDialog=r.handleDialog.bind(z(r)),r.handleLocationChange=r.handleLocationChange.bind(z(r)),r.handlePopoverEnter=r.handlePopoverEnter.bind(z(r)),r.handlePopoverLeave=r.handlePopoverLeave.bind(z(r)),r.handleResourceUpdate=r.handleResourceUpdate.bind(z(r)),r.state={alert:Y,basePath:e.pathHelpers.basePath,currentUser:null,dialog:J,initPath:(0,v.initCurrentPath)(e.pathHelpers.fullPath,e.pathHelpers.basePath),popover:$},r.isFetchingKeys=[],r.popoverHovered=!1,r.blockHoverForResource=null,r.activePromise,r.seoHandler=new R.default({config:N.default}),M.default.setRootPath(e.pathHelpers.rootPath),r.router,r}var r,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){this.seoHandler.reportView({path:this.state.initPath,data:this.props.initProps.profile})}},{key:"_compoundKey",value:function(e,t){return"".concat(t,"_").concat(e)}},{key:"_filterKeys",value:function(e){this.isFetchingKeys=this.isFetchingKeys.filter(function(t){return t!==e})}},{key:"_pushToKeys",value:function(e){this.isFetchingKeys.push(e)}},{key:"blockHoverEvent",value:function(e,t){this.blockHoverForResource=t?e:null}},{key:"fetchMoreRecords",value:function(e,t,r){var n=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!e.hasIn(r))return Promise.reject(new Error("fetchMoreRecords. Store does not have, ".concat(t," (resource)!")));var i=e.getIn(r).metadata,l=i.current_page,u=i.per_page;return K[t](Object.assign({},a,{per_page:u,page:l+1})).then(function(a){switch(t){case"activity":return C.resolveMoreActivity.call(n,a,e,r,o);case"articles":return C.resolveMoreArticles.call(n,a,e,r,o);case"communities":return C.resolveMoreCommunities.call(n,a,e,r,o);case"followers":return C.resolveMoreFollowers.call(n,a,e,r);case"following":return C.resolveMoreFollowing.call(n,a,e,r);case"projects":return C.resolveMoreProjects.call(n,a,e,r,o);case"tool_projects":return C.resolveMorePartProjects.call(n,a,e,r,o);case"tools":return C.resolveMoreParts.call(n,a,e,r,o);default:return}}).catch(function(e){return o?Promise.reject(e):(0,T.default)("fetchMoreRecords: ".concat(e))})}},{key:"fetchProjects",value:function(e,t){var r=this;return(0,O.graphQuery)((0,P.getProjectsByHid)(),{hids:t}).then(function(t){(0,q.updateAllProjects)(e,t.projects.records),r.forceUpdate()}).catch(function(e){return(0,T.default)("fetchProjects Error: ".concat(e))})}},{key:"fetchUser",value:function(e,t,r){return(0,O.graphQuery)((0,S.getUser)(e)).then(function(e){var n=r.getIn(t),a=[e.user].concat(V(n));r.setIn(t,a)}).catch(function(e){return(0,T.default)("fetchUser Error: ",e)})}},{key:"handleAlert",value:function(e,t){this.setState({alert:{component:e,props:t,show:!0}})}},{key:"handleDialog",value:function(e,t){if(!Q["".concat(t,"_dialog")])return(0,T.default)(new Error("".concat(t," is unknown for dialog type!")));this.setState({dialog:{component:Q["".concat(t,"_dialog")],props:this._dialogProps(e,t),resource:t,show:!0,title:this._dialogTitleForResource(e,t)},popover:$})}},{key:"_dialogProps",value:function(e,t){var r="tools"===t?{blockHoverForResource:this.blockHoverEvent,fetchProjects:this.fetchProjects,fetchProjectsForResource:this.fetchMoreRecords,killPopover:this.handlePopoverLeave,profile:this.props.initProps.profile,store:e,toggleRespect:this.handleResourceUpdate,triggerPopover:this.handlePopoverEnter}:{};return Object.assign({},r,e.get(t))}},{key:"_dialogTitleForResource",value:function(e,t){var r=this.props.initProps,n=r.communities,a=r.profile,o=r.tools,i=a.name,l=e.get("profileStats");return{communities:"".concat(i,"'s Channels (").concat((0,I.formatNumberWithCommas)(n.metadata.total_records),")"),followers:"".concat(i,"'s Followers (").concat((0,I.formatNumberWithCommas)(l.followers),")"),following:"".concat(i," Follows (").concat((0,I.formatNumberWithCommas)(l.following),")"),tools:"".concat(i,"'s Toolbox (").concat((0,I.formatNumberWithCommas)(o.metadata.total_records),")")}[t]}},{key:"handlePopoverEnter",value:function(e,t,r,n,a,o,i){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},s=arguments.length>9&&void 0!==arguments[9]&&arguments[9];if(this.blockHoverForResource!==t){var c=e||this.router.getStore(),d=this._compoundKey(n,a),f=l.length?l:r;return c.hasIn(f)||this.isFetchingKeys.includes(d)?c.hasIn(f)&&!this.isFetchingKeys.includes(d)?this._delayAndRenderKnownRecord({compoundKey:d,store:c,path:r,id:n,resource:a,target:o,position:i,popoverAdjustments:u,inDialog:s}):void 0:this._delayAndFetchRecord({compoundKey:d,store:c,path:r,id:n,resource:a,target:o,position:i,popoverAdjustments:u,inDialog:s})}}},{key:"_delayAndFetchRecord",value:function(e){var t=this,r=e.compoundKey,n=e.store,a=e.path,o=e.id,i=e.resource,l=e.target,u=e.position,s=e.popoverAdjustments,c=e.inDialog;return this.activePromise=(0,A.cancelablePromise)(this._delayedEvent(r)),this.activePromise.promise.then(function(e){return t.activePromise=void 0,e.proceed&&!e.hasOwnProperty("promiseCanceled")?t._fetchNewResourceForPopOver({compoundKey:r,store:n,path:a,id:o,resource:i,target:l,position:u,popoverAdjustments:s,inDialog:c}):Promise.resolve()}).catch(function(e){return t.activePromise=void 0,(0,T.default)("_delayAndFetchRecord Error",e),Promise.reject(e)})}},{key:"_delayAndRenderKnownRecord",value:function(e){var t=this,r=e.compoundKey,n=e.store,a=e.path,o=(e.id,e.resource),i=e.target,l=e.position,u=e.popoverAdjustments;return e.inDialog,this.activePromise=(0,A.cancelablePromise)(this._delayedEvent(r)),this.activePromise.promise.then(function(e){return t.activePromise=void 0,t._filterKeys(r),e.proceed&&!e.hasOwnProperty("promiseCanceled")&&t._setPopover({adjustments:u,component:Q["".concat(o,"_popover")],id:r,position:l,props:n.getIn(a),target:i}),Promise.resolve()}).catch(function(e){return t.activePromise=void 0,(0,T.default)("_delayAndRenderKnownRecord Error",e),Promise.reject(e)})}},{key:"_delayedEvent",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return this._pushToKeys(e),new Promise(function(n,a){setTimeout(function(){return t.isFetchingKeys.includes(e)?n({proceed:!0}):n({proceed:!1})},r)})}},{key:"_fetchNewResourceForPopOver",value:function(e){var t=this,r=e.compoundKey,n=e.store,a=e.path,o=e.id,i=e.resource,l=e.target,u=e.position,s=e.popoverAdjustments,c=e.inDialog;return K[i]?K[i](o).then(function(e){var o=Object.keys(e)[0],d="record"===o?e.record:e[o].record;return n.setIn(a,d),t.isFetchingKeys[t.isFetchingKeys.length-1]===r&&c===t.state.dialog.show&&t._setPopover({adjustments:s,component:Q["".concat(i,"_popover")],id:r,position:u,props:n.getIn(a),target:l}),t._filterKeys(r),Promise.resolve()}).catch(function(e){return t._filterKeys(r),(0,T.default)("_fetchNewResourceForPopOver Error:",e),Promise.reject(e)}):Promise.reject(new Error("".concat(i," (resource) is unknown!")))}},{key:"_setPopover",value:function(e){null!==this.state.popover.id&&this.state.popover.id===e.id||this.setState({popover:e})}},{key:"handleLocationChange",value:function(e,t){this.seoHandler.reportView({path:e.pathname,data:this.props.initProps.profile})}},{key:"handlePopoverLeave",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,a=this._compoundKey(e,t);return this._filterKeys(a),new Promise(function(e,t){if(!r.state.popover.id||r.state.popover.id!==a)return e();setTimeout(function(){return!r.popoverHovered&&r.state.popover.id&&r.state.popover.id===a&&r.setState({popover:Object.assign({},$,{position:r.state.popover.position})}),e()},n)})}},{key:"handleResourceUpdate",value:function(e,t,r,n,a){if(this.router&&a){var o=this.router.getStore();switch(a){case"community_members":return j.updateCommunityFollowing.call(this,e,t,r,n,o);case"follower_list_follow_button":case"following_list_follow_button":return!this.state.currentUser||!this.state.currentUser.isProfileOwner||j.updateUserFollowing.call(this,e,r,n,o);case"project_respects":return j.updateProjectRespects.call(this,e,t,r,n,o);case"user_card_follow_button":return j.updateUserFollowers.call(this,r,n,o);default:return}}}},{key:"_getPopoverView",value:function(){return a.default.createElement(this.state.popover.component,Object.assign({key:this._getPopoverViewKey(this.state.popover.props),updateResource:this.handleResourceUpdate},this.state.popover.props))}},{key:"_getPopoverViewKey",value:function(e){return(0,D.getInObj)(["stats","respects"],e)||e.id||e.hid}},{key:"render",value:function(){var e,t,r,n,l=this,u=this.props.initProps,d=u.activity,f=u.articles,p=u.communities,b=u.profile,O=u.projects,w=u.tools,E=!(!this.state.currentUser||!this.state.currentUser.isProfileOwner);return a.default.createElement(s.default,{onResolve:function(e){return l.setState({currentUser:Object.assign({},e,{isProfileOwner:e.id===b.id})})}},a.default.createElement(v.default,{ref:function(e){return l.router=e},basePath:this.state.basePath,initPath:this.state.initPath,initializeStoreFn:function(e){e.store.setAll({activity:d,articles:f,allProjects:(0,x.listToMapByProperty)(O.records,"hid"),communities:p,followers:{metadata:{current_page:0,per_page:10,total_records:b.stats.followers},records:[]},following:{metadata:{current_page:0,per_page:10,total_records:b.stats.following},records:[]},profileStats:Object.assign({},b.stats),projects:O,tools:w})},onUpdate:this.handleLocationChange},a.default.createElement(h.default,{basePath:this.state.basePath,currentUser:this.state.currentUser||{},fetchedCurrentUser:null!==this.state.currentUser,initPath:this.state.initPath,isProfileOwner:E,openAlert:this.handleAlert,openDialog:this.handleDialog,profile:b,rootPath:this.props.pathHelpers.rootPath,routes:(e=this.props.isWhiteLabel,t=b.news_role,r=[{href:"/",name:"Profile"},{href:"/projects",name:"Projects"}],n=[{href:"/activity",name:"Activity"}],e?r:t?[].concat(r,[{href:"/articles",name:"Articles"}],n):r.concat(n)),store:{},transition:function(e){return(0,v.transition)(v.history,e)},updateResource:this.handleResourceUpdate}),a.default.createElement(v.Route,{component:g.default,path:"/",routerProps:{blockHoverForResource:this.blockHoverEvent,fetchProjects:this.fetchProjects,fetchProjectsForResource:this.fetchMoreRecords,isProfileOwner:E,isWhiteLabel:this.props.isWhiteLabel,killPopover:this.handlePopoverLeave,openDialog:this.handleDialog,profile:b,toggleRespect:this.handleResourceUpdate,triggerPopover:this.handlePopoverEnter}}),a.default.createElement(v.Route,{component:_.default,path:"projects",routerProps:{isProfileOwner:E,fetchMoreRecords:this.fetchMoreRecords,profile:b,toggleRespect:this.handleResourceUpdate}}),a.default.createElement(v.Route,{component:i.default,path:"articles",routerProps:{fetchMoreRecords:this.fetchMoreRecords,isProfileOwner:E,profile:b}}),a.default.createElement(v.Route,{component:o.default,path:"activity",routerProps:{fetchMoreRecords:this.fetchMoreRecords,profile:b}})),a.default.createElement(c.default,{classList:{dismiss:L.default.dialogDismissArrow},dismiss:function(){l.activePromise&&l.activePromise.cancel(),l.setState({dialog:J,popover:$})},fullScreen:!0,nestedDialogLevel:1,open:this.state.dialog.show,title:a.default.createElement("h3",{className:L.default.dialogTitle},this.state.dialog.title)},this.state.dialog.component&&a.default.createElement(m.default,{fetchMore:function(){return l.state.dialog&&l.state.dialog.resource?l.fetchMoreRecords(l.router.getStore(),l.state.dialog.resource,[l.state.dialog.resource],{user_id:b.id},!0):Promise.resolve({})},metadata:this.state.dialog.props.metadata,recordsCount:this.state.dialog.props.records.length},a.default.createElement(this.state.dialog.component,Object.assign({currentUser:this.state.currentUser,killPopover:this.handlePopoverLeave,profile:{name:b.name},triggerPopover:this.handlePopoverEnter,updateResource:this.handleResourceUpdate},this.state.dialog.props)))),a.default.createElement(y.default,{adjustments:this.state.popover.adjustments,hideAtScreenWidth:1024,onMouseEnter:function(){return l.popoverHovered=!0},onMouseLeave:function(){l.popoverHovered=!1,l.setState({popover:Object.assign({},$,{position:l.state.popover.position})})},position:this.state.popover.position,target:this.state.popover.target},this.state.popover.component&&this._getPopoverView()),a.default.createElement(c.default,{open:this.state.alert.show,dismiss:function(){return l.setState({alert:Y})}},this.state.alert.show&&a.default.createElement(this.state.alert.component,this.state.alert.props)))}}])&&W(r.prototype,n),l&&W(r,l),t}();X.propTypes={initProps:n.default.shape({activity:n.default.shape({metadata:n.default.shape({current_page:n.default.number,next_page:n.default.number,per_page:n.default.number,prev_page:n.default.number}),records:n.default.arrayOf(n.default.shape({activity_type:n.default.string,created_at:n.default.string,object_name:n.default.string,object_path:n.default.string,text:n.default.string,user_id:n.default.number}))}).isRequired,articles:n.default.shape({metadata:n.default.shape({current_page:n.default.number,next_page:n.default.number,per_page:n.default.number,prev_page:n.default.number}),records:n.default.arrayOf(n.default.shape({id:n.default.number,image:n.default.shape({id:n.default.number,url:n.default.string}),published_at:n.default.string,title:n.default.string,url:n.default.string,user:n.default.shape({id:n.default.number,name:n.default.string,url:n.default.string})}))}).isRequired,communities:n.default.shape({metadata:n.default.shape({currentPage:n.default.number,per_page:n.default.number,total_pages:n.default.number,total_records:n.default.number}),records:n.default.arrayOf(n.default.shape({avatar_url:n.default.string,id:n.default.number,name:n.default.string,status:n.default.string,url:n.default.string}))}).isRequired,profile:n.default.shape({available_for_hire:n.default.bool,avatar_url:n.default.string,bio:n.default.string,challenge_prizes:n.default.arrayOf(n.default.shape({category:n.default.shape({id:n.default.number}),challenge:n.default.shape({name:n.default.string,url:n.default.string}),icon_urls:n.default.shape({x1:n.default.string,x2:n.default.string}),id:n.default.number,position_name:n.default.string})),city:n.default.string,country_iso2:n.default.string,email:n.default.string,hourly_rate:n.default.number,id:n.default.number,interest:n.default.array,name:n.default.string,news_role:n.default.oneOf(["admin","author","editor"]),skills:n.default.array,state:n.default.string,stats:n.default.shape({followers:n.default.number,following:n.default.number,projects:n.default.number,reputation:n.default.number}),user_name:n.default.string,website:n.default.string}).isRequired,projects:n.default.shape({metadata:n.default.shape({current_page:n.default.number,next_page:n.default.number,per_page:n.default.number,prev_page:n.default.number}),records:n.default.arrayOf(n.default.shape({content_type:n.default.string,cover_image_url:n.default.string,difficulty:n.default.string,guest_name:n.default.string,hid:n.default.string,id:n.default.number,name:n.default.string,one_liner:n.default.string,position:n.default.number,published_state:n.default.string,stats:n.default.shape({respects:n.default.number,views:n.default.number}),team:n.default.shape({members:n.default.array,name:n.default.string,user_name:n.default.string}),url:n.default.string}))}).isRequired,tools:n.default.shape({metadata:n.default.shape({currentPage:n.default.number,per_page:n.default.number,total_pages:n.default.number,total_records:n.default.number}),records:n.default.arrayOf(n.default.shape({id:n.default.number,name:n.default.string,projects:n.default.shape({records:n.default.arrayOf(n.default.shape({cover_image_url:n.default.string,hid:n.default.string})),metadata:n.default.object}),stats:n.default.shape({projects:n.default.number})}))}).isRequired}).isRequired,isWhiteLabel:n.default.bool.isRequired,pathHelpers:n.default.shape({basePath:n.default.string.isRequired,fullPath:n.default.string.isRequired,rootPath:n.default.string.isRequired}).isRequired};var Z=X;t.default=Z},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(0)),a=f(r(1)),o=f(r(253)),i=f(r(222)),l=f(r(51)),u=r(16),s=f(r(2)),c=f(r(3)),d=f(r(146));function f(e){return e&&e.__esModule?e:{default:e}}var p={channel:["joined"],comment:["commented on"],contest_idea:[{asLink:!0,text:"submitted an idea"},"for"],contest_project:[{asLink:!0,text:"submitted a project"},"for"],contest_registration:["registered for"],follow:["followed"],like:["liked"],news_article:["published"],part:["added","to their toolbox"],post:[{asLink:!0,text:"shared a post"}],project:["published"],respect:["respected"],user:["joined Hackster.io"]},m=function(e){var t=e.fetchMoreRecords,r=e.store,a=e.profile,f=r.get("activity"),m=f.records,h=void 0===m?[]:m,y=f.metadata,g=void 0===y?{}:y;return n.default.createElement("div",{className:s.default.container},n.default.createElement("div",{className:s.default.wrapper1170},n.default.createElement(o.default,{onPaginatorClick:function(){return t(r,"activity",["activity"],{user_id:a.id})},paginator:{currentPage:g.current_page,nextPage:g.next_page,prevPage:g.prev_page},type:"button",buttonText:"Show more"},n.default.createElement("div",{className:d.default.list},h.map(function(e,t){var r=p[e.activity_type][0];return n.default.createElement("div",{key:t,className:d.default.card},n.default.createElement("div",{className:d.default.textSection},n.default.createElement("div",null,n.default.createElement("p",{className:c.default.bodyM},n.default.createElement("span",null,r.asLink?"".concat(a.name," "):"".concat(a.name," ").concat(r," ")),n.default.createElement("a",{className:c.default.linkBlue,href:l.default.url(e.object_path)},r.asLink?r.text:e.object_name),p[e.activity_type][1]&&n.default.createElement("span",null," ".concat(p[e.activity_type][1]," ")),r.asLink&&e.object_name),e.created_at&&n.default.createElement("div",{className:"".concat(c.default.bodyS," ").concat(c.default.pebble)},(0,u.timeFromNow)(e.created_at)),e.text&&n.default.createElement("p",{className:"".concat(s.default.marginTop10," ").concat(c.default.bodyM),dangerouslySetInnerHTML:{__html:i.default.renderInline(e.text)}}))))})))))};m.propTypes={fetchMoreRecords:a.default.func.isRequired,history:a.default.object.isRequired,path:a.default.string.isRequired,profile:a.default.object.isRequired,setMessage:a.default.func.isRequired,store:a.default.object.isRequired};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(393)),i=f(r(76)),l=f(r(7)),u=f(r(28)),s=r(139),c=f(r(2)),d=f(r(147));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?y(n):a).state={isBusy:!1},r.fetchMoreRecords=r.fetchMoreRecords.bind(y(r)),r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){(0,u.default)(0,300)}},{key:"fetchMoreRecords",value:function(){var e=this;return this.setState({isBusy:!0}),this.props.fetchMoreRecords(this.props.store,"articles",["articles"],this._getQueryArgs(),!0).then(function(){return e.setState({isBusy:!1})}).catch(function(t){e.setState({isBusy:!1}),(0,l.default)(t)})}},{key:"_getQueryArgs",value:function(){return{by_user_id:this.props.profile.id,by_sponsored:!1,by_status_type:s.PUBLISHED_STATUS,sort:s.PUBLISHED_SORT}}},{key:"_createList",value:function(e){var t=e.articles;return e.fetchMoreRecords,e.profile,e.store,n.default.createElement(o.default,{articles:t,handlePaginatorClick:this.fetchMoreRecords,isBusy:this.state.isBusy,onUserProfile:!0})}},{key:"_createPlaceholder",value:function(e){var t=e.isProfileOwner,r=e.profile;return n.default.createElement(i.default,{classList:{container:d.default.container,labelSegments:{1:d.default.placeholderLabelSegment}},isProfileOwner:t,label:["Articles ","0"],templateArgs:{name:r.name},type:"no-published-articles"})}},{key:"render",value:function(){var e=this.props.store.get("articles");return n.default.createElement("div",{className:c.default.container},n.default.createElement("div",{className:c.default.wrapper1170},e&&e.records.length>0?this._createList(Object.assign({},this.props,{articles:e})):this._createPlaceholder(this.props)))}}])&&m(r.prototype,a),f&&m(r,f),t}();t.default=_,_.propTypes={fetchMoreRecords:a.default.func.isRequired,isProfileOwner:a.default.bool.isRequired,profile:a.default.shape({id:a.default.number.isRequired,name:a.default.string.isRequired}).isRequired,store:a.default.object.isRequired}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(1)),a=u(r(0)),o=u(r(285)),i=u(r(89)),l=u(r(146));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.killPopover,r=e.records,n=e.triggerPopover,u=e.updateResource;return a.default.createElement("div",{className:l.default.dialogContainer},a.default.createElement("div",{className:l.default.list},r.map(function(e,r){return a.default.createElement(o.default,{key:r,icon:e.avatar_url,info:e.status,isNestedInDialog:!0,link:e.url,onMouseOver:function(t){return n(null,"communities_list",["communities","records",["id",e.id]],e.id,"community",t.target,"left",["communities","records",["id",e.id],"brief"],{arrowOffset:0,popoverOffsetVertical:-120,targetOffset:15},!0)},onMouseLeave:function(){return t(e.id,"community")},title:e.name},a.default.createElement("div",null,a.default.createElement(i.default,{config:{label:["Join","Joined"]},id:e.id,onClick:function(t){return u(e.id,"community",["communities","records",["id",e.id]],t,"community_members")},type:"channel_md"})))})))};s.propTypes={killPopover:n.default.func,records:n.default.arrayOf(n.default.shape({avatar_url:n.default.string,brief:n.default.string,cover_image_url:n.default.string,id:n.default.number.isRequired,name:n.default.string.isRequired,stats:n.default.shape({members:n.default.number,projects:n.default.number}),status:n.default.string.isRequired,url:n.default.string.isRequired})),triggerPopover:n.default.func,updateResource:n.default.func.isRequired},s.defaultProps={killPopover:function(){},triggerPopover:function(){}};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n};var o=function(e){var t=e.className,r=e.direction,n=e.fill,o=e.height,i=void 0===o?"15":o,l=e.width,u=void 0===l?"15":l;return a.default.createElement("svg",{viewBox:"0 0 15 15",width:"".concat(u,"px"),height:"".concat(i,"px"),version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.default.createElement("defs",null),function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000000";switch(t){case"left":return a.default.createElement("path",{className:e,d:"M0.0750266426,7.375 C0.175062166,7.575 0.275097689,7.675 0.375133213,7.775 L6.17719357,13.575 C6.37726462,13.775 6.77740671,13.975 7.07751328,13.975 C7.37761985,13.975 7.67772642,13.875 7.97783299,13.575 C8.47801061,13.075 8.47801061,12.275 7.97783299,11.775 L4.37655415,8.175 L12.8795736,8.175 C13.5798223,8.175 14.0799999,7.575 14.0799999,6.975 C14.0799999,6.375 13.4797868,5.775 12.8795736,5.775 L4.37655415,5.775 L7.97783299,2.175 C8.47801061,1.675 8.47801061,0.875 7.97783299,0.375 C7.47765538,-0.125 6.67737119,-0.125 6.17719357,0.375 L0.375133213,6.175 C0.275097689,6.275 0.175062166,6.475 0.0750266426,6.575 C-0.0250088809,6.675 -0.0250088809,7.075 0.0750266426,7.375 L0.0750266426,7.375 Z",id:"Shape",stroke:"none",fill:r,fillRule:"evenodd"});case"right":return a.default.createElement("path",{className:e,d:"M1.20000003,8.375 L9.70000026,8.375 L6.10000017,11.975 C5.60000015,12.475 5.60000015,13.275 6.10000017,13.775 C6.30000017,13.975 6.70000018,14.175 7.00000019,14.175 C7.3000002,14.175 7.60000021,14.075 7.90000021,13.775 L13.7000004,7.975 C13.8000004,7.875 13.9000004,7.675 14.0000004,7.575 C14.1000004,7.375 14.1000004,7.275 14.1000004,7.075 C14.1000004,6.875 14.1000004,6.775 14.0000004,6.575 C13.9000004,6.375 13.8000004,6.275 13.7000004,6.175 L7.90000021,0.375 C7.4000002,-0.125 6.60000018,-0.125 6.10000017,0.375 C5.60000015,0.875 5.60000015,1.675 6.10000017,2.175 L9.70000026,5.775 L1.20000003,5.775 C0.500000014,5.775 0,6.375 0,6.975 C0,7.575 0.500000014,8.375 1.20000003,8.375 L1.20000003,8.375 Z",id:"Shape",stroke:"none",fill:r,fillRule:"evenodd"});case"up":return a.default.createElement("path",{className:e,d:"M2.375,7.975 L5.975,4.375 L5.975,12.875 C5.975,13.575 6.575,14.075 7.175,14.075 C7.775,14.075 8.375,13.475 8.375,12.875 L8.375,4.375 L11.975,7.975 C12.175,8.175 12.575,8.375 12.875,8.375 C13.175,8.375 13.475,8.275 13.775,7.975 C14.275,7.475 14.275,6.675 13.775,6.175 L7.975,0.375 C7.875,0.275 7.675,0.175 7.575,0.075 C7.275,-0.025 6.975,-0.025 6.575,0.075 C6.375,0.175 6.275,0.275 6.175,0.375 L0.375,6.175 C-0.125,6.675 -0.125,7.475 0.375,7.975 C0.875,8.475 1.875,8.475 2.375,7.975 L2.375,7.975 Z",id:"Shape",stroke:"none",fill:r,fillRule:"evenodd"});case"down":default:return a.default.createElement("path",{className:e,d:"M5.975,13.7 C6.075,13.8 6.275,13.9 6.375,14 C6.575,14.1 6.675,14.1 6.875,14.1 C7.075,14.1 7.175,14.1 7.375,14 C7.575,13.9 7.675,13.8 7.775,13.7 L13.575,7.9 C14.075,7.4 14.075,6.6 13.575,6.1 C13.075,5.6 12.275,5.6 11.775,6.1 L8.175,9.7 L8.175,1.2 C8.175,0.5 7.575,0 6.975,0 C6.375,0 5.775,0.6 5.775,1.2 L5.775,9.7 L2.175,6.1 C1.675,5.6 0.875,5.6 0.375,6.1 C-0.125,6.6 -0.125,7.4 0.375,7.9 L5.975,13.7 L5.975,13.7 Z",id:"Shape",stroke:"none",fill:r,fillRule:"evenodd"})}}(t,r,n))};t.default=o},function(e,t,r){e.exports={enter:"slide_down__enter__2wP8O",enterActive:"slide_down__enterActive__3SwJb",exit:"slide_down__exit__1ajeS",exitActive:"slide_down__exitActive__dhrcA"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=u(r(201)),i=u(r(48)),l=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=d(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?f(n):a).getCurrentUser=r.getCurrentUser.bind(f(r)),r.state={currentUser:null},r}var r,n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){var e=this;return i.default.getStoreAsync().then(function(t){t&&t.hasOwnProperty("id")&&o.default.set("currentUser",t),e.setState({currentUser:t}),e.props.onResolve(t)}).catch(function(e){return(0,l.default)("CurrentUserWrapper Error:",e)})}},{key:"getCurrentUser",value:function(){return this.state.currentUser}},{key:"render",value:function(){return a.default.createElement("div",null,this.props.children)}}])&&c(r.prototype,n),u&&c(r,u),t}();m.propTypes={onResolve:n.default.func,propsToFetch:n.default.array},m.defaultProps={onResolve:function(){},propsToFetch:[]};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(1)),a=d(r(0)),o=d(r(76)),i=d(r(285)),l=d(r(89)),u=d(r(51)),s=r(20),c=d(r(146));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.currentUser,r=e.metadata,n=e.noContentPlaceholderType,d=e.profile,f=e.records,p=e.updateResource;return a.default.createElement("div",{className:c.default.dialogContainer},r.total_records>0?a.default.createElement("div",{className:c.default.list},f.map(function(e,r){var n=e.stats.hasOwnProperty("live_projects")?e.stats.live_projects:e.stats.projects;return a.default.createElement(i.default,{key:r,classList:{icon:c.default.roundIcon},icon:e.avatar_url,info:"".concat(n," ").concat((0,s.pluralize)("project",n)," • ").concat(e.stats.followers," ").concat((0,s.pluralize)("follower",e.stats.followers)),isNestedInDialog:!0,link:u.default.url(e.user_name),subtitle:e.bio,title:e.name},a.default.createElement("div",null,t&&t.id!==e.id&&a.default.createElement(l.default,{config:{label:["Follow","Following"]},id:e.id,onClick:function(t){return p(e.id,"profileStats",["profileStats","following"],t,"follower_list_follow_button")},type:"followed_user_md"})))})):a.default.createElement(o.default,{classList:{content:c.default.noRecordsMessage},type:n,isProfileOwner:t.isProfileOwner,templateArgs:{name:d.name}}))};f.propTypes={currentUser:n.default.shape({id:n.default.number,isProfileOwner:n.default.bool}).isRequired,metadata:n.default.shape({currentPage:n.default.number,per_page:n.default.number,total_pages:n.default.number,total_records:n.default.number.isRequired}).isRequired,noContentPlaceholderType:n.default.string,profile:n.default.shape({name:n.default.string}),records:n.default.array,updateResource:n.default.func},f.defaultProps={noContentPlaceholderType:"no-followers"};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(1)),a=d(r(0)),o=d(r(76)),i=d(r(285)),l=d(r(89)),u=d(r(51)),s=r(20),c=d(r(146));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.currentUser,r=e.metadata,n=e.noContentPlaceholderType,d=e.profile,f=e.records,p=e.updateResource;return a.default.createElement("div",{className:c.default.dialogContainer},r.total_records>0?a.default.createElement("div",{className:c.default.list},f.map(function(e,r){return a.default.createElement(i.default,{key:r,classList:{icon:c.default.roundIcon},icon:e.avatar_url,info:"".concat(e.stats.live_projects," ").concat((0,s.pluralize)("project",e.stats.live_projects)," • ").concat(e.stats.followers," ").concat((0,s.pluralize)("follower",e.stats.followers)),isNestedInDialog:!0,link:u.default.url(e.user_name),subtitle:e.bio,title:e.name},a.default.createElement("div",null,t&&t.id!==e.id&&a.default.createElement(l.default,{config:{label:["Follow","Following"]},id:e.id,onClick:function(t){return p(e.id,"profileStats",["profileStats","following"],t,"following_list_follow_button")},type:"followed_user_md"})))})):a.default.createElement(o.default,{classList:{content:c.default.noRecordsMessage},type:n,isProfileOwner:t.isProfileOwner,templateArgs:{name:d.name}}))};f.propTypes={currentUser:n.default.shape({id:n.default.number}).isRequired,metadata:n.default.shape({currentPage:n.default.number,per_page:n.default.number,total_pages:n.default.number,total_records:n.default.number.isRequired}).isRequired,noContentPlaceholderType:n.default.string,profile:n.default.shape({name:n.default.string.isRequired}).isRequired,records:n.default.arrayOf(n.default.shape({})),updateResource:n.default.func.isRequired},f.defaultProps={noContentPlaceholderType:"no-follows"};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(1)),a=i(r(0)),o=i(r(2514));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t={content_type:e.content_type,cover_image_url:e.cover_image_url,difficulty:e.difficulty,guest_name:e.guest_name,hid:e.hid,id:e.id,name:e.name,one_liner:e.one_liner,position:e.position,published_state:e.published_state,stats:e.stats,team:e.team,url:e.url};return a.default.createElement(o.default,{project:t,toggleRespect:function(t,r){return e.updateResource(t,"project",["projects","records",["hid",t]],r,"project_respects")}})};l.propTypes={content_type:n.default.string,cover_image_url:n.default.string,difficulty:n.default.string,guest_name:n.default.string,hid:n.default.string,name:n.default.string,one_liner:n.default.string,position:n.default.number,published_state:n.default.string,stats:n.default.shape({respects:n.default.number,views:n.default.number}),team:n.default.shape({members:n.default.array,name:n.default.string,user_name:n.default.string}),updateResource:n.default.func.isRequired,url:n.default.string},l.defaultProps={};var u=l;t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(0)),a=h(r(1)),o=h(r(9)),i=h(r(30)),l=h(r(756)),u=h(r(759)),s=h(r(760)),c=r(330),d=h(r(50)),f=h(r(122)),p=h(r(3)),m=h(r(2515));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){return n.default.createElement(o.default,{name:e.difficulty,style:{color:(t=e.difficulty,"beginner"===t?f.default.easy:f.default[t])}});var t},g=function(e){var t=(0,c.normalizeProject)(e.project),r=e.location,a=e.overrideTracking,o=e.toggleRespect;return n.default.createElement("div",{className:d.default.wrapper},n.default.createElement("div",{className:m.default.card},n.default.createElement(s.default,{location:r,overrideTracking:a,project:t},n.default.createElement(i.default,{alt:t.name,ratio:"4:3",src:t.cover_image_url,width:200})),n.default.createElement("div",{className:m.default.content},n.default.createElement("div",null,n.default.createElement("div",{className:p.default.h5},"private"===t.published_state.toLowerCase()?"Draft ":null,t.type_label),n.default.createElement(s.default,{className:"".concat(d.default.title," ").concat(p.default.bodyM," ").concat(p.default.linkCharcoal),location:r,overrideTracking:a,project:t},t.name),n.default.createElement("div",null,n.default.createElement(u.default,{project:t})),!!t.one_liner&&n.default.createElement("div",{className:m.default.description},t.one_liner),n.default.createElement("div",{className:d.default.spacer})),n.default.createElement(l.default,{className:m.default.moreInfo,customIcon:y,project:t,toggleRespect:o}))))};g.propTypes={location:a.default.string,overrideTracking:a.default.func,project:a.default.shape({content_type:a.default.oneOfType([a.default.string,a.default.array]),cover_image_url:a.default.string,difficulty:a.default.string,edit_url:a.default.string,guest_name:a.default.string,hid:a.default.string,name:a.default.string,one_liner:a.default.string,published_state:a.default.string,respects:a.default.number,stats:a.default.object,team:a.default.object,url:a.default.string}).isRequired,toggleRespect:a.default.func},g.defaultProps={enableOverlay:!0,imageProps:{},location:null,maxWidth:350,overrideTracking:null,toggleRespect:function(){}};var _=g;t.default=_},function(e,t,r){e.exports={card:"project_card_horizontal__card__yBncJ",content:"project_card_horizontal__content__1G-CC",description:"project_card_horizontal__description__1nyPy",moreInfo:"project_card_horizontal__moreInfo__1tFI6"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=s(r(54)),i=r(65),l=s(r(7)),u=s(r(138));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=f(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?p(n):a).scrollHandler=r.scrollHandler.bind(p(r)),r.state={loading:!1},r._itemsContainer,r.dialog,r.activePromise,r}var r,n,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){this.dialog=this._findDialog(),this.throttledScroll=(0,u.default)(this.scrollHandler,250),this.dialog.addEventListener("scroll",this.throttledScroll),!this.state.loading&&this.props.recordsCount<this.props.metadata.total_records&&this.props.recordsCount<2*this.props.metadata.per_page&&this._fetchMore()}},{key:"componentWillUnmount",value:function(){this.activePromise&&this.activePromise.cancel(),this.dialog&&this.dialog.removeEventListener("scroll",this.throttledScroll)}},{key:"_findDialog",value:function(){for(var e=o.default.findDOMNode(this);(e=e.parentNode)&&!e.hasAttribute("data-nested-dialog"););return e}},{key:"scrollHandler",value:function(){!this._itemsContainer||this.props.recordsCount>=this.props.metadata.total_records||this.state.loading||parseInt(window.innerHeight,10)+200>this._itemsContainer.getBoundingClientRect().bottom&&this._fetchMore()}},{key:"_fetchMore",value:function(){var e=this;return this.setState({loading:!0}),this.activePromise=(0,i.cancelablePromise)(this.props.fetchMore()),this.activePromise.promise.then(function(t){e.activePromise=void 0,t.hasOwnProperty("promiseCanceled")||e.setState({loading:!1},e.throttledScroll)}).catch(function(t){e.activePromise=void 0,(0,l.default)("Profile InfiniteScroll Error",t),t.hasOwnProperty("promiseCanceled")||e.setState({loading:!1})})}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{ref:function(t){return e._itemsContainer=t}},this.props.children,this.state.loading&&a.default.createElement("div",{style:{textAlign:"center"}},a.default.createElement("i",{className:"fa fa-circle-o-notch fa-spin"})))}}])&&d(r.prototype,n),s&&d(r,s),t}();h.propTypes={fetchMore:n.default.func.isRequired,metadata:n.default.shape({per_page:n.default.number.isRequired,total_records:n.default.number.isRequired}).isRequired,recordsCount:n.default.number.isRequired};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(1)),a=d(r(0)),o=r(94),i=d(r(2518)),l=d(r(2)),u=d(r(328)),s=d(r(2521)),c=this;function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.basePath,r=e.currentUser,n=e.initPath,d=e.isProfileOwner,f=e.fetchedCurrentUser,p=e.openAlert,m=e.openDialog,h=e.profile,y=e.rootPath,g=e.routes,_=e.store,v=e.transition,b=e.updateResource;return a.default.createElement("div",{className:"".concat(l.default.container," ").concat(l.default.paddingBottom0," ").concat(s.default.container)},a.default.createElement("div",{className:l.default.wrapper1170},a.default.createElement(i.default,{currentUser:r,isProfileOwner:d,fetchedCurrentUser:f,openAlert:p,openDialog:m.bind(c,_),profile:h,profileStats:_.get("profileStats"),rootPath:y,transition:v,updateResource:b}),a.default.createElement("div",{className:"".concat(u.default.themeLight," ").concat(u.default.center)},a.default.createElement("ul",{className:"".concat(u.default.list," ").concat(l.default.noScrollBar," ").concat(s.default.navList)},g.map(function(e,r){return a.default.createElement("li",{key:r,className:u.default.listItem},a.default.createElement(o.Link,{classList:{anchor:(0,o.isCurrentPath)(o.history,e,n)?u.default.linkFocused:u.default.link,root:(0,o.isCurrentPath)(o.history,e,n)?u.default.linkWrapperFocused:u.default.linkWrapper},href:"".concat(t).concat(e.href),onClick:function(){return v(e.href,_)},name:e.name,redirect:e.redirect},e.dropdown&&a.default.createElement("div",{className:u.default.dropdown},e.dropdown.map(function(e,r){return a.default.createElement(o.Link,{key:r,classList:{anchor:u.default.link,root:u.default.subLinkWrapper},href:"".concat(t).concat(e.href),onClick:function(){return v(e.href,_)},name:e.name,redirect:e.redirect})}))))})))))};f.propTypes={basePath:n.default.string.isRequired,currentUser:n.default.object.isRequired,fetchedCurrentUser:n.default.bool.isRequired,initPath:n.default.string.isRequired,isProfileOwner:n.default.bool.isRequired,openAlert:n.default.func.isRequired,openDialog:n.default.func.isRequired,profile:n.default.object.isRequired,rootPath:n.default.string.isRequired,routes:n.default.array.isRequired,store:n.default.object.isRequired,transition:n.default.func.isRequired,updateResource:n.default.func.isRequired};var p=f;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=d(r(1)),o=d(r(2519)),i=d(r(89)),l=r(116),u=r(20),s=d(r(10)),c=d(r(2520));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.rootPath;return n.default.createElement(n.Fragment,null,n.default.createElement("a",{className:"".concat(s.default.md," ").concat(s.default.secondary),href:"".concat((0,l.stripTrailingSlash)(t),"/dashboard")},"View dashboard"),n.default.createElement("a",{className:s.default.md,href:"".concat((0,l.stripTrailingSlash)(t),"/dashboard/profile")},"Edit profile"))},p=function(e){var t=e.fetchedCurrentUser,r=e.openAlert,a=e.profile,l=e.updateResource;return n.default.createElement(n.Fragment,null,n.default.createElement(i.default,{id:a.id,onClick:function(e){l(null,"profileStats",["profileStats","followers"],e,"user_card_follow_button")},type:"followed_user_md"}),n.default.createElement(o.default,{className:"".concat(s.default.md," ").concat(s.default.secondary),fetchedCurrentUser:t,summonDialog:r,userId:a.id}))},m=function(e){e.currentUser;var t=e.isProfileOwner,r=e.fetchedCurrentUser,a=e.openAlert,o=e.openDialog,i=e.profile,s=e.profileStats,d=e.rootPath,m=e.transition,h=e.updateResource;return n.default.createElement("div",{className:c.default.root},n.default.createElement("img",{className:c.default.avatar,src:i.avatar_url}),n.default.createElement("div",{className:c.default.userInfo},n.default.createElement("h1",{className:c.default.name},i.name),n.default.createElement("div",{className:c.default.stats},n.default.createElement("a",{className:c.default.stat,href:"javascript:void(0);",onClick:function(){return m("/projects")}},"".concat((0,u.formatNumberWithCommas)(s.live_projects)," ").concat((0,u.pluralize)("Project",s.live_projects))),n.default.createElement("a",{className:c.default.stat,href:"javascript:void(0);",onClick:function(){return o("followers")}},"".concat((0,u.formatNumberWithCommas)(s.followers)," ").concat((0,u.pluralize)("Follower",s.followers))),n.default.createElement("a",{className:c.default.stat,href:"javascript:void(0);",onClick:function(){return o("following")}},"".concat((0,u.formatNumberWithCommas)(s.following)," Following"))),i.website&&n.default.createElement("a",{className:c.default.website,href:(0,l.appendProtocol)(i.website),target:"_blank",rel:"noopener noreferrer nofollow"},(0,l.stripProtocol)((0,l.stripTrailingSlash)(i.website))),n.default.createElement("div",{className:c.default.buttons},function(e){var t=e.fetchedCurrentUser,r=e.isProfileOwner,n=e.openAlert,a=e.profile,o=e.rootPath,i=e.updateResource;return t?r?f({rootPath:o}):p({fetchedCurrentUser:t,openAlert:n,profile:a,updateResource:i}):null}({fetchedCurrentUser:r,isProfileOwner:t,openAlert:a,profile:i,rootPath:d,updateResource:h}))))};m.propTypes={currentUser:a.default.object.isRequired,fetchedCurrentUser:a.default.bool.isRequired,isProfileOwner:a.default.bool.isRequired,openAlert:a.default.func.isRequired,openDialog:a.default.func.isRequired,profile:a.default.shape({available_for_hire:a.default.bool,avatar_url:a.default.string,bio:a.default.string,city:a.default.string,country_iso2:a.default.string,email:a.default.string,hourly_rate:a.default.number,id:a.default.number,interest:a.default.array,name:a.default.string,skills:a.default.array,state:a.default.string,stats:a.default.shape({followers:a.default.number,following:a.default.number,live_projects:a.default.number,reputation:a.default.number}),user_name:a.default.string,website:a.default.string}).isRequired,profileStats:a.default.shape({followers:a.default.number,following:a.default.number,live_projects:a.default.number,reputation:a.default.number}),rootPath:a.default.string.isRequired,transition:a.default.func.isRequired,updateResource:a.default.func.isRequired};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(1)),a=s(r(0)),o=s(r(351)),i=r(18),l=s(r(48)),u=s(r(51));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.className,r=e.label,n=e.fetchedCurrentUser,s=e.summonDialog,c=e.userId,d=u.default.url("/messages/new?recipient_id=".concat(c));return a.default.createElement("a",{className:t,href:d,onClick:function(e){return function(e,t,r,n){t&&(l.default.has("id")?!1===l.default.get("isConfirmed")&&(e.preventDefault(),n(o.default,{actionText:"send a message to another user"})):(e.preventDefault(),(0,i.summonLoginPanel)({detail:{redirect_to:r,simplified:!0}})))}(e,n,d,s)}},r)};c.propTypes={className:n.default.string,fetchedCurrentUser:n.default.bool.isRequired,label:n.default.string,summonDialog:n.default.func.isRequired,userId:n.default.number.isRequired},c.defaultProps={className:"",label:"Contact"};var d=c;t.default=d},function(e,t,r){e.exports={pebble:"#767676",small:"(max-width: 480px)",avatar:"user_card__avatar__1GYq5",buttons:"user_card__buttons__1C34I",name:"user_card__name__1b3B0",root:"user_card__root__13tSO",stats:"user_card__stats__3JTZY",stat:"user_card__stat__1Lwyp",userInfo:"user_card__userInfo__2HKBF",website:"user_card__website__1Z6Gy user_card__stat__1Lwyp"}},function(e,t,r){e.exports={small:"(max-width: 480px)",fog:"#F7F7F7",container:"navbar__container__1RxhJ",navList:"navbar__navList__3Uw2B"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=r(58),i=d(r(496)),l=r(880),u=d(r(306)),s=r(122),c=d(r(881));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return{right:"left",left:"right",top:"bottom",bottom:"top"}[e]}var v=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==f(a)&&"function"!=typeof a?y(n):a).state={arrowStyles:{},bodyStyles:{},arrowDirection:_(e.position),show:!1},r.getPopupPosition=r.getPopupPosition.bind(y(r)),r.handleResize=r.handleResize.bind(y(r)),r._isMounted,r._dismissCalled=!1,r._popover,r}var r,n,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize),this._isMounted=!0}},{key:"componentWillUpdate",value:function(e){null===e.target||this.state.show?e.target||!this.state.show||this._dismissCalled||this._delayedDismiss():this.setState({show:!0})}},{key:"componentDidUpdate",value:function(e){var t;this.props.target&&this.props.target!==e.target&&((t=this.props.target)instanceof HTMLElement||1===t.nodeType)&&this._waitForRef()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),this._isMounted=!1}},{key:"getPopupPosition",value:function(){if(this._popover&&this.props.target){var e=(0,l.getPosition)(this.props.position,this.props.target.getBoundingClientRect(),this._popover.getBoundingClientRect(),this.props.adjustments),t=e.adjustedArrowDirection,r=p(e,["adjustedArrowDirection"]),n=t||_(this.props.position);this.setState(Object.assign({},r,{arrowDirection:n}))}}},{key:"handleResize",value:function(){this.getPopupPosition()}},{key:"_delayedDismiss",value:function(){var e=this;this._dismissCalled=!0,setTimeout(function(){null===e.props.target&&e._isMounted&&(e.setState({arrowStyles:{},bodyStyles:{},show:!1}),e._dismissCalled=!1)},100)}},{key:"_waitForRef",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;!this._popover&&t<=100?setTimeout(function(){return e._waitForRef(t+10)},10):setTimeout(function(){return e.getPopupPosition()},0)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hideAtScreenWidth,n=t.onMouseEnter,l=t.onMouseLeave;return a.default.createElement(o.TransitionGroup,null,this.state.show&&window.innerWidth>r&&this.props.children&&a.default.createElement(o.CSSTransition,{classNames:u.default,timeout:250},a.default.createElement("div",{ref:function(t){return e._popover=t},style:Object.assign({},this.state.bodyStyles),className:c.default.root,onMouseEnter:n,onMouseLeave:l},this.props.children,a.default.createElement(i.default,{style:this.state.arrowStyles,direction:this.state.arrowDirection,borderColor:s.asphalt,color:"white"}))))}}])&&m(r.prototype,n),d&&m(r,d),t}();v.propTypes={adjustments:n.default.shape({arrowOffset:n.default.number,targetOffset:n.default.number}),hideAtScreenWidth:n.default.number,onMouseEnter:n.default.func,onMouseLeave:n.default.func,position:n.default.oneOf(["top","right","bottom","left"]).isRequired,target:n.default.object},v.defaultProps={adjustments:{targetOffset:30},hideAtScreenWidth:1100,onMouseEnter:function(){},onMouseLeave:function(){},target:null};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(1)),a=m(r(0)),o=m(r(2524)),i=m(r(2525)),l=m(r(2526)),u=m(r(2527)),s=m(r(1012)),c=m(r(2530)),d=m(r(2)),f=m(r(147)),p=this;function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.blockHoverForResource,r=e.fetchProjects,n=e.fetchProjectsForResource,m=e.history,h=e.isProfileOwner,y=e.isWhiteLabel,g=e.killPopover,_=e.openDialog,v=e.profile,b=e.store,O=e.toggleRespect,w=e.triggerPopover;return a.default.createElement("div",null,a.default.createElement("div",{className:d.default.container},a.default.createElement("div",{className:d.default.wrapper1170},a.default.createElement(c.default,{isProfileOwner:h,profile:v}),v.challenge_prizes.length>0&&a.default.createElement(o.default,{awards:v.challenge_prizes}),a.default.createElement(u.default,{isProfileOwner:h,history:m,profile:{id:v.id,name:v.name},projects:b.get("projects"),toggleRespect:function(e,t){return O(e,"project",["projects","records",["hid",e]],t,"project_respects")}}),!y&&v.news_role&&a.default.createElement(i.default,{articles:b.get("articles"),history:m,isProfileOwner:h,profile:Object.assign({},v)}),a.default.createElement("div",{className:f.default.toolsAndCommunities},a.default.createElement(s.default,{allProjects:b.get("allProjects"),blockHoverForResource:function(e){return t("tools",e)},fetchProjects:r.bind(p,b),fetchProjectsForResource:n.bind(p,b),isProfileOwner:h,killPopover:g,openDialog:_.bind(p,b),profile:{id:v.id,name:v.name},toggleRespect:function(e,t){return O(e,"project",["projects","records",["hid",e]],t,"project_respects")},tools:b.get("tools"),triggerPopover:w.bind(p,b,"tools")}),!y&&a.default.createElement(l.default,{communities:b.get("communities"),isProfileOwner:h,killPopover:g,openDialog:_.bind(p,b),profile:{name:v.name},triggerPopover:w.bind(p,b,"communities")})))))};h.propTypes={blockHoverForResource:n.default.func.isRequired,fetchProjects:n.default.func.isRequired,fetchProjectsForResource:n.default.func.isRequired,history:n.default.object.isRequired,isProfileOwner:n.default.bool.isRequired,isWhiteLabel:n.default.bool.isRequired,killPopover:n.default.func.isRequired,openDialog:n.default.func.isRequired,path:n.default.string.isRequired,profile:n.default.shape({available_for_hire:n.default.bool,avatar_url:n.default.string,bio:n.default.string,challenge_prizes:n.default.arrayOf(n.default.shape({category:n.default.shape({id:n.default.number}),challenge:n.default.shape({name:n.default.string,url:n.default.string}),icon_urls:n.default.shape({x1:n.default.string,x2:n.default.string}),id:n.default.number,position_name:n.default.string})),city:n.default.string,country_iso2:n.default.string,email:n.default.string,hourly_rate:n.default.number,id:n.default.number,interest:n.default.array,name:n.default.string,news_role:n.default.oneOf(["admin","author","editor"]),skills:n.default.array,state:n.default.string,stats:n.default.shape({followers:n.default.number,following:n.default.number,projects:n.default.number,reputation:n.default.number}),user_name:n.default.string,website:n.default.string}).isRequired,setMessage:n.default.func.isRequired,store:n.default.object.isRequired,toggleRespect:n.default.func.isRequired,triggerPopover:n.default.func.isRequired};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=c(r(1)),o=c(r(72)),i=c(r(10)),l=c(r(2)),u=c(r(3)),s=c(r(147));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y="".concat(u.default.h5," ").concat(l.default.marginTop15," ").concat(l.default.fullWidth),g="".concat(u.default.bodyM," ").concat(u.default.bold," ").concat(l.default.marginTop5," ").concat(l.default.fullWidth),_=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=p(t).call(this,e))||"object"!==d(a)&&"function"!=typeof a?m(n):a).state={awardsList:e.awards.slice(0,4),showAll:!1},r.toggleShowAll=r.toggleShowAll.bind(m(r)),r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,n.Component),r=t,(a=[{key:"toggleShowAll",value:function(){return this.state.showAll?this.setState({awardsList:this.props.awards.slice(0,4),showAll:!1}):this.setState({awardsList:this.props.awards,showAll:!0})}},{key:"_getViewButton",value:function(){var e=this.state.showAll?"View less":"View all";return n.default.createElement("button",{className:"".concat(i.default.sm," ").concat(i.default.tertiary," ").concat(i.default.pill," ").concat(l.default.flexAlignSelfEnd," ").concat(l.default.marginTop10),onClick:this.toggleShowAll},e)}},{key:"_getAward",value:function(e){var t=e.award,r=t.category,a=t.challenge,o=t.icon_urls,i=t.position_name,l=a.url+"#category-".concat(r.id);return n.default.createElement("a",{href:l,target:"_blank",className:s.default.award},n.default.createElement("div",{className:s.default.awardIconContainer},n.default.createElement("img",{className:s.default.awardIcon,src:o.x1,srcSet:"".concat(o.x1," 1x, ").concat(o.x2," 2x")})),n.default.createElement("p",{className:y},i),n.default.createElement("p",{className:g},a.name))}},{key:"_getAwards",value:function(e){return n.default.createElement(o.default,{ItemComponent:this._getAward,itemKey:"award",records:e})}},{key:"render",value:function(){return n.default.createElement("section",{className:s.default.sectionContainer},n.default.createElement("header",{className:s.default.sectionHeader},n.default.createElement("span",{className:"".concat(u.default.bodyM," ").concat(u.default.bold," ")},"Awards"),n.default.createElement("span",{className:"".concat(u.default.bodyM," ").concat(s.default.count)},this.props.awards.length)),this._getAwards(this.state.awardsList),this.props.awards.length>4&&this._getViewButton())}}])&&f(r.prototype,a),c&&f(r,c),t}();_.propTypes={awards:a.default.arrayOf(a.default.shape({category:a.default.shape({id:a.default.number}),challenge:a.default.shape({name:a.default.string,url:a.default.string}),icon_urls:a.default.shape({x1:a.default.string,x2:a.default.string}),id:a.default.number,position_name:a.default.string})).isRequired};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(0)),a=p(r(1)),o=p(r(76)),i=p(r(72)),l=p(r(997)),u=r(94),s=p(r(10)),c=p(r(2)),d=p(r(3)),f=p(r(147));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.articles,r=e.history,a=e.isProfileOwner,p=e.profile;return n.default.createElement("section",{className:f.default.sectionContainer},n.default.createElement("header",{className:f.default.sectionHeader},n.default.createElement("span",{className:"".concat(d.default.bodyM," ").concat(d.default.bold)},"Articles")),t.records.length>0?n.default.createElement(i.default,{ItemComponent:l.default,itemKey:"article",itemProps:{onUserProfile:!0},horizontal:!0,records:t.records.slice(0,8)}):n.default.createElement(o.default,{isProfileOwner:a,templateArgs:{name:p.name},type:"no-published-articles"}),t.metadata.next_page&&n.default.createElement("button",{className:"".concat(s.default.sm," ").concat(s.default.tertiary," ").concat(s.default.pill," ").concat(c.default.flexAlignSelfEnd," ").concat(c.default.marginTop10),onClick:function(){return(0,u.transition)(r,"/articles")}},"View all"))};m.propTypes={articles:a.default.shape({metadata:a.default.shape({current_page:a.default.number,next_page:a.default.number,per_page:a.default.number,prev_page:a.default.number}),records:a.default.array}).isRequired,history:a.default.object.isRequired,isProfileOwner:a.default.bool,profile:a.default.shape({name:a.default.string})},m.defaultProps={isProfileOwner:!1,profile:{name:""}};var h=m;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=p(r(76)),i=p(r(285)),l=r(20),u=p(r(10)),s=p(r(146)),c=p(r(2)),d=p(r(3)),f=p(r(147));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,g(t).call(this,e))}var r,n,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,a.Component),r=t,(n=[{key:"render",value:function(){var e=this,t=this.props.communities,r=t.records,n=t.metadata;return a.default.createElement("section",{className:"".concat(f.default.communities," ").concat(c.default.flexColumn)},a.default.createElement("header",{className:f.default.sectionHeader},a.default.createElement("span",{className:"".concat(d.default.bodyM," ").concat(d.default.bold)},"Channels"),a.default.createElement("span",{className:"".concat(d.default.bodyM," ").concat(f.default.count)},"".concat((0,l.formatNumberWithCommas)(n.total_records)))),0===n.total_records?a.default.createElement(o.default,{isProfileOwner:this.props.isProfileOwner,templateArgs:{name:this.props.profile.name},type:"no-communities"}):a.default.createElement("div",{className:s.default.list},r.slice(0,5).map(function(t,r){return a.default.createElement(i.default,{key:r,icon:t.avatar_url,info:t.status,link:t.url,onMouseOver:function(r){return e.props.triggerPopover(["communities","records",["id",t.id]],t.id,"community",r.target,"left",["communities","records",["id",t.id],"brief"],{arrowOffset:0,popoverOffsetVertical:-120,targetOffset:15})},onMouseLeave:function(){return e.props.killPopover(t.id,"community")},title:t.name})})),n.total_records>5&&a.default.createElement("button",{className:"".concat(u.default.sm," ").concat(u.default.tertiary," ").concat(u.default.pill," ").concat(c.default.flexAlignSelfEnd," ").concat(c.default.marginTop10),onClick:function(){return e.props.openDialog("communities")}},"View all"))}}])&&h(r.prototype,n),p&&h(r,p),t}();v.propTypes={communities:n.default.shape({metadata:n.default.shape({currentPage:n.default.number,per_page:n.default.number,total_pages:n.default.number,total_records:n.default.number}),records:n.default.arrayOf(n.default.shape({avatar_url:n.default.string,id:n.default.number.isRequired,name:n.default.string.isRequired,status:n.default.string.isRequired,url:n.default.string.isRequired}))}).isRequired,isProfileOwner:n.default.bool,killPopover:n.default.func.isRequired,openDialog:n.default.func.isRequired,profile:n.default.shape({name:n.default.string.isRequired}).isRequired,triggerPopover:n.default.func.isRequired},v.defaultProps={};var b=v;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(1)),a=f(r(0)),o=f(r(227)),i=f(r(76)),l=r(94),u=f(r(10)),s=f(r(2)),c=f(r(3)),d=f(r(147));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.currentUser,r=e.isProfileOwner,n=e.history,f=e.profile,p=e.projects,m=e.toggleRespect;return a.default.createElement("section",{className:d.default.sectionContainer},a.default.createElement("header",{className:d.default.sectionHeader},a.default.createElement("span",{className:"".concat(c.default.bodyM," ").concat(c.default.bold)},"Projects")),p.records.length>0?a.default.createElement(o.default,{config:{controlledRespects:!0},horizontal:!0,currentUser:t,records:p.records.slice(0,8),toggleRespect:m}):a.default.createElement(i.default,{isProfileOwner:r,templateArgs:{name:f.name},type:"no-public-projects"}),p.metadata.next_page&&a.default.createElement("button",{className:"".concat(u.default.sm," ").concat(u.default.tertiary," ").concat(u.default.pill," ").concat(s.default.flexAlignSelfEnd," ").concat(s.default.marginTop10),onClick:function(){return(0,l.transition)(n,"/projects")}},"View all"))};p.propTypes={currentUser:n.default.object,history:n.default.object.isRequired,isProfileOwner:n.default.bool,profile:n.default.shape({name:n.default.string}),projects:n.default.shape({}).isRequired,toggleRespect:n.default.func},p.defaultProps={currentUser:{},isProfileOwner:!1,profile:{name:""},toggleRespect:function(){return Promise.resolve()}};var m=p;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(1)),a=c(r(0)),o=r(58),i=c(r(179)),l=c(r(134)),u=c(r(1013)),s=c(r(2529));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.config,r=e.imageProps,n=(e.maxWidth,e.project),c=e.toggleRespect;return a.default.createElement("div",{className:u.default.scrollerItem},a.default.createElement(o.CSSTransition,{classNames:s.default,appear:!0,timeout:450},null===n?a.default.createElement(i.default,{key:"dummy",className:u.default.dummy}):a.default.createElement(l.default,{key:n.hid,cardBorder:!0,config:t,imageProps:r,project:n,toggleRespect:c})))};d.propTypes={config:n.default.shape({controlledRespects:n.default.bool}),imageProps:n.default.object,maxWidth:n.default.number,project:n.default.object,toggleRespect:n.default.func},d.defaultProps={config:{controlledRespects:!1},imageProps:{},maxWidth:240,project:null,toggleRespect:function(){}};var f=d;t.default=f},function(e,t,r){e.exports={enter:"fade_in_out__enter__2NvUO",enterActive:"fade_in_out__enterActive__2wqJ_",exit:"fade_in_out__exit__2-ZiY",exitActive:"fade_in_out__exitActive__3ZJAi"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(1)),a=s(r(0)),o=s(r(76)),i=r(105),l=s(r(3)),u=s(r(147));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.isProfileOwner,r=e.profile,n={bio:r.bio&&r.bio.length>0,joined:null!==r.created_month_year,location:r.country_iso2&&r.country_iso2.length>0,skills:r.skills&&r.skills.length>0};if(!n.bio&&!n.skills&&!n.location&!n.joined&&!t)return null;var s=function(e){return a.default.createElement("p",null,e)},c=function(e){return a.default.createElement("p",null,e)},d=function(e){return a.default.createElement("p",null,e.map(function(e,t,r){return a.default.createElement("span",{key:t},e,t===r.length-1?"":", ")}))},f=function(e,t,r){return a.default.createElement("p",null,(0,i.buildLocation)(e,t,r))},p={bio:function(e){var t=e||s(r.bio);return h("bio-info","Bio",u.default.panelPositionLarge,t)},joined:function(e){var t=e||c(r.created_month_year);return h("joined-info","Joined",u.default.panelPositionSmall,t)},skills:function(e){var t=e||d(r.skills);return h("skills-info","Skills",u.default.panelPositionLarge,t)},location:function(e){var t=e||f(r.city,r.state,r.country_iso2);return h("location-info","Location",u.default.panelPositionSmall,t)}};function m(e){return p[e](a.default.createElement(o.default,{isProfileOwner:t,type:"no-".concat(e)}))}function h(e,t,r,n){return a.default.createElement("div",{key:e,className:r},a.default.createElement("span",{className:"".concat(l.default.bodyM," ").concat(l.default.bold)},t),a.default.createElement("div",{className:"".concat(u.default.userInfoContent," ").concat(l.default.bodyM)},n))}return a.default.createElement("div",{className:u.default.userInfo},a.default.createElement("div",{className:u.default.userInfoPanelA},t?[n.bio?p.bio():m("bio"),n.joined?p.joined():null]:[n.bio&&p.bio()||n.skills&&p.skills(),n.joined&&p.joined()||n.location&&p.location()]),!t&&[n.bio,n.skills,n.location].filter(function(e){return!e}).length>1?null:a.default.createElement("div",{className:u.default.userInfoPanelB},t?[n.skills?p.skills():m("skills"),n.location?p.location():m("location")]:[n.skills&&n.bio?p.skills():null,n.location&&n.joined?p.location():null]))};c.propTypes={isProfileOwner:n.default.bool,profile:n.default.shape({avatar:n.default.shape({file:n.default.shape({url:n.default.string}),id:n.default.number}),bio:n.default.string,city:n.default.string,country_iso2:n.default.string,created_month_year:n.default.string,email:n.default.string,hourly_rate:n.default.number,id:n.default.number,interest:n.default.array,name:n.default.string,skills:n.default.array,state:n.default.string,stats:n.default.shape({followers:n.default.number,following:n.default.number,projects:n.default.number,reputation:n.default.number}),user_name:n.default.string,website:n.default.string}).isRequired},c.defaultProps={};var d=c;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),o=f(r(76)),i=f(r(253)),l=f(r(227)),u=f(r(7)),s=f(r(28)),c=f(r(2)),d=f(r(147));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?y(n):a).state={isBusy:!1},r.fetchMoreRecords=r.fetchMoreRecords.bind(y(r)),r}var r,n,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a.Component),r=t,(n=[{key:"componentDidMount",value:function(){(0,s.default)(0,300)}},{key:"_getQueryArgs",value:function(){return{author_id:this.props.profile.id,guest_post:!1,publication_state:"PUBLIC",sort:"AUTHOR"}}},{key:"fetchMoreRecords",value:function(){var e=this;this.setState({isBusy:!0}),this.props.fetchMoreRecords(this.props.store,"projects",["projects"],this._getQueryArgs(),!0).then(function(){return e.setState({isBusy:!1})}).catch(function(t){e.setState({isBusy:!1}),(0,u.default)(t)})}},{key:"_createList",value:function(e){var t=e.currentUser,r=(e.profile,e.projectsQuery),n=e.records,o=e.toggleRespect;return a.default.createElement(i.default,{disabled:this.state.isBusy,onPaginatorClick:this.fetchMoreRecords,paginator:{currentPage:r.metadata.current_page,nextPage:r.metadata.next_page,prevPage:r.metadata.prev_page},type:"button",buttonText:"Show more"},a.default.createElement(l.default,{currentUser:t,editable:!1,orderable:!1,records:n,toggleRespect:function(e,t){return o(e,"project",["projects","records",["hid",e]],t,"project_respects")}}))}},{key:"_createPlaceholder",value:function(e){var t=e.isProfileOwner,r=e.name;return a.default.createElement(o.default,{classList:{container:d.default.container,labelSegments:{1:d.default.placeholderLabelSegment}},isProfileOwner:t,label:["Projects ","0"],templateArgs:{name:r},type:"no-public-projects"})}},{key:"render",value:function(){var e=this.props,t=e.currentUser,r=e.fetchMoreRecords,n=e.isProfileOwner,o=e.store,i=e.toggleRespect,l=e.profile,u=o.get("projects"),s=o.get("allProjects"),d=!u,f=d?[]:u.records.map(function(e){return s[e.hid]});return a.default.createElement("div",{className:c.default.container},a.default.createElement("div",{className:c.default.wrapper1170},d||0!==f.length?this._createList({currentUser:t,fetchMoreRecords:r,profile:l,projectsQuery:u,records:f,toggleRespect:i}):this._createPlaceholder({isProfileOwner:n,name:l.name})))}}])&&m(r.prototype,n),f&&m(r,f),t}();_.propTypes={currentUser:n.default.shape({id:n.default.number}),fetchMoreRecords:n.default.func.isRequired,history:n.default.object.isRequired,path:n.default.string.isRequired,profile:n.default.shape({id:n.default.number,name:n.default.string}).isRequired,setMessage:n.default.func.isRequired,store:n.default.object.isRequired,toggleRespect:n.default.func},_.defaultProps={currentUser:{},toggleRespect:function(){return Promise.resolve()}};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(1)),a=u(r(0)),o=u(r(1012)),i=u(r(146)),l=this;function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.blockHoverForResource,r=e.fetchProjects,n=e.fetchProjectsForResource,u=e.killPopover,s=e.metadata,c=e.profile,d=e.records,f=e.store,p=e.toggleRespect,m=e.triggerPopover;return a.default.createElement("div",{className:i.default.dialogContainer},a.default.createElement(o.default,{allProjects:f.get("allProjects"),blockHoverForResource:function(e){return t("tools",e)},fetchProjects:r.bind(l,f),fetchProjectsForResource:n.bind(l,f),killPopover:u,inDialog:!0,tools:{records:d,metadata:s},triggerPopover:m.bind(l,f,"tools"),toggleRespect:function(e,t){return p(e,"allProjects",["allProjects",e],t,"project_respects")},profile:{id:c.id,name:c.name}}))};s.propTypes={blockHoverForResource:n.default.func.isRequired,fetchProjects:n.default.func.isRequired,fetchProjectsForResource:n.default.func.isRequired,killPopover:n.default.func.isRequired,metadata:n.default.shape({currentPage:n.default.number,per_page:n.default.number,total_pages:n.default.number,total_records:n.default.number}).isRequired,profile:n.default.shape({name:n.default.string,id:n.default.number}).isRequired,records:n.default.arrayOf(n.default.shape({id:n.default.number,name:n.default.string,projects:n.default.shape({records:n.default.arrayOf(n.default.shape({cover_image_url:n.default.string,hid:n.default.string})),metadata:n.default.object}),stats:n.default.shape({projects:n.default.number})})).isRequired,store:n.default.object,toggleRespect:n.default.func.isRequired,triggerPopover:n.default.func.isRequired},s.defaultProps={};var c=s;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectByHid=function(e){return"query projectByHid($hid: String!, $author_id: Int){record: project(hid: $hid){...projectCard}}\n    ".concat(n.projectCardFragment)},t.getRespectingUsers=function(e,t,r){return"query respectingUsers($hid: String!, $per_page: Int, $current_page: Int) {\n      project(hid: $hid) {\n        respecting_users(per_page: $per_page, page: $current_page) {\n          records {\n            id\n            avatar_url\n            stats {\n              live_projects\n              followers\n            }\n            user_name\n            name\n            bio\n          }\n          metadata {\n            current_page\n            per_page\n            total_pages\n            total_records\n          }\n        }\n      }\n    }"};var n=r(520)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPartProjectsForUser=function(){return"query partProjects($part_id: Int, $author_id: Int, $page: Int, $per_page: Int) {\n    product(id: $part_id) {\n      projects(user_id: $author_id, per_page: $per_page, page: $page) {\n        ...paginatedInfo\n      }\n    }\n  }\n  ".concat((0,n.createPaginationFragment)("ProjectsFromHashType","projectCard"),"\n  ").concat(a.projectCardFragment)},t.getUserParts=function(e){var t=e.user_id,r=e.per_page,n=void 0===r?5:r,a=e.page,o=void 0===a?1:a;return"\n    {tools: user_products(user_id: ".concat(t,", per_page: ").concat(n,", page: ").concat(o,") {\n        records {\n          id\n          name\n          projects(user_id: ").concat(t,") {\n            records {\n              cover_image_url\n              hid\n            }\n            metadata {\n              current_page\n              per_page\n              total_pages\n              total_records\n            }\n          }\n          stats {\n            projects\n          }\n          url\n        }\n        metadata {\n          current_page\n          per_page\n          total_pages\n          total_records\n        }\n      }\n  }")};var n=r(197),a=r(520)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveMoreActivity=function(e,t,r){return o(e,t,r,["activity"]),this.forceUpdate(),Promise.resolve({})},t.resolveMoreArticles=function(e,t,r){return o(e,t,r,["articles"]),this.forceUpdate(),Promise.resolve({})},t.resolveMoreCommunities=function(e,t,r,n){var a=o(e,t,r,["communities"]);return this.setState({dialog:Object.assign({},this.state.dialog,{props:a})}),!n||Promise.resolve({})},t.resolveMoreFollowers=function(e,t,r){var n=o(e,t,r,["users","followers"]);return this.setState({dialog:Object.assign({},this.state.dialog,{props:n})}),Promise.resolve({})},t.resolveMoreFollowing=function(e,t,r){var n=o(e,t,r,["users","followed_users"]);return this.setState({dialog:Object.assign({},this.state.dialog,{props:n})}),Promise.resolve({})},t.resolveMoreParts=function(e,t,r,n){var a=o(e,t,r,["tools"]);return this.setState({dialog:Object.assign({},this.state.dialog,{props:Object.assign({},this.state.dialog.props,a)})}),!n||Promise.resolve({})},t.resolveMorePartProjects=function(e,t,r,a){return o(e,t,r,["product","projects"],function(e){return{hid:e.hid}}),(0,n.updateAllProjects)(t,e.product.projects.records),this.forceUpdate(),!a||Promise.resolve({})},t.resolveMoreProjects=function(e,t,r,a){return o(e,t,r,["projects"],function(e){return{hid:e.hid}}),(0,n.updateAllProjects)(t,e.projects.records),this.forceUpdate(),!a||Promise.resolve({})};var n=r(1014),a=r(8);function o(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=function(e,t,r){var n=r?t.records.map(r):t.records;return{metadata:t.metadata,records:e.records.concat(n)}}(t.getIn(r),(0,a.getInObj)(n,e),o);return t.setIn(r,i),i}},function(e,t,r){"use strict";function n(e,t){this.state.dialog&&this.state.dialog.props&&this.setState({dialog:Object.assign({},this.state.dialog,{props:Object.assign({},this.state.dialog.props,{records:this.state.dialog.props.records.map(function(r){return r.id===e?t:r})})})})}function a(e,t,r){var n=this._compoundKey(e,t);this.state.popover.id&&this.state.popover.id===n&&this.setState({popover:Object.assign({},this.state.popover,{props:Object.assign({},this.state.popover.props,r)})})}function o(e,t,r,n){var a=e.get("profileStats");e.setIn(t,r?a[n]+1:Math.max(a[n]-1,0)),this.forceUpdate()}Object.defineProperty(t,"__esModule",{value:!0}),t.updateCommunityFollowing=function(e,t,r,o,i){var l=i.getIn(r);if(!l.stats)return;var u=Object.assign({},l,{stats:Object.assign({},l.stats,{members:o?l.stats.members+1:Math.max(l.stats.members-1,0)})});i.setIn(r,u),n.call(this,e,u),a.call(this,e,t,u)},t.updateProjectRespects=function(e,t,r,o,i){var l=i.getIn(["allProjects",e]),u=Object.assign({},l,{stats:Object.assign({},l.stats,{respects:o?l.stats.respects+1:Math.max(l.stats.respects-1,0)})});i.setIn(r,u),i.setIn(["allProjects",e],u),n.call(this,e,u),a.call(this,e,t,u),this.forceUpdate()},t.updateUserFollowers=function(e,t,r){if(o.call(this,r,e,t,"followers"),r.getIn(["followers","records"]).length>0){var n=this.state.currentUser.id;t?this.fetchUser(n,["followers","records"],r):r.deleteIn(["followers","records",["id",n]])}},t.updateUserFollowing=function(e,t,r,n){o.call(this,n,t,r,"following"),n.getIn(["following","records"]).length>0&&"following"!==this.state.dialog.resource&&(r?this.fetchUser(e,["following","records"],n):n.deleteIn(["following","records",["id",e]]))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={"/":function(e){return{title:"".concat(e.name," - Hackster.io"),pageType:"users#show",entity_id:e.id}},"/projects":function(e){return{title:"".concat(e.name,"'s Projects - Hackster.io"),pageType:"users#projects",entity_id:e.id}},"/activity":function(e){return{title:"".concat(e.name,"'s Activity - Hackster.io"),pageType:"users#activity",entity_id:e.id}}},a=function(e){return n[e]};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=f(r(1)),o=f(r(57)),i=f(r(30)),l=f(r(993)),u=f(r(478)),s=f(r(994)),c=f(r(2)),d=f(r(5));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=h(t).call(this,e))||"object"!==p(a)&&"function"!=typeof a?y(n):a).state={started:!1},r.startVideo=r.startVideo.bind(y(r)),r}var r,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),r=t,(a=[{key:"startVideo",value:function(e){this.setState({started:!0})}},{key:"_renderPlaceholder",value:function(e){return n.default.createElement("div",{className:"".concat(d.default.absolutePlaceholderParent," ").concat(d.default.aspectRatioPadding16_9)},n.default.createElement(i.default,{alt:e.title,className:"".concat(d.default.absolutePlaceholderChild," ").concat(d.default.overflowHidden),fit:"crop",ratio:"16:9",setStyle:!1,src:e.image.url||"",width:960}),n.default.createElement(u.default,{onClick:this.startVideo}))}},{key:"render",value:function(){var e=this.props.video;return n.default.createElement("div",{className:c.default.container},n.default.createElement("div",{className:c.default.wrapper960},n.default.createElement(o.default,{href:"/videos",text:"Back to videos"}),this.state.started?n.default.createElement(s.default,{video:e}):this._renderPlaceholder(e),n.default.createElement(l.default,{inDialog:!1,video:e})))}}])&&m(r.prototype,a),f&&m(r,f),t}();_.propTypes={video:a.default.shape({category:a.default.string.isRequired,description:a.default.string.isRequired,id:a.default.number.isRequired,image:a.default.shape({url:a.default.string.isRequired}).isRequired,title:a.default.string.isRequired,url:a.default.string.isRequired}).isRequired};var v=_;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=g(r(1)),o=g(r(207)),i=g(r(950)),l=g(r(133)),u=g(r(72)),s=g(r(515)),c=g(r(992)),d=g(r(947)),f=g(r(97)),p=g(r(68)),m=g(r(2540)),h=g(r(2)),y=g(r(3));function g(e){return e&&e.__esModule?e:{default:e}}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=b(t).call(this,e))||"object"!==_(a)&&"function"!=typeof a?O(n):a).state={currentHistoryData:null},r.history=(0,p.default)(e.pathHelpers.basePath),r.graphQLService=new d.default({history:r.history}),r.handleLocationChange=r.handleLocationChange.bind(O(r)),r.summonDialog=r.summonDialog.bind(O(r)),r.seoHandler=new f.default({config:(0,m.default)(e.seoHelpers.configKey)}),r}var r,a,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.unlisten=this.history.listen(this.handleLocationChange),this.props.seoHelpers.reportOnMount&&this._updateSEOData()}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"_updateSEOData",value:function(){this.seoHandler.reportView({path:this.props.seoHelpers.path,data:this.history.location})}},{key:"handleLocationChange",value:function(e,t){var r=Object.assign({},e,{action:t});this.setState({currentHistoryData:r}),this._updateSEOData()}},{key:"renderDummyList",value:function(){return n.default.createElement(o.default,{ItemComponent:i.default})}},{key:"summonDialog",value:function(e,t){this._dialog&&(e.preventDefault(),this._dialog._summonDialog(t))}},{key:"render",value:function(){var e=this,t={ItemComponent:s.default,itemProps:{onClick:this.summonDialog}};return n.default.createElement("div",{className:h.default.container},n.default.createElement("div",{className:h.default.wrapper1170},n.default.createElement("header",{className:h.default.marginBottom60},n.default.createElement("h1",{className:y.default.h1},this.props.title)),n.default.createElement(l.default,{currentHistoryData:this.state.currentHistoryData,filters:this.props.filters,graphQLArguments:{by_category:this.props.category},graphQLService:this.graphQLService,listComponent:u.default,listProps:t,loaderComponent:this.renderDummyList})),n.default.createElement(c.default,{ref:function(t){return e._dialog=t},pathHelpers:this.props.pathHelpers,seoHandler:this.seoHandler}))}}])&&v(r.prototype,a),g&&v(r,g),t}();E.propTypes={category:a.default.string,filters:a.default.arrayOf(a.default.shape({key:a.default.string.isRequired,options:a.default.array.isRequired})).isRequired,pathHelpers:a.default.shape({basePath:a.default.string.isRequired,rootPath:a.default.string.isRequired,videosPath:a.default.string.isRequired}).isRequired,seoHelpers:a.default.shape({configKey:a.default.string.isRequired,path:a.default.string.isRequired,reportOnMount:a.default.bool.isRequired}).isRequired,title:a.default.string},E.defaultProps={category:null,title:"Explore videos"};var P=E;t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return o[e]||n.default};var n=a(r(995));function a(e){return e&&e.__esModule?e:{default:e}}var o={events:a(r(984)).default,videos:n.default}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=s(r(1)),o=s(r(378)),i=s(r(48)),l=s(r(51)),u=s(r(7));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=f(this,p(t).call(this,e))).state={userPermissions:{canManage:!1}},l.default.setRootPath(e.pathHelpers.rootPath),r}var r,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this._fetchUserPermissions()}},{key:"_fetchUserPermissions",value:function(){var e=this,t=this.props.platform.id;return i.default.fetchPermissions([{can_manage_platform:{key:t,ql:"can_manage_platform(platform_id: ".concat(t,")")}}]).then(function(r){var n=r.can_manage_platform,a=void 0===n?{}:n;e.setState({userPermissions:{canManage:!!a[t]}})}).catch(function(e){return(0,u.default)("WhitelabelPage _fetchUserPermissions",e)})}},{key:"render",value:function(){var e=this;return n.default.createElement("div",null,n.default.createElement(o.default,{canManage:this.state.userPermissions.canManage,homeSections:this.props.platform.home_sections,path:"",renderForWhitelabel:!0,seoHandler:function(){},transition:function(e,t){},viewAllBuilderArg:function(){return{type:"whitelabel",props:{platform:e.props.platform,rootPath:e.props.pathHelpers.rootPath}}}}))}}])&&d(r.prototype,a),s&&d(r,s),t}();h.propTypes={pathHelpers:a.default.shape({rootPath:a.default.string.isRequired}).isRequired,platform:a.default.shape({id:a.default.number.isRequired}).isRequired},h.defaultProps={};var y=h;t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0)),a=h(r(1)),o=h(r(9)),i=h(r(193)),l=h(r(7)),u=h(r(530)),s=h(r(51)),c=r(395),d=r(531),f=r(20),p=r(12),m=h(r(2543));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(a=_(t).call(this,e))||"object"!==y(a)&&"function"!=typeof a?v(n):a).state={inputFocused:!1,value:""},r.handleKeyDown=r.handleKeyDown.bind(v(r)),r.handleOnChange=r.handleOnChange.bind(v(r)),r.handleQuery=r.handleQuery.bind(v(r)),r.handleQueryUpdate=r.handleQueryUpdate.bind(v(r)),r.onSearchPath,r.input,r}var r,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,n.Component),r=t,(a=[{key:"componentDidMount",value:function(){this.onSearchPath=this._isOnSearchPath(),this.onSearchPath?this._initializeFromSearchParams():this.input&&this.input.value&&this.input.value.length>0&&this.handleOnChange({target:{value:(0,f.stripExcessWhiteSpace)(this.input.value)}}),i.default.getChannel().subscribe("queryUpdate",this.handleQueryUpdate)}},{key:"_initializeFromSearchParams",value:function(){var e=p.windowLocationSearch.get().substring(1),t=(0,u.default)(e),r=t.query;return i.default.enableHistoryPushState(),r&&r.length&&(i.default.createSuggestion(r),this.setState({value:r})),i.default.initializeWithEffects(t,this.props.channelId).then(function(){return i.default.getChannel().publish("working",!1)}).catch(function(e){i.default.getChannel().publish("working",!1),(0,l.default)("WhitelabelSearchInput _initializeFromSearchParams",e)})}},{key:"handleKeyDown",value:function(e){13===e.keyCode&&this.handleQuery()}},{key:"handleOnChange",value:function(e){var t=e.target.value;t.length>255&&(t=t.slice(0,255)),this.setState({value:t})}},{key:"handleQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!1===this.onSearchPath)return this._redirectWithQuery(e);var r=i.default.processQueryMap({query:e});return r.query.length>0&&i.default.createSuggestion(r.query),r.query!==this.state.value&&this.setState({value:r.query}),i.default.searchWithEffects(r,t,!0).catch(function(e){return(0,l.default)("handleQuery",e)})}},{key:"handleQueryUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.state.value!==e&&this.setState({value:e})}},{key:"_isOnSearchPath",value:function(){return p.windowLocationPathname.get()===s.default.url("/search")}},{key:"_redirectWithQuery",value:function(e){var t=(0,c.filterSearchQuery)(e);(0,d.storeSearchQuery)(t),(0,p.windowLocationRedirect)(i.default.getRedirectPath(e,s.default.url("/search")))}},{key:"render",value:function(){var e=this;return n.default.createElement("div",{className:m.default.container},n.default.createElement("div",{className:m.default.inputContainer},n.default.createElement("div",{className:m.default.searchIconWrapper,onClick:function(){return e.handleQuery()}},n.default.createElement(o.default,{name:"search",size:"16"})),n.default.createElement("input",{ref:function(t){return e.input=t},className:m.default.input,type:"text",placeholder:this.props.placeholder,value:this.state.value,onChange:this.handleOnChange,onKeyDown:this.handleKeyDown})))}}])&&g(r.prototype,a),h&&g(r,h),t}();O.propTypes={channelId:a.default.number,placeholder:a.default.string},O.defaultProps={channelId:null,placeholder:"Search"};var w=O;t.default=w},function(e,t,r){e.exports={asphalt:"#D8D8D8",container:"whitelabel_input__container__1qPKm",inputContainer:"whitelabel_input__inputContainer__1bPCZ",input:"whitelabel_input__input__1IVcF",searchIconWrapper:"whitelabel_input__searchIconWrapper__2VlHB"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderReact=void 0;var n=l(r(0)),a=l(r(54)),o=l(r(2545)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2547));function l(e){return e&&e.__esModule?e:{default:e}}var u=Object({NODE_ENV:"production"}).hasOwnProperty("RAILS_TEST")&&!0===Object({NODE_ENV:"production"}).RAILS_TEST;t.renderReact=function(e,t){return(0,i.default)({server:function(){return function(r){var a=o.default.renderToString(n.default.createElement(t,r));return(0,i.serialize)(e,a,r)}},client:function(){var r=(0,i.load)(e);return r&&r.forEach(function(e){var r=e.node,o=e.data,i=n.default.createElement(t,o);a.default.hydrate&&!u?a.default.hydrate(i,r):a.default.render(i,r)}),t}})}}],[[1015,1,2]]]);